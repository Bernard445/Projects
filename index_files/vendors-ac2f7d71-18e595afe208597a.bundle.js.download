/*! For license information please see vendors-ac2f7d71-18e595afe208597a.bundle.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a927789c-c856-4bc9-9058-30f9bc4a6479",e._sentryDebugIdIdentifier="sentry-dbid-a927789c-c856-4bc9-9058-30f9bc4a6479")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5075150e88de8813fa20ee50b2d57ed631a715da"},(self.webpackChunkdisco=self.webpackChunkdisco||[]).push([[8991],{168949:function(e,t,n){n.d(t,{EH:function(){return jt},Ei:function(){return Un},Fl:function(){return Ne},Gf:function(){return Jt},LJ:function(){return Kn},LO:function(){return Se},M5:function(){return on},N7:function(){return _n},PS:function(){return mn},Pb:function(){return tr},U5:function(){return Mt},VO:function(){return cn},XP:function(){return dn},ZN:function(){return pn},aD:function(){return Nt},dw:function(){return zt},eJ:function(){return sn},jQ:function(){return Qt},kS:function(){return _r},ky:function(){return Sn},le:function(){return yt},n7:function(){return Qn},qh:function(){return hn},rC:function(){return xn},so:function(){return G},vP:function(){return Gn},z:function(){return Lt}});var r=n(425108);function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var a={};function o(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:a}var s=Object.assign,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,d=Object.prototype,c=[];Object.freeze(c);var h={};Object.freeze(h);var _="undefined"!=typeof Proxy,f=Object.toString();function v(){_||i("Proxy not available")}function p(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var m=function(){};function y(e){return"function"==typeof e}function b(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function g(e){return null!==e&&"object"==typeof e}function w(e){if(!g(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===f}function T(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function k(e,t,n){l(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function O(e,t,n){l(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function E(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return g(e)&&!0===e[n]}}function x(e){return e instanceof Map}function A(e){return e instanceof Set}var S=void 0!==Object.getOwnPropertySymbols;var D="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:S?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function P(e){return null===e?null:"object"==typeof e?""+e:e}function R(e,t){return d.hasOwnProperty.call(e,t)}var N=Object.getOwnPropertyDescriptors||function(e){var t={};return D(e).forEach((function(n){t[n]=u(e,n)})),t};function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var H=Symbol("mobx-stored-annotations");function V(e){return Object.assign((function(t,n){F(t,n,e)}),e)}function F(e,t,n){R(e,H)||k(e,H,I({},e[H])),function(e){return e.annotationType_===Y}(n)||(e[H][t]=n)}var G=Symbol("mobx administration"),K=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Fe.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return pt(this)},t.reportChanged=function(){ft(),mt(this),vt()},t.toString=function(){return this.name_},e}(),W=E("Atom",K);function Q(e,t,n){void 0===t&&(t=m),void 0===n&&(n=m);var r,i=new K(e);return t!==m&&Ft(Ut,i,t,r),n!==m&&Vt(i,n),i}var z={identity:function(e,t){return e===t},structural:function(e,t){return pr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return pr(e,t,1)}};function J(e,t,n){return ln(e)?e:Array.isArray(e)?Se.array(e,{name:n}):w(e)?Se.object(e,void 0,{name:n}):x(e)?Se.map(e,{name:n}):A(e)?Se.set(e,{name:n}):"function"!=typeof e||It(e)||rn(e)?e:T(e)?tn(e):qt(n,e)}function X(e){return e}var Y="override";function $(e,t){return{annotationType_:e,options_:t,make_:Z,extend_:ee}}function Z(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(It(n.value))return 1;var a=te(e,this,t,n,!1);return l(r,t,a),2}function ee(e,t,n,r){var i=te(e,this,t,n);return e.defineProperty_(t,i,r)}function te(e,t,n,r,i){var a,o,s,u,l,d,c,h;void 0===i&&(i=dt.safeDescriptors),h=r,t.annotationType_,h.value;var _,f=r.value;null!=(a=t.options_)&&a.bound&&(f=f.bind(null!=(_=e.proxy_)?_:e.target_));return{value:Be(null!=(o=null==(s=t.options_)?void 0:s.name)?o:n.toString(),f,null!=(u=null==(l=t.options_)?void 0:l.autoAction)&&u,null!=(d=t.options_)&&d.bound?null!=(c=e.proxy_)?c:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ne(e,t){return{annotationType_:e,options_:t,make_:re,extend_:ie}}function re(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!R(e.target_,t)||!rn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(rn(n.value))return 1;var a=ae(e,this,t,n,!1,!1);return l(r,t,a),2}function ie(e,t,n,r){var i,a=ae(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,r)}function ae(e,t,n,r,i,a){var o;void 0===a&&(a=dt.safeDescriptors),o=r,t.annotationType_,o.value;var s,u=r.value;(rn(u)||(u=tn(u)),i)&&((u=u.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:u,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function oe(e,t){return{annotationType_:e,options_:t,make_:se,extend_:ue}}function se(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ue(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,I({},this.options_,{get:n.get,set:n.set}),r)}function le(e,t){return{annotationType_:e,options_:t,make_:de,extend_:ce}}function de(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ce(e,t,n,r){var i,a;return function(e,t,n,r){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:J,r)}var he="true",_e=fe();function fe(e){return{annotationType_:he,options_:e,make_:ve,extend_:pe}}function ve(e,t,n,r){var i,a,o,s;if(n.get)return Ne.make_(e,t,n,r);if(n.set){var u=Be(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!dt.safeDescriptors||e.isPlainObject_,set:u})?0:2:(l(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return T(n.value)?(null!=(s=this.options_)&&s.autoBind?tn.bound:tn).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?qt.bound:qt).make_(e,t,n,r);var d,c=!1===(null==(i=this.options_)?void 0:i.deep)?Se.ref:Se;"function"==typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(d=e.proxy_)?d:e.target_));return c.make_(e,t,n,r)}function pe(e,t,n,r){var i,a,o;if(n.get)return Ne.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!dt.safeDescriptors||e.isPlainObject_,set:Be(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_));return(!1===(null==(a=this.options_)?void 0:a.deep)?Se.ref:Se).extend_(e,t,n,r)}var me={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ye(e){return e||me}Object.freeze(me);var be=le("observable"),ge=le("observable.ref",{enhancer:X}),we=le("observable.shallow",{enhancer:function(e,t,n){return null==e||tr(e)||Un(e)||Kn(e)||zn(e)?e:Array.isArray(e)?Se.array(e,{name:n,deep:!1}):w(e)?Se.object(e,void 0,{name:n,deep:!1}):x(e)?Se.map(e,{name:n,deep:!1}):A(e)?Se.set(e,{name:n,deep:!1}):void 0}}),Te=le("observable.struct",{enhancer:function(e,t){return pr(e,t)?t:e}}),ke=V(be);function Oe(e){return!0===e.deep?J:!1===e.deep?X:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:J;var t,n,r}function Ee(e,t,n){if(!b(t))return ln(e)?e:w(e)?Se.object(e,t,n):Array.isArray(e)?Se.array(e,t):x(e)?Se.map(e,t):A(e)?Se.set(e,t):"object"==typeof e&&null!==e?e:Se.box(e,t);F(e,t,be)}Object.assign(Ee,ke);var xe,Ae,Se=s(Ee,{box:function(e,t){var n=ye(t);return new Ke(e,Oe(n),n.name,!0,n.equals)},array:function(e,t){var n=ye(t);return(!1===dt.useProxies||!1===n.proxy?cr:qn)(e,Oe(n),n.name)},map:function(e,t){var n=ye(t);return new Gn(e,Oe(n),n.name)},set:function(e,t){var n=ye(t);return new Qn(e,Oe(n),n.name)},object:function(e,t,n){return zt(!1===dt.useProxies||!1===(null==n?void 0:n.proxy)?$n({},n):function(e,t){var n,r;return v(),e=$n(e,t),null!=(r=(n=e[G]).proxy_)?r:n.proxy_=new Proxy(e,bn)}({},n),e,t)},ref:V(ge),shallow:V(we),deep:ke,struct:V(Te)}),De="computed",Pe=oe(De),Re=oe("computed.struct",{equals:z.structural}),Ne=function(e,t){if(b(t))return F(e,t,Pe);if(w(e))return V(oe(De,e));var n=w(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Qe(n)};Object.assign(Ne,Pe),Ne.struct=V(Re);var qe,Le=0,Ie=1,je=null!=(xe=null==(Ae=u((function(){}),"name"))?void 0:Ae.configurable)&&xe,Ce={value:"action",configurable:!0,writable:!1,enumerable:!1};function Be(e,t,n,r){function i(){return Me(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,je&&(Ce.value=e,Object.defineProperty(i,"name",Ce)),i}function Me(e,t,n,r,a){var o=function(e,t,n,r){var i=!1,a=0;0;var o=dt.trackingDerivation,s=!t||!o;ft();var u=dt.allowStateChanges;s&&(nt(),u=He(!0));var l=it(!0),d={runAsAction_:s,prevDerivation_:o,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:a,actionId_:Ie++,parentActionId_:Le};return Le=d.actionId_,d}(0,t);try{return n.apply(r,a)}catch(e){throw o.error_=e,e}finally{!function(e){Le!==e.actionId_&&i(30);Le=e.parentActionId_,void 0!==e.error_&&(dt.suppressReactionErrors=!0);Ve(e.prevAllowStateChanges_),at(e.prevAllowStateReads_),vt(),e.runAsAction_&&rt(e.prevDerivation_);0;dt.suppressReactionErrors=!1}(o)}}function Ue(e,t){var n=He(e);try{return t()}finally{Ve(n)}}function He(e){var t=dt.allowStateChanges;return dt.allowStateChanges=e,t}function Ve(e){dt.allowStateChanges=e}qe=Symbol.toPrimitive;var Fe,Ge,Ke=function(e,t){function n(t,n,r,i,a){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=z.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=a,o.value_=n(t,void 0,r),o}j(n,e);var r=n.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==dt.UNCHANGED){0,this.setNewValue_(e)}},r.prepareNewValue_=function(e){if($e(this),gn(this)){var t=Tn(this,{object:this,type:Pn,newValue:e});if(!t)return dt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?dt.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),kn(this)&&En(this,{type:Pn,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return wn(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Pn,newValue:this.value_,oldValue:void 0}),On(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return P(this.get())},r[t]=function(){return this.valueOf()},n}(K,qe),We=E("ObservableValue",Ke),Qe=function(e){function t(e){this.dependenciesState_=Fe.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Fe.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Je(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ge.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||i(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Be("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?z.structural:z.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=t.prototype;return n.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==Fe.UP_TO_DATE_)return;e.lowestObserverState_=Fe.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Fe.UP_TO_DATE_&&(e.dependenciesState_=Fe.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},n.get=function(){if(this.isComputing_&&i(32,this.name_,this.derivation),0!==dt.inBatch||0!==this.observers_.size||this.keepAlive_){if(pt(this),Ye(this)){var e=dt.trackingContext;this.keepAlive_&&!e&&(dt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===Fe.STALE_)return;e.lowestObserverState_=Fe.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===Fe.POSSIBLY_STALE_?t.dependenciesState_=Fe.STALE_:t.dependenciesState_===Fe.UP_TO_DATE_&&(e.lowestObserverState_=Fe.UP_TO_DATE_)}))}(this),dt.trackingContext=e}}else Ye(this)&&(this.warnAboutUntrackedRead_(),ft(),this.value_=this.computeValue_(!1),vt());var t=this.value_;if(Xe(t))throw t.cause;return t},n.set=function(e){if(this.setter_){this.isRunningSetter_&&i(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else i(34,this.name_)},n.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===Fe.NOT_TRACKING_,n=this.computeValue_(!0),r=t||Xe(e)||Xe(n)||!this.equals_(e,n);return r&&(this.value_=n),r},n.computeValue_=function(e){this.isComputing_=!0;var t,n=He(!1);if(e)t=Ze(this,this.derivation,this.scope_);else if(!0===dt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Je(e)}return Ve(n),this.isComputing_=!1,t},n.suspend_=function(){this.keepAlive_||(et(this),this.value_=void 0)},n.observe_=function(e,t){var n=this,r=!0,i=void 0;return jt((function(){var a=n.get();if(!r||t){var o=nt();e({observableKind:"computed",debugObjectName:n.name_,type:Pn,object:n,newValue:a,oldValue:i}),rt(o)}r=!1,i=a}))},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return P(this.get())},n[e]=function(){return this.valueOf()},t}(Symbol.toPrimitive),ze=E("ComputedValue",Qe);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(Fe||(Fe={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Ge||(Ge={}));var Je=function(e){this.cause=void 0,this.cause=e};function Xe(e){return e instanceof Je}function Ye(e){switch(e.dependenciesState_){case Fe.UP_TO_DATE_:return!1;case Fe.NOT_TRACKING_:case Fe.STALE_:return!0;case Fe.POSSIBLY_STALE_:for(var t=it(!0),n=nt(),r=e.observing_,i=r.length,a=0;a<i;a++){var o=r[a];if(ze(o)){if(dt.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return rt(n),at(t),!0}if(e.dependenciesState_===Fe.STALE_)return rt(n),at(t),!0}}return ot(e),rt(n),at(t),!1}}function $e(e){}function Ze(e,t,n){var r=it(!0);ot(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++dt.runId;var i,a=dt.trackingDerivation;if(dt.trackingDerivation=e,dt.inBatch++,!0===dt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new Je(e)}return dt.inBatch--,dt.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Fe.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,o=0;o<a;o++){var s=n[o];0===s.diffValue_&&(s.diffValue_=1,i!==o&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,a=t.length;for(;a--;){var u=t[a];0===u.diffValue_&&ht(u,e),u.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,ct(l,e))}r!==Fe.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),at(r),i}function et(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)ht(t[n],e);e.dependenciesState_=Fe.NOT_TRACKING_}function tt(e){var t=nt();try{return e()}finally{rt(t)}}function nt(){var e=dt.trackingDerivation;return dt.trackingDerivation=null,e}function rt(e){dt.trackingDerivation=e}function it(e){var t=dt.allowStateReads;return dt.allowStateReads=e,t}function at(e){dt.allowStateReads=e}function ot(e){if(e.dependenciesState_!==Fe.UP_TO_DATE_){e.dependenciesState_=Fe.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Fe.UP_TO_DATE_}}var st=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ut=!0,lt=!1,dt=function(){var e=o();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ut=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new st).version&&(ut=!1),ut?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new st):(setTimeout((function(){lt||i(35)}),1),new st)}();function ct(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function ht(e,t){e.observers_.delete(t),0===e.observers_.size&&_t(e)}function _t(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,dt.pendingUnobservations.push(e))}function ft(){dt.inBatch++}function vt(){if(0==--dt.inBatch){wt();for(var e=dt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Qe&&n.suspend_())}dt.pendingUnobservations=[]}}function pt(e){var t=dt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&dt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&dt.inBatch>0&&_t(e),!1)}function mt(e){e.lowestObserverState_!==Fe.STALE_&&(e.lowestObserverState_=Fe.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Fe.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Fe.STALE_})))}var yt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),void 0===r&&(r=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Fe.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ge.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,dt.pendingReactions.push(this),wt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){ft(),this.isScheduled_=!1;var e=dt.trackingContext;if(dt.trackingContext=this,Ye(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}dt.trackingContext=e,vt()}},t.track=function(e){if(!this.isDisposed_){ft();0,this.isRunning_=!0;var t=dt.trackingContext;dt.trackingContext=this;var n=Ze(this,e,void 0);dt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&et(this),Xe(n)&&this.reportExceptionInDerivation_(n.cause),vt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(dt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";dt.suppressReactionErrors||r.error(n,e),dt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(ft(),et(this),vt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[G]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){i("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];"boolean"==typeof n[n.length-1]&&(e=n.pop());var o=function(e){switch(e.length){case 0:return dt.trackingDerivation;case 1:return hr(e[0]);case 2:return hr(e[0],e[1])}}(n);if(!o)return i("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===Ge.NONE&&r.log("[mobx.trace] '"+o.name_+"' tracing enabled");o.isTracing_=e?Ge.BREAK:Ge.LOG}(this,e)},e}();var bt=100,gt=function(e){return e()};function wt(){dt.inBatch>0||dt.isRunningReactions||gt(Tt)}function Tt(){dt.isRunningReactions=!0;for(var e=dt.pendingReactions,t=0;e.length>0;){++t===bt&&(r.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,a=n.length;i<a;i++)n[i].runReaction_()}dt.isRunningReactions=!1}var kt=E("Reaction",yt);var Ot="action",Et="autoAction",xt="<unnamed action>",At=$(Ot),St=$("action.bound",{bound:!0}),Dt=$(Et,{autoAction:!0}),Pt=$("autoAction.bound",{autoAction:!0,bound:!0});function Rt(e){return function(t,n){return y(t)?Be(t.name||xt,t,e):y(n)?Be(t,n,e):b(n)?F(t,n,e?Dt:At):b(t)?V($(e?Et:Ot,{name:t,autoAction:e})):void 0}}var Nt=Rt(!1);Object.assign(Nt,At);var qt=Rt(!0);function Lt(e){return Me(e.name,!1,e,this,void 0)}function It(e){return y(e)&&!0===e.isMobxAction}function jt(e,t){var n,r;void 0===t&&(t=h);var i,a=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)i=new yt(a,(function(){this.track(u)}),t.onError,t.requiresObservable);else{var o=Bt(t),s=!1;i=new yt(a,(function(){s||(s=!0,o((function(){s=!1,i.isDisposed_||i.track(u)})))}),t.onError,t.requiresObservable)}function u(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(qt,Dt),Nt.bound=V(St),qt.bound=V(Pt);var Ct=function(e){return e()};function Bt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ct}function Mt(e,t,n){var r;void 0===n&&(n=h);var i,a,o,s,u=null!=(r=n.name)?r:"Reaction",l=Nt(u,n.onError?(i=n.onError,a=t,function(){try{return a.apply(this,arguments)}catch(e){i.call(this,e)}}):t),d=!n.scheduler&&!n.delay,c=Bt(n),_=!0,f=!1,v=n.compareStructural?z.structural:n.equals||z.default,p=new yt(u,(function(){_||d?m():f||(f=!0,c(m))}),n.onError,n.requiresObservable);function m(){if(f=!1,!p.isDisposed_){var t=!1;p.track((function(){var n=Ue(!1,(function(){return e(p)}));t=_||!v(o,n),s=o,o=n})),(_&&n.fireImmediately||!_&&t)&&l(o,s,p),_=!1}}return p.schedule_(),p.getDisposer_()}var Ut="onBO",Ht="onBUO";function Vt(e,t,n){return Ft(Ht,e,t,n)}function Ft(e,t,n,r){var i="function"==typeof r?hr(t,n):hr(t),a=y(r)?r:n,o=e+"L";return i[o]?i[o].add(a):i[o]=new Set([a]),function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}var Gt="never",Kt="always",Wt="observed";function Qt(e){!0===e.isolateGlobalState&&function(){if((dt.pendingReactions.length||dt.inBatch||dt.isRunningReactions)&&i(36),lt=!0,ut){var e=o();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),dt=new st}}();var t,n,r=e.useProxies,a=e.enforceActions;if(void 0!==r&&(dt.useProxies=r===Kt||r!==Gt&&"undefined"!=typeof Proxy),"ifavailable"===r&&(dt.verifyProxies=!0),void 0!==a){var s=a===Kt?Kt:a===Wt;dt.enforceActions=s,dt.allowStateChanges=!0!==s&&s!==Kt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(dt[t]=!!e[t])})),dt.allowStateReads=!dt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=gt,gt=function(e){return t((function(){return n(e)}))})}function zt(e,t,n,r){var i=N(t),a=$n(e,r)[G];ft();try{D(i).forEach((function(e){a.extend_(e,i[e],!n||(!(e in n)||n[e]))}))}finally{vt()}return e}function Jt(e,t){return Xt(hr(e,t))}function Xt(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(Xt)),n}var Yt=0;function $t(){this.message="FLOW_CANCELLED"}$t.prototype=Object.create(Error.prototype);var Zt=ne("flow"),en=ne("flow.bound",{bound:!0}),tn=Object.assign((function(e,t){if(b(t))return F(e,t,Zt);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++Yt,a=Nt(r+" - runid: "+i+" - init",n).apply(this,t),o=void 0,s=new Promise((function(t,n){var s=0;function u(e){var t;o=void 0;try{t=Nt(r+" - runid: "+i+" - yield "+s++,a.next).call(a,e)}catch(e){return n(e)}d(t)}function l(e){var t;o=void 0;try{t=Nt(r+" - runid: "+i+" - yield "+s++,a.throw).call(a,e)}catch(e){return n(e)}d(t)}function d(e){if(!y(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(u,l);e.then(d,n)}e=n,u(void 0)}));return s.cancel=Nt(r+" - runid: "+i+" - cancel",(function(){try{o&&nn(o);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(m,m),nn(n),e(new $t)}catch(t){e(t)}})),s};return i.isMobXFlow=!0,i}),Zt);function nn(e){y(e.cancel)&&e.cancel()}function rn(e){return!0===(null==e?void 0:e.isMobXFlow)}function an(e,t){if(void 0===t)return ze(e);if(!1===tr(e))return!1;if(!e[G].values_.has(t))return!1;var n=hr(e,t);return ze(n)}function on(e){return an(e)}function sn(e,t){return an(e,t)}function un(e,t){return!!e&&(void 0!==t?!!tr(e)&&e[G].values_.has(t):tr(e)||!!e[G]||W(e)||kt(e)||ze(e))}function ln(e){return un(e)}function dn(e){return tr(e)?e[G].keys_():Kn(e)||zn(e)?Array.from(e.keys()):Un(e)?e.map((function(e,t){return t})):void i(5)}function cn(e){return tr(e)?dn(e).map((function(t){return e[t]})):Kn(e)?dn(e).map((function(t){return e.get(t)})):zn(e)?Array.from(e.values()):Un(e)?e.slice():void i(6)}function hn(e){return tr(e)?dn(e).map((function(t){return[t,e[t]]})):Kn(e)?dn(e).map((function(t){return[t,e.get(t)]})):zn(e)?Array.from(e.entries()):Un(e)?e.map((function(e,t){return[t,e]})):void i(7)}function _n(e,t,n,r){return y(n)?function(e,t,n,r){return _r(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return _r(e).observe_(t,n)}(e,t,n)}function fn(e,t,n){return e.set(t,n),n}function vn(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!ln(e))return e;if(We(e)||ze(e))return vn(e.get(),t);if(t.has(e))return t.get(e);if(Un(e)){var n=fn(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=vn(e,t)})),n}if(zn(e)){var r=fn(t,e,new Set);return e.forEach((function(e){r.add(vn(e,t))})),r}if(Kn(e)){var a=fn(t,e,new Map);return e.forEach((function(e,n){a.set(n,vn(e,t))})),a}var o=fn(t,e,{});return function(e){if(tr(e))return e[G].ownKeys_();i(38)}(e).forEach((function(n){d.propertyIsEnumerable.call(e,n)&&(o[n]=vn(e[n],t))})),o}function pn(e,t){return vn(e,new Map)}function mn(e,t){void 0===t&&(t=void 0),ft();try{return e.apply(t)}finally{vt()}}function yn(e){return e[G]}tn.bound=V(en);var bn={has:function(e,t){return yn(e).has_(t)},get:function(e,t){return yn(e).get_(t)},set:function(e,t,n){var r;return!!b(t)&&(null==(r=yn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!b(t)&&(null==(n=yn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=yn(e).defineProperty_(t,n))||r},ownKeys:function(e){return yn(e).ownKeys_()},preventExtensions:function(e){i(13)}};function gn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function wn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),p((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Tn(e,t){var n=nt();try{for(var r=[].concat(e.interceptors_||[]),a=0,o=r.length;a<o&&((t=r[a](t))&&!t.type&&i(14),t);a++);return t}finally{rt(n)}}function kn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function On(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),p((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function En(e,t){var n=nt(),r=e.changeListeners_;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);rt(n)}}function xn(e,t,n){var r=$n(e,n)[G];ft();try{0,null!=t||(t=function(e){return R(e,H)||k(e,H,I({},e[H])),e[H]}(e)),D(t).forEach((function(e){return r.make_(e,t[e])}))}finally{vt()}return e}var An=Symbol("mobx-keys");function Sn(e,t,n){if(w(e))return zt(e,e,t,n);var r=$n(e,n)[G];if(!e[An]){var i=Object.getPrototypeOf(e),a=new Set([].concat(D(e),D(i)));a.delete("constructor"),a.delete(G),k(i,An,a)}ft();try{e[An].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))}finally{vt()}return e}var Dn="splice",Pn="update",Rn={get:function(e,t){var n=e[G];return t===G?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?R(Ln,t)?Ln[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[G];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){i(15)}},Nn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new K(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return wn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),On(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&i("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&i(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&dr(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=c),gn(this)){var a=Tn(this,{object:this.proxy_,type:Dn,index:e,removedCount:t,added:n});if(!a)return c;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var s=0;s<a.length;s++)this.values_[e+n.length+s]=a[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=kn(this),a=i||r?{observableKind:"array",object:this.proxy_,type:Pn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&En(this,a)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=kn(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Dn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&En(this,a)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);r.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(gn(this)){var a=Tn(this,{type:Pn,object:this.proxy_,index:e,newValue:t});if(!a)return;t=a.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):i(17,e,n.length)},e}();function qn(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),v();var i=new Nn(n,t,r,!1);O(i.values_,G,i);var a=new Proxy(i.values_,Rn);if(i.proxy_=a,e&&e.length){var o=He(!0);i.spliceWithArray_(0,0,e),Ve(o)}return a}var Ln={clear:function(){return this.splice(0)},replace:function(e){var t=this[G];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this[G];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[G].spliceWithArray_(e,t,n)},push:function(){for(var e=this[G],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[G].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[G],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return dt.trackingDerivation&&i(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){dt.trackingDerivation&&i(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[G],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function In(e,t){"function"==typeof Array.prototype[e]&&(Ln[e]=t(e))}function jn(e){return function(){var t=this[G];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Cn(e){return function(t,n){var r=this,i=this[G];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Bn(e){return function(){var t=this,n=this[G];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}In("concat",jn),In("flat",jn),In("includes",jn),In("indexOf",jn),In("join",jn),In("lastIndexOf",jn),In("slice",jn),In("toString",jn),In("toLocaleString",jn),In("every",Cn),In("filter",Cn),In("find",Cn),In("findIndex",Cn),In("flatMap",Cn),In("forEach",Cn),In("map",Cn),In("some",Cn),In("reduce",Bn),In("reduceRight",Bn);var Mn=E("ObservableArrayAdministration",Nn);function Un(e){return g(e)&&Mn(e[G])}var Hn={},Vn="add",Fn="delete",Gn=function(e,t){function n(e,t,n){var r=this;void 0===t&&(t=J),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[G]=Hn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,y(Map)||i(18),this.keysAtom_=Q("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Ue(!0,(function(){r.merge(e)}))}var r=n.prototype;return r.has_=function(e){return this.data_.has(e)},r.has=function(e){var t=this;if(!dt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Ke(this.has_(e),X,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Vt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},r.set=function(e,t){var n=this.has_(e);if(gn(this)){var r=Tn(this,{type:n?Pn:Vn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},r.delete=function(e){var t=this;if((this.keysAtom_,gn(this))&&!Tn(this,{type:Fn,object:this,name:e}))return!1;if(this.has_(e)){var n=kn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Fn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return mn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&En(this,r),!0}return!1},r.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==dt.UNCHANGED){var r=kn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Pn,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&En(this,i)}},r.addValue_=function(e,t){var n=this;this.keysAtom_,mn((function(){var r,i=new Ke(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=kn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Vn,object:this,name:e,newValue:t}:null;r&&En(this,i)},r.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var e=this,t=this.keys();return br({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},r.entries=function(){var e=this,t=this.keys();return br({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},r[e]=function(){return this.entries()},r.forEach=function(e,t){for(var n,r=U(this);!(n=r()).done;){var i=n.value,a=i[0],o=i[1];e.call(t,o,a,this)}},r.merge=function(e){var t=this;return Kn(e)&&(e=new Map(e)),mn((function(){w(e)?function(e){var t=Object.keys(e);if(!S)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return d.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):x(e)?(e.constructor!==Map&&i(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&i(20,e)})),this},r.clear=function(){var e=this;mn((function(){tt((function(){for(var t,n=U(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.replace=function(e){var t=this;return mn((function(){for(var n,r=function(e){if(x(e)||Kn(e))return e;if(Array.isArray(e))return new Map(e);if(w(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return i(21,e)}(e),a=new Map,o=!1,s=U(t.data_.keys());!(n=s()).done;){var u=n.value;if(!r.has(u))if(t.delete(u))o=!0;else{var l=t.data_.get(u);a.set(u,l)}}for(var d,c=U(r.entries());!(d=c()).done;){var h=d.value,_=h[0],f=h[1],v=t.data_.has(_);if(t.set(_,f),t.data_.has(_)){var p=t.data_.get(_);a.set(_,p),v||(o=!0)}}if(!o)if(t.data_.size!==a.size)t.keysAtom_.reportChanged();else for(var m=t.data_.keys(),y=a.keys(),b=m.next(),g=y.next();!b.done;){if(b.value!==g.value){t.keysAtom_.reportChanged();break}b=m.next(),g=y.next()}t.data_=a})),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(e,t){return On(this,e)},r.intercept_=function(e){return wn(this,e)},L(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Map"}}]),n}(Symbol.iterator,Symbol.toStringTag),Kn=E("ObservableMap",Gn);var Wn={},Qn=function(e,t){function n(e,t,n){void 0===t&&(t=J),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[G]=Wn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,y(Set)||i(22),this.atom_=Q(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var r=n.prototype;return r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.clear=function(){var e=this;mn((function(){tt((function(){for(var t,n=U(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.forEach=function(e,t){for(var n,r=U(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},r.add=function(e){var t=this;if((this.atom_,gn(this))&&!Tn(this,{type:Vn,object:this,newValue:e}))return this;if(!this.has(e)){mn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=kn(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:Vn,object:this,newValue:e}:null;n,r&&En(this,i)}return this},r.delete=function(e){var t=this;if(gn(this)&&!Tn(this,{type:Fn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=kn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Fn,object:this,oldValue:e}:null;return mn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&En(this,r),!0}return!1},r.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},r.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return br({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return br({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},r.replace=function(e){var t=this;return zn(e)&&(e=new Set(e)),mn((function(){Array.isArray(e)||A(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&i("Cannot initialize set from "+e)})),this},r.observe_=function(e,t){return On(this,e)},r.intercept_=function(e){return wn(this,e)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[e]=function(){return this.values()},L(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Set"}}]),n}(Symbol.iterator,Symbol.toStringTag),zn=E("ObservableSet",Qn),Jn=Object.create(null),Xn="remove",Yn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=_e),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new K("ObservableObject.keys"),this.isPlainObject_=w(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Qe)return n.set(t),!0;if(gn(this)){var r=Tn(this,{type:Pn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==dt.UNCHANGED){var i=kn(this),a=i?{type:Pn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&En(this,a)}return!0},t.get_=function(e){return dt.trackingDerivation&&!R(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),R(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!dt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ke(e in this.target_,X,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(rr(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[H])&&n[e])return;i(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==d;){var a=u(r,e);if(a){var o=t.make_(this,e,a,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}nr(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);rr(this,n,e);var i=n.extend_(this,e,t,r);return i&&nr(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{ft();var r=this.delete_(e);if(!r)return r;if(gn(this)){var i=Tn(this,{object:this.proxy_||this.target_,name:e,type:Vn,newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=I({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else l(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{vt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{ft();var i=this.delete_(e);if(!i)return i;if(gn(this)){var a=Tn(this,{object:this.proxy_||this.target_,name:e,type:Vn,newValue:t});if(!a)return null;t=a.newValue}var o=er(e),s={configurable:!dt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else l(this.target_,e,s);var u=new Ke(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{vt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{ft();var r=this.delete_(e);if(!r)return r;if(gn(this))if(!Tn(this,{object:this.proxy_||this.target_,name:e,type:Vn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=er(e),a={configurable:!dt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else l(this.target_,e,a);this.values_.set(e,new Qe(t)),this.notifyPropertyAddition_(e,void 0)}finally{vt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!R(this.target_,e))return!0;if(gn(this)&&!Tn(this,{object:this.proxy_||this.target_,name:e,type:Xn}))return null;try{var n,r;ft();var i,a=kn(this),o=this.values_.get(e),s=void 0;if(!o&&a)s=null==(i=u(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof Ke&&(s=o.value_),mt(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),a){var l={type:Xn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};0,a&&En(this,l)}}finally{vt()}return!0},t.observe_=function(e,t){return On(this,e)},t.intercept_=function(e){return wn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=kn(this);if(i){var a=i?{type:Vn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&En(this,a)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),D(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function $n(e,t){var n;if(R(e,G))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Yn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:fe(e):void 0}(t));return k(e,G,i),e}var Zn=E("ObservableObjectAdministration",Yn);function er(e){return Jn[e]||(Jn[e]={get:function(){return this[G].getObservablePropValue_(e)},set:function(t){return this[G].setObservablePropValue_(e,t)}})}function tr(e){return!!g(e)&&Zn(e[G])}function nr(e,t,n){var r;null==(r=e.target_[H])||delete r[n]}function rr(e,t,n){}var ir,ar,or=0,sr=function(){};ir=sr,ar=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(ir.prototype,ar):void 0!==ir.prototype.__proto__?ir.prototype.__proto__=ar:ir.prototype=ar;var ur=function(e,t,n){function r(t,n,r,i){var a;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this;var o=new Nn(r,n,i,!0);if(o.proxy_=B(a),O(B(a),G,o),t&&t.length){var s=He(!0);a.spliceWithArray(0,0,t),Ve(s)}return a}j(r,e);var i=r.prototype;return i.concat=function(){this[G].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Un(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return br({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},L(r,[{key:"length",get:function(){return this[G].getArrayLength_()},set:function(e){this[G].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(sr,Symbol.toStringTag,Symbol.iterator);function lr(e){l(ur.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[G].get_(e)},set:function(t){this[G].set_(e,t)}}}(e))}function dr(e){if(e>or){for(var t=or;t<e+100;t++)lr(t);or=e}}function cr(e,t,n){return new ur(e,t,n)}function hr(e,t){if("object"==typeof e&&null!==e){if(Un(e))return void 0!==t&&i(23),e[G].atom_;if(zn(e))return e[G];if(Kn(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||i(25,t,fr(e)),n}if(tr(e)){if(!t)return i(26);var r=e[G].values_.get(t);return r||i(27,t,fr(e)),r}if(W(e)||ze(e)||kt(e))return e}else if(y(e)&&kt(e[G]))return e[G];i(28)}function _r(e,t){return e||i(29),void 0!==t?_r(hr(e,t)):W(e)||ze(e)||kt(e)||Kn(e)||zn(e)?e:e[G]?e[G]:void i(24,e)}function fr(e,t){var n;if(void 0!==t)n=hr(e,t);else{if(It(e))return e.name;n=tr(e)||Kn(e)||zn(e)?_r(e):hr(e)}return n.name_}Object.entries(Ln).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&k(ur.prototype,t,n)})),dr(1e3);var vr=d.toString;function pr(e,t,n){return void 0===n&&(n=-1),mr(e,t,n)}function mr(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var o=vr.call(e);if(o!==vr.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=yr(e),t=yr(t);var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(y(u)&&u instanceof u&&y(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var d=(r=r||[]).length;d--;)if(r[d]===e)return i[d]===t;if(r.push(e),i.push(t),s){if((d=e.length)!==t.length)return!1;for(;d--;)if(!mr(e[d],t[d],n-1,r,i))return!1}else{var c,h=Object.keys(e);if(d=h.length,Object.keys(t).length!==d)return!1;for(;d--;)if(!R(t,c=h[d])||!mr(e[c],t[c],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function yr(e){return Un(e)?e.slice():x(e)||Kn(e)||A(e)||zn(e)?Array.from(e.entries()):e}function br(e){return e[Symbol.iterator]=gr,e}function gr(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===o()[e]&&i("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return r.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:fr},$mobx:G})},680890:function(e,t,n){n.d(t,{Z:function(){return Kt}});var r=n(425108),i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,u=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,d=function(e,t){return function(){return e&&(t=e(e=0)),t}},c=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},h=function(e,t,n){return n=null!=e?i(u(e)):{},function(e,t,n,r){if(t&&"object"==typeof t||"function"==typeof t)for(var i,u=s(t),d=0,c=u.length;d<c;d++)i=u[d],!l.call(e,i)&&i!==n&&a(e,i,{get:function(e){return t[e]}.bind(null,i),enumerable:!(r=o(t,i))||r.enumerable});return e}(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)},_=c((function(e,t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t.exports=n}));function f(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var v=d((function(){})),p=c((function(e,t){v(),function(e,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof t&&t.exports?t.exports=n():e.log=n()}(e,(function(){"use strict";var e=function(){},t="undefined",n=("undefined"==typeof window?"undefined":f(window))!==t&&f(window.navigator)!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){r.log&&(r.log.apply?r.log.apply(r,arguments):Function.prototype.apply.apply(r.log,[r,arguments])),r.trace&&r.trace()}function s(t,n){for(var r=0;r<i.length;r++){var a=i[r];this[a]=r<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function u(e,n,i){return function(){(void 0===r?"undefined":f(r))!==t&&(s.call(this,n,i),this[e].apply(this,arguments))}}function l(i,s,l){return function(i){return"debug"===i&&(i="log"),(void 0===r?"undefined":f(r))!==t&&("trace"===i&&n?o:void 0!==r[i]?a(r,i):void 0!==r.log?a(r,"log"):e)}(i)||u.apply(this,arguments)}function d(e,n,a){var o,u=this;n=null==n?"WARN":n;var d="loglevel";function c(){var e;if(("undefined"==typeof window?"undefined":f(window))!==t&&d){try{e=window.localStorage[d]}catch(e){}if((void 0===e?"undefined":f(e))===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(d)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}"string"==typeof e?d+=":"+e:"symbol"===(void 0===e?"undefined":f(e))&&(d=void 0),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=a||l,u.getLevel=function(){return o},u.setLevel=function(n,a){if("string"==typeof n&&void 0!==u.levels[n.toUpperCase()]&&(n=u.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==a&&function(e){var n=(i[e]||"silent").toUpperCase();if(("undefined"==typeof window?"undefined":f(window))!==t&&d){try{return void(window.localStorage[d]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}(n),s.call(u,n,e),(void 0===r?"undefined":f(r))===t&&n<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(e){n=e,c()||u.setLevel(e,!1)},u.resetLevel=function(){u.setLevel(n,!1),function(){if(("undefined"==typeof window?"undefined":f(window))!==t&&d){try{return void window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)};var h=c();null==h&&(h=n),u.setLevel(h,!1)}var c=new d,h={};c.getLogger=function(e){if("symbol"!==(void 0===e?"undefined":f(e))&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new d(e,c.getLevel(),c.methodFactory)),t};var _=("undefined"==typeof window?"undefined":f(window))!==t?window.log:void 0;return c.noConflict=function(){return("undefined"==typeof window?"undefined":f(window))!==t&&window.log===c&&(window.log=_),c},c.getLoggers=function(){return h},c.default=c,c}))}));function m(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):m(e,t)}var y=d((function(){y()})),b=c((function(e){"use strict";var t=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function r(e){try{return encodeURIComponent(e)}catch(e){return null}}e.stringify=function(e,n){n=n||"";var i,a,o=[];for(a in"string"!=typeof n&&(n="?"),e)if(t.call(e,a)){if(!(i=e[a])&&(null==i||isNaN(i))&&(i=""),a=r(a),i=r(i),null===a||null===i)continue;o.push(a+"="+i)}return o.length?n+o.join("&"):""},e.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,i={};t=r.exec(e);){var a=n(t[1]),o=n(t[2]);null===a||null===o||a in i||(i[a]=o)}return i}})),g=c((function(e,t){"use strict";!function(n){var r=!1;if("function"==typeof define&&define.amd&&(define(n),r=!0),"object"==typeof e&&(t.exports=n(),r=!0),!r){var i=window.Cookies,a=window.Cookies=n();a.noConflict=function(){return window.Cookies=i,a}}}((function(){var e=function(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t};return function t(n){function r(t,i,a){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(a=e({path:"/"},r.defaults,a)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(e){}return i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var c=u[d].split("="),h=c.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var _=c[0].replace(l,decodeURIComponent);if(h=n.read?n.read(h,_):n(h,_)||h.replace(l,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===_){o=h;break}t||(o[_]=h)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))})),w=c((function(e,t){var n=Array.prototype.slice;t.exports=function(e,t){for(("length"in e||(e=[e]),e=n.call(e));e.length;){var r=e.shift(),i=t(r);if(i)return i;r.childNodes&&r.childNodes.length&&(e=n.call(r.childNodes).concat(e))}}})),T=c((function(e,t){function n(e,t){if(!m(this,n))return new n(e,t);this.data=e,this.nodeValue=e,this.length=e.length,this.ownerDocument=t||null}y(),t.exports=n,n.prototype.nodeType=8,n.prototype.nodeName="#comment",n.prototype.toString=function(){return"[object Comment]"}})),k=c((function(e,t){function n(e,t){if(!m(this,n))return new n(e);this.data=e||"",this.length=this.data.length,this.ownerDocument=t||null}y(),t.exports=n,n.prototype.type="DOMTextNode",n.prototype.nodeType=3,n.prototype.nodeName="#text",n.prototype.toString=function(){return this.data},n.prototype.replaceData=function(e,t,n){var r=this.data,i=r.substring(0,e),a=r.substring(e+t,r.length);this.data=i+n+a,this.length=this.data.length}})),O=c((function(e,t){t.exports=function(e){var t=this,n=e.type;e.target||(e.target=t),t.listeners||(t.listeners={});var r=t.listeners[n];if(r)return r.forEach((function(n){e.currentTarget=t,"function"==typeof n?n(e):n.handleEvent(e)}));t.parentNode&&t.parentNode.dispatchEvent(e)}})),E=c((function(e,t){t.exports=function(e,t){var n=this;n.listeners||(n.listeners={}),n.listeners[e]||(n.listeners[e]=[]),-1===n.listeners[e].indexOf(t)&&n.listeners[e].push(t)}})),x=c((function(e,t){t.exports=function(e,t){var n=this;if(n.listeners&&n.listeners[e]){var r=n.listeners[e],i=r.indexOf(t);-1!==i&&r.splice(i,1)}}})),A=c((function(e,t){v(),t.exports=r;var n=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function r(e){switch(e.nodeType){case 3:return o(e.data);case 8:return"\x3c!--"+e.data+"--\x3e";default:return function(e){var t=[],s=e.tagName;return"http://www.w3.org/1999/xhtml"===e.namespaceURI&&(s=s.toLowerCase()),t.push("<"+s+function(e){var t=[];for(var n in e)i(e,n)&&t.push({name:n,value:e[n]});for(var r in e._attributes)for(var o in e._attributes[r]){var s=e._attributes[r][o],u=(s.prefix?s.prefix+":":"")+o;t.push({name:u,value:s.value})}return e.className&&t.push({name:"class",value:e.className}),t.length?a(t):""}(e)+function(e){var t=e.dataset,n=[];for(var r in t)n.push({name:"data-"+r,value:t[r]});return n.length?a(n):""}(e)),n.indexOf(s)>-1?t.push(" />"):(t.push(">"),e.childNodes.length?t.push.apply(t,e.childNodes.map(r)):e.textContent||e.innerText?t.push(o(e.textContent||e.innerText)):e.innerHTML&&t.push(e.innerHTML),t.push("</"+s+">")),t.join("")}(e)}}function i(e,t){var n=f(e[t]);return"style"===t&&Object.keys(e.style).length>0||e.hasOwnProperty(t)&&("string"===n||"boolean"===n||"number"===n)&&"nodeName"!==t&&"className"!==t&&"tagName"!==t&&"textContent"!==t&&"innerText"!==t&&"namespaceURI"!==t&&"innerHTML"!==t}function a(e){var t=[];return e.forEach((function(e){var n=e.name,r=e.value;"style"===n&&(r=function(e){if("string"==typeof e)return e;var t="";return Object.keys(e).forEach((function(n){var r=e[n];n=n.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})),t+=n+":"+r+";"})),t}(r)),t.push(n+'="'+function(e){return o(e).replace(/"/g,"&quot;")}(r)+'"')})),t.length?" "+t.join(" "):""}function o(e){var t="";return"string"==typeof e?t=e:e&&(t=e.toString()),t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}})),S=c((function(e,t){y();var n=w(),r=O(),i=E(),a=x(),o=A(),s="http://www.w3.org/1999/xhtml";function u(e,t,n){if(!m(this,u))return new u(e);var r=void 0===n?s:n||null;this.tagName=r===s?String(e).toUpperCase():e,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=t||null,this.namespaceURI=r,this._attributes={},"INPUT"===this.tagName&&(this.type="text")}t.exports=u,u.prototype.type="DOMElement",u.prototype.nodeType=1,u.prototype.appendChild=function(e){return e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,e},u.prototype.replaceChild=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=this.childNodes.indexOf(t);return t.parentNode=null,this.childNodes[n]=e,e.parentNode=this,t},u.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);return this.childNodes.splice(t,1),e.parentNode=null,e},u.prototype.insertBefore=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=null==t?-1:this.childNodes.indexOf(t);return n>-1?this.childNodes.splice(n,0,e):this.childNodes.push(e),e.parentNode=this,e},u.prototype.setAttributeNS=function(e,t,n){var r=null,i=t,a=t.indexOf(":");(a>-1&&(r=t.substr(0,a),i=t.substr(a+1)),"INPUT"===this.tagName&&"type"===t)?this.type=n:(this._attributes[e]||(this._attributes[e]={}))[i]={value:n,prefix:r}},u.prototype.getAttributeNS=function(e,t){var n=this._attributes[e],r=n&&n[t]&&n[t].value;return"INPUT"===this.tagName&&"type"===t?this.type:"string"!=typeof r?null:r},u.prototype.removeAttributeNS=function(e,t){var n=this._attributes[e];n&&delete n[t]},u.prototype.hasAttributeNS=function(e,t){var n=this._attributes[e];return!!n&&t in n},u.prototype.setAttribute=function(e,t){return this.setAttributeNS(null,e,t)},u.prototype.getAttribute=function(e){return this.getAttributeNS(null,e)},u.prototype.removeAttribute=function(e){return this.removeAttributeNS(null,e)},u.prototype.hasAttribute=function(e){return this.hasAttributeNS(null,e)},u.prototype.removeEventListener=a,u.prototype.addEventListener=i,u.prototype.dispatchEvent=r,u.prototype.focus=function(){},u.prototype.toString=function(){return o(this)},u.prototype.getElementsByClassName=function(e){var t=e.split(" "),r=[];return n(this,(function(e){if(1===e.nodeType){var n=(e.className||"").split(" ");t.every((function(e){return-1!==n.indexOf(e)}))&&r.push(e)}})),r},u.prototype.getElementsByTagName=function(e){e=e.toLowerCase();var t=[];return n(this.childNodes,(function(n){1===n.nodeType&&("*"===e||n.tagName.toLowerCase()===e)&&t.push(n)})),t},u.prototype.contains=function(e){return n(this,(function(t){return e===t}))||!1}})),D=c((function(e,t){y();var n=S();function r(e){if(!m(this,r))return new r;this.childNodes=[],this.parentNode=null,this.ownerDocument=e||null}t.exports=r,r.prototype.type="DocumentFragment",r.prototype.nodeType=11,r.prototype.nodeName="#document-fragment",r.prototype.appendChild=n.prototype.appendChild,r.prototype.replaceChild=n.prototype.replaceChild,r.prototype.removeChild=n.prototype.removeChild,r.prototype.toString=function(){return this.childNodes.map((function(e){return String(e)})).join("")}})),P=c((function(e,t){function n(e){}t.exports=n,n.prototype.initEvent=function(e,t,n){this.type=e,this.bubbles=t,this.cancelable=n},n.prototype.preventDefault=function(){}})),R=c((function(e,t){y();var n=w(),r=T(),i=k(),a=S(),o=D(),s=P(),u=O(),l=E(),d=x();function c(){if(!m(this,c))return new c;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}t.exports=c;var h=c.prototype;h.createTextNode=function(e){return new i(e,this)},h.createElementNS=function(e,t){var n=null===e?null:String(e);return new a(t,this,n)},h.createElement=function(e){return new a(e,this)},h.createDocumentFragment=function(){return new o(this)},h.createEvent=function(e){return new s(e)},h.createComment=function(e){return new r(e,this)},h.getElementById=function(e){return e=String(e),n(this.childNodes,(function(t){if(String(t.id)===e)return t}))||null},h.getElementsByClassName=a.prototype.getElementsByClassName,h.getElementsByTagName=a.prototype.getElementsByTagName,h.contains=a.prototype.contains,h.removeEventListener=d,h.addEventListener=l,h.dispatchEvent=u})),N=c((function(e,t){var n=R();t.exports=new n})),q=c((function(e,t){var n,r="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},i=N();"undefined"!=typeof document?n=document:(n=r["__GLOBAL_DOCUMENT_CACHE@4"])||(n=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=n}));function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{!o&&null!=n.return&&n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=h(_()),C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},B=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},M=function(e){if(e&&void 0!==e.nodeName)return e.muxId||(e.muxId=B()),e.muxId;var t;try{t=document.querySelector(e)}catch(e){}return t&&!t.muxId&&(t.muxId=e),(null==t?void 0:t.muxId)||e},U=function(e){var t;e&&void 0!==e.nodeName?e=M(t=e):t=document.querySelector(e);var n=t&&t.nodeName?t.nodeName.toLowerCase():"";return[t,e,n]},H=h(p()),V=H.default.methodFactory;H.default.methodFactory=function(e,t,n){var r=V(e,t,n);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);r.apply(void 0,e)}},H.default.setLevel(H.default.getLevel());var F=H.default,G=h(_());function K(){return"1"===(G.default.doNotTrack||G.default.navigator&&G.default.navigator.doNotTrack)}var W=h(_()),Q={now:function(){var e=W.default.performance,t=e&&e.timing,n=t&&t.navigationStart,r="number"==typeof n&&"function"==typeof e.now?n+e.now():Date.now();return Math.round(r)}};function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){if(!m(e,t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?z(e):t}(this,n)}}y(),v();var ne=function(e){return re(e)[0]},re=function(e){if("string"!=typeof e||""===e)return["localhost"];var t,n=(e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return n&&(t=(n.match(/[^\.]+\.[^\.]+$/)||[])[0]),[n,t]},ie=h(_()),ae={exists:function(){var e=ie.default.performance;return void 0!==(e&&e.timing)},domContentLoadedEventEnd:function(){var e=ie.default.performance,t=e&&e.timing;return t&&t.domContentLoadedEventEnd},navigationStart:function(){var e=ie.default.performance,t=e&&e.timing;return t&&t.navigationStart}};function oe(e,t,n){n=void 0===n?1:n,e[t]=e[t]||0,e[t]+=n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$(e,t,n[t])}))}return e}function ue(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var le=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],de=["x-cdn","content-type"].concat(le);function ce(e){var t={};return(e=e||"").trim().split(/[\r\n]+/).forEach((function(e){if(e){var n=e.split(": "),r=n.shift();r&&(de.indexOf(r.toLowerCase())>=0||0===r.toLowerCase().indexOf("x-litix-"))&&(t[r]=n.join(": "))}})),t}function he(e){if(e){var t=le.find((function(t){return void 0!==e[t]}));return t?e[t]:void 0}}var _e=function(e){var t={};for(var n in e){var r=e[n];if(-1!==r["DATA-ID"].search("io.litix.data."))t[r["DATA-ID"].replace("io.litix.data.","")]=r.VALUE}return t},fe=function(e){if(!e)return{};var t=ae.navigationStart(),n=e.loading,r=n?n.start:e.trequest,i=n?n.first:e.tfirst,a=n?n.end:e.tload;return{bytesLoaded:e.total,requestStart:Math.round(t+r),responseStart:Math.round(t+i),responseEnd:Math.round(t+a)}},ve=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return ce(e.getAllResponseHeaders())},pe=function(e,t){if(!e||!e.requestEndDate)return{};var n,r=ne(e.url),i=e.url,a=e.bytesLoaded,o=new Date(e.requestStartDate).getTime(),s=new Date(e.firstByteDate).getTime(),u=new Date(e.requestEndDate).getTime(),l=isNaN(e.duration)?0:e.duration,d="function"==typeof t.getMetricsFor?t.getMetricsFor(e.mediaType).HttpList:t.getDashMetrics().getHttpRequests(e.mediaType);return d.length>0&&(n=ce(d[d.length-1]._responseHeaders||"")),{requestStart:o,requestResponseStart:s,requestResponseEnd:u,requestBytesLoaded:a,requestResponseHeaders:n,requestMediaDuration:l,requestHostname:r,requestUrl:i,requestId:n?he(n):void 0}},me=function(e){var t;return null===(t=e.match(/.*codecs\*?="(.*)"/))||void 0===t?void 0:t[1]},ye=function(e,t,n){var r=e.log;if(n&&n.on){var i=function(e){try{var t,n;return null===(n=e.getVersion)||void 0===n||null===(t=n.call(e))||void 0===t?void 0:t.split(".").map((function(e){return parseInt(e)}))[0]}catch(e){return!1}}(n),a=function(n,r){return e.emit(t,n,r)},o=function(e){var t=e.type,n=(e.data||{}).url;a("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:ne(n),request_url:n})};n.on("manifestLoaded",o);var s={},u=function(e){if("function"!=typeof e.getRequests)return null;var t=e.getRequests({state:"executed"});return 0===t.length?null:t[t.length-1]},l=function(e){var t=e.type,r=e.chunk,i=e.request,o=(r||{}).mediaInfo||{},u=o.type,l=o.bitrateList,d={};(l=l||[]).forEach((function(e,t){d[t]={},d[t].width=e.width,d[t].height=e.height,d[t].bitrate=e.bandwidth,d[t].attrs={}})),"video"===u?s.video=d:"audio"===u?s.audio=d:s.media=d;var c=pe(i,n),h=c.requestStart,_=c.requestResponseStart,f=c.requestResponseEnd,v=c.requestResponseHeaders,p=c.requestMediaDuration,m=c.requestHostname,y=c.requestUrl,b=c.requestId;a("requestcompleted",{request_event_type:t,request_start:h,request_response_start:_,request_response_end:f,request_bytes_loaded:-1,request_type:u+"_init",request_response_headers:v,request_hostname:m,request_id:b,request_url:y,request_media_duration:p,request_rendition_lists:s})};i>=4?n.on("initFragmentLoaded",l):n.on("initFragmentLoaded",(function(e){var t=e.type,n=e.fragmentModel,r=e.chunk,i=u(n);l({type:t,request:i,chunk:r})}));var d=function(e){var t=e.type,r=e.chunk,i=e.request,o=r||{},s=o.mediaInfo,u=o.start,l=(s||{}).type,d=pe(i,n),c=d.requestStart,h=d.requestResponseStart,_=d.requestResponseEnd,f=d.requestBytesLoaded,v=d.requestResponseHeaders,p=d.requestMediaDuration,m=d.requestHostname,y=d.requestUrl,b=d.requestId,g=function(e,t){var n=t.getQualityFor(e),r=t.getCurrentTrackFor(e).bitrateList;return r?{currentLevel:n,renditionWidth:r[n].width||null,renditionHeight:r[n].height||null,renditionBitrate:r[n].bandwidth}:{}}(l,n),w=g.currentLevel,T=g.renditionWidth,k=g.renditionHeight,O=g.renditionBitrate;a("requestcompleted",{request_event_type:t,request_start:c,request_response_start:h,request_response_end:_,request_bytes_loaded:f,request_type:l,request_response_headers:v,request_hostname:m,request_id:b,request_url:y,request_media_start_time:u,request_media_duration:p,request_current_level:w,request_labeled_bitrate:O,request_video_width:T,request_video_height:k})};i>=4?n.on("mediaFragmentLoaded",d):n.on("mediaFragmentLoaded",(function(e){var t=e.type,n=e.fragmentModel,r=e.chunk,i=u(n);d({type:t,request:i,chunk:r})}));var c={video:void 0,audio:void 0,totalBitrate:void 0},h=function(e,t,i){if("number"==typeof e.newQuality){var o=e.mediaType;if("audio"===o||"video"===o){var s=n.getBitrateInfoListFor(o).find((function(t){return t.qualityIndex===e.newQuality}));if(!s||"number"!=typeof s.bitrate)return void r.warn("missing bitrate info for ".concat(o));c[o]=ue(se({},s),{codec:n.getCurrentTrackFor(o).codec});var u=function(){if(c.video&&"number"==typeof c.video.bitrate){if(!c.video.width||!c.video.height)return void r.warn("have bitrate info for video but missing width/height");var e=c.video.bitrate;if(c.audio&&"number"==typeof c.audio.bitrate&&(e+=c.audio.bitrate),e!==c.totalBitrate)return c.totalBitrate=e,{video_source_bitrate:e,video_source_height:c.video.height,video_source_width:c.video.width,video_source_codec:me(c.video.codec)}}}();u&&a("renditionchange",u)}}else r.warn("missing evt.newQuality in qualityChangeRendered event",e)};n.on("qualityChangeRendered",h);var _=function(e){var t=e.request,n=e.mediaType;a("requestcanceled",{request_event_type:(t=t||{}).type+"_"+t.action,request_url:t.url,request_type:n,request_hostname:ne(t.url)})};n.on("fragmentLoadingAbandoned",_);var f=function(e){var t,n,r=e.error,i=(null==r||null===(t=r.data)||void 0===t?void 0:t.request)||{},o=(null==r||null===(n=r.data)||void 0===n?void 0:n.response)||{};27===(null==r?void 0:r.code)&&a("requestfailed",{request_error:i.type+"_"+i.action,request_url:i.url,request_hostname:ne(i.url),request_type:i.mediaType,request_error_code:o.status,request_error_text:o.statusText});var s="".concat(null!=i&&i.url?"url: ".concat(i.url,"\n"):"")+"".concat(null!=o&&o.status||null!=o&&o.statusText?"response: ".concat(null==o?void 0:o.status,", ").concat(null==o?void 0:o.statusText,"\n"):"");a("error",{player_error_code:null==r?void 0:r.code,player_error_message:null==r?void 0:r.message,player_error_context:s})};n.on("error",f),n._stopMuxMonitor=function(){n.off("manifestLoaded",o),n.off("initFragmentLoaded",l),n.off("mediaFragmentLoaded",d),n.off("qualityChangeRendered",h),n.off("error",f),n.off("fragmentLoadingAbandoned",_),delete n._stopMuxMonitor}}else r.warn("Invalid dash.js player reference. Monitoring blocked.")},be=0,ge=function(){"use strict";function e(){J(this,e),$(this,"_listeners",void 0)}return Y(e,[{key:"on",value:function(e,t,n){return t._eventEmitterGuid=t._eventEmitterGuid||++be,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],n&&(t=t.bind(n)),this._listeners[e].push(t),t}},{key:"off",value:function(e,t){var n=this._listeners&&this._listeners[e];n&&n.forEach((function(e,r){e._eventEmitterGuid===t._eventEmitterGuid&&n.splice(r,1)}))}},{key:"one",value:function(e,t,n){var r=this;t._eventEmitterGuid=t._eventEmitterGuid||++be;var i=function(){r.off(e,i),t.apply(n||this,arguments)};i._eventEmitterGuid=t._eventEmitterGuid,this.on(e,i)}},{key:"emit",value:function(e,t){var n=this;if(this._listeners){t=t||{};var r=this._listeners["before*"]||[],i=this._listeners[e]||[],a=this._listeners["after"+e]||[],o=function(t,r){(t=t.slice()).forEach((function(t){t.call(n,{type:e},r)}))};o(r,t),o(i,t),o(a,t)}}}]),e}(),we=ge,Te=h(_()),ke=function(){"use strict";function e(t){var n=this;J(this,e),$(this,"_playbackHeartbeatInterval",void 0),$(this,"_playheadShouldBeProgressing",void 0),$(this,"pm",void 0),this.pm=t,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,t.on("playing",(function(){n._playheadShouldBeProgressing=!0})),t.on("play",this._startPlaybackHeartbeatInterval.bind(this)),t.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),t.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),t.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),t.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),t.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),t.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),t.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),t.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("seeked",(function(){t.data.player_is_paused?n._stopPlaybackHeartbeatInterval():n._startPlaybackHeartbeatInterval()})),t.on("timeupdate",(function(){null!==n._playbackHeartbeatInterval&&t.emit("playbackheartbeat")})),t.on("devicesleep",(function(e,r){null!==n._playbackHeartbeatInterval&&(Te.default.clearInterval(n._playbackHeartbeatInterval),t.emit("playbackheartbeatend",{viewer_time:r.viewer_time}),n._playbackHeartbeatInterval=null)}))}return Y(e,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;null===this._playbackHeartbeatInterval&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=Te.default.setInterval((function(){e.pm.emit("playbackheartbeat")}),this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(Te.default.clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),e}(),Oe=function e(t){"use strict";var n=this;J(this,e),$(this,"viewErrored",void 0),t.on("viewinit",(function(){n.viewErrored=!1})),t.on("error",(function(e,r){try{var i=t.errorTranslator({player_error_code:r.player_error_code,player_error_message:r.player_error_message,player_error_context:r.player_error_context,player_error_severity:r.player_error_severity,player_error_business_exception:r.player_error_business_exception});i&&(t.data.player_error_code=i.player_error_code||r.player_error_code,t.data.player_error_message=i.player_error_message||r.player_error_message,t.data.player_error_context=i.player_error_context||r.player_error_context,t.data.player_error_severity=i.player_error_severity||r.player_error_severity,t.data.player_error_business_exception=i.player_error_business_exception||r.player_error_business_exception,n.viewErrored=!0)}catch(e){t.mux.log.warn("Exception in error translator callback.",e),n.viewErrored=!0}})),t.on("aftererror",(function(){var e,n,r,i,a;null===(e=t.data)||void 0===e||delete e.player_error_code,null===(n=t.data)||void 0===n||delete n.player_error_message,null===(r=t.data)||void 0===r||delete r.player_error_context,null===(i=t.data)||void 0===i||delete i.player_error_severity,null===(a=t.data)||void 0===a||delete a.player_error_business_exception}))},Ee=function(){"use strict";function e(t){J(this,e),$(this,"_watchTimeTrackerLastCheckedTime",void 0),$(this,"pm",void 0),this.pm=t,this._watchTimeTrackerLastCheckedTime=null,t.on("playbackheartbeat",this._updateWatchTime.bind(this)),t.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return Y(e,[{key:"_updateWatchTime",value:function(e,t){var n=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=n),oe(this.pm.data,"view_watch_time",n-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=n}},{key:"_clearWatchTimeState",value:function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null}}]),e}(),xe=function(){"use strict";function e(t){var n=this;J(this,e),$(this,"_playbackTimeTrackerLastPlayheadPosition",void 0),$(this,"_lastTime",void 0),$(this,"_isAdPlaying",void 0),$(this,"_callbackUpdatePlaybackTime",void 0),$(this,"pm",void 0),this.pm=t,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=Q.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null;var r=this._startPlaybackTimeTracking.bind(this);t.on("playing",r),t.on("adplaying",r),t.on("seeked",r);var i=this._stopPlaybackTimeTracking.bind(this);t.on("playbackheartbeatend",i),t.on("seeking",i),t.on("adplaying",(function(){n._isAdPlaying=!0})),t.on("adended",(function(){n._isAdPlaying=!1})),t.on("adpause",(function(){n._isAdPlaying=!1})),t.on("adbreakstart",(function(){n._isAdPlaying=!1})),t.on("adbreakend",(function(){n._isAdPlaying=!1})),t.on("adplay",(function(){n._isAdPlaying=!1})),t.on("viewinit",(function(){n._playbackTimeTrackerLastPlayheadPosition=-1,n._lastTime=Q.now(),n._isAdPlaying=!1,n._callbackUpdatePlaybackTime=null}))}return Y(e,[{key:"_startPlaybackTimeTracking",value:function(){null===this._callbackUpdatePlaybackTime&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time,t=Q.now(),n=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?n=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(n=t-this._lastTime),n>0&&n<=1e3&&oe(this.pm.data,"view_content_playback_time",n),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=t}}]),e}(),Ae=function(){"use strict";function e(t){J(this,e),$(this,"pm",void 0),this.pm=t;var n=this._updatePlayheadTime.bind(this);t.on("playbackheartbeat",n),t.on("playbackheartbeatend",n),t.on("timeupdate",n),t.on("destroy",(function(){t.off("timeupdate",n)}))}return Y(e,[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=void 0===this.pm.data.view_max_playhead_position?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,t){var n=this,r=function(){n.pm.currentFragmentPDT&&n.pm.currentFragmentStart&&(n.pm.data.player_program_time=n.pm.currentFragmentPDT+n.pm.data.player_playhead_time-n.pm.currentFragmentStart)};if(t&&t.player_playhead_time)this.pm.data.player_playhead_time=t.player_playhead_time,r(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var i=this.pm.getPlayheadTime();void 0!==i&&(this.pm.data.player_playhead_time=i,r(),this._updateMaxPlayheadPosition())}}}]),e}(),Se=3e5,De=function e(t){"use strict";if(J(this,e),!t.disableRebufferTracking){var n,r=function(e,t){i(t),n=void 0},i=function(e){if(n){var r=e.viewer_time-n;oe(t.data,"view_rebuffer_duration",r),n=e.viewer_time,t.data.view_rebuffer_duration>Se&&(t.emit("viewend"),t.send("viewend"),t.mux.log.warn("Ending view after rebuffering for longer than ".concat(Se,"ms, future events will be ignored unless a programchange or videochange occurs.")))}t.data.view_watch_time>=0&&t.data.view_rebuffer_count>0&&(t.data.view_rebuffer_frequency=t.data.view_rebuffer_count/t.data.view_watch_time,t.data.view_rebuffer_percentage=t.data.view_rebuffer_duration/t.data.view_watch_time)};t.on("playbackheartbeat",(function(e,t){return i(t)})),t.on("rebufferstart",(function(e,i){n||(oe(t.data,"view_rebuffer_count",1),n=i.viewer_time,t.one("rebufferend",r))})),t.on("viewinit",(function(){n=void 0,t.off("rebufferend",r)}))}},Pe=function(){"use strict";function e(t){var n=this;J(this,e),$(this,"_lastCheckedTime",void 0),$(this,"_lastPlayheadTime",void 0),$(this,"_lastPlayheadTimeUpdatedTime",void 0),$(this,"_rebuffering",void 0),$(this,"pm",void 0),this.pm=t,!t.disableRebufferTracking&&!t.disablePlayheadRebufferTracking&&(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,t.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),t.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),t.on("seeking",(function(){n._cleanupRebufferTracker(null,{viewer_time:Q.now()})})))}return Y(e,[{key:"_checkIfRebuffering",value:function(e,t){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else if(null!==this._lastCheckedTime)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var n=t.viewer_time-this._lastPlayheadTimeUpdatedTime;"number"==typeof this.pm.sustainedRebufferThreshold&&n>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=t.viewer_time}else this._cleanupRebufferTracker(e,t,!0);else this._prepareRebufferTrackerState(t.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return;var r=this.pm.data.player_playhead_time-this._lastPlayheadTime,i=t.viewer_time-this._lastPlayheadTimeUpdatedTime;"number"==typeof this.pm.minimumRebufferDuration&&r>0&&i-r>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+i-r}))}n?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()}}]),e}(),Re=Pe,Ne=function(){"use strict";function e(t){var n=this;J(this,e),$(this,"NAVIGATION_START",void 0),$(this,"pm",void 0),this.pm=t,t.on("viewinit",(function(){var e=t.data,r=e.view_id;if(!e.view_program_changed){var i=function(e,i){var a=i.viewer_time;("playing"===e.type&&void 0===t.data.view_time_to_first_frame||"adplaying"===e.type&&(void 0===t.data.view_time_to_first_frame||n._inPrerollPosition()))&&n.calculateTimeToFirstFrame(a||Q.now(),r)};t.one("playing",i),t.one("adplaying",i),t.one("viewend",(function(){t.off("playing",i),t.off("adplaying",i)}))}}))}return Y(e,[{key:"_inPrerollPosition",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,t){t===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}]),e}(),qe=function e(t){"use strict";var n=this;J(this,e),$(this,"_lastPlayerHeight",void 0),$(this,"_lastPlayerWidth",void 0),$(this,"_lastPlayheadPosition",void 0),$(this,"_lastSourceHeight",void 0),$(this,"_lastSourceWidth",void 0),t.on("viewinit",(function(){n._lastPlayheadPosition=-1}));["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach((function(e){t.on(e,(function(){if(n._lastPlayheadPosition>=0&&t.data.player_playhead_time>=0&&n._lastPlayerWidth>=0&&n._lastSourceWidth>0&&n._lastPlayerHeight>=0&&n._lastSourceHeight>0){var e=t.data.player_playhead_time-n._lastPlayheadPosition;if(e<0)return void(n._lastPlayheadPosition=-1);var r=Math.min(n._lastPlayerWidth/n._lastSourceWidth,n._lastPlayerHeight/n._lastSourceHeight),i=Math.max(0,r-1),a=Math.max(0,1-r);t.data.view_max_upscale_percentage=Math.max(t.data.view_max_upscale_percentage||0,i),t.data.view_max_downscale_percentage=Math.max(t.data.view_max_downscale_percentage||0,a),oe(t.data,"view_total_content_playback_time",e),oe(t.data,"view_total_upscaling",i*e),oe(t.data,"view_total_downscaling",a*e)}n._lastPlayheadPosition=-1}))})),["playing","hb"].forEach((function(e){t.on(e,(function(){n._lastPlayheadPosition=t.data.player_playhead_time,n._lastPlayerWidth=t.data.player_width,n._lastPlayerHeight=t.data.player_height,n._lastSourceWidth=t.data.video_source_width,n._lastSourceHeight=t.data.video_source_height}))}))},Le=function e(t){"use strict";var n=this;J(this,e),$(this,"isSeeking",void 0),this.isSeeking=!1;var r=-1,i=function(){var e=Q.now(),i=(t.data.viewer_time||e)-(r||e);oe(t.data,"view_seek_duration",i),t.data.view_max_seek_time=Math.max(t.data.view_max_seek_time||0,i),n.isSeeking=!1,r=-1};t.on("seeking",(function(e,a){Object.assign(t.data,a),n.isSeeking&&a.viewer_time-r<=2e3?r=a.viewer_time:(n.isSeeking&&i(),n.isSeeking=!0,r=a.viewer_time,oe(t.data,"view_seek_count",1),t.send("seeking"))})),t.on("seeked",(function(){i()})),t.on("viewend",(function(){n.isSeeking&&(i(),t.send("seeked")),n.isSeeking=!1,r=-1}))},Ie=function(e,t){e.push(t),e.sort((function(e,t){return e.viewer_time-t.viewer_time}))},je=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],Ce=function(){"use strict";function e(t){var n=this;J(this,e),$(this,"_adHasPlayed",void 0),$(this,"_adRequests",void 0),$(this,"_adResponses",void 0),$(this,"_currentAdRequestNumber",void 0),$(this,"_currentAdResponseNumber",void 0),$(this,"_prerollPlayTime",void 0),$(this,"_wouldBeNewAdPlay",void 0),$(this,"isAdBreak",void 0),$(this,"pm",void 0),this.pm=t,t.on("viewinit",(function(){n.isAdBreak=!1,n._currentAdRequestNumber=0,n._currentAdResponseNumber=0,n._adRequests=[],n._adResponses=[],n._adHasPlayed=!1,n._wouldBeNewAdPlay=!0,n._prerollPlayTime=void 0})),je.forEach((function(e){return t.on(e,n._updateAdData.bind(n))}));var r=function(){n.isAdBreak=!1};t.on("adbreakstart",(function(){n.isAdBreak=!0})),t.on("play",r),t.on("playing",r),t.on("viewend",r),t.on("adrequest",(function(e,r){r=Object.assign({ad_request_id:"generatedAdRequestId"+n._currentAdRequestNumber++},r),Ie(n._adRequests,r),oe(t.data,"view_ad_request_count"),n.inPrerollPosition()&&(t.data.view_preroll_requested=!0,n._adHasPlayed||oe(t.data,"view_preroll_request_count"))})),t.on("adresponse",(function(e,r){r=Object.assign({ad_request_id:"generatedAdRequestId"+n._currentAdResponseNumber++},r),Ie(n._adResponses,r);var i=n.findAdRequest(r.ad_request_id);i&&oe(t.data,"view_ad_request_time",Math.max(0,r.viewer_time-i.viewer_time))})),t.on("adplay",(function(e,r){n._adHasPlayed=!0,n._wouldBeNewAdPlay&&(n._wouldBeNewAdPlay=!1,oe(t.data,"view_ad_played_count")),n.inPrerollPosition()&&!t.data.view_preroll_played&&(t.data.view_preroll_played=!0,n._adRequests.length>0&&(t.data.view_preroll_request_time=Math.max(0,r.viewer_time-n._adRequests[0].viewer_time)),t.data.view_start&&(t.data.view_startup_preroll_request_time=Math.max(0,r.viewer_time-t.data.view_start)),n._prerollPlayTime=r.viewer_time)})),t.on("adplaying",(function(e,r){n.inPrerollPosition()&&void 0===t.data.view_preroll_load_time&&void 0!==n._prerollPlayTime&&(t.data.view_preroll_load_time=r.viewer_time-n._prerollPlayTime,t.data.view_startup_preroll_load_time=r.viewer_time-n._prerollPlayTime)})),t.on("adclicked",(function(e,r){n._wouldBeNewAdPlay||oe(t.data,"view_ad_clicked_count")})),t.on("adskipped",(function(e,r){n._wouldBeNewAdPlay||oe(t.data,"view_ad_skipped_count")})),t.on("adended",(function(){n._wouldBeNewAdPlay=!0})),t.on("aderror",(function(){n._wouldBeNewAdPlay=!0}))}return Y(e,[{key:"inPrerollPosition",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]}},{key:"_updateAdData",value:function(e,t){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var n=I(re(t.ad_tag_url),2),r=n[0],i=n[1];this.pm.data.view_preroll_ad_tag_domain=i,this.pm.data.view_preroll_ad_tag_hostname=r}if(!this.pm.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var a=I(re(t.ad_asset_url),2),o=a[0],s=a[1];this.pm.data.view_preroll_ad_asset_domain=s,this.pm.data.view_preroll_ad_asset_hostname=o}}this.pm.data.ad_asset_url=null==t?void 0:t.ad_asset_url,this.pm.data.ad_tag_url=null==t?void 0:t.ad_tag_url,this.pm.data.ad_creative_id=null==t?void 0:t.ad_creative_id,this.pm.data.ad_id=null==t?void 0:t.ad_id,this.pm.data.ad_universal_id=null==t?void 0:t.ad_universal_id}}]),e}(),Be=h(_()),Me=function e(t){"use strict";J(this,e);var n,r,i=function(){t.disableRebufferTracking||n&&(oe(t.data,"view_waiting_rebuffer_duration",Q.now()-n),n=!1,Be.default.clearInterval(r))},a=!1,o=function(){a=!1,i()};t.on("waiting",(function(){a&&(t.disableRebufferTracking||(oe(t.data,"view_waiting_rebuffer_count",1),n=Q.now(),r=Be.default.setInterval((function(){if(n){var e=Q.now();oe(t.data,"view_waiting_rebuffer_duration",e-n),n=e}}),250)))})),t.on("playing",(function(){i(),a=!0})),t.on("pause",o),t.on("seeking",o)},Ue=function e(t){"use strict";var n=this;J(this,e),$(this,"lastWallClockTime",void 0);var r=function(){n.lastWallClockTime=Q.now(),t.on("before*",i)},i=function(e){var r=Q.now(),i=n.lastWallClockTime;n.lastWallClockTime=r,r-i>3e4&&(t.emit("devicesleep",{viewer_time:i}),Object.assign(t.data,{viewer_time:i}),t.send("devicesleep"),t.emit("devicewake",{viewer_time:r}),Object.assign(t.data,{viewer_time:r}),t.send("devicewake"))};t.one("playbackheartbeat",r),t.on("playbackheartbeatend",(function(){t.off("before*",i),t.one("playbackheartbeat",r)}))},He=h(_()),Ve=h(b()),Fe=h(g()),Ge="muxData",Ke=function(){var e;try{e=Ve.default.parse(Fe.default.get(Ge)||"")}catch(t){e={}}return e},We=function(e){try{Fe.default.set(Ge,Ve.default.stringify(e),{expires:365})}catch(e){}};var Qe=h(_()),ze=function(){var e;switch(Je()){case"cellular":e="cellular";break;case"ethernet":e="wired";break;case"wifi":e="wifi";break;case void 0:break;default:e="other"}return e},Je=function(){var e=Qe.default.navigator,t=e&&(e.connection||e.mozConnection||e.webkitConnection);return t&&t.type};ze.getConnectionFromAPI=Je;var Xe=ze,Ye=Ze({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),$e=Ze({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",bz:"business",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ck:"clicked",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",ep:"experiments",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ez:"exception",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",sy:"severity",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function Ze(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function et(e){var t={},n={};return Object.keys(e).forEach((function(r){var i=!1;if(e.hasOwnProperty(r)&&void 0!==e[r]){var a=r.split("_"),o=a[0],s=Ye[o];s||(F.info("Data key word `"+a[0]+"` not expected in "+r),s=o+"_"),a.splice(1).forEach((function(e){"url"===e&&(i=!0),$e[e]?s+=$e[e]:Number(e)&&Math.floor(Number(e))===Number(e)?s+=e:(F.info("Data key word `"+e+"` not expected in "+r),s+="_"+e+"_")})),i?n[s]=e[r]:t[s]=e[r]}})),Object.assign(t,n)}var tt=h(_()),nt={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},rt=["hb","requestcompleted","requestfailed","requestcanceled"],it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},nt,t)};it.prototype.queueEvent=function(e,t){var n=Object.assign({},t);return(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(n),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},it.prototype.flushEvents=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&1===this._eventQueue.length?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},it.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),tt.default.clearTimeout(this._sendTimeout)},it.prototype._clearBeaconQueue=function(){var e=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,t=this._eventQueue.slice(e);e>0&&Object.assign(t[t.length-1],et({mux_view_message:"event queue truncated"}));var n=this._createPayload(t);ot(this._beaconUrl,n,!0,(function(){}))},it.prototype._sendBeaconQueue=function(){var e=this;if(!this._postInFlight){var t=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var n=this._createPayload(t),r=Q.now();ot(this._beaconUrl,n,!1,(function(n,i){i?(e._eventQueue=t.concat(e._eventQueue),e._failureCount+=1,F.info("Error sending beacon: "+i)):e._failureCount=0,e._roundTripTime=Q.now()-r,e._postInFlight=!1}))}},it.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},it.prototype._startBeaconSending=function(){var e=this;tt.default.clearTimeout(this._sendTimeout),!this.destroyed&&(this._sendTimeout=tt.default.setTimeout((function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()}),this._getNextBeaconTime()))},it.prototype._createPayload=function(e){var t=this,n={transmission_timestamp:Math.round(Q.now())};this._roundTripTime&&(n.rtt_ms=Math.round(this._roundTripTime));var r,i,a,o=function(){r=JSON.stringify({metadata:n,events:i||e}),a=r.length/1024},s=function(){return a<=t._options.maxPayloadKBSize};return o(),s()||(F.info("Payload size is too big ("+a+" kb). Removing unnecessary events."),i=e.filter((function(e){return-1===rt.indexOf(e.e)})),o()),s()||(F.info("Payload size still too big ("+a+" kb). Cropping fields.."),i.forEach((function(e){for(var t in e){var n=e[t];"string"==typeof n&&n.length>51200&&(e[t]=n.substring(0,51200))}})),o()),r};var at=function(e){return e.length<=57344},ot=function(e,t,n,r){if(n&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(e,t))r();else if(tt.default.fetch)tt.default.fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain"},keepalive:at(t)}).then((function(e){return r(null,e.ok?null:"Error")})).catch((function(e){return r(null,e)}));else{if(tt.default.XMLHttpRequest){var i=new tt.default.XMLHttpRequest;return i.onreadystatechange=function(){if(4===i.readyState)return r(null,200!==i.status?"error":void 0)},i.open("POST",e),i.setRequestHeader("Content-Type","text/plain"),void i.send(t)}r()}},st=it,ut=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id","player_error_code","player_error_message","player_error_context","player_error_severity","player_error_business_exception"],lt=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],dt=["ad_id","ad_creative_id","ad_universal_id"],ct=["viewstart","error","ended","viewend"],ht=function(){"use strict";function e(t,n){var r,i,a,o,s,u,l,d,c,h,_,f,v,p,m,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};J(this,e),$(this,"mux",void 0),$(this,"envKey",void 0),$(this,"options",void 0),$(this,"eventQueue",void 0),$(this,"sampleRate",void 0),$(this,"disableCookies",void 0),$(this,"respectDoNotTrack",void 0),$(this,"previousBeaconData",void 0),$(this,"lastEventTime",void 0),$(this,"rateLimited",void 0),$(this,"pageLevelData",void 0),$(this,"viewerData",void 0),this.mux=t,this.envKey=n,this.options=y,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.eventQueue=new st(function(e,t){var n=t.beaconCollectionDomain,r=t.beaconDomain;if(n)return"https://"+n;var i=r||"litix.io";return(e=e||"inferred").match(/^[a-z0-9]+$/)?"https://"+e+"."+i:"https://img.litix.io/a.gif"}(this.envKey,this.options)),this.sampleRate=null!==(v=this.options.sampleRate)&&void 0!==v?v:1,this.disableCookies=null!==(p=this.options.disableCookies)&&void 0!==p&&p,this.respectDoNotTrack=null!==(m=this.options.respectDoNotTrack)&&void 0!==m&&m,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:null===(r=this.options.platform)||void 0===r?void 0:r.name,viewer_application_version:null===(i=this.options.platform)||void 0===i?void 0:i.version,viewer_application_engine:null===(a=this.options.platform)||void 0===a?void 0:a.layout,viewer_device_name:null===(o=this.options.platform)||void 0===o?void 0:o.product,viewer_device_category:"",viewer_device_manufacturer:null===(s=this.options.platform)||void 0===s?void 0:s.manufacturer,viewer_os_family:null===(l=this.options.platform)||void 0===l||null===(u=l.os)||void 0===u?void 0:u.family,viewer_os_architecture:null===(c=this.options.platform)||void 0===c||null===(d=c.os)||void 0===d?void 0:d.architecture,viewer_os_version:null===(_=this.options.platform)||void 0===_||null===(h=_.os)||void 0===h?void 0:h.version,viewer_connection_type:Xe(),page_url:null===He.default||void 0===He.default||null===(f=He.default.location)||void 0===f?void 0:f.href},this.viewerData=this.disableCookies?{}:function(){var e=Ke();return e.mux_viewer_id=e.mux_viewer_id||C(),e.msn=e.msn||Math.random(),We(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}}()}return Y(e,[{key:"send",value:function(e,t){if(e&&null!=t&&t.view_id){if(this.respectDoNotTrack&&K())return F.info("Not sending `"+e+"` because Do Not Track is enabled");if(!t||"object"!=typeof t)return F.error("A data object was expected in send() but was not provided");var n=this.disableCookies?{}:function(){var e=Ke(),t=Q.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=C(),e.sst=t),e.sex=t+15e5,We(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}}(),r=ue(se({},this.pageLevelData,t,n,this.viewerData),{event:e,env_key:this.envKey});r.user_id&&(r.viewer_user_id=r.user_id,delete r.user_id);var i,a=(null!==(i=r.mux_sample_number)&&void 0!==i?i:0)>=this.sampleRate,o=et(this._deduplicateBeaconData(e,r));if(this.lastEventTime=this.mux.utils.now(),a)return F.info("Not sending event due to sample rate restriction",e,r,o);if(this.envKey||F.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,r,o),!this.rateLimited)if(F.info("Sending event",e,r,o),this.rateLimited=!this.eventQueue.queueEvent(e,o),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&"hb"===e?this.eventQueue.flushEvents(!0):ct.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return r.event="eventrateexceeded",o=et(r),this.eventQueue.queueEvent(r.event,o),F.error("Beaconing disabled due to rate limit.")}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,t){var n=this,r={},i=t.view_id;if("-1"===i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)r=se({},t),i&&(this.previousBeaconData=r),i&&"viewend"===e&&(this.previousBeaconData=null);else{var a=0===e.indexOf("request");Object.entries(t).forEach((function(t){var i=I(t,2),o=i[0],s=i[1];n.previousBeaconData&&(s!==n.previousBeaconData[o]||ut.indexOf(o)>-1||n.objectHasChanged(a,o,s,n.previousBeaconData[o])||n.eventRequiresKey(e,o))&&(r[o]=s,n.previousBeaconData[o]=s)}))}return r}},{key:"objectHasChanged",value:function(e,t,n,r){return!(!e||0!==t.indexOf("request_"))&&("request_response_headers"===t||"object"!=typeof n||"object"!=typeof r||Object.keys(n||{}).length!==Object.keys(r||{}).length)}},{key:"eventRequiresKey",value:function(e,t){return!!("renditionchange"===e&&0===t.indexOf("video_source_")||dt.includes(t)&&lt.includes(e))}}]),e}(),_t=function e(t){"use strict";J(this,e);var n=0,r=0,i=0,a=0,o=0,s=0,u=0;t.on("requestcompleted",(function(e,s){var u,l,d=s.request_start,c=s.request_response_start,h=s.request_response_end,_=s.request_bytes_loaded;if(a++,c?(u=c-(null!=d?d:0),l=(null!=h?h:0)-c):l=(null!=h?h:0)-(null!=d?d:0),l>0&&_&&_>0){var f=_/l*8e3;o++,r+=_,i+=l,t.data.view_min_request_throughput=Math.min(t.data.view_min_request_throughput||1/0,f),t.data.view_average_request_throughput=r/i*8e3,t.data.view_request_count=a,u>0&&(n+=u,t.data.view_max_request_latency=Math.max(t.data.view_max_request_latency||0,u),t.data.view_average_request_latency=n/o)}})),t.on("requestfailed",(function(e,n){a++,s++,t.data.view_request_count=a,t.data.view_request_failed_count=s})),t.on("requestcanceled",(function(e,n){a++,u++,t.data.view_request_count=a,t.data.view_request_canceled_count=u}))},ft=function e(t){"use strict";var n=this;J(this,e),$(this,"_lastEventTime",void 0),t.on("before*",(function(e,r){var i=r.viewer_time,a=Q.now(),o=n._lastEventTime;if(n._lastEventTime=a,o&&a-o>36e5){var s=Object.keys(t.data).reduce((function(e,n){return 0===n.indexOf("video_")?Object.assign(e,$({},n,t.data[n])):e}),{});t.mux.log.info("Received event after at least an hour inactivity, creating a new view"),t.emit("viewinit",Object.assign({viewer_time:i},s)),t.playbackHeartbeat._playheadShouldBeProgressing&&"play"!==e.type&&"adbreakstart"!==e.type&&(t.emit("play",{viewer_time:i}),"playing"!==e.type&&t.emit("playing",{viewer_time:i}))}}))},vt=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],pt=function(e){"use strict";!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(n,e);var t=te(n);function n(e,r,i){var a;J(this,n),$(z(a=t.call(this)),"DOM_CONTENT_LOADED_EVENT_END",void 0),$(z(a),"NAVIGATION_START",void 0),$(z(a),"_destroyed",void 0),$(z(a),"_heartBeatTimeout",void 0),$(z(a),"adTracker",void 0),$(z(a),"dashjs",void 0),$(z(a),"data",void 0),$(z(a),"disablePlayheadRebufferTracking",void 0),$(z(a),"disableRebufferTracking",void 0),$(z(a),"errorTracker",void 0),$(z(a),"errorTranslator",void 0),$(z(a),"getAdData",void 0),$(z(a),"getPlayheadTime",void 0),$(z(a),"getStateData",void 0),$(z(a),"hlsjs",void 0),$(z(a),"id",void 0),$(z(a),"longResumeTracker",void 0),$(z(a),"minimumRebufferDuration",void 0),$(z(a),"mux",void 0),$(z(a),"oldEmit",void 0),$(z(a),"playbackEventDispatcher",void 0),$(z(a),"playbackHeartbeat",void 0),$(z(a),"playbackHeartbeatTime",void 0),$(z(a),"playheadTime",void 0),$(z(a),"seekingTracker",void 0),$(z(a),"sustainedRebufferThreshold",void 0),$(z(a),"watchTimeTracker",void 0),$(z(a),"currentFragmentPDT",void 0),$(z(a),"currentFragmentStart",void 0),a.DOM_CONTENT_LOADED_EVENT_END=ae.domContentLoadedEventEnd(),a.NAVIGATION_START=ae.navigationStart();a.mux=e,a.id=r,null!=i&&i.beaconDomain&&a.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),(i=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(e){return e}},i)).data=i.data||{},i.data.property_key&&(i.data.env_key=i.data.property_key,delete i.data.property_key),F.setLevel(i.debug?"debug":"warn"),a.getPlayheadTime=i.getPlayheadTime,a.getStateData=i.getStateData||function(){return{}},a.getAdData=i.getAdData||function(){},a.minimumRebufferDuration=i.minimumRebufferDuration,a.sustainedRebufferThreshold=i.sustainedRebufferThreshold,a.playbackHeartbeatTime=i.playbackHeartbeatTime,a.disableRebufferTracking=i.disableRebufferTracking,a.disableRebufferTracking&&a.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),a.disablePlayheadRebufferTracking=i.disablePlayheadRebufferTracking,a.errorTranslator=i.errorTranslator,a.playbackEventDispatcher=new ht(e,i.data.env_key,i),a.data={player_instance_id:C(),mux_sample_rate:i.sampleRate,beacon_domain:i.beaconCollectionDomain||i.beaconDomain},a.data.view_sequence_number=1,a.data.player_sequence_number=1,a.oldEmit=a.emit,a.emit=function(e,t){t=Object.assign({viewer_time:this.mux.utils.now()},t),this.oldEmit(e,t)};var o=function(){void 0===this.data.view_start&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(z(a));a.on("viewinit",(function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,t),this._initializeViewData(),this.one("play",o),this.one("adbreakstart",o)}));var s=function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}.bind(z(a));if(a.on("videochange",(function(e,t){s(t)})),a.on("programchange",(function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),s(Object.assign(t,{view_program_changed:!0})),o(),this.emit("play"),this.emit("playing")})),a.on("fragmentchange",(function(e,t){this.currentFragmentPDT=t.currentFragmentPDT,this.currentFragmentStart=t.currentFragmentStart})),a.on("destroy",a.destroy),"undefined"!=typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.removeEventListener){var u=function(){var e=void 0!==a.data.view_start;a.mux.WINDOW_HIDDEN="hidden"===document.visibilityState,e&&a.mux.WINDOW_HIDDEN&&(a.data.player_is_paused||a.emit("hb"))};window.addEventListener("visibilitychange",u,!1);var l=function(e){e.persisted||a.destroy()};window.addEventListener("pagehide",l,!1),a.on("destroy",(function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("pagehide",l)}))}a.on("playerready",(function(e,t){Object.assign(this.data,t)})),vt.forEach((function(e){a.on(e,(function(t,n){0!==e.indexOf("ad")&&this._updateStateData(),Object.assign(this.data,n),this._sanitizeData()})),a.on("after"+e,(function(){("error"!==e||this.errorTracker.viewErrored)&&this.send(e)}))})),a.on("viewend",(function(e,t){Object.assign(a.data,t)}));return a.one("playerready",(function(e){var t=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time})),a.longResumeTracker=new ft(z(a)),a.errorTracker=new Oe(z(a)),new Ue(z(a)),a.seekingTracker=new Le(z(a)),a.playheadTime=new Ae(z(a)),a.playbackHeartbeat=new ke(z(a)),new qe(z(a)),a.watchTimeTracker=new Ee(z(a)),new xe(z(a)),a.adTracker=new Ce(z(a)),new Re(z(a)),new De(z(a)),new Ne(z(a)),new Me(z(a)),new _t(z(a)),i.hlsjs&&a.addHLSJS(i),i.dashjs&&a.addDashJS(i),a.emit("viewinit",i.data),a}return Y(n,[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(e){if(this.data.view_id){var t=Object.assign({},this.data);if(void 0===t.video_source_is_live&&(t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1)),t.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach((function(e){t[e]=void 0})),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var n=I(re(t.video_source_url),2),r=n[0],i=n[1];t.video_source_domain=i,t.video_source_hostname=r}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),"viewend"===e&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach((function(t){var n=parseInt(e.data[t],10);e.data[t]=isNaN(n)?void 0:n}));["player_source_url","video_source_url"].forEach((function(t){if(e.data[t]){var n=e.data[t].toLowerCase();(0===n.indexOf("data:")||0===n.indexOf("blob:"))&&(e.data[t]="MSE style URL")}}))}},{key:"_resetVideoData",value:function(){var e=this;Object.keys(this.data).forEach((function(t){0===t.indexOf("video_")&&delete e.data[t]}))}},{key:"_resetViewData",value:function(){var e=this;Object.keys(this.data).forEach((function(t){0===t.indexOf("view_")&&delete e.data[t]})),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(){delete this.data.player_error_code,delete this.data.player_error_message,delete this.data.player_error_context,delete this.data.player_error_severity,delete this.data.player_error_business_exception}},{key:"_initializeViewData",value:function(){var e=this,t=this.data.view_id=C(),n=function(){t===e.data.view_id&&oe(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",n):n()}},{key:"_restartHeartBeat",value:function(){var e=this;window.clearTimeout(this._heartBeatTimeout),this._heartBeatTimeout=window.setTimeout((function(){e.data.player_is_paused||e.emit("hb")}),1e4)}},{key:"addHLSJS",value:function(e){e.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,function(e,t,n){var r=arguments.length>4?arguments[4]:void 0,i=e.log,a=e.utils.secondsToMs,o=function(e){var t,n=parseInt(r.version);return 1===n&&null!==e.programDateTime&&(t=e.programDateTime),0===n&&null!==e.pdt&&(t=e.pdt),t};if(ae.exists()){var s=function(n,r){return e.emit(t,n,r)},u=function(e,t){var n=t.levels,r=t.audioTracks,i=t.url,a=t.stats,o=t.networkDetails,u=t.sessionData,l={},d={};n.forEach((function(e,t){l[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}})),r.forEach((function(e,t){d[t]={name:e.name,language:e.lang,bitrate:e.bitrate}}));var c=fe(a),h=c.bytesLoaded,_=c.requestStart,f=c.responseStart,v=c.responseEnd;s("requestcompleted",ue(se({},_e(u)),{request_event_type:e,request_bytes_loaded:h,request_start:_,request_response_start:f,request_response_end:v,request_type:"manifest",request_hostname:ne(i),request_response_headers:ve(o),request_rendition_lists:{media:l,audio:d,video:{}}}))};n.on(r.Events.MANIFEST_LOADED,u);var l=function(e,t){var n=t.details,r=t.level,i=t.networkDetails,u=t.stats,l=fe(u),d=l.bytesLoaded,c=l.requestStart,h=l.responseStart,_=l.responseEnd,f=n.fragments[n.fragments.length-1],v=o(f)+a(f.duration);s("requestcompleted",{request_event_type:e,request_bytes_loaded:d,request_start:c,request_response_start:h,request_response_end:_,request_current_level:r,request_type:"manifest",request_hostname:ne(n.url),request_response_headers:ve(i),video_holdback:n.holdBack&&a(n.holdBack),video_part_holdback:n.partHoldBack&&a(n.partHoldBack),video_part_target_duration:n.partTarget&&a(n.partTarget),video_target_duration:n.targetduration&&a(n.targetduration),video_source_is_live:n.live,player_manifest_newest_program_time:isNaN(v)?void 0:v})};n.on(r.Events.LEVEL_LOADED,l);var d=function(e,t){var n=t.details,r=t.networkDetails,i=t.stats,a=fe(i),o=a.bytesLoaded,u=a.requestStart,l=a.responseStart,d=a.responseEnd;s("requestcompleted",{request_event_type:e,request_bytes_loaded:o,request_start:u,request_response_start:l,request_response_end:d,request_type:"manifest",request_hostname:ne(n.url),request_response_headers:ve(r)})};n.on(r.Events.AUDIO_TRACK_LOADED,d);var c=function(e,t){var r=t.stats,i=t.networkDetails,a=t.frag;r=r||a.stats;var o=fe(r),u=o.bytesLoaded,l=o.requestStart,d=o.responseStart,c=o.responseEnd,h=i?ve(i):void 0,_={request_event_type:e,request_bytes_loaded:u,request_start:l,request_response_start:d,request_response_end:c,request_hostname:i?ne(i.responseURL):void 0,request_id:h?he(h):void 0,request_response_headers:h,request_media_duration:a.duration,request_url:null==i?void 0:i.responseURL};"main"===a.type?(_.request_type="media",_.request_current_level=a.level,_.request_video_width=(n.levels[a.level]||{}).width,_.request_video_height=(n.levels[a.level]||{}).height,_.request_labeled_bitrate=(n.levels[a.level]||{}).bitrate):_.request_type=a.type,s("requestcompleted",_)};n.on(r.Events.FRAG_LOADED,c);var h=function(e,t){var n=t.frag,r=n.start,i={currentFragmentPDT:o(n),currentFragmentStart:a(r)};s("fragmentchange",i)};n.on(r.Events.FRAG_CHANGED,h);var _=function(e,t){var n=t.type,i=t.details,a=t.response,o=t.fatal,u=t.frag,l=t.networkDetails,d=(null==u?void 0:u.url)||t.url||"",c=l?ve(l):void 0;if((i===r.ErrorDetails.MANIFEST_LOAD_ERROR||i===r.ErrorDetails.MANIFEST_LOAD_TIMEOUT||i===r.ErrorDetails.FRAG_LOAD_ERROR||i===r.ErrorDetails.FRAG_LOAD_TIMEOUT||i===r.ErrorDetails.LEVEL_LOAD_ERROR||i===r.ErrorDetails.LEVEL_LOAD_TIMEOUT||i===r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||i===r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||i===r.ErrorDetails.SUBTITLE_LOAD_ERROR||i===r.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||i===r.ErrorDetails.KEY_LOAD_ERROR||i===r.ErrorDetails.KEY_LOAD_TIMEOUT)&&s("requestfailed",{request_error:i,request_url:d,request_hostname:ne(d),request_id:c?he(c):void 0,request_type:i===r.ErrorDetails.FRAG_LOAD_ERROR||i===r.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":i===r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||i===r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":i===r.ErrorDetails.SUBTITLE_LOAD_ERROR||i===r.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":i===r.ErrorDetails.KEY_LOAD_ERROR||i===r.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:null==a?void 0:a.code,request_error_text:null==a?void 0:a.text}),o){var h,_="".concat(d?"url: ".concat(d,"\n"):"")+"".concat(a&&(a.code||a.text)?"response: ".concat(a.code,", ").concat(a.text,"\n"):"")+"".concat(t.reason?"failure reason: ".concat(t.reason,"\n"):"")+"".concat(t.level?"level: ".concat(t.level,"\n"):"")+"".concat(t.parent?"parent stream controller: ".concat(t.parent,"\n"):"")+"".concat(t.buffer?"buffer length: ".concat(t.buffer,"\n"):"")+"".concat(t.error?"error: ".concat(t.error,"\n"):"")+"".concat(t.event?"event: ".concat(t.event,"\n"):"")+"".concat(t.err?"error message: ".concat(null===(h=t.err)||void 0===h?void 0:h.message,"\n"):"");s("error",{player_error_code:n,player_error_message:i,player_error_context:_})}};n.on(r.Events.ERROR,_);var f=function(e,t){var n=t.frag,r=n&&n._url||"";s("requestcanceled",{request_event_type:e,request_url:r,request_type:"media",request_hostname:ne(r)})};n.on(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,f);var v=function(e,t){var r=t.level,a=n.levels[r];if(a&&a.attrs&&a.attrs.BANDWIDTH){var o,u=a.attrs.BANDWIDTH,l=parseFloat(a.attrs["FRAME-RATE"]);isNaN(l)||(o=l),u?s("renditionchange",{video_source_fps:o,video_source_bitrate:u,video_source_width:a.width,video_source_height:a.height,video_source_rendition_name:a.name,video_source_codec:null==a?void 0:a.videoCodec}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};n.on(r.Events.LEVEL_SWITCHED,v),n._stopMuxMonitor=function(){n.off(r.Events.MANIFEST_LOADED,u),n.off(r.Events.LEVEL_LOADED,l),n.off(r.Events.AUDIO_TRACK_LOADED,d),n.off(r.Events.FRAG_LOADED,c),n.off(r.Events.FRAG_CHANGED,h),n.off(r.Events.ERROR,_),n.off(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,f),n.off(r.Events.LEVEL_SWITCHED,v),n.off(r.Events.DESTROYING,n._stopMuxMonitor),delete n._stopMuxMonitor},n.on(r.Events.DESTROYING,n._stopMuxMonitor)}else i.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,e.hlsjs,{},e.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){this.hlsjs&&(function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()}(this.hlsjs),this.hlsjs=void 0)}},{key:"addDashJS",value:function(e){e.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,ye(this.mux,this.id,e.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){this.dashjs&&(function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()}(this.dashjs),this.dashjs=void 0)}}]),n}(we),mt=pt;v();var yt=h(q());var bt=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],gt={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};var wt,Tt=h(_());Tt.default&&Tt.default.WeakMap&&(wt=new WeakMap);var kt="#EXT-X-TARGETDURATION",Ot="#EXT-X-PART-INF",Et="#EXT-X-SERVER-CONTROL",xt="#EXTINF",At="#EXT-X-PROGRAM-DATE-TIME",St="#EXT-X-VERSION",Dt="#EXT-X-SESSION-DATA",Pt=function(e){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(e),this.manifest};Pt.prototype.process=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.processLine(this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},Pt.prototype.processLine=function(e){var t=e.indexOf(":"),n=Ct(e,t),r=n[0],i=2===n.length?qt(n[1]):void 0;if("#"!==r[0])this.currentUri.uri=r,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(r){case kt:if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break;case Ot:Rt(this.manifest,n),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case Et:Rt(this.manifest,n),this.setHoldBack();break;case xt:0===i?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break;case At:var a=i,o=new Date(a);this.manifest.dateTimeString||(this.manifest.dateTimeString=a,this.manifest.dateTimeObject=o),this.currentUri.dateTimeString=a,this.currentUri.dateTimeObject=o;break;case St:Rt(this.manifest,n);break;case Dt:var s=Bt(n[1]),u=_e(s);Object.assign(this.manifest.sessionData,u)}},Pt.prototype.setHoldBack=function(){var e=this.manifest,t=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(t){var i="holdBack",a="partHoldBack",o=n&&3*n,s=r&&2*r;n&&!t.hasOwnProperty(i)&&(t[i]=o),o&&t[i]<o&&(t[i]=o),r&&!t.hasOwnProperty(a)&&(t[a]=3*r),r&&t[a]<s&&(t[a]=s)}};var Rt=function(e,t){var n,r=Nt(t[0].replace("#EXT-X-",""));jt(t[1])?(n={},n=Object.assign(It(t[1]),n)):n=qt(t[1]),e[r]=n},Nt=function(e){return e.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()}))},qt=function(e){if("yes"===e.toLowerCase()||"no"===e.toLowerCase())return"yes"===e.toLowerCase();var t=-1!==e.indexOf(":")?e:parseFloat(e);return isNaN(t)?e:t},Lt=function(e){var t={},n=e.split("=");n.length>1&&(t[Nt(n[0])]=qt(n[1]));return t},It=function(e){for(var t=e.split(","),n={},r=0;t.length>r;r++){var i=t[r],a=Lt(i);n=Object.assign(a,n)}return n},jt=function(e){return e.indexOf("=")>-1},Ct=function(e,t){return-1===t?[e]:[e.substring(0,t),e.substring(t+1)]},Bt=function(e){var t={};if(e){var n=e.search(",");return[e.slice(0,n),e.slice(n+1)].forEach((function(e,n){for(var r=e.replace(/['"]+/g,"").split("="),i=0;i<r.length;i++)"DATA-ID"===r[i]&&(t["DATA-ID"]=r[1-i]),"VALUE"===r[i]&&(t.VALUE=r[1-i])})),{data:t}}},Mt=Pt,Ut={safeCall:function(e,t,n,r){var i=r;if(e&&"function"==typeof e[t])try{i=e[t].apply(e,n)}catch(e){F.info("safeCall error",e)}return i},safeIncrement:oe,getComputedStyle:function(e,t){return e&&t&&Tt.default&&"function"==typeof Tt.default.getComputedStyle?(wt&&wt.has(e)&&(n=wt.get(e)),n||(n=Tt.default.getComputedStyle(e,null),wt&&wt.set(e,n)),n.getPropertyValue(t)):"";var n},secondsToMs:function(e){return Math.floor(1e3*e)},assign:Object.assign,headersStringToObject:ce,cdnHeadersToRequestId:he,extractHostnameAndDomain:re,extractHostname:ne,manifestParser:Mt,generateShortID:B,generateUUID:C,now:Q.now},Ht={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"},Vt={},Ft=function(e){var t=arguments;"string"==typeof e?Ft.hasOwnProperty(e)?j.default.setTimeout((function(){t=Array.prototype.splice.call(t,1),Ft[e].apply(null,t)}),0):F.warn("`"+e+"` is an unknown task"):"function"==typeof e?j.default.setTimeout((function(){e(Ft)}),0):F.warn("`"+e+"` is invalid.")},Gt={loaded:Q.now(),NAME:"mux-embed",VERSION:"5.2.1",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(e,t){return function(e,t,n){var r=I(U(t),3),i=r[0],a=r[1],o=r[2],s=e.log,u=e.utils.getComputedStyle,l=e.utils.secondsToMs;if(!i)return s.error("No element was found with the `"+a+"` query selector.");if("video"!==o&&"audio"!==o)return s.error("The element of `"+a+"` was not a media element.");i.mux&&(i.mux.destroy(),delete i.mux,s.warn("Already monitoring this video element, replacing existing event listeners")),(n=Object.assign({automaticErrorTracking:!0},n)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:e.VERSION},n.data),n.getPlayheadTime=function(){return l(i.currentTime)},n.getStateData=function(){var e,t=this.hlsjs&&this.hlsjs.url,r=this.dashjs&&f("function"===this.dashjs.getSource)&&this.dashjs.getSource(),a={player_is_paused:i.paused,player_playhead_time:l(i.currentTime),player_width:parseInt(u(i,"width")),player_height:parseInt(u(i,"height")),player_autoplay_on:i.autoplay,player_preload_on:i.preload,player_language_code:i.lang,player_is_fullscreen:yt.default&&!!(yt.default.fullscreenElement||yt.default.webkitFullscreenElement||yt.default.mozFullScreenElement||yt.default.msFullscreenElement),video_poster_url:i.poster,video_source_url:t||r||i.currentSrc,video_source_duration:l(i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,view_dropped_frame_count:null==i||null===(e=i.getVideoPlaybackQuality)||void 0===e?void 0:e.call(i).droppedVideoFrames},o=n.getPlayheadTime();if(i.getStartDate&&o>0){var s=i.getStartDate();if(s&&"function"==typeof s.getTime&&s.getTime()){var d=s.getTime();if(a.player_program_time=d+o,i.seekable.length>0){var c=d+i.seekable.end(i.seekable.length-1);a.player_live_edge_program_time=c}}}return a},i.mux=i.mux||{},i.mux.deleted=!1,i.mux.emit=function(t,n){e.emit(a,t,n)};var d=function(){s.error("The monitor for this video element has already been destroyed.")};i.mux.destroy=function(){Object.keys(i.mux.listeners).forEach((function(e){i.removeEventListener(e,i.mux.listeners[e],!1)})),delete i.mux.listeners,i.mux.destroy=d,i.mux.swapElement=d,i.mux.emit=d,i.mux.addHLSJS=d,i.mux.addDashJS=d,i.mux.removeHLSJS=d,i.mux.removeDashJS=d,i.mux.deleted=!0,e.emit(a,"destroy")},i.mux.swapElement=function(t){var n=I(U(t),3),r=n[0],a=n[1],o=n[2];return r?"video"!==o&&"audio"!==o?e.log.error("The element of `"+a+"` was not a media element."):(r.muxId=i.muxId,delete i.muxId,r.mux=r.mux||{},r.mux.listeners=Object.assign({},i.mux.listeners),delete i.mux.listeners,Object.keys(r.mux.listeners).forEach((function(e){i.removeEventListener(e,r.mux.listeners[e],!1),r.addEventListener(e,r.mux.listeners[e],!1)})),r.mux.swapElement=i.mux.swapElement,r.mux.destroy=i.mux.destroy,delete i.mux,void(i=r)):e.log.error("No element was found with the `"+a+"` query selector.")},i.mux.addHLSJS=function(t){e.addHLSJS(a,t)},i.mux.addDashJS=function(t){e.addDashJS(a,t)},i.mux.removeHLSJS=function(){e.removeHLSJS(a)},i.mux.removeDashJS=function(){e.removeDashJS(a)},e.init(a,n),e.emit(a,"playerready"),i.paused||(e.emit(a,"play"),i.readyState>2&&e.emit(a,"playing")),i.mux.listeners={},bt.forEach((function(t){"error"===t&&!n.automaticErrorTracking||(i.mux.listeners[t]=function(){var n={};if("error"===t){if(!i.error||1===i.error.code)return;n.player_error_code=i.error.code,n.player_error_message=gt[i.error.code]||i.error.message}e.emit(a,t,n)},i.addEventListener(t,i.mux.listeners[t],!1))}))}(Ft,e,t)},destroyMonitor:function(e){var t=I(U(e),1)[0];t&&t.mux&&"function"==typeof t.mux.destroy?t.mux.destroy():F.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(e,t){var n=M(e);Vt[n]?Vt[n].addHLSJS(t):F.error("A monitor for `"+n+"` has not been initialized.")},addDashJS:function(e,t){var n=M(e);Vt[n]?Vt[n].addDashJS(t):F.error("A monitor for `"+n+"` has not been initialized.")},removeHLSJS:function(e){var t=M(e);Vt[t]?Vt[t].removeHLSJS():F.error("A monitor for `"+t+"` has not been initialized.")},removeDashJS:function(e){var t=M(e);Vt[t]?Vt[t].removeDashJS():F.error("A monitor for `"+t+"` has not been initialized.")},init:function(e,t){K()&&t&&t.respectDoNotTrack&&F.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var n=M(e);Vt[n]=new mt(Ft,n,t)},emit:function(e,t,n){var r=M(e);Vt[r]?(Vt[r].emit(t,n),"destroy"===t&&delete Vt[r]):F.error("A monitor for `"+r+"` has not been initialized.")},checkDoNotTrack:K,log:F,utils:Ut,events:Ht,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(Ft,Gt),void 0!==j.default&&"function"==typeof j.default.addEventListener&&j.default.addEventListener("pagehide",(function(e){e.persisted||(Ft.WINDOW_UNLOADING=!0)}),!1);var Kt=Ft}}]);
//# sourceMappingURL=vendors-ac2f7d71-18e595afe208597a.bundle.js.map