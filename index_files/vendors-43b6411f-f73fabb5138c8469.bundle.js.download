!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c8ee6bbe-d9a5-405a-8eea-4fb8406f6071",e._sentryDebugIdIdentifier="sentry-dbid-c8ee6bbe-d9a5-405a-8eea-4fb8406f6071")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5075150e88de8813fa20ee50b2d57ed631a715da"},(self.webpackChunkdisco=self.webpackChunkdisco||[]).push([[7884],{986907:function(e,t,n){const r=n(471313);e.exports=r},471313:function(e,t,n){var r=n(587592),i=n(389408),o=n(376969),l=n(932998);function s(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function u(e){let t=l.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return l.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?"":r.$generateHtmlFromNodes(e,t)}function c(e){let t=l.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return l.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(g(e,t))}function d(e,t,n){(l.DEPRECATED_$isGridSelection(n)||null!==o.$findMatchingParent(n.anchor.getNode(),(e=>l.DEPRECATED_$isGridCellNode(e)))&&null!==o.$findMatchingParent(n.focus.getNode(),(e=>l.DEPRECATED_$isGridCellNode(e))))&&1===t.length&&l.DEPRECATED_$isGridNode(t[0])?function(e,t,n,r){1===e.length&&l.DEPRECATED_$isGridNode(e[0])||s(42);var i=e[0];e=i.getChildren(),n=i.getFirstChildOrThrow().getChildrenSize();var a=i.getChildrenSize(),u=o.$findMatchingParent(t.anchor.getNode(),(e=>l.DEPRECATED_$isGridCellNode(e)));t=(i=u&&o.$findMatchingParent(u,(e=>l.DEPRECATED_$isGridRowNode(e))))&&o.$findMatchingParent(i,(e=>l.DEPRECATED_$isGridNode(e))),l.DEPRECATED_$isGridCellNode(u)&&l.DEPRECATED_$isGridRowNode(i)&&l.DEPRECATED_$isGridNode(t)||s(43);var c=i.getIndexWithinParent(),d=Math.min(t.getChildrenSize()-1,c+a-1);let f,g;a=u.getIndexWithinParent(),u=Math.min(i.getChildrenSize()-1,a+n-1),n=Math.min(a,u),i=Math.min(c,d),a=Math.max(a,u),c=Math.max(c,d),d=t.getChildren(),u=0;for(let t=i;t<=c;t++){var h=d[t];l.DEPRECATED_$isGridRowNode(h)||s(24);var p=e[u];l.DEPRECATED_$isGridRowNode(p)||s(24),h=h.getChildren(),p=p.getChildren();let r=0;for(let e=n;e<=a;e++){let o=h[e];l.DEPRECATED_$isGridCellNode(o)||s(25);let u=p[r];l.DEPRECATED_$isGridCellNode(u)||s(25),t===i&&e===n?f=o.getKey():t===c&&e===a&&(g=o.getKey());let d=o.getChildren();u.getChildren().forEach((e=>{l.$isTextNode(e)&&l.$createParagraphNode().append(e),o.append(e)})),d.forEach((e=>e.remove())),r++}u++}f&&g&&(e=l.DEPRECATED_$createGridSelection(),e.set(t.getKey(),f,g),l.$setSelection(e),r.dispatchCommand(l.SELECTION_CHANGE_COMMAND,void 0))}(t,n,!1,e):function(e,t){let n=[],r=null;for(let t=0;t<e.length;t++){let i=e[t],o=l.$isLineBreakNode(i);if(o||l.$isDecoratorNode(i)&&i.isInline()||l.$isElementNode(i)&&i.isInline()||l.$isTextNode(i)||i.isParentRequired()){if(null===r&&(r=i.createParentElementNode(),n.push(r),o))continue;null!==r&&r.append(i)}else n.push(i),r=null}l.$isRangeSelection(t)?t.insertNodes(n):l.DEPRECATED_$isGridSelection(t)&&(e=t.anchor.getNode(),l.DEPRECATED_$isGridCellNode(e)||s(41),e.append(...n))}(t,n)}function f(e,t,n,r=[]){let o=null==t||n.isSelected(t),a=l.$isElementNode(n)&&n.excludeFromCopy("html");var u=n;if(null!==t){var c=i.$cloneWithProperties(n);u=c=l.$isTextNode(c)&&null!=t?i.$sliceSelectedTextNodeContent(t,c):c}let d=l.$isElementNode(u)?u.getChildren():[];var g=u;c=g.exportJSON();var h=g.constructor;c.type!==h.getType()&&s(58,h.name);let p=c.children;for(l.$isElementNode(g)&&(Array.isArray(p)||s(59,h.name)),l.$isTextNode(u)&&(0<(u=u.__text).length?c.text=u:o=!1),u=0;u<d.length;u++)h=f(e,t,g=d[u],c.children),!o&&l.$isElementNode(n)&&h&&n.extractWithChild(g,t,"clone")&&(o=!0);if(o&&!a)r.push(c);else if(Array.isArray(c.children))for(e=0;e<c.children.length;e++)r.push(c.children[e]);return o}function g(e,t){let n=[],r=l.$getRoot().getChildren();for(let i=0;i<r.length;i++)f(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}function h(e){let t=[];for(let n=0;n<e.length;n++){let r=l.$parseSerializedNode(e[n]);l.$isTextNode(r)&&i.$addNodeStyle(r),t.push(r)}return t}let p=null;function m(e,t){var n=a?(e._window||window).getSelection():null;if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,null!==r&&null!==n&&!l.isSelectionWithinEditor(e,r,n))return!1;if(t.preventDefault(),t=t.clipboardData,r=l.$getSelection(),null===t||null===r)return!1;n=u(e),e=c(e);let i="";return null!==r&&(i=r.getTextContent()),null!==n&&t.setData("text/html",n),null!==e&&t.setData("application/x-lexical-editor",e),t.setData("text/plain",i),!0}t.$generateJSONFromSelectedNodes=g,t.$generateNodesFromSerializedNodes=h,t.$getHtmlContent=u,t.$getLexicalContent=c,t.$insertDataTransferForPlainText=function(e,t){null!=(e=e.getData("text/plain")||e.getData("text/uri-list"))&&t.insertRawText(e)},t.$insertDataTransferForRichText=function(e,t,n){var i=e.getData("application/x-lexical-editor");if(i)try{let e=JSON.parse(i);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes)){return d(n,h(e.nodes),t)}}catch{}if(i=e.getData("text/html"))try{var o=(new DOMParser).parseFromString(i,"text/html"),s=r.$generateNodesFromDOM(n,o);return d(n,s,t)}catch{}if(null!=(e=e.getData("text/plain")||e.getData("text/uri-list")))if(l.$isRangeSelection(t))for(n=(e=e.split(/(\r?\n|\t)/)).length,o=0;o<n;o++)"\n"===(s=e[o])||"\r\n"===s?t.insertParagraph():"\t"===s?t.insertNodes([l.$createTabNode()]):t.insertText(s);else t.insertRawText(e)},t.$insertGeneratedNodes=d,t.copyToClipboard=async function(e,t){if(null!==p)return!1;if(null!==t)return new Promise((n=>{e.update((()=>{n(m(e,t))}))}));var n=e.getRootElement();let r=null==e._window?window.document:e._window.document,i=a?(e._window||window).getSelection():null;if(null===n||null===i)return!1;let s=r.createElement("span");return s.style.cssText="position: fixed; top: -1000px;",s.append(r.createTextNode("#")),n.append(s),(n=new Range).setStart(s,0),n.setEnd(s,1),i.removeAllRanges(),i.addRange(n),new Promise((t=>{let n=e.registerCommand(l.COPY_COMMAND,(r=>(o.objectKlassEquals(r,ClipboardEvent)&&(n(),null!==p&&(window.clearTimeout(p),p=null),t(m(e,r))),!0)),l.COMMAND_PRIORITY_CRITICAL);p=window.setTimeout((()=>{n(),p=null,t(!1)}),50),r.execCommand("copy"),s.remove()}))}},323277:function(e,t,n){const r=n(588233);e.exports=r},588233:function(e,t,n){var r=n(915660);n(735433),n(939980),n(524335),n(424064),n(804279),n(115251),n(11426),n(335266),n(180366),n(470767),n(590874),n(496836),n(652503),n(402731);var i=n(376969),o=n(932998);let l=e=>null!=e&&r.languages.hasOwnProperty(e)?e:void 0;function s(e,t){for(let n of e.childNodes){if(i.isHTMLElement(n)&&n.tagName===t)return!0;s(n,t)}return!1}class a extends o.ElementNode{static getType(){return"code"}static clone(e){return new a(e.__language,e.__key)}constructor(e,t){super(t),this.__language=l(e)}createDOM(e){let t=document.createElement("code");return i.addClassNamesToElement(t,e.theme.code),t.setAttribute("spellcheck","false"),(e=this.getLanguage())&&t.setAttribute("data-highlight-language",e),t}updateDOM(e,t){let n=this.__language;return e=e.__language,n?n!==e&&t.setAttribute("data-highlight-language",n):e&&t.removeAttribute("data-highlight-language"),!1}exportDOM(){let e=document.createElement("pre");e.setAttribute("spellcheck","false");let t=this.getLanguage();return t&&e.setAttribute("data-highlight-language",t),{element:e}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||s(e,"BR"))?{conversion:d,priority:1}:null,div:()=>({conversion:f,priority:1}),pre:()=>({conversion:d,priority:0}),table:e=>m(e)?{conversion:g,priority:3}:null,td:e=>{let t=e.closest("table");return e.classList.contains("js-file-line")?{conversion:p,priority:3}:t&&m(t)?{conversion:h,priority:3}:null},tr:e=>(e=e.closest("table"))&&m(e)?{conversion:h,priority:3}:null}}static importJSON(e){let t=u(e.language);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,t=!0){var n=this.getChildren(),r=n.length;if(2<=r&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r)return n[r-1].remove(),n[r-2].remove(),e=o.$createParagraphNode(),this.insertAfter(e,t),e;if(t=e.anchor,n=e.focus,T(t=(t.isBefore(n)?t:n).getNode())||o.$isTabNode(t)){for(t=S(t),n=[];;)if(o.$isTabNode(t))n.push(o.$createTabNode()),t=t.getNextSibling();else{if(!T(t))break;{r=0;let e=t.getTextContent(),i=t.getTextContentSize();for(;r<i&&" "===e[r];r++);if(0!==r&&n.push(E(" ".repeat(r))),r!==i)break;t=t.getNextSibling()}}if(0<n.length)return e.insertNodes([o.$createLineBreakNode(),...n]),n[n.length-1]}return null}canIndent(){return!1}collapseAtStart(){let e=o.$createParagraphNode();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){this.getWritable().__language=l(e)}getLanguage(){return this.getLatest().__language}}function u(e){return o.$applyNodeReplacement(new a(e))}function c(e){return e instanceof a}function d(e){let t;return i.isHTMLElement(e)&&(t=e.getAttribute("data-highlight-language")),{node:u(t)}}function f(e){let t=null!==e.style.fontFamily.match("monospace");return t||function(e){for(e=e.parentElement;null!==e;){if(null!==e.style.fontFamily.match("monospace"))return!0;e=e.parentElement}return!1}(e)?{after:t=>{let n=e.parentNode;return null!=n&&e!==n.lastChild&&t.push(o.$createLineBreakNode()),t},node:t?u():null}:{node:null}}function g(){return{node:u()}}function h(){return{node:null}}function p(e){return{after:t=>(e.parentNode&&e.parentNode.nextSibling&&t.push(o.$createLineBreakNode()),t),node:null}}function m(e){return e.classList.contains("js-file-line-container")}let _={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},v={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function y(e){return v[e]||e}class C extends o.TextNode{constructor(e,t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new C(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){let t=super.createDOM(e);return e=N(e.theme,this.__highlightType),i.addClassNamesToElement(t,e),t}updateDOM(e,t,n){let r=super.updateDOM(e,t,n);return(e=N(n.theme,e.__highlightType))!==(n=N(n.theme,this.__highlightType))&&(e&&i.removeClassNamesFromElement(t,e),n&&i.addClassNamesToElement(t,n)),r}static importJSON(e){let t=E(e.text,e.highlightType);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(){return this}isParentRequired(){return!0}createParentElementNode(){return u()}}function N(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function E(e,t){return o.$applyNodeReplacement(new C(e,t))}function T(e){return e instanceof C}function S(e){let t=e;for(;T(e)||o.$isTabNode(e);)t=e,e=e.getPreviousSibling();return t}function x(e){let t=e;for(;T(e)||o.$isTabNode(e);)t=e,e=e.getNextSibling();return t}let b={defaultLanguage:"javascript",tokenize(e,t){return r.tokenize(e,r.languages[t||""]||r.languages[this.defaultLanguage])}};function O(e,t){let n=null;var r=null,i=e;let l=t,s=e.getTextContent();for(;;){if(0===l){if(null===(i=i.getPreviousSibling()))break;if(!(T(i)||o.$isTabNode(i)||o.$isLineBreakNode(i)))throw Error("Expected a valid Code Node: CodeHighlightNode, TabNode, LineBreakNode");if(o.$isLineBreakNode(i)){n={node:i,offset:1};break}l=Math.max(0,i.getTextContentSize()-1),s=i.getTextContent()}else l--;let e=s[l];T(i)&&" "!==e&&(r={node:i,offset:l})}if(null!==r)return r;if(r=null,t<e.getTextContentSize()?T(e)&&(r=e.getTextContent()[t]):T(i=e.getNextSibling())&&(r=i.getTextContent()[0]),null!==r&&" "!==r)return n;e:for(r=e,i=e.getTextContent(),e=e.getTextContentSize();;){if(!T(r)||t===e){if(null===(r=r.getNextSibling())||o.$isLineBreakNode(r)){e=null;break e}T(r)&&(t=0,i=r.getTextContent(),e=r.getTextContentSize())}if(T(r)){if(" "!==i[t]){e={node:r,offset:t};break e}t++}}return null!==e?e:n}function w(e){if(e=x(e),o.$isLineBreakNode(e))throw Error("Unexpected lineBreakNode in getEndOfCodeInLine");return e}function D(e,t,n){let r=e.getParent();c(r)?k(r,t,n):T(e)&&e.replace(o.$createTextNode(e.__text))}let R=new Set;function k(e,t,n){let r=e.getKey();R.has(r)||(R.add(r),void 0===e.getLanguage()&&e.setLanguage(n.defaultLanguage),t.update((()=>{!function(e,t){if(e=o.$getNodeByKey(e),c(e)&&e.isAttached()){var n=o.$getSelection();if(o.$isRangeSelection(n)){var r=(n=n.anchor).offset,i="element"===n.type&&o.$isLineBreakNode(e.getChildAtIndex(n.offset-1)),l=0;if(!i){let e=n.getNode();l=r+e.getPreviousSiblings().reduce(((e,t)=>e+t.getTextContentSize()),0)}t()&&(i?n.getNode().select(r,r):e.getChildren().some((e=>{let t=o.$isTextNode(e);if(t||o.$isLineBreakNode(e)){let n=e.getTextContentSize();if(t&&n>=l)return e.select(l,l),!0;l-=n}return!1})))}else t()}}(r,(()=>{var t=o.$getNodeByKey(r);if(!c(t)||!t.isAttached())return!1;var i=t.getTextContent();i=A(i=n.tokenize(i,t.getLanguage()||n.defaultLanguage));var l=t.getChildren();for(t=0;t<l.length&&M(l[t],i[t]);)t++;var s=l.length;let a=i.length,u=Math.min(s,a)-t,d=0;for(;d<u;)if(d++,!M(l[s-d],i[a-d])){d--;break}l=t,s-=d,i=i.slice(t,a-d);let{from:f,to:g,nodesForReplacement:h}={from:l,nodesForReplacement:i,to:s};return!(f===g&&!h.length)&&(e.splice(f,g-f,h),!0)}))}),{onUpdate:()=>{R.delete(r)},skipTransforms:!0}))}function A(e,t){let n=[];for(let r of e)if("string"==typeof r){let i=(e=r.split(/(\n|\t)/)).length;for(let r=0;r<i;r++){let i=e[r];"\n"===i||"\r\n"===i?n.push(o.$createLineBreakNode()):"\t"===i?n.push(o.$createTabNode()):0<i.length&&n.push(E(i,t))}}else({content:e}=r),"string"==typeof e?n.push(...A([e],r.type)):Array.isArray(e)&&n.push(...A(e,r.type));return n}function M(e,t){return T(e)&&T(t)&&e.__text===t.__text&&e.__highlightType===t.__highlightType||o.$isTabNode(e)&&o.$isTabNode(t)||o.$isLineBreakNode(e)&&o.$isLineBreakNode(t)}function P(e){if(!o.$isRangeSelection(e))return!1;var t=e.anchor.getNode();return e=e.focus.getNode(),!(!t.is(e)||!c(t))||c(t=t.getParent())&&t.is(e.getParent())}function $(e){let t=[[]];if(1===(e=e.getNodes()).length&&c(e[0]))return t;let n=t[0];for(let r=0;r<e.length;r++){let i=e[r];if(!(T(i)||o.$isTabNode(i)||o.$isLineBreakNode(i)))throw Error("Expected selection to be inside CodeBlock and consisting of CodeHighlightNode, TabNode and LineBreakNode");o.$isLineBreakNode(i)?0!==r&&0<n.length&&(n=[],t.push(n)):n.push(i)}return t}function L(e){var t=o.$getSelection();if(!o.$isRangeSelection(t)||!P(t))return!1;var n=$(t);let r=n.length;if(1<n.length){for(t=0;t<r;t++){var i=n[t];0<i.length&&(i=i[0],0===t&&(i=S(i)),null!==i&&(e===o.INDENT_CONTENT_COMMAND?i.insertBefore(o.$createTabNode()):o.$isTabNode(i)&&i.remove()))}return!0}if(!(c(n=t.getNodes()[0])||T(n)||o.$isTabNode(n)||o.$isLineBreakNode(n)))throw Error("Expected selection firstNode to be CodeHighlightNode or CodeTabNode");if(c(n))return e===o.INDENT_CONTENT_COMMAND&&t.insertNodes([o.$createTabNode()]),!0;if(null===(n=S(n)))throw Error("Expected getFirstCodeNodeOfLine to return a valid Code Node");return e===o.INDENT_CONTENT_COMMAND?o.$isLineBreakNode(n)?n.insertAfter(o.$createTabNode()):n.insertBefore(o.$createTabNode()):o.$isTabNode(n)&&n.remove(),!0}function I(e,t){let n=o.$getSelection();if(!o.$isRangeSelection(n))return!1;let{anchor:r,focus:i}=n,l=r.offset,s=i.offset,a=r.getNode(),u=i.getNode();var c=e===o.KEY_ARROW_UP_COMMAND;if(!P(n)||!T(a)&&!o.$isTabNode(a)||!T(u)&&!o.$isTabNode(u))return!1;if(!t.altKey){if(n.isCollapsed())if(e=a.getParentOrThrow(),c&&0===l&&null===a.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!c&&l===a.getTextContentSize()&&null===a.getNextSibling()&&null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0;return!1}let d;if(a.isBefore(u)){var f=S(a);d=x(u)}else f=S(u),d=x(a);if(null==f||null==d)return!1;let g=f.getNodesBetween(d);for(let e=0;e<g.length;e++){let t=g[e];if(!T(t)&&!o.$isTabNode(t)&&!o.$isLineBreakNode(t))return!1}if(t.preventDefault(),t.stopPropagation(),t=c?f.getPreviousSibling():d.getNextSibling(),!o.$isLineBreakNode(t))return!0;if(null==(f=c?t.getPreviousSibling():t.getNextSibling()))return!0;let h=null!=(c=T(f)||o.$isTabNode(f)||o.$isLineBreakNode(f)?c?S(f):x(f):null)?c:f;return t.remove(),g.forEach((e=>e.remove())),e===o.KEY_ARROW_UP_COMMAND?(g.forEach((e=>h.insertBefore(e))),h.insertBefore(t)):(h.insertAfter(t),h=t,g.forEach((e=>{h.insertAfter(e),h=e}))),n.setTextNodeRange(a,l,u,s),!0}function F(e,t){let n=o.$getSelection();if(!o.$isRangeSelection(n))return!1;let{anchor:r,focus:i}=n;var l=r.getNode();let s=i.getNode();if(e=e===o.MOVE_TO_START,!T(l)&&!o.$isTabNode(l)||!T(s)&&!o.$isTabNode(s))return!1;if(e)if(null!==(l=O(s,i.offset))){let{node:e,offset:t}=l;o.$isLineBreakNode(e)?e.selectNext(0,0):n.setTextNodeRange(e,t,e,t)}else s.getParentOrThrow().selectStart();else w(s).select();return t.preventDefault(),t.stopPropagation(),!0}t.$createCodeHighlightNode=E,t.$createCodeNode=u,t.$isCodeHighlightNode=T,t.$isCodeNode=c,t.CODE_LANGUAGE_FRIENDLY_NAME_MAP=_,t.CODE_LANGUAGE_MAP=v,t.CodeHighlightNode=C,t.CodeNode=a,t.DEFAULT_CODE_LANGUAGE="javascript",t.PrismTokenizer=b,t.getCodeLanguages=()=>Object.keys(r.languages).filter((e=>"function"!=typeof r.languages[e])).sort(),t.getDefaultCodeLanguage=()=>"javascript",t.getEndOfCodeInLine=w,t.getFirstCodeNodeOfLine=S,t.getLanguageFriendlyName=function(e){return e=y(e),_[e]||e},t.getLastCodeNodeOfLine=x,t.getStartOfCodeInLine=O,t.normalizeCodeLang=y,t.registerCodeHighlighting=function(e,t){if(!e.hasNodes([a,C]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return null==t&&(t=b),i.mergeRegister(e.registerMutationListener(a,(t=>{e.update((()=>{for(let[i,l]of t)if("destroyed"!==l){var n=o.$getNodeByKey(i);if(null!==n)e:{var r=n;if(null===(n=e.getElementByKey(r.getKey())))break e;let t=(r=r.getChildren()).length;if(t===n.__cachedChildrenLength)break e;n.__cachedChildrenLength=t;let i="1",l=1;for(let e=0;e<t;e++)o.$isLineBreakNode(r[e])&&(i+="\n"+ ++l);n.setAttribute("data-gutter",i)}}}))})),e.registerNodeTransform(a,(n=>k(n,e,t))),e.registerNodeTransform(o.TextNode,(n=>D(n,e,t))),e.registerNodeTransform(C,(n=>D(n,e,t))),e.registerCommand(o.KEY_TAB_COMMAND,(t=>{let n=function(e){var t=o.$getSelection();if(!o.$isRangeSelection(t)||!P(t))return null;let n=e?o.OUTDENT_CONTENT_COMMAND:o.INDENT_CONTENT_COMMAND;if(e=e?o.OUTDENT_CONTENT_COMMAND:o.INSERT_TAB_COMMAND,1<$(t).length)return n;var r=t.getNodes()[0];if(!(c(r)||T(r)||o.$isTabNode(r)||o.$isLineBreakNode(r)))throw Error("Expected selection firstNode to be CodeHighlightNode or TabNode");if(c(r))return n;let i=S(r);r=x(r);var l=t.anchor;let s=t.focus;return s.isBefore(l)?t=s:(t=l,l=s),null!==i&&null!==r&&t.key===i.getKey()&&0===t.offset&&l.key===r.getKey()&&l.offset===r.getTextContentSize()?n:e}(t.shiftKey);return null!==n&&(t.preventDefault(),e.dispatchCommand(n,void 0),!0)}),o.COMMAND_PRIORITY_LOW),e.registerCommand(o.INSERT_TAB_COMMAND,(()=>!!P(o.$getSelection())&&(o.$insertNodes([o.$createTabNode()]),!0)),o.COMMAND_PRIORITY_LOW),e.registerCommand(o.INDENT_CONTENT_COMMAND,(()=>L(o.INDENT_CONTENT_COMMAND)),o.COMMAND_PRIORITY_LOW),e.registerCommand(o.OUTDENT_CONTENT_COMMAND,(()=>L(o.OUTDENT_CONTENT_COMMAND)),o.COMMAND_PRIORITY_LOW),e.registerCommand(o.KEY_ARROW_UP_COMMAND,(e=>I(o.KEY_ARROW_UP_COMMAND,e)),o.COMMAND_PRIORITY_LOW),e.registerCommand(o.KEY_ARROW_DOWN_COMMAND,(e=>I(o.KEY_ARROW_DOWN_COMMAND,e)),o.COMMAND_PRIORITY_LOW),e.registerCommand(o.MOVE_TO_END,(e=>F(o.MOVE_TO_END,e)),o.COMMAND_PRIORITY_LOW),e.registerCommand(o.MOVE_TO_START,(e=>F(o.MOVE_TO_START,e)),o.COMMAND_PRIORITY_LOW))}},570573:function(e,t,n){const r=n(97370);e.exports=r},97370:function(e,t,n){var r=n(932998);t.registerDragonSupport=function(e){let t=window.location.origin,n=n=>{if(n.origin===t){var i=e.getRootElement();if(document.activeElement===i&&"string"==typeof(i=n.data)){try{var o=JSON.parse(i)}catch(e){return}if(o&&"nuanria_messaging"===o.protocol&&"request"===o.type&&(o=o.payload)&&"makeChanges"===o.functionId&&(o=o.args)){const[t,i,l,s,a]=o;e.update((()=>{const e=r.$getSelection();if(r.$isRangeSelection(e)){var o=e.anchor;let u=o.getNode(),c=0,d=0;r.$isTextNode(u)&&0<=t&&0<=i&&(c=t,d=t+i,e.setTextNodeRange(u,c,u,d)),c===d&&""===l||(e.insertRawText(l),u=o.getNode()),r.$isTextNode(u)&&(c=s,d=s+a,c=c>(o=u.getTextContentSize())?o:c,d=d>o?o:d,e.setTextNodeRange(u,c,u,d)),n.stopImmediatePropagation()}}))}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}},682154:function(e,t,n){const r=n(214893);e.exports=r},214893:function(e,t,n){var r=n(932998);t.createHeadlessEditor=function(e){let t=r.createEditor(e);return t._headless=!0,"registerDecoratorListener registerRootListener registerMutationListener getRootElement setRootElement getElementByKey focus blur".split(" ").forEach((e=>{t[e]=()=>{throw Error(`${e} is not supported in headless mode`)}})),t}},548854:function(e,t,n){const r=n(654379);e.exports=r},654379:function(e,t,n){var r=n(376969),i=n(932998);function o(e,t){let n=Date.now(),r=0;return(o,l,s,a,u,c)=>{let d=Date.now();if(c.has("historic"))return r=0,n=d,2;let f=function(e,t,n,r,o){if(null===e||0===n.size&&0===r.size&&!o)return 0;var l=t._selection,s=e._selection;if(o)return 1;if(!(i.$isRangeSelection(l)&&i.$isRangeSelection(s)&&s.isCollapsed()&&l.isCollapsed()))return 0;o=t._nodeMap;let a=[];for(let e of n)void 0!==(n=o.get(e))&&a.push(n);for(let[e,t]of r)t&&(void 0===(r=o.get(e))||i.$isRootNode(r)||a.push(r));return 0===a.length?0:1<a.length?(t=(r=t._nodeMap).get(l.anchor.key),s=r.get(s.anchor.key),t&&s&&!e._nodeMap.has(t.__key)&&i.$isTextNode(t)&&1===t.__text.length&&1===l.anchor.offset?2:0):(t=a[0],e=e._nodeMap.get(t.__key),i.$isTextNode(e)&&i.$isTextNode(t)&&e.__mode===t.__mode?(e=e.__text)===(t=t.__text)?0:(l=l.anchor,s=s.anchor,l.key!==s.key||"text"!==l.type?0:(l=l.offset,s=s.offset,1==(e=t.length-e.length)&&s===l-1?2:-1===e&&s===l+1?3:-1===e&&s===l?4:0)):0)}(o,l,a,u,e.isComposing()),g=(()=>{var g=null===s||s.editor===e,h=c.has("history-push");if(!h&&g&&c.has("history-merge"))return 0;if(null===o)return 1;var p=l._selection;if(!(0<a.size||0<u.size))return null!==p?0:2;if(!1===h&&0!==f&&f===r&&d<n+t&&g)return 0;if(1===a.size){{h=Array.from(a)[0],g=o._nodeMap.get(h),h=l._nodeMap.get(h),p=o._selection;let e=l._selection,t=!1;i.$isRangeSelection(p)&&i.$isRangeSelection(e)&&(t="element"===p.anchor.type&&"element"===p.focus.type&&"text"===e.anchor.type&&"text"===e.focus.type),g=!(t||!i.$isTextNode(g)||!i.$isTextNode(h))&&(g.__type===h.__type&&g.__text===h.__text&&g.__mode===h.__mode&&g.__detail===h.__detail&&g.__style===h.__style&&g.__format===h.__format&&g.__parent===h.__parent)}if(g)return 0}return 1})();return n=d,r=f,g}}t.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},t.registerHistory=function(e,t,n){let l=o(e,n);n=({editorState:n,prevEditorState:r,dirtyLeaves:o,dirtyElements:s,tags:a})=>{const u=t.current,c=t.redoStack,d=t.undoStack,f=null===u?null:u.editorState;if(null===u||n!==f){if(1===(r=l(r,n,u,o,s,a)))0!==c.length&&(t.redoStack=[],e.dispatchCommand(i.CAN_REDO_COMMAND,!1)),null!==u&&(d.push({...u}),e.dispatchCommand(i.CAN_UNDO_COMMAND,!0));else if(2===r)return;t.current={editor:e,editorState:n}}};let s=r.mergeRegister(e.registerCommand(i.UNDO_COMMAND,(()=>{let n=t.redoStack,r=t.undoStack;if(0!==r.length){let o=t.current,l=r.pop();null!==o&&(n.push(o),e.dispatchCommand(i.CAN_REDO_COMMAND,!0)),0===r.length&&e.dispatchCommand(i.CAN_UNDO_COMMAND,!1),t.current=l||null,l&&l.editor.setEditorState(l.editorState,{tag:"historic"})}return!0}),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.REDO_COMMAND,(()=>{let n=t.redoStack;var r=t.undoStack;if(0!==n.length){let o=t.current;null!==o&&(r.push(o),e.dispatchCommand(i.CAN_UNDO_COMMAND,!0)),r=n.pop(),0===n.length&&e.dispatchCommand(i.CAN_REDO_COMMAND,!1),t.current=r||null,r&&r.editor.setEditorState(r.editorState,{tag:"historic"})}return!0}),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.CLEAR_EDITOR_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,!1)),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.CLEAR_HISTORY_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,e.dispatchCommand(i.CAN_REDO_COMMAND,!1),e.dispatchCommand(i.CAN_UNDO_COMMAND,!1),!0)),i.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(n)),a=e.registerUpdateListener(n);return()=>{s(),a()}}},587592:function(e,t,n){const r=n(164478);e.exports=r},164478:function(e,t,n){var r=n(389408),i=n(932998);function o(e,t,n,l=null){let s=null==l||t.isSelected(l),a=i.$isElementNode(t)&&t.excludeFromCopy("html");var u=t;null!==l&&(u=r.$cloneWithProperties(t),u=i.$isTextNode(u)&&null!=l?r.$sliceSelectedTextNodeContent(l,u):u);let c=i.$isElementNode(u)?u.getChildren():[],{element:d,after:f}=u.exportDOM(e);if(!d)return!1;let g=document.createDocumentFragment();for(let n=0;n<c.length;n++){let r=c[n],a=o(e,r,g,l);!s&&i.$isElementNode(t)&&a&&t.extractWithChild(r,l,"html")&&(s=!0)}return s&&!a?(d.append(g),n.append(d),f&&(e=f.call(u,d))&&d.replaceWith(e)):n.append(g),s}let l=new Set(["STYLE","SCRIPT"]);function s(e,t,n=new Map,r){let o=[];if(l.has(e.nodeName))return o;let a=null;var u,{nodeName:c}=e,d=t._htmlConversions.get(c.toLowerCase());if(c=null,void 0!==d)for(u of d)null!==(d=u(e))&&(null===c||c.priority<d.priority)&&(c=d);if(c=(u=null!==c?c.conversion:null)?u(e):null,u=null,null!==c){if(u=c.after,d=c.node,a=Array.isArray(d)?d[d.length-1]:d,null!==a){for(var[,f]of n)if(a=f(a,r),!a)break;a&&o.push(...Array.isArray(d)?d:[a])}null!=c.forChild&&n.set(e.nodeName,c.forChild)}for(e=e.childNodes,r=[],f=0;f<e.length;f++)r.push(...s(e[f],t,new Map(n),a));return null!=u&&(r=u(r)),null==a?o=o.concat(r):i.$isElementNode(a)&&a.append(...r),o}t.$generateHtmlFromNodes=function(e,t){if("undefined"==typeof document||"undefined"==typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=i.$getRoot().getChildren();for(let i=0;i<r.length;i++)o(e,r[i],n,t);return n.innerHTML},t.$generateNodesFromDOM=function(e,t){t=t.body?t.body.childNodes:[];let n=[];for(let i=0;i<t.length;i++){var r=t[i];l.has(r.nodeName)||null!==(r=s(r,e))&&(n=n.concat(r))}return n}},873435:function(e,t,n){const r=n(813906);e.exports=r},813906:function(e,t,n){var r=n(376969),i=n(932998);let o=new Set(["http:","https:","mailto:","sms:","tel:"]);class l extends i.ElementNode{static getType(){return"link"}static clone(e){return new l(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e,t={},n){super(n);let{target:r=null,rel:i=null,title:o=null}=t;this.__url=e,this.__target=r,this.__rel=i,this.__title=o}createDOM(e){let t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),r.addClassNamesToElement(t,e.theme.link),t}updateDOM(e,t){let n=this.__url,r=this.__target,i=this.__rel,o=this.__title;return n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),o!==e.__title&&(o?t.title=o:t.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:s,priority:1})}}static importJSON(e){let t=a(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}sanitizeUrl(e){try{let t=new URL(e);if(!o.has(t.protocol))return"about:blank"}catch{}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),i.$isElementNode(e)?(t=a(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(t),t):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t){if(!i.$isRangeSelection(t))return!1;e=t.anchor.getNode();let n=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(n)&&0<t.getTextContent().length}}function s(e){let t=null;if(r.isHTMLAnchorElement(e)){let n=e.textContent;null!==n&&""!==n&&(t=a(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function a(e,t){return i.$applyNodeReplacement(new l(e,t))}function u(e){return e instanceof l}class c extends l{static getType(){return"autolink"}static clone(e){return new c(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}static importJSON(e){let t=d(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),i.$isElementNode(e)?(t=d(this.__url,{rel:this._rel,target:this.__target,title:this.__title}),e.append(t),t):null}}function d(e,t){return i.$applyNodeReplacement(new c(e,t))}let f=i.createCommand("TOGGLE_LINK_COMMAND");t.$createAutoLinkNode=d,t.$createLinkNode=a,t.$isAutoLinkNode=function(e){return e instanceof c},t.$isLinkNode=u,t.AutoLinkNode=c,t.LinkNode=l,t.TOGGLE_LINK_COMMAND=f,t.toggleLink=function(e,t={}){let{target:n,title:r}=t,o=void 0===t.rel?"noreferrer":t.rel;if(t=i.$getSelection(),i.$isRangeSelection(t))if(t=t.extract(),null===e)t.forEach((e=>{if(u(e=e.getParent())){let t=e.getChildren();for(let n=0;n<t.length;n++)e.insertBefore(t[n]);e.remove()}}));else{if(1===t.length){var l=t[0];if(l=u(l)?l:function(e,t){for(;null!==e&&null!==(e=e.getParent())&&!t(e););return e}(l,u),null!==l)return l.setURL(e),void 0!==n&&l.setTarget(n),null!==o&&l.setRel(o),void(void 0!==r&&l.setTitle(r))}let s=null,c=null;t.forEach((t=>{var l=t.getParent();if(l!==c&&null!==l&&(!i.$isElementNode(t)||t.isInline()))if(u(l))c=l,l.setURL(e),void 0!==n&&l.setTarget(n),null!==o&&c.setRel(o),void 0!==r&&c.setTitle(r);else if(l.is(s)||(s=l,c=a(e,{rel:o,target:n}),u(l)?null===t.getPreviousSibling()?l.insertBefore(c):l.insertAfter(c):t.insertBefore(c)),u(t)){if(!t.is(c)){if(null!==c){l=t.getChildren();for(let e=0;e<l.length;e++)c.append(l[e])}t.remove()}}else null!==c&&c.append(t)}))}}},244783:function(e,t,n){const r=n(319206);e.exports=r},319206:function(e,t,n){var r=n(932998),i=n(376969);function o(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function l(e){let t=1;for(e=e.getParent();null!=e;){if(E(e)){if(D(e=e.getParent())){t++,e=e.getParent();continue}o(40)}break}return t}function s(e){D(e=e.getParent())||o(40);let t=e;for(;null!==t;)t=t.getParent(),D(t)&&(e=t);return e}function a(e){let t=[];e=e.getChildren().filter(E);for(let n=0;n<e.length;n++){let r=e[n],i=r.getFirstChild();D(i)?t=t.concat(a(i)):t.push(r)}return t}function u(e){return E(e)&&D(e.getFirstChild())}function c(e){return N().append(e)}function d(e,t){return E(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function f(e,t){e.splice(e.getChildrenSize(),0,t)}function g(e,t){if(D(e))return e;let n=e.getPreviousSibling(),r=e.getNextSibling(),i=N();return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),f(i,e.getChildren()),D(n)&&t===n.getListType()?(n.append(i),e.remove(),D(r)&&t===r.getListType()&&(f(n,r.getChildren()),r.remove()),n):D(r)&&t===r.getListType()?(r.getFirstChildOrThrow().insertBefore(i),e.remove(),r):((t=w(t)).append(i),e.replace(t),p(t),t)}function h(e,t){var n=e.getLastChild();let r=t.getFirstChild();n&&r&&u(n)&&u(r)&&(h(n.getFirstChild(),r.getFirstChild()),r.remove()),0<(n=t.getChildren()).length&&(e.append(...n),p(e)),t.remove()}function p(e,t){if(void 0!==(e=t||e.getChildren()))for(t=0;t<e.length;t++){let l=e[t];if(E(l)){let e=l.getValue();var n=l,r=n.getParent(),i=1;for(null!=r&&(D(r)?i=r.getStart():o(44)),n=n.getPreviousSiblings(),r=0;r<n.length;r++){let e=n[r];E(e)&&!D(e.getFirstChild())&&i++}e!==i&&l.setValue(i)}}}function m(e){if(!u(e)){var t=e.getParent(),n=t?t.getParent():void 0,r=n?n.getParent():void 0;if(D(r)&&E(n)&&D(t)){var i=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(e.is(i))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(o))n.insertAfter(e),t.isEmpty()&&n.remove();else{var l=t.getListType();i=N();let r=w(l);i.append(r),e.getPreviousSiblings().forEach((e=>r.append(e))),o=N(),l=w(l),o.append(l),f(l,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(e)}p(t),p(r)}}}class _ extends r.ElementNode{static getType(){return"listitem"}static clone(e){return new _(e.__value,e.__checked,e.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){let t=document.createElement("li"),n=this.getParent();return D(n)&&"check"===n.getListType()&&y(t,this,null),t.value=this.__value,v(t,e.theme,this),t}updateDOM(e,t,n){let r=this.getParent();return D(r)&&"check"===r.getListType()&&y(t,this,e),t.value=this.__value,v(t,n.theme,this),!1}static transform(){return e=>{let t=e.getParent();D(t)&&(p(t),"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:C,priority:0})}}static importJSON(e){let t=N();return t.setChecked(e.checked),t.setValue(e.value),t.setFormat(e.format),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let t=0;t<e.length;t++){let n=e[t];if(r.$isElementNode(n)&&this.canMergeWith(n)){let e=n.getChildren();this.append(...e),n.remove()}else super.append(n)}return this}replace(e,t){if(E(e))return super.replace(e);this.setIndent(0);let n=this.getParentOrThrow();if(!D(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{let t=w(n.getListType()),r=this.getNextSibling();for(;r;){let e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&this.getChildren().forEach((t=>{e.append(t)})),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e,t=!0){var n=this.getParentOrThrow();D(n)||o(39);var r=this.getNextSiblings();if(E(e))return t=super.insertAfter(e,t),D(e=e.getParentOrThrow())&&p(e),t;if(D(e)){for(n=e,r=(e=e.getChildren()).length-1;0<=r;r--)n=e[r],this.insertAfter(n,t);return n}if(n.insertAfter(e,t),0!==r.length){let i=w(n.getListType());r.forEach((e=>i.append(e))),e.insertAfter(i,t)}return e}remove(e){let t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&u(t)&&u(n)?(h(t.getFirstChild(),n.getFirstChild()),n.remove()):n&&(D(e=n.getParent())&&p(e))}insertNewAfter(e,t=!0){return e=N(null==this.__checked&&void 0),this.insertAfter(e,t),e}collapseAtStart(e){let t=r.$createParagraphNode();this.getChildren().forEach((e=>t.append(e)));var n=this.getParentOrThrow(),i=n.getParentOrThrow();let o=E(i);return 1===n.getChildrenSize()?o?(n.remove(),i.select()):(n.insertBefore(t),n.remove(),n=e.anchor,e=e.focus,i=t.getKey(),"element"===n.type&&n.getNode().is(this)&&n.set(i,n.offset,"element"),"element"===e.type&&e.getNode().is(this)&&e.set(i,e.offset,"element")):(n.insertBefore(t),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var e=this.getParent();if(null===e)return this.getLatest().__indent;e=e.getParentOrThrow();let t=0;for(;E(e);)e=e.getParentOrThrow().getParentOrThrow(),t++;return t}setIndent(e){"number"==typeof e&&-1<e||o(117);let t=this.getIndent();for(;t!==e;)if(t<e){e:{var n=new Set;if(u(this)||n.has(this.getKey()))break e;let e=this.getParent();var r=this.getNextSibling(),i=this.getPreviousSibling();if(u(r)&&u(i)){if(D(i=i.getFirstChild())){i.append(this);var l=r.getFirstChild();D(l)&&(f(i,l=l.getChildren()),r.remove(),n.add(r.getKey())),p(i)}}else u(r)?D(r=r.getFirstChild())&&(null!==(n=r.getFirstChild())&&n.insertBefore(this),p(r)):u(i)?D(r=i.getFirstChild())&&(r.append(this),p(r)):D(e)&&(n=N(),l=w(e.getListType()),n.append(l),l.append(this),i?i.insertAfter(n):r?r.insertBefore(n):e.append(n),p(l));D(e)&&p(e)}t++}else m(this),t--;return this}insertBefore(e){if(E(e)){let e=this.getParentOrThrow();if(D(e)){p(e,this.getNextSiblings())}}return super.insertBefore(e)}canInsertAfter(e){return E(e)}canReplaceWith(e){return E(e)}canMergeWith(e){return r.$isParagraphNode(e)||E(e)}extractWithChild(e,t){if(!r.$isRangeSelection(t))return!1;e=t.anchor.getNode();let n=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(n)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return w("bullet")}}function v(e,t,n){let r=[],o=[];var l=(t=t.list)?t.listitem:void 0;if(t&&t.nested)var s=t.nested.listitem;if(void 0!==l&&(l=l.split(" "),r.push(...l)),t){l=D(l=n.getParent())&&"check"===l.getListType();let e=n.getChecked();l&&!e||o.push(t.listitemUnchecked),l&&e||o.push(t.listitemChecked),l&&r.push(e?t.listitemChecked:t.listitemUnchecked)}void 0!==s&&(s=s.split(" "),n.getChildren().some((e=>D(e)))?r.push(...s):o.push(...s)),0<o.length&&i.removeClassNamesFromElement(e,...o),0<r.length&&i.addClassNamesToElement(e,...r)}function y(e,t,n){D(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function C(e){return{node:N(e=i.isHTMLElement(e)&&"true"===e.getAttribute("aria-checked"))}}function N(e){return r.$applyNodeReplacement(new _(void 0,e))}function E(e){return e instanceof _}class T extends r.ElementNode{static getType(){return"list"}static clone(e){return new T(e.__listType||O[e.__tag],e.__start,e.__key)}constructor(e,t,n){super(n),this.__listType=e=O[e]||e,this.__tag="number"===e?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){let t=this.getWritable();t.__listType=e,t.__tag="number"===e?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e){let t=document.createElement(this.__tag);return 1!==this.__start&&t.setAttribute("start",String(this.__start)),t.__lexicalListType=this.__listType,S(t,e.theme,this),t}updateDOM(e,t,n){return e.__tag!==this.__tag||(S(t,n.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:b,priority:0}),ul:()=>({conversion:b,priority:0})}}static importJSON(e){let t=w(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportDOM(e){return({element:e}=super.exportDOM(e)),e&&(1!==this.__start&&e.setAttribute("start",String(this.__start)),"check"===this.__listType&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let n=0;n<e.length;n++){var t=e[n];if(E(t))super.append(t);else{let e=N();D(t)?e.append(t):r.$isElementNode(t)?(t=r.$createTextNode(t.getTextContent()),e.append(t)):e.append(t),super.append(e)}}return p(this),this}extractWithChild(e){return E(e)}}function S(e,t,n){let r=[],o=[];var s=t.list;if(void 0!==s){let e=s[`${n.__tag}Depth`]||[],i=(t=l(n)-1)%e.length;var a=e[i];let u,c=s[n.__tag];if(void 0!==(s=s.nested)&&s.list&&(u=s.list),void 0!==c&&r.push(c),void 0!==a)for(a=a.split(" "),r.push(...a),a=0;a<e.length;a++)a!==i&&o.push(n.__tag+a);void 0!==u&&(n=u.split(" "),1<t?r.push(...n):o.push(...n))}0<o.length&&i.removeClassNamesFromElement(e,...o),0<r.length&&i.addClassNamesToElement(e,...r)}function x(e){let t=[];for(let r=0;r<e.length;r++){var n=e[r];E(n)?(t.push(n),1<(n=n.getChildren()).length&&n.forEach((e=>{D(e)&&t.push(c(e))}))):t.push(c(n))}return t}function b(e){let t=e.nodeName.toLowerCase(),n=null;return"ol"===t?n=w("number",e.start):"ul"===t&&(n=i.isHTMLElement(e)&&"check"===e.getAttribute("__lexicallisttype")?w("check"):w("bullet")),{after:x,node:n}}let O={ol:"number",ul:"bullet"};function w(e,t=1){return r.$applyNodeReplacement(new T(e,t))}function D(e){return e instanceof T}let R=r.createCommand("INSERT_UNORDERED_LIST_COMMAND"),k=r.createCommand("INSERT_ORDERED_LIST_COMMAND"),A=r.createCommand("INSERT_CHECK_LIST_COMMAND"),M=r.createCommand("REMOVE_LIST_COMMAND");t.$createListItemNode=N,t.$createListNode=w,t.$getListDepth=l,t.$handleListInsertParagraph=function(){var e=r.$getSelection();if(!r.$isRangeSelection(e)||!e.isCollapsed())return!1;if(!E(e=e.anchor.getNode())||""!==e.getTextContent())return!1;var t=s(e),n=e.getParent();D(n)||o(40);let i,l=n.getParent();if(r.$isRootOrShadowRoot(l))i=r.$createParagraphNode(),t.insertAfter(i);else{if(!E(l))return!1;i=N(),l.insertAfter(i)}if(i.select(),0<(t=e.getNextSiblings()).length){let e=w(n.getListType());r.$isParagraphNode(i)?i.insertAfter(e):((n=N()).append(e),i.insertAfter(n)),t.forEach((t=>{t.remove(),e.append(t)}))}return function(e){for(;null==e.getNextSibling()&&null==e.getPreviousSibling();){let t=e.getParent();if(null==t||!E(e)&&!D(e))break;e=t}e.remove()}(e),!0},t.$isListItemNode=E,t.$isListNode=D,t.INSERT_CHECK_LIST_COMMAND=A,t.INSERT_ORDERED_LIST_COMMAND=k,t.INSERT_UNORDERED_LIST_COMMAND=R,t.ListItemNode=_,t.ListNode=T,t.REMOVE_LIST_COMMAND=M,t.insertList=function(e,t){e.update((()=>{var e=r.$getSelection();if(r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e)){var n=e.getNodes(),i=(e=e.anchor.getNode()).getParent();if(d(e,n))n=w(t),r.$isRootOrShadowRoot(i)?(e.replace(n),i=N(),r.$isElementNode(e)&&(i.setFormat(e.getFormatType()),i.setIndent(e.getIndent())),n.append(i)):E(e)&&(f(n,(e=e.getParentOrThrow()).getChildren()),e.replace(n));else for(e=new Set,i=0;i<n.length;i++){var o=n[i];if(r.$isElementNode(o)&&o.isEmpty()&&!e.has(o.getKey()))g(o,t);else if(r.$isLeafNode(o))for(o=o.getParent();null!=o;){let n=o.getKey();if(D(o)){if(!e.has(n)){var l=w(t);f(l,o.getChildren()),o.replace(l),p(l),e.add(n)}break}if(l=o.getParent(),r.$isRootOrShadowRoot(l)&&!e.has(n)){e.add(n),g(o,t);break}o=l}}}}))},t.removeList=function(e){e.update((()=>{let e=r.$getSelection();if(r.$isRangeSelection(e)){var t=new Set,n=e.getNodes(),o=e.anchor.getNode();if(d(o,n))t.add(s(o));else for(o=0;o<n.length;o++){var l=n[o];r.$isLeafNode(l)&&(null!=(l=i.$getNearestNodeOfType(l,_))&&t.add(s(l)))}for(let i of t){t=i,n=a(i);for(let i of n)f(n=r.$createParagraphNode(),i.getChildren()),t.insertAfter(n),t=n,i.__key===e.anchor.key&&e.anchor.set(n.getKey(),0,"element"),i.__key===e.focus.key&&e.focus.set(n.getKey(),0,"element"),i.remove();i.remove()}}}))}},36571:function(e,t,n){const r=n(16992);e.exports=r},16992:function(e,t,n){var r=n(932998),i=n(323277),o=n(244783),l=n(2903),s=n(376969),a=n(873435);function u(e,t){let n={};for(let r of e)n[e=t(r)]?n[e].push(r):n[e]=[r];return n}function c(e){return{element:(e=u(e,(e=>e.type))).element||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}let d=/[!-/:-@[-`{-~\s]/;function f(e,t,n,i){for(let r of t)if(null!=(t=r.export(e,(e=>g(e,n,i)))))return t;return r.$isElementNode(e)?g(e,n,i):r.$isDecoratorNode(e)?e.getTextContent():null}function g(e,t,n){let i=[];e=e.getChildren();e:for(let o of e){for(let r of n)if(null!=(e=r.export(o,(e=>g(e,t,n)),((e,n)=>h(e,n,t))))){i.push(e);continue e}r.$isLineBreakNode(o)?i.push("\n"):r.$isTextNode(o)?i.push(h(o,o.getTextContent(),t)):r.$isElementNode(o)?i.push(g(o,t,n)):r.$isDecoratorNode(o)&&i.push(o.getTextContent())}return i.join("")}function h(e,t,n){let r=t.trim(),i=r,o=new Set;for(let t of n){n=t.format[0];let r=t.tag;if(m(e,n)&&!o.has(n)){o.add(n);var l=p(e,!0);m(l,n)||(i=r+i),m(l=p(e,!1),n)||(i+=r)}}return t.replace(r,i)}function p(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();for(n||(e=e.getParentOrThrow()).isInline()&&(n=t?e.getPreviousSibling():e.getNextSibling());n;){if(r.$isElementNode(n)){if(!n.isInline())break;if(e=t?n.getLastDescendant():n.getFirstDescendant(),r.$isTextNode(e))return e;n=t?n.getPreviousSibling():n.getNextSibling()}if(r.$isTextNode(n))return n;if(!r.$isElementNode(n))break}return null}function m(e,t){return r.$isTextNode(e)&&e.hasFormat(t)}let _="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,v=_&&"documentMode"in document?document.documentMode:null;_&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),_&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),_&&"InputEvent"in window&&!v&&new window.InputEvent("input");let y=_&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),C=_&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,N=_&&/^(?=.*Chrome).*/i.test(navigator.userAgent),E=_&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!N,T=/^\s{0,3}$/,S=/^```(\w{1,10})?\s?$/;function x(e){let t=c(e),n=function(e){let t={},n={},r=[];for(let i of e){({tag:e}=i),t[e]=i;let o=e.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),n[e]=y||C||E?new RegExp(`(${o})(?![${o}\\s])(.*?[^${o}\\s])${o}(?!${o})`):new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((y||C||E?"":"(?<![\\\\])")+"("+r.join("|")+")","g"),transformersByTag:t}}(t.textFormat);return(e,a)=>{var u=(e=e.split("\n")).length;(a=a||r.$getRoot()).clear();for(let v=0;v<u;v++){var c=e[v];e:{var d=e,f=v,g=a,h=d[f].match(S);if(h)for(var p=f,m=d.length;++p<m;)if(d[p].match(S)){h=i.$createCodeNode(h[1]),d=r.$createTextNode(d.slice(f+1,p).join("\n")),h.append(d),g.append(h),g=[h,p];break e}g=[null,f]}let[u,y]=g;if(null!=u)v=y;else{g=c,m=a;var _=t.element;p=n,d=t.textMatch,f=g.trim(),h=r.$createTextNode(f),(c=r.$createParagraphNode()).append(h),m.append(c);for(let{regExp:e,replace:t}of _)if(m=g.match(e)){h.setTextContent(g.slice(m[0].length)),t(c,[h],m,!0);break}b(h,p,d),c.isAttached()&&0<f.length&&(g=c.getPreviousSibling(),r.$isParagraphNode(g)||l.$isQuoteNode(g)||o.$isListNode(g))&&(p=g,o.$isListNode(g)&&(p=null==(g=g.getLastDescendant())?null:s.$findMatchingParent(g,o.$isListItemNode)),null!=p&&0<p.getTextContentSize()&&(p.splice(p.getChildrenSize(),0,[r.$createLineBreakNode(),...c.getChildren()]),c.remove()))}}e=a.getChildren();for(let t of e)e=t,r.$isParagraphNode(e)?(u=e.getFirstChild(),e=null==u||1===e.getChildrenSize()&&r.$isTextNode(u)&&T.test(u.getTextContent())):e=!1,e&&t.remove();null!==r.$getSelection()&&a.selectEnd()}}function b(e,t,n){var r=e.getTextContent();let i=function(e,t){var n=e.match(t.openTagsRegExp);if(null==n)return null;for(let o of n){var r=o.replace(/^\s/,"");if(null!=(n=t.fullMatchRegExpByTag[r])&&(n=e.match(n),r=t.transformersByTag[r],null!=n&&null!=r)){if(!1!==r.intraword)return n;var{index:i=0}=n;if(r=e[i-1],i=e[i+n[0].length],!(r&&!d.test(r)||i&&!d.test(i)))return n}}return null}(r,t);if(i){var o,l;if(i[0]===r)var s=e;else{let t=(r=i.index||0)+i[0].length;0===r?[s,o]=e.splitText(t):[l,s,o]=e.splitText(r,t)}if(s.setTextContent(i[2]),e=t.transformersByTag[i[1]])for(let t of e.format)s.hasFormat(t)||s.toggleFormat(t);s.hasFormat("code")||b(s,t,n),l&&b(l,t,n),o&&b(o,t,n)}else O(e,n)}function O(e,t){e:for(;e;){for(let n of t){let r=e.getTextContent().match(n.importRegExp);if(!r)continue;let i,o,l,s=r.index||0,a=s+r[0].length;0===s?[i,e]=e.splitText(a):[o,i,l]=e.splitText(s,a),o&&O(o,t),l&&(e=l),n.replace(i,r);continue e}break}}function w(e,t,n){let r=n.length;for(;t>=r;t--){let i=t-r;if(D(e,i,n,0,r)&&" "!==e[i+r])return i}return-1}function D(e,t,n,r,i){for(let o=0;o<i;o++)if(e[t+o]!==n[r+o])return!1;return!0}let R=e=>(t,n,r)=>{(r=e(r)).append(...n),t.replace(r),r.select(0,0)},k=e=>(t,n,r)=>{var i=t.getPreviousSibling(),l=t.getNextSibling();const s=o.$createListItemNode("check"===e?"x"===r[3]:void 0);o.$isListNode(l)&&l.getListType()===e?(null!==(i=l.getFirstChild())?i.insertBefore(s):l.append(s),t.remove()):o.$isListNode(i)&&i.getListType()===e?(i.append(s),t.remove()):((l=o.$createListNode(e,"number"===e?Number(r[2]):void 0)).append(s),t.replace(l)),s.append(...n),s.select(0,0),(t=Math.floor(r[1].length/4))&&s.setIndent(t)},A=(e,t,n)=>{const r=[];var i=e.getChildren();let l=0;for(const a of i)if(o.$isListItemNode(a)){if(1===a.getChildrenSize()&&(i=a.getFirstChild(),o.$isListNode(i))){r.push(A(i,t,n+1));continue}i=" ".repeat(4*n);var s=e.getListType();s="number"===s?`${e.getStart()+l}. `:"check"===s?`- [${a.getChecked()?"x":" "}] `:"- ",r.push(i+s+t(a)),l++}return r.join("\n")},M={dependencies:[l.HeadingNode],export:(e,t)=>{if(!l.$isHeadingNode(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:/^(#{1,6})\s/,replace:R((e=>l.$createHeadingNode("h"+e[1].length))),type:"element"},P={dependencies:[l.QuoteNode],export:(e,t)=>{if(!l.$isQuoteNode(e))return null;e=t(e).split("\n"),t=[];for(const n of e)t.push("> "+n);return t.join("\n")},regExp:/^>\s/,replace:(e,t,n,i)=>{if(i&&(n=e.getPreviousSibling(),l.$isQuoteNode(n)))return n.splice(n.getChildrenSize(),0,[r.$createLineBreakNode(),...t]),n.select(0,0),void e.remove();(n=l.$createQuoteNode()).append(...t),e.replace(n),n.select(0,0)},type:"element"},$={dependencies:[i.CodeNode],export:e=>{if(!i.$isCodeNode(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?"\n"+t:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:R((e=>i.$createCodeNode(e?e[1]:void 0))),type:"element"},L={dependencies:[o.ListNode,o.ListItemNode],export:(e,t)=>o.$isListNode(e)?A(e,t,0):null,regExp:/^(\s*)[-*+]\s/,replace:k("bullet"),type:"element"},I={dependencies:[o.ListNode,o.ListItemNode],export:(e,t)=>o.$isListNode(e)?A(e,t,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:k("check"),type:"element"},F={dependencies:[o.ListNode,o.ListItemNode],export:(e,t)=>o.$isListNode(e)?A(e,t,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:k("number"),type:"element"},B={format:["code"],tag:"`",type:"text-format"},K={format:["highlight"],tag:"==",type:"text-format"},j={format:["bold","italic"],tag:"***",type:"text-format"},U={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},H={format:["bold"],tag:"**",type:"text-format"},W={format:["bold"],intraword:!1,tag:"__",type:"text-format"},z={format:["strikethrough"],tag:"~~",type:"text-format"},Y={format:["italic"],tag:"*",type:"text-format"},G={format:["italic"],intraword:!1,tag:"_",type:"text-format"},J={dependencies:[a.LinkNode],export:(e,t,n)=>{if(!a.$isLinkNode(e))return null;t=(t=e.getTitle())?`[${e.getTextContent()}](${e.getURL()} "${t}")`:`[${e.getTextContent()}](${e.getURL()})`;const i=e.getFirstChild();return 1===e.getChildrenSize()&&r.$isTextNode(i)?n(i,t):t},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,n,i,o]=t;t=a.$createLinkNode(i,{title:o});const l=r.$createTextNode(n);l.setFormat(e.getFormat()),t.append(l),e.replace(t)},trigger:")",type:"text-match"},V=[M,P,$,L,F],q=[B,j,U,H,W,K,Y,G,z],X=[J],Q=[...V,...q,...X];t.$convertFromMarkdownString=function(e,t=Q,n){return x(t)(e,n)},t.$convertToMarkdownString=function(e=Q,t){return function(e){let t=c(e),n=t.textFormat.filter((e=>1===e.format.length));return e=>{let i=[];e=(e||r.$getRoot()).getChildren();for(let r of e)null!=(e=f(r,t.element,n,t.textMatch))&&i.push(e);return i.join("\n\n")}}(e)(t)},t.BOLD_ITALIC_STAR=j,t.BOLD_ITALIC_UNDERSCORE=U,t.BOLD_STAR=H,t.BOLD_UNDERSCORE=W,t.CHECK_LIST=I,t.CODE=$,t.ELEMENT_TRANSFORMERS=V,t.HEADING=M,t.HIGHLIGHT=K,t.INLINE_CODE=B,t.ITALIC_STAR=Y,t.ITALIC_UNDERSCORE=G,t.LINK=J,t.ORDERED_LIST=F,t.QUOTE=P,t.STRIKETHROUGH=z,t.TEXT_FORMAT_TRANSFORMERS=q,t.TEXT_MATCH_TRANSFORMERS=X,t.TRANSFORMERS=Q,t.UNORDERED_LIST=L,t.registerMarkdownShortcuts=function(e,t=Q){let n=c(t),o=u(n.textFormat,(({tag:e})=>e[e.length-1])),l=u(n.textMatch,(({trigger:e})=>e));for(let n of t)if("element"===(t=n.type)||"text-match"===t){t=n.dependencies;for(let n of t)if(!e.hasNode(n))throw Error(`MarkdownShortcuts: missing dependency ${n.getType()} for transformer. Ensure node dependency is included in editor initial config.`)}return e.registerUpdateListener((({tags:t,dirtyLeaves:s,editorState:a,prevEditorState:u})=>{if(!t.has("historic")&&!e.isComposing()){var c=a.read(r.$getSelection);if(t=u.read(r.$getSelection),r.$isRangeSelection(t)&&r.$isRangeSelection(c)&&c.isCollapsed()){u=c.anchor.key;var f=c.anchor.offset,g=a._nodeMap.get(u);!r.$isTextNode(g)||!s.has(u)||1!==f&&f>t.anchor.offset+1||e.update((()=>{if(!g.hasFormat("code")){var e=g.getParent();if(null!==e&&!i.$isCodeNode(e)){var t=c.anchor.offset;e:{var s=n.element,a=e.getParent();if(r.$isRootOrShadowRoot(a)&&e.getFirstChild()===g&&" "===(a=g.getTextContent())[t-1])for(let{regExp:n,replace:r}of s)if((s=a.match(n))&&s[0].length===t){a=g.getNextSiblings();let[n,i]=g.splitText(t);n.remove(),r(e,a=i?[i,...a]:a,s,!1),e=!0;break e}e=!1}if(!e){e:{if(s=g.getTextContent(),null!=(e=l[s[t-1]]))for(f of(t<s.length&&(s=s.slice(0,t)),e))if(null!==(e=s.match(f.regExp))){a=(s=e.index||0)+e[0].length;var u=void 0;0===s?[u]=g.splitText(a):[,u]=g.splitText(s,a),u.selectNext(0,0),f.replace(u,e);var f=!0;break e}f=!1}if(!f)e:{var h=(a=g.getTextContent())[--t];if(f=o[h])for(let n of f){var{tag:p}=n;let i=t-(f=p.length)+1;if(!(1<f&&!D(a,i,p,0,f)||" "===a[i-1])&&(u=a[t+1],!1!==n.intraword||!u||d.test(u))){e=u=g,s=w(a,i,p);for(var m=e;0>s&&(m=m.getPreviousSibling())&&!r.$isLineBreakNode(m);)r.$isTextNode(m)&&(s=m.getTextContent(),e=m,s=w(s,s.length,p));if(!(0>s||e===u&&s+f===i||(p=e.getTextContent(),0<s&&p[s-1]===h||(m=p[s-1],!1===n.intraword&&m&&!d.test(m))))){a=(a=u.getTextContent()).slice(0,i)+a.slice(t+1),u.setTextContent(a),a=e===u?a:p,e.setTextContent(a.slice(0,s)+a.slice(s+f)),a=r.$getSelection(),h=r.$createRangeSelection(),r.$setSelection(h),t=t-f*(e===u?2:1)+1,h.anchor.set(e.__key,s,"text"),h.focus.set(u.__key,t,"text");for(let e of n.format)h.hasFormat(e)||h.formatText(e);h.anchor.set(h.focus.key,h.focus.offset,h.focus.type);for(let e of n.format)h.hasFormat(e)&&h.toggleFormat(e);r.$isRangeSelection(a)&&(h.format=a.format);break e}}}}}}}}))}}}))}},232358:function(e,t,n){const r=n(124990);e.exports=r},124990:function(e,t,n){var r=n(873435),i=n(84260),o=n(376969),l=n(932998),s=n(667294);function a(e,t){for(let n=0;n<t.length;n++){let r=t[n](e);if(r)return r}return null}let u=/[.,;\s]/;function c(e){var t;return e=e.getPreviousSibling(),l.$isElementNode(e)&&(e=e.getLastDescendant()),!(t=null===e||l.$isLineBreakNode(e))&&(t=l.$isTextNode(e))&&(e=e.getTextContent(),t=u.test(e[e.length-1])),t}function d(e){return e=e.getNextSibling(),l.$isElementNode(e)&&(e=e.getFirstDescendant()),null===e||l.$isLineBreakNode(e)||l.$isTextNode(e)&&u.test(e.getTextContent()[0])}function f(e,t,n){var r=e.getChildren();let i=r.length;for(let t=0;t<i;t++){let i=r[t];if(!l.$isTextNode(i)||!i.isSimpleText())return g(e),void n(null,e.getURL())}null===(t=a(r=e.getTextContent(),t))||t.text!==r?(g(e),n(null,e.getURL())):c(e)&&d(e)?((r=e.getURL())!==t.url&&(e.setURL(t.url),n(t.url,r)),t.attributes&&((r=e.getRel())!==t.attributes.rel&&(e.setRel(t.attributes.rel||null),n(t.attributes.rel||null,r)),(r=e.getTarget())!==t.attributes.target&&(e.setTarget(t.attributes.target||null),n(t.attributes.target||null,r)))):(g(e),n(null,e.getURL()))}function g(e){let t=e.getChildren();var n=t.length;for(--n;0<=n;n--)e.insertAfter(t[n]);return e.remove(),t.map((e=>e.getLatest()))}function h(e,t,n){s.useEffect((()=>{e.hasNodes([r.AutoLinkNode])||function(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(77);let i=(e,t)=>{n&&n(e,t)};return o.mergeRegister(e.registerNodeTransform(l.TextNode,(e=>{var o=e.getParentOrThrow(),s=e.getPreviousSibling();if(r.$isAutoLinkNode(o))f(o,t,i);else if(!r.$isLinkNode(o)){if(e.isSimpleText()&&(u.test(e.getTextContent()[0])||!r.$isAutoLinkNode(s))){s=o=e.getTextContent();let i=0,f=e;for(var h;(h=a(s,t))&&null!==h;){let t=h.index,a=h.length,g=t+a;var p=i+t,m=i+g,_=o,v=e;if((0<p?u.test(_[p-1]):c(v))&&(m<_.length?u.test(_[m]):d(v))){var y=void 0;0===i+t?[y,f]=f.splitText(i+a):[,y,f]=f.splitText(i+t,i+t+a),p=r.$createAutoLinkNode(h.url,h.attributes),(m=l.$createTextNode(h.text)).setFormat(y.getFormat()),m.setDetail(y.getDetail()),p.append(m),y.replace(p),n&&n(h.url,null),i=0}else i+=g;s=s.substring(g)}}o=e.getPreviousSibling(),h=e.getNextSibling(),y=e.getTextContent(),r.$isAutoLinkNode(o)&&!u.test(y[0])&&(o.append(e),f(o,t,i),e=o.getURL(),n&&n(null,e)),r.$isAutoLinkNode(h)&&!u.test(y[y.length-1])&&(g(h),f(h,t,i),e=h.getURL(),n&&n(null,e))}})))}),[e,t,n])}t.AutoLinkPlugin=function({matchers:e,onChange:t}){let[n]=i.useLexicalComposerContext();return h(n,e,t),null},t.createLinkMatcherWithRegExp=function(e,t=(e=>e)){return n=>{let r=e.exec(n);return null===r?null:{index:r.index,length:r[0].length,text:r[0],url:t(n)}}}},12065:function(e,t,n){const r=n(285994);e.exports=r},285994:function(e,t,n){var r=n(244783),i=n(84260),o=n(376969),l=n(932998),s=n(667294);function a(e,t){let n=e.target;if(null!==n&&o.isHTMLElement(n)){var r=n.firstChild;(null==r||!o.isHTMLElement(r)||"UL"!==r.tagName&&"OL"!==r.tagName)&&(r=n.parentNode)&&"check"===r.__lexicalListType&&(e=e.pageX,r=n.getBoundingClientRect(),("rtl"===n.dir?e<r.right&&e>r.right-20:e>r.left&&e<r.left+20)&&t())}}function u(e){a(e,(()=>{let t=e.target,n=function(e){for(;e;){if(e.__lexicalEditor)return e.__lexicalEditor;e=e.parentNode}return null}(t);null!=n&&n.isEditable()&&n.update((()=>{if(e.target){let e=l.$getNearestNodeFromDOMNode(t);r.$isListItemNode(e)&&(t.focus(),e.toggleChecked())}}))}))}function c(e){a(e,(()=>{e.preventDefault()}))}function d(){let e=document.activeElement;return null!=e&&"LI"===e.tagName&&null!=e.parentNode&&"check"===e.parentNode.__lexicalListType?e:null}function f(e,t,n){let i=d();return null!=i&&t.update((()=>{var o=l.$getNearestNodeFromDOMNode(i);if(r.$isListItemNode(o)&&(o=function(e,t){let n=t?e.getPreviousSibling():e.getNextSibling();for(;null==n&&r.$isListItemNode(e);)null!=(e=e.getParentOrThrow().getParent())&&(n=t?e.getPreviousSibling():e.getNextSibling());for(;r.$isListItemNode(n);){if(e=t?n.getLastChild():n.getFirstChild(),!r.$isListNode(e))return n;n=t?e.getLastChild():e.getFirstChild()}return null}(o,n),null!=o)){o.selectStart();let n=t.getElementByKey(o.__key);null!=n&&(e.preventDefault(),setTimeout((()=>{n.focus()}),0))}})),!1}t.CheckListPlugin=function(){let[e]=i.useLexicalComposerContext();return s.useEffect((()=>o.mergeRegister(e.registerCommand(r.INSERT_CHECK_LIST_COMMAND,(()=>(r.insertList(e,"check"),!0)),l.COMMAND_PRIORITY_LOW),e.registerCommand(l.KEY_ARROW_DOWN_COMMAND,(t=>f(t,e,!1)),l.COMMAND_PRIORITY_LOW),e.registerCommand(l.KEY_ARROW_UP_COMMAND,(t=>f(t,e,!0)),l.COMMAND_PRIORITY_LOW),e.registerCommand(l.KEY_ESCAPE_COMMAND,(()=>{if(null!=d()){let t=e.getRootElement();return null!=t&&t.focus(),!0}return!1}),l.COMMAND_PRIORITY_LOW),e.registerCommand(l.KEY_SPACE_COMMAND,(t=>{let n=d();return!(null==n||!e.isEditable())&&(e.update((()=>{let e=l.$getNearestNodeFromDOMNode(n);r.$isListItemNode(e)&&(t.preventDefault(),e.toggleChecked())})),!0)}),l.COMMAND_PRIORITY_LOW),e.registerCommand(l.KEY_ARROW_LEFT_COMMAND,(t=>e.getEditorState().read((()=>{var n=l.$getSelection();if(l.$isRangeSelection(n)&&n.isCollapsed()){var{anchor:i}=n;if((n="element"===i.type)||0===i.offset){i=i.getNode();let s=o.$findMatchingParent(i,(e=>l.$isElementNode(e)&&!e.isInline()));if(r.$isListItemNode(s)){let o=s.getParent();if(r.$isListNode(o)&&"check"===o.getListType()&&(n||s.getFirstDescendant()===i)&&(null!=(n=e.getElementByKey(s.__key))&&document.activeElement!==n))return n.focus(),t.preventDefault(),!0}}}return!1}))),l.COMMAND_PRIORITY_LOW),e.registerRootListener(((e,t)=>{null!==e&&(e.addEventListener("click",u),e.addEventListener("pointerdown",c)),null!==t&&(t.removeEventListener("click",u),t.removeEventListener("pointerdown",c))}))))),null}},146168:function(e,t,n){const r=n(989003);e.exports=r},989003:function(e,t,n){var r=n(873435),i=n(84260),o=n(376969),l=n(932998),s=n(667294);e.exports=function({newTab:e=!0}){let[t]=i.useLexicalComposerContext();return s.useEffect((()=>{let n=n=>{const i=n.target;if(i instanceof Node){var s=l.getNearestEditorFromDOMNode(i);if(null!==s){var a=null,u=null;s.update((()=>{var e=l.$getNearestNodeFromDOMNode(i);if(null!==e)if(e=o.$findMatchingParent(e,l.$isElementNode),r.$isLinkNode(e))a=e.getURL(),u=e.getTarget();else{e:{e=o.isHTMLAnchorElement;let t=i;for(;null!=t;){if(e(t)){e=t;break e}t=t.parentNode}e=null}null!==e&&(a=e.href,u=e.target)}})),null!==a&&""!==a&&(s=t.getEditorState().read(l.$getSelection),l.$isRangeSelection(s)&&!s.isCollapsed()||(s="auxclick"===n.type&&1===n.button,window.open(a,e||s||n.metaKey||n.ctrlKey||"_blank"===u?"_blank":"_self")),n.preventDefault())}}},i=e=>{1===e.button&&t.isEditable()&&n(e)};return t.registerRootListener(((e,t)=>{null!==t&&(t.removeEventListener("click",n),t.removeEventListener("mouseup",i)),null!==e&&(e.addEventListener("click",n),e.addEventListener("mouseup",i))}))}),[t,e]),null}},822292:function(e,t,n){const r=n(544149);e.exports=r},544149:function(e,t,n){var r=n(84260),i=n(932998),o=n(667294);let l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var s=l?o.useLayoutEffect:o.useEffect;let a={tag:"history-merge"};t.LexicalComposer=function({initialConfig:e,children:t}){let n=o.useMemo((()=>{const{theme:t,namespace:n,editor__DEPRECATED:o,nodes:s,onError:u,editorState:c}=e,d=r.createLexicalComposerContext(null,t);let f=o||null;if(null===f){const r=i.createEditor({editable:e.editable,namespace:n,nodes:s,onError:e=>u(e,r),theme:t});!function(e,t){if(null!==t)if(void 0===t)e.update((()=>{var t=i.$getRoot();if(t.isEmpty()){let n=i.$createParagraphNode();t.append(n),t=l?document.activeElement:null,(null!==i.$getSelection()||null!==t&&t===e.getRootElement())&&n.select()}}),a);else if(null!==t)switch(typeof t){case"string":let n=e.parseEditorState(t);e.setEditorState(n,a);break;case"object":e.setEditorState(t,a);break;case"function":e.update((()=>{i.$getRoot().isEmpty()&&t(e)}),a)}}(r,c),f=r}return[f,d]}),[]);return s((()=>{let t=e.editable,[r]=n;r.setEditable(void 0===t||t)}),[]),o.createElement(r.LexicalComposerContext.Provider,{value:n},t)}},84260:function(e,t,n){const r=n(433489);e.exports=r},433489:function(e,t,n){var r=n(667294);let i=r.createContext(null);t.LexicalComposerContext=i,t.createLexicalComposerContext=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},t.useLexicalComposerContext=function(){let e=r.useContext(i);return null==e&&function(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}},906898:function(e,t,n){const r=n(115781);e.exports=r},115781:function(e,t,n){var r=n(84260),i=n(667294);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;t.ContentEditable=function({ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:n,ariaDescribedBy:s,ariaExpanded:a,ariaLabel:u,ariaLabelledBy:c,ariaMultiline:d,ariaOwns:f,ariaRequired:g,autoCapitalize:h,className:p,id:m,role:_="textbox",spellCheck:v=!0,style:y,tabIndex:C,"data-testid":N,...E}){let[T]=r.useLexicalComposerContext(),[S,x]=i.useState(!1),b=i.useCallback((e=>{T.setRootElement(e)}),[T]);return l((()=>(x(T.isEditable()),T.registerEditableListener((e=>{x(e)})))),[T]),i.createElement("div",o({},E,{"aria-activedescendant":S?e:void 0,"aria-autocomplete":S?t:"none","aria-controls":S?n:void 0,"aria-describedby":s,"aria-expanded":S&&"combobox"===_?!!a:void 0,"aria-label":u,"aria-labelledby":c,"aria-multiline":d,"aria-owns":S?f:void 0,"aria-readonly":!S||void 0,"aria-required":g,autoCapitalize:h,className:p,contentEditable:S,"data-testid":N,id:m,ref:b,role:_,spellCheck:v,style:y,tabIndex:C}))}},448082:function(e,t,n){const r=n(917264);e.exports=r},917264:function(e,t,n){var r=n(932998);class i extends r.DecoratorNode{constructor(e,t){super(t),this.__format=e||""}exportJSON(){return{format:this.__format||"",type:"decorator-block",version:1}}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(e){this.getWritable().__format=e}isInline(){return!1}}t.$isDecoratorBlockNode=function(e){return e instanceof i},t.DecoratorBlockNode=i},777943:function(e,t,n){const r=n(279848);e.exports=r},279848:function(e,t,n){var r=n(667294);function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var o={error:null},l=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=o,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(o)},n.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},n.componentDidUpdate=function(e,t){var n,r,i=this.props.resetKeys;null!==this.state.error&&null!==t.error&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,i)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,i),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent;if(t=t.fallback,null!==e){if(e={error:e,resetErrorBoundary:this.resetErrorBoundary},r.isValidElement(t))return t;if("function"==typeof n)return n(e);if(i)return r.createElement(i,e);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);e.exports=function({children:e,onError:t}){return r.createElement(l,{fallback:r.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:t},e)}},704506:function(e,t,n){const r=n(800548);e.exports=r},800548:function(e,t,n){var r=n(84260),i=n(548854),o=n(667294);t.createEmptyHistoryState=i.createEmptyHistoryState,t.HistoryPlugin=function({externalHistoryState:e}){let[t]=r.useLexicalComposerContext();return function(e,t,n=1e3){let r=o.useMemo((()=>t||i.createEmptyHistoryState()),[t]);o.useEffect((()=>i.registerHistory(e,r,n)),[n,e,r])}(t,e),null}},741589:function(e,t,n){const r=n(547618);e.exports=r},547618:function(e,t,n){var r=n(84260),i=n(425567),o=n(376969),l=n(932998),s=n(667294);let a=l.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function u({nodeKey:e}){let[t]=r.useLexicalComposerContext(),[n,a,u]=i.useLexicalNodeSelection(e),c=s.useCallback((t=>(n&&l.$isNodeSelection(l.$getSelection())&&(t.preventDefault(),g(t=l.$getNodeByKey(e))&&t.remove()),!1)),[n,e]);return s.useEffect((()=>o.mergeRegister(t.registerCommand(l.CLICK_COMMAND,(r=>{let i=t.getElementByKey(e);return r.target===i&&(r.shiftKey||u(),a(!n),!0)}),l.COMMAND_PRIORITY_LOW),t.registerCommand(l.KEY_DELETE_COMMAND,c,l.COMMAND_PRIORITY_LOW),t.registerCommand(l.KEY_BACKSPACE_COMMAND,c,l.COMMAND_PRIORITY_LOW))),[u,t,n,e,c,a]),s.useEffect((()=>{let r=t.getElementByKey(e);null!==r&&(r.className=n?"selected":"")}),[t,n,e]),null}class c extends l.DecoratorNode{static getType(){return"horizontalrule"}static clone(e){return new c(e.__key)}static importJSON(){return f()}static importDOM(){return{hr:()=>({conversion:d,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return s.createElement(u,{nodeKey:this.__key})}}function d(){return{node:f()}}function f(){return l.$applyNodeReplacement(new c)}function g(e){return e instanceof c}t.$createHorizontalRuleNode=f,t.$isHorizontalRuleNode=g,t.HorizontalRuleNode=c,t.INSERT_HORIZONTAL_RULE_COMMAND=a},373541:function(e,t,n){const r=n(488789);e.exports=r},488789:function(e,t,n){var r=n(84260),i=n(741589),o=n(376969),l=n(932998),s=n(667294);t.HorizontalRulePlugin=function(){let[e]=r.useLexicalComposerContext();return s.useEffect((()=>e.registerCommand(i.INSERT_HORIZONTAL_RULE_COMMAND,(()=>{var e=l.$getSelection();return!!l.$isRangeSelection(e)&&(null!==e.focus.getNode()&&(e=i.$createHorizontalRuleNode(),o.$insertNodeToNearestRoot(e)),!0)}),l.COMMAND_PRIORITY_EDITOR)),[e]),null}},569421:function(e,t,n){const r=n(686458);e.exports=r},686458:function(e,t,n){var r=n(873435),i=n(84260),o=n(376969),l=n(932998),s=n(667294);t.LinkPlugin=function({validateUrl:e}){let[t]=i.useLexicalComposerContext();return s.useEffect((()=>{if(!t.hasNodes([r.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return o.mergeRegister(t.registerCommand(r.TOGGLE_LINK_COMMAND,(t=>{if(null===t)return r.toggleLink(t),!0;if("string"==typeof t)return!(void 0!==e&&!e(t))&&(r.toggleLink(t),!0);let{url:n,target:i,rel:o,title:l}=t;return r.toggleLink(n,{rel:o,target:i,title:l}),!0}),l.COMMAND_PRIORITY_LOW),void 0!==e?t.registerCommand(l.PASTE_COMMAND,(n=>{let i=l.$getSelection();if(!l.$isRangeSelection(i)||i.isCollapsed()||!(n instanceof ClipboardEvent)||null==n.clipboardData)return!1;let o=n.clipboardData.getData("text");return!!e(o)&&(!i.getNodes().some((e=>l.$isElementNode(e)))&&(t.dispatchCommand(r.TOGGLE_LINK_COMMAND,o),n.preventDefault(),!0))}),l.COMMAND_PRIORITY_LOW):()=>{})}),[t,e]),null}},438957:function(e,t,n){const r=n(447336);e.exports=r},447336:function(e,t,n){var r=n(244783),i=n(84260),o=n(667294),l=n(376969),s=n(932998);t.ListPlugin=function(){let[e]=i.useLexicalComposerContext();return o.useEffect((()=>{if(!e.hasNodes([r.ListNode,r.ListItemNode]))throw Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[e]),function(e){o.useEffect((()=>l.mergeRegister(e.registerCommand(r.INSERT_ORDERED_LIST_COMMAND,(()=>(r.insertList(e,"number"),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(r.INSERT_UNORDERED_LIST_COMMAND,(()=>(r.insertList(e,"bullet"),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(r.REMOVE_LIST_COMMAND,(()=>(r.removeList(e),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(s.INSERT_PARAGRAPH_COMMAND,(()=>!!r.$handleListInsertParagraph()),s.COMMAND_PRIORITY_LOW))),[e])}(e),null}},487632:function(e,t,n){const r=n(208845);e.exports=r},208845:function(e,t,n){var r=n(36571),i=n(84260),o=n(741589),l=n(667294);let s=[{dependencies:[o.HorizontalRuleNode],export:e=>o.$isHorizontalRuleNode(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,r)=>{t=o.$createHorizontalRuleNode(),r||null!=e.getNextSibling()?e.replace(t):e.insertBefore(t),t.selectNext()},type:"element"},...r.TRANSFORMERS];t.DEFAULT_TRANSFORMERS=s,t.MarkdownShortcutPlugin=function({transformers:e=s}){let[t]=i.useLexicalComposerContext();return l.useEffect((()=>r.registerMarkdownShortcuts(t,e)),[t,e]),null}},971954:function(e,t,n){const r=n(161689);e.exports=r},161689:function(e,t,n){var r=n(84260),i=n(667294),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;t.OnChangePlugin=function({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:n}){let[i]=r.useLexicalComposerContext();return o((()=>{if(n)return i.registerUpdateListener((({editorState:r,dirtyElements:o,dirtyLeaves:l,prevEditorState:s,tags:a})=>{t&&0===o.size&&0===l.size||e&&a.has("history-merge")||s.isEmpty()||n(r,i,a)}))}),[i,e,t,n]),null}},886146:function(e,t,n){const r=n(361827);e.exports=r},361827:function(e,t,n){var r=n(84260),i=n(909722),o=n(667294),l=n(302977),s=n(376969),a=n(973935),u=n(570573),c=n(2903),d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function f(e){return e.getEditorState().read(l.$canShowPlaceholderCurry(e.isComposing()))}function g({content:e}){var[t]=r.useLexicalComposerContext();t=function(e){let[t,n]=o.useState((()=>f(e)));return d((()=>{function t(){let t=f(e);n(t)}return t(),s.mergeRegister(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(t);let n=i();return t?"function"==typeof e?e(n):e:null}t.RichTextPlugin=function({contentEditable:e,placeholder:t,ErrorBoundary:n}){let[i]=r.useLexicalComposerContext();return n=function(e,t){let[n,r]=o.useState((()=>e.getDecorators()));return d((()=>e.registerDecoratorListener((e=>{a.flushSync((()=>{r(e)}))}))),[e]),o.useEffect((()=>{r(e.getDecorators())}),[e]),o.useMemo((()=>{let r=[],i=Object.keys(n);for(let l=0;l<i.length;l++){let s=i[l],u=o.createElement(t,{onError:t=>e._onError(t)},o.createElement(o.Suspense,{fallback:null},n[s])),c=e.getElementByKey(s);null!==c&&r.push(a.createPortal(u,c,s))}return r}),[t,n,e])}(i,n),function(e){d((()=>s.mergeRegister(c.registerRichText(e),u.registerDragonSupport(e))),[e])}(i),o.createElement(o.Fragment,null,e,o.createElement(g,{content:t}),n)}},748563:function(e,t,n){const r=n(94677);e.exports=r},94677:function(e,t,n){var r=n(84260),i=n(376969),o=n(932998),l=n(667294);function s(e){return e.registerCommand(o.KEY_TAB_COMMAND,(t=>{let n=o.$getSelection();return!!o.$isRangeSelection(n)&&(t.preventDefault(),t=function(e){var t=e.getNodes();if(0<function(e,t){let n=[];for(let r=0;r<e.length;r++){let i=t(e[r]);null!==i&&n.push(i)}return n}(t,(e=>o.$isBlockElementNode(e)&&e.canIndent()?e:null)).length)return!0;if(t=e.anchor,t=(e=(e=e.focus).isBefore(t)?e:t).getNode(),(t=i.$getNearestBlockElementAncestorOrThrow(t)).canIndent()){t=t.getKey();let n=o.$createRangeSelection();if(n.anchor.set(t,0,"element"),n.focus.set(t,0,"element"),n=o.$normalizeSelection__EXPERIMENTAL(n),n.anchor.is(e))return!0}return!1}(n)?t.shiftKey?o.OUTDENT_CONTENT_COMMAND:o.INDENT_CONTENT_COMMAND:o.INSERT_TAB_COMMAND,e.dispatchCommand(t,void 0))}),o.COMMAND_PRIORITY_EDITOR)}t.TabIndentationPlugin=function(){let[e]=r.useLexicalComposerContext();return l.useEffect((()=>s(e))),null},t.registerTabIndentation=s},913760:function(e,t,n){const r=n(268002);e.exports=r},268002:function(e,t,n){var r=n(84260),i=n(491058),o=n(376969),l=n(932998),s=n(667294);t.TablePlugin=function({hasCellMerge:e=!0,hasCellBackgroundColor:t=!0,hasTabHandler:n=!0}){let[a]=r.useLexicalComposerContext();return s.useEffect((()=>(a.hasNodes([i.TableNode,i.TableCellNode,i.TableRowNode])||function(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(10),a.registerCommand(i.INSERT_TABLE_COMMAND,(({columns:e,rows:t,includeHeaders:n})=>(e=i.$createTableNodeWithDimensions(Number(t),Number(e),n),o.$insertNodeToNearestRoot(e),e=e.getFirstDescendant(),l.$isTextNode(e)&&e.select(),!0)),l.COMMAND_PRIORITY_EDITOR))),[a]),s.useEffect((()=>{let e=new Map,t=t=>{const r=t.getKey(),o=a.getElementByKey(r);o&&!e.has(r)&&(t=i.applyTableHandlers(t,o,a,n),e.set(r,t))};a.getEditorState().read((()=>{let e=l.$nodesOfType(i.TableNode);for(let n of e)i.$isTableNode(n)&&t(n)}));let r=a.registerMutationListener(i.TableNode,(n=>{for(const[r,o]of n)"created"===o?a.getEditorState().read((()=>{const e=l.$getNodeByKey(r);i.$isTableNode(e)&&t(e)})):"destroyed"===o&&(void 0!==(n=e.get(r))&&(n.removeListeners(),e.delete(r)))}));return()=>{r();for(let[,t]of e)t.removeListeners()}}),[a,n]),s.useEffect((()=>{if(!e)return a.registerNodeTransform(i.TableCellNode,(e=>{if(1<e.getColSpan()||1<e.getRowSpan()){var[,,t]=l.DEPRECATED_$getNodeTriplet(e);[e]=l.DEPRECATED_$computeGridMap(t,e,e);let o=e.length,s=e[0].length;if(t=t.getFirstChild(),!l.DEPRECATED_$isGridRowNode(t))throw Error("Expected TableNode first child to be a RowNode");let a=[];for(let u=0;u<o;u++){if(0!==u&&(t=t.getNextSibling(),!l.DEPRECATED_$isGridRowNode(t)))throw Error("Expected TableNode first child to be a RowNode");let o=null;for(let l=0;l<s;l++){var n=e[u][l],r=n.cell;if(n.startRow===u&&n.startColumn===l)o=r,a.push(r);else if(1<r.getColSpan()||1<r.getRowSpan())if(r=i.$createTableCellNode(r.__headerState),null!==o)o.insertAfter(r);else{let e=(n=t).getFirstChild();null!==e?e.insertBefore(r):n.append(r)}}}for(let e of a)e.setColSpan(1),e.setRowSpan(1)}}))}),[a,e]),s.useEffect((()=>{if(!t)return a.registerNodeTransform(i.TableCellNode,(e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)}))}),[a,t,e]),null}},50185:function(e,t,n){const r=n(468349);e.exports=r},468349:function(e,t,n){var r=n(84260),i=n(932998),o=n(667294),l=n(376969),s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;let a=e=>{const t=document.getElementById("typeahead-menu");if(t){var n=t.getBoundingClientRect();n.top+n.height>window.innerHeight&&t.scrollIntoView({block:"center"}),0>n.top&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})}};function u(e,t){return e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),e.top>t.top&&e.top<t.bottom}function c(e,t,n,i){let[l]=r.useLexicalComposerContext();o.useEffect((()=>{if(null!=t&&null!=e){let e=l.getRootElement(),r=null!=e?function(e,t){let n=getComputedStyle(e),r="absolute"===n.position;if(t=t?/(auto|scroll|hidden)/:/(auto|scroll)/,"fixed"===n.position)return document.body;for(;e=e.parentElement;)if(n=getComputedStyle(e),(!r||"static"!==n.position)&&t.test(n.overflow+n.overflowY+n.overflowX))return e;return document.body}(e,!1):document.body,o=!1,s=u(t,r),a=function(){o||(window.requestAnimationFrame((function(){n(),o=!1})),o=!0);const e=u(t,r);e!==s&&(s=e,null!=i&&i(e))},c=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",a,{capture:!0,passive:!0}),c.observe(t),()=>{c.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",a)}}}),[t,l,i,n,e])}let d=i.createCommand("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function f({close:e,editor:t,anchorElementRef:n,resolution:r,options:u,menuRenderFn:c,onSelectOption:f,shouldSplitNodeWithQuery:g=!1}){let[h,p]=o.useState(null);o.useEffect((()=>{p(0)}),[r.match&&r.match.matchingString]);let m=o.useCallback((n=>{t.update((()=>{const t=null!=r.match&&g?function(e){var t=i.$getSelection();if(!i.$isRangeSelection(t)||!t.isCollapsed())return null;var n=t.anchor;if("text"!==n.type)return null;if(!(t=n.getNode()).isSimpleText())return null;n=n.offset;let r=t.getTextContent().slice(0,n);var o=e.matchingString;for(let t=e=e.replaceableString.length;t<=o.length;t++)r.substr(-t)===o.substr(0,t)&&(e=t);if(0>(e=n-e))return null;let l;return 0===e?[l]=t.splitText(n):[,l]=t.splitText(e,n),l}(r.match):null;f(n,t,e,r.match?r.match.matchingString:"")}))}),[t,g,r.match,f,e]),_=o.useCallback((e=>{const n=t.getRootElement();null!==n&&(n.setAttribute("aria-activedescendant","typeahead-item-"+e),p(e))}),[t]);return o.useEffect((()=>()=>{let e=t.getRootElement();null!==e&&e.removeAttribute("aria-activedescendant")}),[t]),s((()=>{null===u?p(null):null===h&&_(0)}),[u,h,_]),o.useEffect((()=>l.mergeRegister(t.registerCommand(d,(({option:e})=>!(!e.ref||null==e.ref.current)&&(a(e.ref.current),!0)),i.COMMAND_PRIORITY_LOW))),[t,_]),o.useEffect((()=>l.mergeRegister(t.registerCommand(i.KEY_ARROW_DOWN_COMMAND,(e=>{if(null!==u&&u.length&&null!==h){let n=h!==u.length-1?h+1:0;_(n);let r=u[n];null!=r.ref&&r.ref.current&&t.dispatchCommand(d,{index:n,option:r}),e.preventDefault(),e.stopImmediatePropagation()}return!0}),i.COMMAND_PRIORITY_LOW),t.registerCommand(i.KEY_ARROW_UP_COMMAND,(e=>{if(null!==u&&u.length&&null!==h){var t=0!==h?h-1:u.length-1;_(t),null!=(t=u[t]).ref&&t.ref.current&&a(t.ref.current),e.preventDefault(),e.stopImmediatePropagation()}return!0}),i.COMMAND_PRIORITY_LOW),t.registerCommand(i.KEY_ESCAPE_COMMAND,(t=>(t.preventDefault(),t.stopImmediatePropagation(),e(),!0)),i.COMMAND_PRIORITY_LOW),t.registerCommand(i.KEY_TAB_COMMAND,(e=>null!==u&&null!==h&&null!=u[h]&&(e.preventDefault(),e.stopImmediatePropagation(),m(u[h]),!0)),i.COMMAND_PRIORITY_LOW),t.registerCommand(i.KEY_ENTER_COMMAND,(e=>null!==u&&null!==h&&null!=u[h]&&(null!==e&&(e.preventDefault(),e.stopImmediatePropagation()),m(u[h]),!0)),i.COMMAND_PRIORITY_LOW))),[m,e,t,u,h,_]),c(n,o.useMemo((()=>({options:u,selectOptionAndCleanUp:m,selectedIndex:h,setHighlightedIndex:p})),[m,h,u]),r.match?r.match.matchingString:"")}function g(e,t){let n=getComputedStyle(e),r="absolute"===n.position;if(t=t?/(auto|scroll|hidden)/:/(auto|scroll)/,"fixed"===n.position)return document.body;for(;e=e.parentElement;)if(n=getComputedStyle(e),(!r||"static"!==n.position)&&t.test(n.overflow+n.overflowY+n.overflowX))return e;return document.body}function h(e,t){return e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),e.top>t.top&&e.top<t.bottom}let p=i.createCommand("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");t.LexicalTypeaheadMenuPlugin=function({options:e,onQueryChange:t,onSelectOption:n,onOpen:l,onClose:s,menuRenderFn:a,triggerFn:u,anchorClassName:d}){let[g]=r.useLexicalComposerContext(),[h,p]=o.useState(null);d=function(e,t,n){let[i]=r.useLexicalComposerContext(),l=o.useRef(document.createElement("div")),s=o.useCallback((()=>{const t=i.getRootElement(),r=l.current;var o=r.firstChild;if(null!==t&&null!==e){const{left:i,top:a,width:u,height:c}=e.getRect();if(r.style.top=`${a+window.pageYOffset}px`,r.style.left=`${i+window.pageXOffset}px`,r.style.height=`${c}px`,r.style.width=`${u}px`,null!==o){var s=o.getBoundingClientRect();o=s.height,s=s.width;const e=t.getBoundingClientRect();i+s>e.right&&(r.style.left=`${e.right-s+window.pageXOffset}px`),(a+o>window.innerHeight||a+o>e.bottom)&&a-e.top>o&&(r.style.top=a-o+window.pageYOffset-(c+10)+"px")}r.isConnected||(null!=n&&(r.className=n),r.setAttribute("aria-label","Typeahead menu"),r.setAttribute("id","typeahead-menu"),r.setAttribute("role","listbox"),r.style.display="block",r.style.position="absolute",document.body.append(r)),l.current=r,t.setAttribute("aria-controls","typeahead-menu")}}),[i,e,n]);o.useEffect((()=>{let t=i.getRootElement();if(null!==e)return s(),()=>{null!==t&&t.removeAttribute("aria-controls");let e=l.current;null!==e&&e.isConnected&&e.remove()}}),[i,s,e]);let a=o.useCallback((n=>{null!==e&&(n||t(null))}),[e,t]);return c(e,l.current,s,a),l}(h,p,d);let m=o.useCallback((()=>{p(null),null!=s&&null!==h&&s()}),[s,h]),_=o.useCallback((e=>{p(e),null!=l&&null===h&&l(e)}),[l,h]);return o.useEffect((()=>{let e=g.registerUpdateListener((()=>{g.getEditorState().read((()=>{const e=document.createRange(),n=i.$getSelection(),r=function(e){let t=null;return e.getEditorState().read((()=>{var e=i.$getSelection();if(i.$isRangeSelection(e)){var n=e.anchor;"text"!==n.type?t=null:(e=n.getNode()).isSimpleText()?(n=n.offset,t=e.getTextContent().slice(0,n)):t=null}})),t}(g);if(i.$isRangeSelection(n)&&n.isCollapsed()&&null!==r&&null!==e){var l=u(r,g);t(l?l.matchingString:null),null===l||function(e,t){return 0===t&&e.getEditorState().read((()=>{var e=i.$getSelection();return!!i.$isRangeSelection(e)&&(e=e.anchor.getNode().getPreviousSibling(),i.$isTextNode(e)&&e.isTextEntity())}))}(g,l.leadOffset)||null===function(e,t){var n=window.getSelection();if(null===n||!n.isCollapsed)return!1;let r=n.anchorNode;if(n=n.anchorOffset,null==r||null==n)return!1;try{t.setStart(r,e),t.setEnd(r,n)}catch(e){return!1}return!0}(l.leadOffset,e)?m():function(e){o.startTransition?o.startTransition(e):e()}((()=>_({getRect:()=>e.getBoundingClientRect(),match:l})))}else m()}))}));return()=>{e()}}),[g,u,t,h,m,_]),null===h||null===g?null:o.createElement(f,{close:m,resolution:h,editor:g,anchorElementRef:d,options:e,menuRenderFn:a,shouldSplitNodeWithQuery:!0,onSelectOption:n})},t.MenuOption=class{constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}},t.PUNCTUATION="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",t.SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND=p,t.getScrollParent=g,t.useBasicTypeaheadTriggerMatch=function(e,{minLength:t=1,maxLength:n=75}){return o.useCallback((r=>{if(null!==(r=new RegExp("(^|\\s|\\()(["+e+"]((?:[^"+e+"\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;\\s]){0,"+n+"}))$").exec(r))){let e=r[1],n=r[3];if(n.length>=t)return{leadOffset:r.index+e.length,matchingString:n,replaceableString:r[2]}}return null}),[n,t,e])},t.useDynamicPositioning=function(e,t,n,i){let[l]=r.useLexicalComposerContext();o.useEffect((()=>{if(null!=t&&null!=e){let e=l.getRootElement(),r=null!=e?g(e,!1):document.body,o=!1,s=h(t,r),a=function(){o||(window.requestAnimationFrame((function(){n(),o=!1})),o=!0);const e=h(t,r);e!==s&&(s=e,null!=i&&i(e))},u=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",a,{capture:!0,passive:!0}),u.observe(t),()=>{u.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",a)}}}),[t,l,i,n,e])}},909722:function(e,t,n){const r=n(965836);e.exports=r},965836:function(e,t,n){var r=n(84260),i=n(667294),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function l(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}e.exports=function(){return function(e){let[t]=r.useLexicalComposerContext(),n=i.useMemo((()=>e(t)),[t,e]),l=i.useRef(n.initialValueFn()),[s,a]=i.useState(l.current);return o((()=>{let{initialValueFn:e,subscribe:t}=n,r=e();return l.current!==r&&(l.current=r,a(r)),t((e=>{l.current=e,a(e)}))}),[n,e]),s}(l)}},425567:function(e,t,n){const r=n(599121);e.exports=r},599121:function(e,t,n){var r=n(84260),i=n(932998),o=n(667294);function l(e,t){return e.getEditorState().read((()=>{let e=i.$getNodeByKey(t);return null!==e&&e.isSelected()}))}t.useLexicalNodeSelection=function(e){let[t]=r.useLexicalComposerContext(),[n,s]=o.useState((()=>l(t,e)));return o.useEffect((()=>{let n=!0,r=t.registerUpdateListener((()=>{n&&s(l(t,e))}));return()=>{n=!1,r()}}),[t,e]),[n,o.useCallback((n=>{t.update((()=>{let t=i.$getSelection();i.$isNodeSelection(t)||(t=i.$createNodeSelection(),i.$setSelection(t)),n?t.add(e):t.delete(e)}))}),[t,e]),o.useCallback((()=>{t.update((()=>{const e=i.$getSelection();i.$isNodeSelection(e)&&e.clear()}))}),[t])]}},2903:function(e,t,n){const r=n(640925);e.exports=r},640925:function(e,t,n){var r=n(986907),i=n(389408),o=n(376969),l=n(932998);function s(e,t){return void 0!==document.caretRangeFromPoint?null===(e=document.caretRangeFromPoint(e,t))?null:{node:e.startContainer,offset:e.startOffset}:"undefined"!==document.caretPositionFromPoint?null===(e=document.caretPositionFromPoint(e,t))?null:{node:e.offsetNode,offset:e.offset}:null}let a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,u=a&&"documentMode"in document?document.documentMode:null;a&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),a&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);let c=!(!a||!("InputEvent"in window)||u)&&"getTargetRanges"in new window.InputEvent("input"),d=a&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),f=a&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,g=a&&/^(?=.*Chrome).*/i.test(navigator.userAgent),h=a&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!g,p=l.createCommand("DRAG_DROP_PASTE_FILE");class m extends l.ElementNode{static getType(){return"quote"}static clone(e){return new m(e.__key)}constructor(e){super(e)}createDOM(e){let t=document.createElement("blockquote");return o.addClassNamesToElement(t,e.theme.quote),t}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:N,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}static importJSON(e){let t=_();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,t){e=l.$createParagraphNode();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=l.$createParagraphNode();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}}function _(){return l.$applyNodeReplacement(new m)}class v extends l.ElementNode{static getType(){return"heading"}static clone(e){return new v(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){let t=this.__tag,n=document.createElement(t);return void 0!==(e=e.theme.heading)&&o.addClassNamesToElement(n,e[t]),n}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:C,priority:0}),h2:()=>({conversion:C,priority:0}),h3:()=>({conversion:C,priority:0}),h4:()=>({conversion:C,priority:0}),h5:()=>({conversion:C,priority:0}),h6:()=>({conversion:C,priority:0}),p:e=>null!==(e=e.firstChild)&&y(e)?{conversion:()=>({node:null}),priority:3}:null,span:e=>y(e)?{conversion:()=>({node:E("h1")}),priority:3}:null}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}static importJSON(e){let t=E(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,t=!0){e=0<(e=e?e.anchor.offset:0)&&e<this.getTextContentSize()?E(this.getTag()):l.$createParagraphNode();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.isEmpty()?l.$createParagraphNode():E(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}}function y(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function C(e){let t=e.nodeName.toLowerCase(),n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=E(t),null!==e.style&&n.setFormat(e.style.textAlign)),{node:n}}function N(e){let t=_();return null!==e.style&&t.setFormat(e.style.textAlign),{node:t}}function E(e){return l.$applyNodeReplacement(new v(e))}function T(e){let t=null;if(e instanceof DragEvent?t=e.dataTransfer:e instanceof ClipboardEvent&&(t=e.clipboardData),null===t)return[!1,[],!1];var n=t.types;return e=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[e,Array.from(t.files),n]}function S(e){var t=l.$getSelection();if(!l.$isRangeSelection(t))return!1;let n=new Set;t=t.getNodes();for(let l=0;l<t.length;l++){var r=t[l],i=r.getKey();n.has(i)||(i=(r=o.$getNearestBlockElementAncestorOrThrow(r)).getKey(),r.canIndent()&&!n.has(i)&&(n.add(i),e(r)))}return 0<n.size}function x(e){return e=l.$getNearestNodeFromDOMNode(e),l.$isDecoratorNode(e)}t.$createHeadingNode=E,t.$createQuoteNode=_,t.$isHeadingNode=function(e){return e instanceof v},t.$isQuoteNode=function(e){return e instanceof m},t.DRAG_DROP_PASTE=p,t.HeadingNode=v,t.QuoteNode=m,t.eventFiles=T,t.registerRichText=function(e){return o.mergeRegister(e.registerCommand(l.CLICK_COMMAND,(()=>{const e=l.$getSelection();return!!l.$isNodeSelection(e)&&(e.clear(),!0)}),0),e.registerCommand(l.DELETE_CHARACTER_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DELETE_WORD_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.deleteWord(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DELETE_LINE_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.deleteLine(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.CONTROLLED_TEXT_INSERTION_COMMAND,(t=>{const n=l.$getSelection();if("string"==typeof t)l.$isRangeSelection(n)?n.insertText(t):l.DEPRECATED_$isGridSelection(n);else{if(!l.$isRangeSelection(n)&&!l.DEPRECATED_$isGridSelection(n))return!1;const i=t.dataTransfer;null!=i?r.$insertDataTransferForRichText(i,n,e):l.$isRangeSelection(n)&&(t=t.data)&&n.insertText(t)}return!0}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.REMOVE_TEXT_COMMAND,(()=>{const e=l.$getSelection();return!!l.$isRangeSelection(e)&&(e.removeText(),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.FORMAT_TEXT_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.formatText(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.FORMAT_ELEMENT_COMMAND,(e=>{var t=l.$getSelection();if(!l.$isRangeSelection(t)&&!l.$isNodeSelection(t))return!1;t=t.getNodes();for(const n of t)null!==(t=o.$findMatchingParent(n,(e=>l.$isElementNode(e)&&!e.isInline())))&&t.setFormat(e);return!0}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.INSERT_LINE_BREAK_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.INSERT_PARAGRAPH_COMMAND,(()=>{const e=l.$getSelection();return!!l.$isRangeSelection(e)&&(e.insertParagraph(),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.INSERT_TAB_COMMAND,(()=>(l.$insertNodes([l.$createTabNode()]),!0)),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.INDENT_CONTENT_COMMAND,(()=>S((e=>{const t=e.getIndent();e.setIndent(t+1)}))),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.OUTDENT_CONTENT_COMMAND,(()=>S((e=>{const t=e.getIndent();0<t&&e.setIndent(t-1)}))),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ARROW_UP_COMMAND,(e=>{var t=l.$getSelection();if(l.$isNodeSelection(t)&&!x(e.target)){if(0<(e=t.getNodes()).length)return e[0].selectPrevious(),!0}else if(l.$isRangeSelection(t)&&(t=l.$getAdjacentNode(t.focus,!0),!e.shiftKey&&l.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline()))return t.selectPrevious(),e.preventDefault(),!0;return!1}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ARROW_DOWN_COMMAND,(e=>{var t=l.$getSelection();if(l.$isNodeSelection(t)){if(0<(e=t.getNodes()).length)return e[0].selectNext(0,0),!0}else if(l.$isRangeSelection(t)){let n=t.focus;if("root"===n.key&&n.offset===l.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(t=l.$getAdjacentNode(t.focus,!1),!e.shiftKey&&l.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectNext(),e.preventDefault(),!0}return!1}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ARROW_LEFT_COMMAND,(e=>{const t=l.$getSelection();if(l.$isNodeSelection(t)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectPrevious(),!0}return!!l.$isRangeSelection(t)&&(!!i.$shouldOverrideDefaultCharacterSelection(t,!0)&&(n=e.shiftKey,e.preventDefault(),i.$moveCharacter(t,n,!0),!0))}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ARROW_RIGHT_COMMAND,(e=>{const t=l.$getSelection();if(l.$isNodeSelection(t)&&!x(e.target)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectNext(0,0),!0}return!!l.$isRangeSelection(t)&&(n=e.shiftKey,!!i.$shouldOverrideDefaultCharacterSelection(t,!1)&&(e.preventDefault(),i.$moveCharacter(t,n,!1),!0))}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_BACKSPACE_COMMAND,(t=>{if(x(t.target))return!1;const n=l.$getSelection();if(!l.$isRangeSelection(n))return!1;t.preventDefault(),({anchor:t}=n);const r=t.getNode();return n.isCollapsed()&&0===t.offset&&!l.$isRootNode(r)&&0<o.$getNearestBlockElementAncestorOrThrow(r).getIndent()?e.dispatchCommand(l.OUTDENT_CONTENT_COMMAND,void 0):e.dispatchCommand(l.DELETE_CHARACTER_COMMAND,!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_DELETE_COMMAND,(t=>{if(x(t.target))return!1;const n=l.$getSelection();return!!l.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(l.DELETE_CHARACTER_COMMAND,!1))}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ENTER_COMMAND,(t=>{const n=l.$getSelection();if(!l.$isRangeSelection(n))return!1;if(null!==t){if((f||d||h)&&c)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(l.INSERT_LINE_BREAK_COMMAND,!1)}return e.dispatchCommand(l.INSERT_PARAGRAPH_COMMAND,void 0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ESCAPE_COMMAND,(()=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(e.blur(),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DROP_COMMAND,(t=>{const[,n]=T(t);if(0<n.length){var r=s(t.clientX,t.clientY);if(null!==r){const{offset:t,node:o}=r;var i=l.$getNearestNodeFromDOMNode(o);if(null!==i){if(r=l.$createRangeSelection(),l.$isTextNode(i))r.anchor.set(i.getKey(),t,"text"),r.focus.set(i.getKey(),t,"text");else{const e=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(e,i,"element"),r.focus.set(e,i,"element")}r=l.$normalizeSelection__EXPERIMENTAL(r),l.$setSelection(r)}e.dispatchCommand(p,n)}return t.preventDefault(),!0}return t=l.$getSelection(),!!l.$isRangeSelection(t)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DRAGSTART_COMMAND,(e=>{[e]=T(e);const t=l.$getSelection();return!(e&&!l.$isRangeSelection(t))}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DRAGOVER_COMMAND,(e=>{var[t]=T(e);const n=l.$getSelection();return!(t&&!l.$isRangeSelection(n))&&(null!==(t=s(e.clientX,e.clientY))&&(t=l.$getNearestNodeFromDOMNode(t.node),l.$isDecoratorNode(t)&&e.preventDefault()),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.SELECT_ALL_COMMAND,(()=>(l.$selectAll(),!0)),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.COPY_COMMAND,(t=>(r.copyToClipboard(e,o.objectKlassEquals(t,ClipboardEvent)?t:null),!0)),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.CUT_COMMAND,(t=>(async function(e,t){await r.copyToClipboard(t,o.objectKlassEquals(e,ClipboardEvent)?e:null),t.update((()=>{let e=l.$getSelection();l.$isRangeSelection(e)?e.removeText():l.$isNodeSelection(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.PASTE_COMMAND,(t=>{const[,n,i]=T(t);if(0<n.length&&!i)return e.dispatchCommand(p,n),!0;if(l.isSelectionCapturedInDecoratorInput(t.target))return!1;const o=l.$getSelection();return!(!l.$isRangeSelection(o)&&!l.DEPRECATED_$isGridSelection(o))&&(function(e,t){e.preventDefault(),t.update((()=>{let n=l.$getSelection(),i=e instanceof InputEvent||e instanceof KeyboardEvent?null:e.clipboardData;null!=i&&(l.$isRangeSelection(n)||l.DEPRECATED_$isGridSelection(n))&&r.$insertDataTransferForRichText(i,n,t)}),{tag:"paste"})}(t,e),!0)}),l.COMMAND_PRIORITY_EDITOR))}},389408:function(e,t,n){const r=n(649235);e.exports=r},649235:function(e,t,n){var r=n(932998);let i=new Map;function o(e){for(;null!=e;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function l(e){let t=e.parentNode;if(null==t)throw Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function s(e){let t={};e=e.split(";");for(let n of e)if(""!==n){let[e,r]=n.split(/:([^]+)/);t[e.trim()]=r.trim()}return t}function a(e){let t=i.get(e);return void 0===t&&(t=s(e),i.set(e,t)),t}function u(e,t){var n=a("getStyle"in e?e.getStyle():e.style);n=function(e){let t="";for(let n in e)n&&(t+=`${n}: ${e[n]};`);return t}(t=Object.entries(t).reduce(((e,[t,n])=>(null===n?delete e[t]:e[t]=n,e)),{...n})),e.setStyle(n),i.set(n,t)}function c(e){for(;null!==e&&!r.$isRootOrShadowRoot(e);){let t=e.getLatest(),n=e.getParent();0===t.getChildrenSize()&&e.remove(!0),e=n}}function d(e,t,n,i,o=null){if(0!==t.length){var l=t[0],s=new Map,a=[];(l=r.$isElementNode(l)?l:l.getParentOrThrow()).isInline()&&(l=l.getParentOrThrow());for(var u=!1;null!==l;){var d=l.getPreviousSibling();if(null!==d){l=d,u=!0;break}if(l=l.getParentOrThrow(),r.$isRootOrShadowRoot(l))break}d=new Set;for(var f=0;f<n;f++){var g=t[f];r.$isElementNode(g)&&0===g.getChildrenSize()&&d.add(g.getKey())}var h=new Set;for(f=0;f<n;f++){var p=(g=t[f]).getParent();if(null!==p&&p.isInline()&&(p=p.getParent()),null!==p&&r.$isLeafNode(g)&&!h.has(g.getKey())){if(g=p.getKey(),void 0===s.get(g)){let e=i();e.setFormat(p.getFormatType()),e.setIndent(p.getIndent()),a.push(e),s.set(g,e),p.getChildren().forEach((t=>{e.append(t),h.add(t.getKey()),r.$isElementNode(t)&&t.getChildrenKeys().forEach((e=>h.add(e)))})),c(p)}}else d.has(g.getKey())&&((p=i()).setFormat(g.getFormatType()),p.setIndent(g.getIndent()),a.push(p),g.remove(!0))}if(null!==o)for(t=0;t<a.length;t++)o.append(a[t]);if(t=null,r.$isRootOrShadowRoot(l))if(u)if(null!==o)l.insertAfter(o);else for(o=a.length-1;0<=o;o--)l.insertAfter(a[o]);else if(u=l.getFirstChild(),r.$isElementNode(u)&&(l=u),null===u)if(o)l.append(o);else for(o=0;o<a.length;o++)u=a[o],l.append(u),t=u;else if(null!==o)u.insertBefore(o);else for(l=0;l<a.length;l++)o=a[l],u.insertBefore(o),t=o;else if(o)l.insertAfter(o);else for(o=a.length-1;0<=o;o--)u=a[o],l.insertAfter(u),t=u;a=r.$getPreviousSelection(),r.$isRangeSelection(a)&&a.anchor.getNode().isAttached()&&a.focus.getNode().isAttached()?r.$setSelection(a.clone()):null!==t?t.selectEnd():e.dirty=!0}}function f(e,t,n,r){e.modify(t?"extend":"move",n,r)}function g(e){return e=e.anchor.getNode(),"rtl"===(r.$isRootNode(e)?e:e.getParentOrThrow()).getDirection()}t.$addNodeStyle=function(e){let t=s(e=e.getStyle());i.set(e,t)},t.$cloneWithProperties=function(e){let t=(e=e.getLatest()).constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,r.$isElementNode(e)&&r.$isElementNode(t)?(t.__first=e.__first,t.__last=e.__last,t.__size=e.__size,t.__format=e.__format,t.__indent=e.__indent,t.__dir=e.__dir,t):(r.$isTextNode(e)&&r.$isTextNode(t)&&(t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail),t)},t.$getSelectionStyleValueForProperty=function(e,t,n=""){let i=null,o=e.getNodes();var l=e.anchor,s=e.focus,u=e.isBackward();let c=u?s.offset:l.offset;if(l=u?s.getNode():l.getNode(),""!==e.style&&(null!==(e=a(e.style))&&t in e))return e[t];for(e=0;e<o.length;e++){var d=o[e];if((0===e||0!==c||!d.is(l))&&r.$isTextNode(d))if(s=t,u=n,s=null!==(d=a(d=d.getStyle()))&&d[s]||u,null===i)i=s;else if(i!==s){i="";break}}return null===i?n:i},t.$isAtNodeEnd=function(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()},t.$isParentElementRTL=g,t.$moveCaretSelection=f,t.$moveCharacter=function(e,t,n){let r=g(e);f(e,t,n?!r:r,"character")},t.$patchStyleText=function(e,t){var n=e.getNodes();let i=n.length-1,o=n[0],l=n[i];if(e.isCollapsed())u(e,t);else{var s=e.anchor,a=e.focus,c=o.getTextContent().length,d=a.offset,f=s.offset,g=s.isBefore(a),h=g?f:d;e=g?d:f;var p=g?s.type:a.type,m=g?a.type:s.type;if(s=g?a.key:s.key,r.$isTextNode(o)&&h===c&&(a=o.getNextSibling(),r.$isTextNode(a)&&(h=f=0,o=a)),1===n.length)r.$isTextNode(o)&&((h="element"===p?0:f>d?d:f)!==(e="element"===m?c:f>d?f:d)&&(0===h&&e===c?(u(o,t),o.select(h,e)):(n=o.splitText(h,e),u(n=0===h?n[0]:n[1],t),n.select(0,e-h))));else for(r.$isTextNode(o)&&h<o.getTextContentSize()&&(0!==h&&(o=o.splitText(h)[1]),u(o,t)),r.$isTextNode(l)&&(h=l.getTextContent().length,l.__key!==s&&0!==e&&(e=h),e!==h&&([l]=l.splitText(e)),0!==e&&u(l,t)),e=1;e<i;e++)c=(h=n[e]).getKey(),r.$isTextNode(h)&&c!==o.getKey()&&c!==l.getKey()&&!h.isToken()&&u(h,t)}},t.$selectAll=function(e){let t=e.anchor;e=e.focus;var n=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();let i=n.getFirstDescendant();n=n.getLastDescendant();let o="element",l="element",s=0;r.$isTextNode(i)?o="text":r.$isElementNode(i)||null===i||(i=i.getParentOrThrow()),r.$isTextNode(n)?(l="text",s=n.getTextContentSize()):r.$isElementNode(n)||null===n||(n=n.getParentOrThrow()),i&&n&&(t.set(i.getKey(),0,o),e.set(n.getKey(),s,l))},t.$setBlocksType=function(e,t){if("root"===e.anchor.key){t=t();var n=r.$getRoot();(e=n.getFirstChild())?e.replace(t,!0):n.append(t)}else for(n=e.getNodes(),e=e.anchor.getNode().getParentOrThrow(),-1===n.indexOf(e)&&n.push(e),e.isInline()&&(e=e.getParentOrThrow(),-1===n.indexOf(e)&&n.push(e)),e=0;e<n.length;e++){let l=n[e];var i=l;if(!r.$isElementNode(i)||r.$isRootOrShadowRoot(i))i=!1;else{var o=i.getFirstChild();o=null===o||r.$isLineBreakNode(o)||r.$isTextNode(o)||o.isInline(),i=!i.isInline()&&!1!==i.canBeEmpty()&&o}i&&((i=t()).setFormat(l.getFormatType()),i.setIndent(l.getIndent()),l.replace(i,!0))}},t.$shouldOverrideDefaultCharacterSelection=function(e,t){return e=r.$getAdjacentNode(e.focus,t),r.$isDecoratorNode(e)&&!e.isIsolated()||r.$isElementNode(e)&&!e.isInline()&&!e.canBeEmpty()},t.$sliceSelectedTextNodeContent=function(e,t){if(t.isSelected()&&!t.isSegmented()&&!t.isToken()&&(r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e))){var n=e.anchor.getNode(),i=e.focus.getNode(),o=t.is(n),l=t.is(i);if(o||l){o=e.isBackward();let r,[s,a]=e.getCharacterOffsets();e=n.is(i),l=t.is(o?i:n),i=t.is(o?n:i),n=0,e?(n=s>a?a:s,r=s>a?s:a):l?(n=o?a:s,r=void 0):i&&(n=0,r=o=o?s:a),t.__text=t.__text.slice(n,r)}}return t},t.$wrapNodes=function(e,t,n=null){var i=e.getNodes();let o=i.length;var l=e.anchor;if(0===o||1===o&&"element"===l.type&&0===l.getNode().getChildrenSize()){i=(e="text"===l.type?l.getNode().getParentOrThrow():l.getNode()).getChildren();let r=t();r.setFormat(e.getFormatType()),r.setIndent(e.getIndent()),i.forEach((e=>r.append(e))),n&&(r=n.append(r)),e.replace(r)}else{l=null;var s=[];for(let a=0;a<o;a++){let o=i[a];r.$isRootOrShadowRoot(o)?(d(e,s,s.length,t,n),s=[],l=o):null===l||null!==l&&r.$hasAncestor(o,l)?s.push(o):(d(e,s,s.length,t,n),s=[o])}d(e,s,s.length,t,n)}},t.createDOMRange=function(e,t,n,i,s){let a=t.getKey(),u=i.getKey(),c=document.createRange(),d=e.getElementByKey(a);if(e=e.getElementByKey(u),r.$isTextNode(t)&&(d=o(d)),r.$isTextNode(i)&&(e=o(e)),void 0===t||void 0===i||null===d||null===e)return null;"BR"===d.nodeName&&([d,n]=l(d)),"BR"===e.nodeName&&([e,s]=l(e)),t=d.firstChild,d===e&&null!=t&&"BR"===t.nodeName&&0===n&&0===s&&(s=1);try{c.setStart(d,n),c.setEnd(e,s)}catch(e){return null}return!c.collapsed||n===s&&a===u||(c.setStart(e,s),c.setEnd(d,n)),c},t.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];e=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);let r,i=(t=Array.from(t.getClientRects())).length;t.sort(((e,t)=>{let n=e.top-t.top;return 3>=Math.abs(n)?e.left-t.left:n}));for(let o=0;o<i;o++){let l=t[o],s=l.width+n===e.width;r&&r.top<=l.top&&r.top+r.height>l.top&&r.left+r.width>l.left||s?(t.splice(o--,1),i--):r=l}return t},t.getStyleObjectFromCSS=a,t.trimTextContentFromAnchor=function(e,t,n){let i=t.getNode();if(r.$isElementNode(i)){var o=i.getDescendantByIndex(t.offset);null!==o&&(i=o)}for(;0<n&&null!==i;){var l=i.getPreviousSibling(),s=0;if(null===l){for(var a=(o=i.getParentOrThrow()).getPreviousSibling();null===a;){if(null===(o=o.getParent())){l=null;break}a=o.getPreviousSibling()}null!==o&&(s=o.isInline()?0:2,l=r.$isElementNode(a)?a.getLastDescendant():a)}if(""===(a=i.getTextContent())&&r.$isElementNode(i)&&!i.isInline()&&(a="\n\n"),o=i.getTextContentSize(),!r.$isTextNode(i)||n>=o)a=i.getParent(),i.remove(),null==a||0!==a.getChildrenSize()||r.$isRootNode(a)||a.remove(),n-=o+s,i=l;else{let u=i.getKey();s=e.getEditorState().read((()=>{const e=r.$getNodeByKey(u);return r.$isTextNode(e)&&e.isSimpleText()?e.getTextContent():null})),l=o-n;let c=a.slice(0,l);null!==s&&s!==a?(n=r.$getPreviousSelection(),o=i,i.isSimpleText()?i.setTextContent(s):(o=r.$createTextNode(s),i.replace(o)),r.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,o.select(n,n))):i.isSimpleText()?(s=t.key===u,(a=t.offset)<n&&(a=o),n=s?a-n:0,o=s?a:l,s&&0===n?([n]=i.splitText(n,o),n.remove()):([,n]=i.splitText(n,o),n.remove())):(n=r.$createTextNode(c),i.replace(n)),n=0}}}},491058:function(e,t,n){const r=n(359957);e.exports=r},359957:function(e,t,n){var r=n(932998),i=n(376969);let o=/^(\d+(?:\.\d+)?)px$/,l={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class s extends r.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(e){let t=new s(e.__headerState,e.__colSpan,e.__width,e.__key);return t.__rowSpan=e.__rowSpan,t.__backgroundColor=e.__backgroundColor,t}static importDOM(){return{td:()=>({conversion:a,priority:0}),th:()=>({conversion:a,priority:0})}}static importJSON(e){let t=e.rowSpan||1,n=u(e.headerState,e.colSpan||1,e.width||void 0);return n.__rowSpan=t,n.__backgroundColor=e.backgroundColor||null,n}constructor(e=l.NO_STATUS,t=1,n,r){super(t,r),this.__headerState=e,this.__width=n,this.__backgroundColor=null}createDOM(e){let t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),1<this.__colSpan&&(t.colSpan=this.__colSpan),1<this.__rowSpan&&(t.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),i.addClassNamesToElement(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){if(({element:e}=super.exportDOM(e)),e){var t=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",1<this.__colSpan&&(e.colSpan=this.__colSpan),1<this.__rowSpan&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||Math.max(90,700/t)}px`,e.style.verticalAlign="top",e.style.textAlign="start",null!==(t=this.getBackgroundColor())?e.style.backgroundColor=t:this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:e}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}toggleHeaderStyle(e){let t=this.getWritable();return t.__headerState=(t.__headerState&e)===e?t.__headerState-e:t.__headerState+e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==l.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function a(e){var t=e.nodeName.toLowerCase();let n;return o.test(e.style.width)&&(n=parseFloat(e.style.width)),(t=u("th"===t?l.ROW:l.NO_STATUS,e.colSpan,n)).__rowSpan=e.rowSpan,""!==(e=e.style.backgroundColor)&&(t.__backgroundColor=e),{forChild:(e,t)=>c(t)&&!r.$isElementNode(e)?(t=r.$createParagraphNode(),r.$isLineBreakNode(e)&&"\n"===e.getTextContent()?null:(t.append(e),t)):e,node:t}}function u(e,t=1,n){return r.$applyNodeReplacement(new s(e,t,n))}function c(e){return e instanceof s}class d extends r.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(e){return new d(e.__height,e.__key)}static importDOM(){return{tr:()=>({conversion:f,priority:0})}}static importJSON(e){return g(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(e){let t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),i.addClassNamesToElement(t,e.theme.tableRow),t}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function f(e){let t;return o.test(e.style.height)&&(t=parseFloat(e.style.height)),{node:g(t)}}function g(e){return r.$applyNodeReplacement(new d(e))}function h(e){return e instanceof d}function p(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;class _{constructor(e,t){this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){Array.from(this.listenersToRemove).forEach((e=>e()))}trackTableGrid(){let e=new MutationObserver((e=>{this.editor.update((()=>{var t=!1;for(let n=0;n<e.length;n++){const r=e[n].target.nodeName;if("TABLE"===r||"TR"===r){t=!0;break}}if(t){if(!(t=this.editor.getElementByKey(this.tableNodeKey)))throw Error("Expected to find TableElement in DOM");this.grid=y(t)}}))}));this.editor.update((()=>{let t=this.editor.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");this.grid=y(t),e.observe(t,{childList:!0,subtree:!0})}))}clearHighlight(){let e=this.editor;this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update((()=>{var t=r.$getNodeByKey(this.tableNodeKey);if(!P(t))throw Error("Expected TableNode.");if(!(t=e.getElementByKey(this.tableNodeKey)))throw Error("Expected to find TableElement in DOM");t=y(t),C(e,t,null),r.$setSelection(null),e.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0)}))}enableHighlightStyle(){let e=this.editor;e.update((()=>{let t=e.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");i.removeClassNamesFromElement(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}))}disableHighlightStyle(){let e=this.editor;e.update((()=>{let t=e.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");i.addClassNamesToElement(t,e._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}))}updateTableGridSelection(e){if(null!=e&&e.gridKey===this.tableNodeKey){let t=this.editor;this.gridSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),C(t,this.grid,this.gridSelection)}else null==e&&this.clearHighlight()}setFocusCellForSelection(e,t=!1){let n=this.editor;n.update((()=>{var i=r.$getNodeByKey(this.tableNodeKey);if(!P(i))throw Error("Expected TableNode.");if(!n.getElementByKey(this.tableNodeKey))throw Error("Expected to find TableElement in DOM");i=e.x;let o=e.y;if(this.focusCell=e,null!==this.anchorCell){let e=m?(n._window||window).getSelection():null;e&&e.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(this.isHighlightingCells||this.anchorX===i&&this.anchorY===o&&!t){if(i===this.focusX&&o===this.focusY)return}else this.isHighlightingCells=!0,this.disableHighlightStyle();this.focusX=i,this.focusY=o,this.isHighlightingCells&&(i=r.$getNearestNodeFromDOMNode(e.elem),null!=this.gridSelection&&null!=this.anchorCellNodeKey&&c(i)&&(i=i.getKey(),this.gridSelection=this.gridSelection.clone()||r.DEPRECATED_$createGridSelection(),this.focusCellNodeKey=i,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),r.$setSelection(this.gridSelection),n.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0),C(n,this.grid,this.gridSelection)))}))}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update((()=>{var t=r.$getNearestNodeFromDOMNode(e.elem);c(t)&&(t=t.getKey(),this.gridSelection=r.DEPRECATED_$createGridSelection(),this.anchorCellNodeKey=t)}))}formatCells(e){this.editor.update((()=>{let t=r.$getSelection();r.DEPRECATED_$isGridSelection(t)||p(11);let n=r.$createRangeSelection(),i=n.anchor,o=n.focus;t.getNodes().forEach((t=>{c(t)&&0!==t.getTextContentSize()&&(i.set(t.getKey(),0,"element"),o.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e))})),r.$setSelection(t),this.editor.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0)}))}clearText(){let e=this.editor;e.update((()=>{let t=r.$getNodeByKey(this.tableNodeKey);if(!P(t))throw Error("Expected TableNode.");var n=r.$getSelection();r.DEPRECATED_$isGridSelection(n)||p(11),(n=n.getNodes().filter(c)).length===this.grid.columns*this.grid.rows?(t.selectPrevious(),t.remove(),r.$getRoot().selectStart()):(n.forEach((e=>{if(r.$isElementNode(e)){let t=r.$createParagraphNode(),n=r.$createTextNode();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),C(e,this.grid,null),r.$setSelection(null),e.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0))}))}}function v(e){for(;null!=e;){let t=e.nodeName;if("TD"===t||"TH"===t){if(void 0===(e=e._cell))break;return e}e=e.parentNode}return null}function y(e){let t=[],n={cells:t,columns:0,rows:0};var r=e.firstChild;let i=e=0;for(t.length=0;null!=r;){var o=r.nodeName;if("TD"===o||"TH"===o)o={elem:o=r,hasBackgroundColor:""!==o.style.backgroundColor,highlighted:!1,x:e,y:i},r._cell=o,void 0===t[i]&&(t[i]=[]),t[i][e]=o;else if(null!=(o=r.firstChild)){r=o;continue}if(null!=(o=r.nextSibling))e++,r=o;else if(null!=(o=r.parentNode)){if(null==(r=o.nextSibling))break;i++,e=0}}return n.columns=e+1,n.rows=i+1,n}function C(e,t,n){let r=new Set(n?n.getNodes():[]);N(t,((t,n)=>{let i=t.elem;r.has(n)?(t.highlighted=!0,x(e,t)):(t.highlighted=!1,b(e,t),i.getAttribute("style")||i.removeAttribute("style"))}))}function N(e,t){({cells:e}=e);for(let n=0;n<e.length;n++){let i=e[n];for(let e=0;e<i.length;e++){let o=i[e],l=r.$getNearestNodeFromDOMNode(o.elem);null!==l&&t(o,l,{x:e,y:n})}}}function E(e,t){t.disableHighlightStyle(),N(t.grid,(t=>{t.highlighted=!0,x(e,t)}))}let T=(e,t,n,r,i)=>{const o="forward"===i;switch(i){case"backward":case"forward":return n!==(o?e.grid.columns-1:0)?(e=t.getCellNodeFromCordsOrThrow(n+(o?1:-1),r,e.grid),o?e.selectStart():e.selectEnd()):r!==(o?e.grid.rows-1:0)?(e=t.getCellNodeFromCordsOrThrow(o?0:e.grid.columns-1,r+(o?1:-1),e.grid),o?e.selectStart():e.selectEnd()):o?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?t.getCellNodeFromCordsOrThrow(n,r-1,e.grid).selectEnd():t.selectPrevious(),!0;case"down":return r!==e.grid.rows-1?t.getCellNodeFromCordsOrThrow(n,r+1,e.grid).selectStart():t.selectNext(),!0;default:return!1}};function S(e,t){if(r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e)){let n=t.isParentOf(e.anchor.getNode());return e=t.isParentOf(e.focus.getNode()),n&&e}return!1}function x(e,t){e=t.elem,c(t=r.$getNearestNodeFromDOMNode(e))||p(131),null===t.getBackgroundColor()?e.style.setProperty("background-color","rgb(172,206,247)"):e.style.setProperty("background-image","linear-gradient(to right, rgba(172,206,247,0.85), rgba(172,206,247,0.85))"),e.style.setProperty("caret-color","transparent")}function b(e,t){e=t.elem,c(t=r.$getNearestNodeFromDOMNode(e))||p(131),null===t.getBackgroundColor()&&e.style.removeProperty("background-color"),e.style.removeProperty("background-image"),e.style.removeProperty("caret-color")}function O(e){return c(e=i.$findMatchingParent(e,c))?e:null}function w(e){return P(e=i.$findMatchingParent(e,P))?e:null}function D(e,t,n,o,l){var s=r.$getSelection();if(!S(s,o))return!1;if(r.$isRangeSelection(s)&&s.isCollapsed()){if("backward"===n||"forward"===n)return!1;let{anchor:r,focus:d}=s;s=i.$findMatchingParent(r.getNode(),c);var a=i.$findMatchingParent(d.getNode(),c);if(!c(s)||!s.is(a))return!1;a=e.getElementByKey(s.__key);var u=e.getElementByKey(r.key);if(null==u||null==a)return!1;if("element"===r.type)a=u.getBoundingClientRect();else{if(null===(a=window.getSelection())||0===a.rangeCount)return!1;a=a.getRangeAt(0).getBoundingClientRect()}if(null==(u="up"===n?s.getFirstChild():s.getLastChild()))return!1;if(null==(e=e.getElementByKey(u.__key)))return!1;if(e=e.getBoundingClientRect(),"up"===n?e.top>a.top-a.height:a.bottom+a.height>e.bottom)return R(t),s=o.getCordsFromCellNode(s,l.grid),t.shiftKey?(n=o.getCellFromCordsOrThrow(s.x,s.y,l.grid),l.setAnchorCellForSelection(n),l.setFocusCellForSelection(n,!0),!0):T(l,o,s.x,s.y,n)}else if(r.DEPRECATED_$isGridSelection(s)){let{anchor:r,focus:a}=s;return s=i.$findMatchingParent(r.getNode(),c),e=i.$findMatchingParent(a.getNode(),c),c(s)&&c(e)?(R(t),t.shiftKey?(t=o.getCordsFromCellNode(e,l.grid),((e,t,n,r,i)=>{const o="forward"===i;switch(i){case"backward":case"forward":return n!==(o?e.grid.columns-1:0)&&e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n+(o?1:-1),r,e.grid)),!0;case"up":return 0!==r&&(e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n,r-1,e.grid)),!0);case"down":return r!==e.grid.rows-1&&(e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n,r+1,e.grid)),!0);default:return!1}})(l,o,t.x,t.y,n)):(e.selectEnd(),!0)):!1}return!1}function R(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}class k extends r.DEPRECATED_GridNode{static getType(){return"table"}static clone(e){return new k(e.__key)}static importDOM(){return{table:()=>({conversion:A,priority:1})}}static importJSON(){return M()}constructor(e){super(e)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(e){let t=document.createElement("table");return i.addClassNamesToElement(t,e.theme.table),t}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:e=>{if(e){let t=e.cloneNode(),n=document.createElement("colgroup"),r=document.createElement("tbody");if(r.append(...e.children),!h(e=this.getFirstChildOrThrow()))throw Error("Expected to find row node.");e=e.getChildrenSize();for(let t=0;t<e;t++){let e=document.createElement("col");n.append(e)}return t.replaceChildren(n,r),t}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){let{rows:n,cells:i}=t;for(t=0;t<n;t++){var o=i[t];if(null==o)throw Error(`Row not found at y:${t}`);if(-1!==(o=o.findIndex((({elem:t})=>r.$getNearestNodeFromDOMNode(t)===e))))return{x:o,y:t}}throw Error("Cell not found in table.")}getCellFromCords(e,t,n){return({cells:n}=n),null==(t=n[t])||null==(e=t[e])?null:e}getCellFromCordsOrThrow(e,t,n){if(!(e=this.getCellFromCords(e,t,n)))throw Error("Cell not found at cords.");return e}getCellNodeFromCords(e,t,n){return null==(e=this.getCellFromCords(e,t,n))?null:c(e=r.$getNearestNodeFromDOMNode(e.elem))?e:null}getCellNodeFromCordsOrThrow(e,t,n){if(!(e=this.getCellNodeFromCords(e,t,n)))throw Error("Node at cords not TableCellNode.");return e}canSelectBefore(){return!0}canIndent(){return!1}}function A(){return{node:M()}}function M(){return r.$applyNodeReplacement(new k)}function P(e){return e instanceof k}function $(e){if(e=i.$findMatchingParent(e,(e=>h(e))),h(e))return e;throw Error("Expected table cell to be inside of table row.")}function L(e){if(e=i.$findMatchingParent(e,(e=>P(e))),P(e))return e;throw Error("Expected table cell to be inside of table.")}function I(e,t){let n=L(e),{x:r,y:i}=n.getCordsFromCellNode(e,t);return{above:n.getCellNodeFromCords(r,i-1,t),below:n.getCellNodeFromCords(r,i+1,t),left:n.getCellNodeFromCords(r-1,i,t),right:n.getCellNodeFromCords(r+1,i,t)}}function F(e){null===(e=e.getFirstDescendant())&&p(124),e.getParentOrThrow().selectStart()}function B(e,t){let n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}let K=r.createCommand("INSERT_TABLE_COMMAND");t.$createTableCellNode=u,t.$createTableNode=M,t.$createTableNodeWithDimensions=function(e,t,n=!0){let i=M();for(let s=0;s<e;s++){let e=g();for(let i=0;i<t;i++){var o=l.NO_STATUS;"object"==typeof n?(0===s&&n.rows&&(o|=l.ROW),0===i&&n.columns&&(o|=l.COLUMN)):n&&(0===s&&(o|=l.ROW),0===i&&(o|=l.COLUMN)),o=u(o);let t=r.$createParagraphNode();t.append(r.$createTextNode()),o.append(t),e.append(o)}i.append(e)}return i},t.$createTableRowNode=g,t.$deleteTableColumn=function(e,t){let n=e.getChildren();for(let e=0;e<n.length;e++){var r=n[e];if(h(r)){if(t>=(r=r.getChildren()).length||0>t)throw Error("Table column target index out of range");r[t].remove()}}return e},t.$deleteTableColumn__EXPERIMENTAL=function(){var e=r.$getSelection();r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e)||p(118);var t=e.anchor.getNode();e=e.focus.getNode();let[n,,i]=r.DEPRECATED_$getNodeTriplet(t);[t]=r.DEPRECATED_$getNodeTriplet(e);let[o,l,s]=r.DEPRECATED_$computeGridMap(i,n,t);var{startColumn:a}=l;let{startRow:u,startColumn:c}=s;e=Math.min(a,c);let d=(a=Math.max(a+n.__colSpan-1,c+t.__colSpan-1))-e+1;if(o[0].length===a-e+1)i.selectPrevious(),i.remove();else{var f=o.length;for(let t=0;t<f;t++)for(let n=e;n<=a;n++){let{cell:r,startColumn:i}=o[t][n];i<e?n===e&&r.setColSpan(r.__colSpan-Math.min(d,r.__colSpan-(e-i))):i+r.__colSpan-1>a?n===a&&r.setColSpan(r.__colSpan-(a-i+1)):r.remove()}void 0!==(t=(e=o[u])[c+t.__colSpan])?(({cell:t}=t),F(t)):(({cell:t}=e[c-1]),F(t))}},t.$deleteTableRow__EXPERIMENTAL=function(){var e=r.$getSelection();r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e)||p(118);var t=e.anchor.getNode();e=e.focus.getNode();let[n,,i]=r.DEPRECATED_$getNodeTriplet(t);[e]=r.DEPRECATED_$getNodeTriplet(e);let[o,l,s]=r.DEPRECATED_$computeGridMap(i,n,e);({startRow:t}=l);var{startRow:a}=s;if(e=a+e.__rowSpan-1,o.length===e-t+1)i.remove();else{a=o[0].length;var u=o[e+1],c=i.getChildAtIndex(e+1);for(let n=e;n>=t;n--){for(var d=a-1;0<=d;d--){let{cell:r,startRow:i,startColumn:l}=o[n][d];if(l===d&&(n===t&&i<t&&r.setRowSpan(r.__rowSpan-(i-t)),i>=t&&i+r.__rowSpan-1>e))if(r.setRowSpan(r.__rowSpan-(e-i+1)),null===c&&p(122),0===d)B(c,r);else{let{cell:e}=u[d-1];e.insertAfter(r)}}d=i.getChildAtIndex(n),r.DEPRECATED_$isGridRowNode(d)||p(123,String(n)),d.remove()}void 0!==u?(({cell:t}=u[0]),F(t)):(({cell:t}=o[t-1][0]),F(t))}},t.$getElementGridForTableNode=function(e,t){if(null==(e=e.getElementByKey(t.getKey())))throw Error("Table Element Not Found");return y(e)},t.$getTableCellNodeFromLexicalNode=function(e){return e=i.$findMatchingParent(e,(e=>c(e))),c(e)?e:null},t.$getTableColumnIndexFromTableCellNode=function(e){return $(e).getChildren().findIndex((t=>t.is(e)))},t.$getTableNodeFromLexicalNodeOrThrow=L,t.$getTableRowIndexFromTableCellNode=function(e){let t=$(e);return L(t).getChildren().findIndex((e=>e.is(t)))},t.$getTableRowNodeFromTableCellNodeOrThrow=$,t.$insertTableColumn=function(e,t,n=!0,i,o){let s=e.getChildren();for(let e=0;e<s.length;e++){let f=s[e];if(h(f))for(let e=0;e<i;e++){var a=f.getChildren();if(t>=a.length||0>t)throw Error("Table column target index out of range");c(a=a[t])||p(12);let{left:e,right:i}=I(a,o);var d=l.NO_STATUS;(e&&e.hasHeaderState(l.ROW)||i&&i.hasHeaderState(l.ROW))&&(d|=l.ROW),(d=u(d)).append(r.$createParagraphNode()),n?a.insertAfter(d):a.insertBefore(d)}}return e},t.$insertTableColumn__EXPERIMENTAL=function(e=!0){function t(){let e=u(l.NO_STATUS).append(r.$createParagraphNode());return null===f&&(f=e),e}var n=r.$getSelection();r.$isRangeSelection(n)||r.DEPRECATED_$isGridSelection(n)||p(118);var i=n.anchor.getNode();n=n.focus.getNode(),[i]=r.DEPRECATED_$getNodeTriplet(i);let[o,,s]=r.DEPRECATED_$getNodeTriplet(n),[a,c,d]=r.DEPRECATED_$computeGridMap(s,o,i);i=a.length,n=e?Math.max(c.startColumn,d.startColumn):Math.min(c.startColumn,d.startColumn),e=e?n+o.__colSpan-1:n-1,n=s.getFirstChild(),r.DEPRECATED_$isGridRowNode(n)||p(120);let f=null;var g=n;e:for(n=0;n<i;n++){0!==n&&(g=g.getNextSibling(),r.DEPRECATED_$isGridRowNode(g)||p(121));let i=a[n];if(0>e){B(g,t());continue}let{cell:o,startColumn:l,startRow:s}=i[e];if(l+o.__colSpan-1<=e){let r=o,l=s,a=e;for(;l!==n&&1<r.__rowSpan;){if(a-=o.__colSpan,!(0<=a)){g.append(t());continue e}{let{cell:e,startRow:t}=i[a];r=e,l=t}}r.insertAfter(t())}else o.setColSpan(o.__colSpan+1)}null!==f&&F(f)},t.$insertTableRow=function(e,t,n=!0,i,o){var s=e.getChildren();if(t>=s.length||0>t)throw Error("Table row target index out of range");if(!h(t=s[t]))throw Error("Row before insertion index does not exist.");for(s=0;s<i;s++){let e=t.getChildren(),i=e.length,s=g();for(let t=0;t<i;t++){var a=e[t];c(a)||p(12);let{above:n,below:i}=I(a,o);a=l.NO_STATUS;let d=n&&n.getWidth()||i&&i.getWidth()||void 0;(n&&n.hasHeaderState(l.COLUMN)||i&&i.hasHeaderState(l.COLUMN))&&(a|=l.COLUMN),(a=u(a,1,d)).append(r.$createParagraphNode()),s.append(a)}n?t.insertAfter(s):t.insertBefore(s)}return e},t.$insertTableRow__EXPERIMENTAL=function(e=!0){var t=r.$getSelection();r.$isRangeSelection(t)||r.DEPRECATED_$isGridSelection(t)||p(118),t=t.focus.getNode();let[n,,i]=r.DEPRECATED_$getNodeTriplet(t),[o,s]=r.DEPRECATED_$computeGridMap(i,n,n);t=o[0].length;var{startRow:a}=s;if(e){var c=o[e=a+n.__rowSpan-1];a=g();for(var d=0;d<t;d++){let{cell:t,startRow:n}=c[d];n+t.__rowSpan-1<=e?a.append(u(l.NO_STATUS)):t.setRowSpan(t.__rowSpan+1)}t=i.getChildAtIndex(e),r.DEPRECATED_$isGridRowNode(t)||p(119),t.insertAfter(a)}else{for(c=o[a],e=g(),d=0;d<t;d++){let{cell:t,startRow:n}=c[d];n===a?e.append(u(l.NO_STATUS)):t.setRowSpan(t.__rowSpan+1)}t=i.getChildAtIndex(a),r.DEPRECATED_$isGridRowNode(t)||p(119),t.insertBefore(e)}},t.$isTableCellNode=c,t.$isTableNode=P,t.$isTableRowNode=h,t.$removeTableRowAtIndex=function(e,t){let n=e.getChildren();if(t>=n.length||0>t)throw Error("Expected table cell to be inside of table row.");return n[t].remove(),e},t.$unmergeCell=function(){var e=r.$getSelection();r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e)||p(118),e=e.anchor.getNode();let[t,n,i]=r.DEPRECATED_$getNodeTriplet(e);e=t.__colSpan;let o=t.__rowSpan;if(1<e){for(var s=1;s<e;s++)t.insertAfter(u(l.NO_STATUS));t.setColSpan(1)}if(1<o){let[d,f]=r.DEPRECATED_$computeGridMap(i,t,t),{startColumn:g,startRow:h}=f;for(s=1;s<o;s++){let t=h+s,i=d[t];var a=n.getNextSibling();r.DEPRECATED_$isGridRowNode(a)||p(125);var c=null;for(let e=0;e<g;e++){let n=i[e],r=n.cell;n.startRow===t&&(c=r),1<r.__colSpan&&(e+=r.__colSpan-1)}if(null===c)for(c=0;c<e;c++)B(a,u(l.NO_STATUS));else for(a=0;a<e;a++)c.insertAfter(u(l.NO_STATUS))}t.setRowSpan(1)}},t.INSERT_TABLE_COMMAND=K,t.TableCellHeaderStates=l,t.TableCellNode=s,t.TableNode=k,t.TableRowNode=d,t.TableSelection=_,t.applyTableHandlers=function(e,t,n,o){function l(t){return t=e.getCordsFromCellNode(t,a.grid),e.getCellFromCordsOrThrow(t.x,t.y,a.grid)}let s=n.getRootElement();if(null===s)throw Error("No root element.");let a=new _(n,e.getKey()),u=n._window||window;t.__lexicalTableSelection=a,t.addEventListener("mousedown",(e=>{setTimeout((()=>{if(0===e.button&&u){var t=v(e.target);null!==t&&(R(e),a.setAnchorCellForSelection(t));var n=()=>{u.removeEventListener("mouseup",n),u.removeEventListener("mousemove",r)},r=e=>{const t=v(e.target);null===t||a.anchorX===t.x&&a.anchorY===t.y||(e.preventDefault(),a.setFocusCellForSelection(t))};u.addEventListener("mouseup",n),u.addEventListener("mousemove",r)}}),0)}));let d=e=>{0===e.button&&n.update((()=>{const t=r.$getSelection(),n=e.target;r.DEPRECATED_$isGridSelection(t)&&t.gridKey===a.tableNodeKey&&s.contains(n)&&a.clearHighlight()}))};u.addEventListener("mousedown",d),a.listenersToRemove.add((()=>u.removeEventListener("mousedown",d))),a.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_DOWN_COMMAND,(t=>D(n,t,"down",e,a)),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_UP_COMMAND,(t=>D(n,t,"up",e,a)),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_LEFT_COMMAND,(t=>D(n,t,"backward",e,a)),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_RIGHT_COMMAND,(t=>D(n,t,"forward",e,a)),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.KEY_ESCAPE_COMMAND,(e=>{var t=r.$getSelection();return!(!r.DEPRECATED_$isGridSelection(t)||(t=i.$findMatchingParent(t.focus.getNode(),c),!c(t)))&&(R(e),t.selectEnd(),!0)}),r.COMMAND_PRIORITY_HIGH));return[r.DELETE_WORD_COMMAND,r.DELETE_LINE_COMMAND,r.DELETE_CHARACTER_COMMAND].forEach((t=>{a.listenersToRemove.add(n.registerCommand(t,(t=>()=>{var n=r.$getSelection();if(!S(n,e))return!1;if(r.DEPRECATED_$isGridSelection(n))return a.clearText(),!0;if(r.$isRangeSelection(n)){const s=i.$findMatchingParent(n.anchor.getNode(),(e=>c(e)));if(!c(s))return!1;var o=n.anchor.getNode(),l=n.focus.getNode();if(o=e.isParentOf(o),l=e.isParentOf(l),o&&!l||l&&!o)return a.clearText(),!0;if(o=(l=i.$findMatchingParent(n.anchor.getNode(),(e=>r.$isElementNode(e))))&&i.$findMatchingParent(l,(e=>r.$isElementNode(e)&&c(e.getParent()))),!r.$isElementNode(o)||!r.$isElementNode(l))return!1;if(t===r.DELETE_LINE_COMMAND&&null===o.getPreviousSibling())return!0;if((t===r.DELETE_CHARACTER_COMMAND||t===r.DELETE_WORD_COMMAND)&&n.isCollapsed()&&0===n.anchor.offset&&l!==o){n=l.getChildren();const e=r.$createParagraphNode();return n.forEach((t=>e.append(t))),l.replace(e),l.getWritable().__parent=s.getKey(),!0}}return!1})(t),r.COMMAND_PRIORITY_CRITICAL))})),t=t=>{const n=r.$getSelection();return!!S(n,e)&&(r.DEPRECATED_$isGridSelection(n)?(t.preventDefault(),t.stopPropagation(),a.clearText(),!0):(r.$isRangeSelection(n)&&(t=i.$findMatchingParent(n.anchor.getNode(),(e=>c(e))),c(t)),!1))},a.listenersToRemove.add(n.registerCommand(r.KEY_BACKSPACE_COMMAND,t,r.COMMAND_PRIORITY_CRITICAL)),a.listenersToRemove.add(n.registerCommand(r.KEY_DELETE_COMMAND,t,r.COMMAND_PRIORITY_CRITICAL)),a.listenersToRemove.add(n.registerCommand(r.FORMAT_TEXT_COMMAND,(t=>{let n=r.$getSelection();return!!S(n,e)&&(r.DEPRECATED_$isGridSelection(n)?(a.formatCells(t),!0):(r.$isRangeSelection(n)&&(t=i.$findMatchingParent(n.anchor.getNode(),(e=>c(e))),c(t)),!1))}),r.COMMAND_PRIORITY_CRITICAL)),a.listenersToRemove.add(n.registerCommand(r.CONTROLLED_TEXT_INSERTION_COMMAND,(()=>{var t=r.$getSelection();return!!S(t,e)&&(r.DEPRECATED_$isGridSelection(t)?a.clearHighlight():r.$isRangeSelection(t)&&(t=i.$findMatchingParent(t.anchor.getNode(),(e=>c(e))),c(t)),!1)}),r.COMMAND_PRIORITY_CRITICAL)),o&&a.listenersToRemove.add(n.registerCommand(r.KEY_TAB_COMMAND,(t=>{var n=r.$getSelection();return!!(r.$isRangeSelection(n)&&n.isCollapsed()&&S(n,e))&&(null!==(n=O(n.anchor.getNode()))&&(R(t),n=e.getCordsFromCellNode(n,a.grid),T(a,e,n.x,n.y,t.shiftKey?"backward":"forward"),!0))}),r.COMMAND_PRIORITY_CRITICAL)),a.listenersToRemove.add(n.registerCommand(r.FOCUS_COMMAND,(()=>e.isSelected()),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.SELECTION_CHANGE_COMMAND,(()=>{let t=r.$getSelection(),i=r.$getPreviousSelection();if(r.$isRangeSelection(t)){let{anchor:i,focus:d}=t;var o=i.getNode(),s=d.getNode();o=O(o),s=O(s);var u=o&&e.is(w(o)),c=s&&e.is(w(s));let f=u!==c;c=u&&c,u=t.isBackward(),f?((o=t.clone()).focus.set(e.getKey(),u?0:e.getChildrenSize(),"element"),r.$setSelection(o),E(n,a)):c&&!o.is(s)&&(a.setAnchorCellForSelection(l(o)),a.setFocusCellForSelection(l(s),!0))}return t&&!t.is(i)&&(r.DEPRECATED_$isGridSelection(t)||r.DEPRECATED_$isGridSelection(i))&&a.gridSelection&&!a.gridSelection.is(i)?(r.DEPRECATED_$isGridSelection(t)&&t.gridKey===a.tableNodeKey?a.updateTableGridSelection(t):!r.DEPRECATED_$isGridSelection(t)&&r.DEPRECATED_$isGridSelection(i)&&i.gridKey===a.tableNodeKey&&a.updateTableGridSelection(null),!1):(a.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.enableHighlightStyle(),N(t.grid,(t=>{let n=t.elem;t.highlighted=!1,b(e,t),n.getAttribute("style")||n.removeAttribute("style")}))}(n,a):!a.hasHijackedSelectionStyles&&e.isSelected()&&E(n,a),!1)}),r.COMMAND_PRIORITY_CRITICAL)),a},t.getCellFromTarget=v,t.getTableSelectionFromTableElement=function(e){return e.__lexicalTableSelection}},302977:function(e,t,n){const r=n(328263);e.exports=r},328263:function(e,t,n){var r=n(932998);function i(e,t=!0){return!e&&(e=o(),t&&(e=e.trim()),""===e)}function o(){return r.$getRoot().getTextContent()}function l(e){if(!i(e,!1))return!1;let t=(e=r.$getRoot().getChildren()).length;if(1<t)return!1;for(let i=0;i<t;i++){var n=e[i];if(r.$isDecoratorNode(n))return!1;if(r.$isElementNode(n)){if(!r.$isParagraphNode(n)||0!==n.__indent)return!1;let e=(n=n.getChildren()).length;for(let t=0;t<e;t++)if(!r.$isTextNode(n[i]))return!1}}return!0}t.$canShowPlaceholder=l,t.$canShowPlaceholderCurry=function(e){return()=>l(e)},t.$findTextIntersectionFromCharacters=function(e,t){var n=e.getFirstChild();e=0;e:for(;null!==n;){if(r.$isElementNode(n)){var i=n.getFirstChild();if(null!==i){n=i;continue}}else if(r.$isTextNode(n)){if(e+(i=n.getTextContentSize())>t)return{node:n,offset:t-e};e+=i}if(null===(i=n.getNextSibling())){for(n=n.getParent();null!==n;){if(null!==(i=n.getNextSibling())){n=i;continue e}n=n.getParent()}break}n=i}return null},t.$isRootTextContentEmpty=i,t.$isRootTextContentEmptyCurry=function(e,t){return()=>i(e,t)},t.$rootTextContent=o,t.registerLexicalTextEntity=function(e,t,n,i){let o=e=>{const t=r.$createTextNode(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(r.TextNode,(e=>{if(e.isSimpleText()){var l=e.getPreviousSibling(),s=e.getTextContent(),a=e;if(r.$isTextNode(l)){var u=l.getTextContent(),c=t(u+s);if(l instanceof n){if(null===c||0!==l.getLatest().__mode)return void o(l);if(0<(c=c.end-u.length))return a=u+(a=s.slice(0,c)),l.select(),l.setTextContent(a),void(c===s.length?e.remove():(l=s.slice(c),e.setTextContent(l)))}else if(null===c||c.start<u.length)return}for(;;){if(s=c=null===(e=t(s))?"":s.slice(e.end),""===c){if(u=a.getNextSibling(),r.$isTextNode(u)){if(c=a.getTextContent()+u.getTextContent(),null===(c=t(c))){u instanceof n?o(u):u.markDirty();break}if(0!==c.start)break}}else if(null!==(u=t(c))&&0===u.start)break;if(null===e)break;if(0===e.start&&r.$isTextNode(l)&&l.isTextEntity())continue;let d;if(0===e.start?[d,a]=a.splitText(e.end):[,d,a]=a.splitText(e.start,e.end),(e=i(d)).setFormat(d.getFormat()),d.replace(e),null==a)break}}})),e=e.registerNodeTransform(n,(e=>{var i=e.getTextContent();const l=t(i);null===l||0!==l.start?o(e):i.length>l.end?e.splitText(l.end):(i=e.getPreviousSibling(),r.$isTextNode(i)&&i.isTextEntity()&&(o(i),o(e)),i=e.getNextSibling(),r.$isTextNode(i)&&i.isTextEntity()&&(o(i),e instanceof n&&o(e)))}))]}},376969:function(e,t,n){const r=n(487502);e.exports=r},487502:function(e,t,n){var r=n(389408),i=n(932998);function o(e,t){for(let n of t)if(e.type.startsWith(n))return!0;return!1}function l(e,t){for(;e!==i.$getRoot()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function s(e){return 1===e.nodeType}t.$splitNode=i.$splitNode,t.$dfs=function(e,t){let n=[];e=(e||i.$getRoot()).getLatest(),t=t||(i.$isElementNode(e)?e.getLastDescendant():e);for(var r=e,o=0;null!==(r=r.getParent());)o++;for(r=o;null!==e&&!e.is(t);)if(n.push({depth:r,node:e}),i.$isElementNode(e)&&0<e.getChildrenSize())e=e.getFirstChild(),r++;else for(o=null;null===o&&null!==e;)null===(o=e.getNextSibling())?(e=e.getParent(),r--):e=o;return null!==e&&e.is(t)&&n.push({depth:r,node:e}),n},t.$findMatchingParent=l,t.$getNearestBlockElementAncestorOrThrow=function(e){let t=l(e,(e=>i.$isElementNode(e)&&!e.isInline()));return i.$isElementNode(t)||function(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(4,e.__key),t},t.$getNearestNodeOfType=function(e,t){for(;null!=e;){if(e instanceof t)return e;e=e.getParent()}return null},t.$insertNodeToNearestRoot=function(e){var t=i.$getSelection()||i.$getPreviousSelection();if(i.$isRangeSelection(t)){var{focus:n}=t;if(t=n.getNode(),n=n.offset,i.$isRootOrShadowRoot(t))null==(n=t.getChildAtIndex(n))?t.append(e):n.insertBefore(e),e.selectNext();else{let r,o;i.$isTextNode(t)?(r=t.getParentOrThrow(),o=t.getIndexWithinParent(),0<n&&(o+=1,t.splitText(n))):(r=t,o=n),[,t]=i.$splitNode(r,o),t.insertBefore(e),t.selectStart()}}else i.$isNodeSelection(t)||i.DEPRECATED_$isGridSelection(t)?(t=t.getNodes())[t.length-1].getTopLevelElementOrThrow().insertAfter(e):i.$getRoot().append(e),t=i.$createParagraphNode(),e.insertAfter(t),t.select();return e.getLatest()},t.$restoreEditorState=function(e,t){let n=new Map,o=e._pendingEditorState;for(let[e,o]of t._nodeMap){let t=r.$cloneWithProperties(o);i.$isTextNode(t)&&(t.__text=o.__text),n.set(e,t)}o&&(o._nodeMap=n),e._dirtyType=2,e=t._selection,i.$setSelection(null===e?null:e.clone())},t.$wrapNodeInElement=function(e,t){return t=t(),e.replace(t),t.append(e),t},t.addClassNamesToElement=function(e,...t){t.forEach((t=>{"string"==typeof t&&(t=t.split(" ").filter((e=>""!==e)),e.classList.add(...t))}))},t.isHTMLAnchorElement=function(e){return s(e)&&"A"===e.tagName},t.isHTMLElement=s,t.isMimeType=o,t.mediaFileReader=function(e,t){let n=e[Symbol.iterator]();return new Promise(((e,r)=>{let i=[],l=()=>{const{done:s,value:a}=n.next();if(s)return e(i);const u=new FileReader;u.addEventListener("error",r),u.addEventListener("load",(()=>{const e=u.result;"string"==typeof e&&i.push({file:a,result:e}),l()})),o(a,t)?u.readAsDataURL(a):l()};l()}))},t.mergeRegister=function(...e){return()=>{e.forEach((e=>e()))}},t.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name},t.registerNestedElementResolver=function(e,t,n,r){return e.registerNodeTransform(t,(e=>{e:{for(var i=e.getChildren(),o=0;o<i.length;o++)if(i[o]instanceof t){i=null;break e}for(i=e;null!==i;)if(o=i,(i=i.getParent())instanceof t){i={child:o,parent:i};break e}i=null}if(null!==i){const{child:t,parent:l}=i;if(t.is(e)){if(r(l,e),i=(e=t.getNextSiblings()).length,l.insertAfter(t),0!==i){o=n(l),t.insertAfter(o);for(let t=0;t<i;t++)o.append(e[t])}l.canBeEmpty()||0!==l.getChildrenSize()||l.remove()}}}))},t.removeClassNamesFromElement=function(e,...t){t.forEach((t=>{"string"==typeof t&&e.classList.remove(...t.split(" "))}))}},516201:function(e,t,n){n.r(t),n.d(t,{basicLogger:function(){return Dt},createConsoleLogger:function(){return Rt},default:function(){return At},initialize:function(){return wt},version:function(){return kt}});var r=n(425108);function i(e){function t(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=e,this.code=t}return t.prototype=new Error,t.prototype.name=e,t.prototype.constructor=t,t}const o=i("LaunchDarklyUnexpectedResponseError"),l=i("LaunchDarklyInvalidEnvironmentIdError"),s=i("LaunchDarklyInvalidUserError"),a=i("LaunchDarklyInvalidEventKeyError"),u=i("LaunchDarklyInvalidArgumentError"),c=i("LaunchDarklyFlagFetchError");for(var d={LDUnexpectedResponseError:o,LDInvalidEnvironmentIdError:l,LDInvalidUserError:s,LDInvalidEventKeyError:a,LDInvalidArgumentError:u,LDInvalidDataError:i("LaunchDarklyInvalidDataError"),LDFlagFetchError:c,isHttpErrorRecoverable:function(e){return!(e>=400&&e<500)||400===e||408===e||429===e}},f=[],g=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0;m<64;++m)f[m]=p[m],g[p.charCodeAt(m)]=m;function _(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function v(e,t,n){for(var r,i,o=[],l=t;l<n;l+=3)r=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(255&e[l+2]),o.push(f[(i=r)>>18&63]+f[i>>12&63]+f[i>>6&63]+f[63&i]);return o.join("")}g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;var y={byteLength:function(e){var t=_(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=_(e),i=r[0],o=r[1],l=new h(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),s=0,a=o>0?i-4:i;for(n=0;n<a;n+=4)t=g[e.charCodeAt(n)]<<18|g[e.charCodeAt(n+1)]<<12|g[e.charCodeAt(n+2)]<<6|g[e.charCodeAt(n+3)],l[s++]=t>>16&255,l[s++]=t>>8&255,l[s++]=255&t;return 2===o&&(t=g[e.charCodeAt(n)]<<2|g[e.charCodeAt(n+1)]>>4,l[s++]=255&t),1===o&&(t=g[e.charCodeAt(n)]<<10|g[e.charCodeAt(n+1)]<<4|g[e.charCodeAt(n+2)]>>2,l[s++]=t>>8&255,l[s++]=255&t),l},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,l=0,s=n-r;l<s;l+=o)i.push(v(e,l,l+o>s?s:l+o));return 1===r?(t=e[n-1],i.push(f[t>>2]+f[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(f[t>>10]+f[t>>4&63]+f[t<<2&63]+"=")),i.join("")}},C=Array.isArray,N=Object.keys,E=Object.prototype.hasOwnProperty,T=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var r,i,o,l=C(t),s=C(n);if(l&&s){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(l!=s)return!1;var a=t instanceof Date,u=n instanceof Date;if(a!=u)return!1;if(a&&u)return t.getTime()==n.getTime();var c=t instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return t.toString()==n.toString();var f=N(t);if((i=f.length)!==N(n).length)return!1;for(r=i;0!=r--;)if(!E.call(n,f[r]))return!1;for(r=i;0!=r--;)if(!e(t[o=f[r]],n[o]))return!1;return!0}return t!=t&&n!=n};const S=["key","ip","country","email","firstName","lastName","avatar","name"];function x(e){const t=unescape(encodeURIComponent(e));return y.fromByteArray(function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}(t))}function b(e){return x(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var w,D={appendUrlPath:function(e,t){return(e.endsWith("/")?e.substring(0,e.length-1):e)+(t.startsWith("/")?"":"/")+t},base64URLEncode:b,btoa:x,chunkEventsForUrl:function(e,t){const n=t.slice(0),r=[];let i,o=e;for(;n.length>0;){for(i=[];o>0;){const e=n.shift();if(!e)break;o-=b(JSON.stringify(e)).length,o<0&&i.length>0?n.unshift(e):i.push(e)}o=e,r.push(i)}return r},clone:function(e){return JSON.parse(JSON.stringify(e))},deepEquals:function(e,t){return T(e,t)},extend:function(...e){return e.reduce(((e,t)=>({...e,...t})),{})},getLDUserAgentString:function(e){const t=e.version||"?";return e.userAgent+"/"+t},objectHasOwnProperty:O,onNextTick:function(e){setTimeout(e,0)},sanitizeContext:function(e){if(!e)return e;let t;return null!==e.kind&&void 0!==e.kind||S.forEach((n=>{const r=e[n];void 0!==r&&"string"!=typeof r&&(t=t||{...e},t[n]=String(r))})),t||e},transformValuesToVersionedValues:function(e){const t={};for(const n in e)O(e,n)&&(t[n]={value:e[n],version:0});return t},transformVersionedValuesToValues:function(e){const t={};for(const n in e)O(e,n)&&(t[n]=e[n].value);return t},wrapPromiseCallback:function(e,t){const n=e.then((e=>(t&&setTimeout((()=>{t(null,e)}),0),e)),(e=>{if(!t)return Promise.reject(e);setTimeout((()=>{t(e,null)}),0)}));return t?void 0:n}},R=new Uint8Array(16);function k(){if(!w&&!(w="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w(R)}var A=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function M(e){return"string"==typeof e&&A.test(e)}for(var P,$,L=[],I=0;I<256;++I)L.push((I+256).toString(16).substr(1));function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(L[e[t+0]]+L[e[t+1]]+L[e[t+2]]+L[e[t+3]]+"-"+L[e[t+4]]+L[e[t+5]]+"-"+L[e[t+6]]+L[e[t+7]]+"-"+L[e[t+8]]+L[e[t+9]]+"-"+L[e[t+10]]+L[e[t+11]]+L[e[t+12]]+L[e[t+13]]+L[e[t+14]]+L[e[t+15]]).toLowerCase();if(!M(n))throw TypeError("Stringified UUID is invalid");return n}var B=0,K=0;function j(e){if(!M(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function U(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=j(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+e.length);if(l.set(r),l.set(e,r.length),(l=n(l))[6]=15&l[6]|t,l[8]=63&l[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=l[s];return i}return F(l)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function H(e){return 14+(e+64>>>9<<4)+1}function W(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function z(e,t,n,r,i,o){return W((l=W(W(t,e),W(r,o)))<<(s=i)|l>>>32-s,n);var l,s}function Y(e,t,n,r,i,o,l){return z(t&n|~t&r,e,t,i,o,l)}function G(e,t,n,r,i,o,l){return z(t&r|n&~r,e,t,i,o,l)}function J(e,t,n,r,i,o,l){return z(t^n^r,e,t,i,o,l)}function V(e,t,n,r,i,o,l){return z(n^(t|~r),e,t,i,o,l)}var q=U("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,l=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(l)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[H(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,l=0;l<e.length;l+=16){var s=n,a=r,u=i,c=o;n=Y(n,r,i,o,e[l],7,-680876936),o=Y(o,n,r,i,e[l+1],12,-389564586),i=Y(i,o,n,r,e[l+2],17,606105819),r=Y(r,i,o,n,e[l+3],22,-1044525330),n=Y(n,r,i,o,e[l+4],7,-176418897),o=Y(o,n,r,i,e[l+5],12,1200080426),i=Y(i,o,n,r,e[l+6],17,-1473231341),r=Y(r,i,o,n,e[l+7],22,-45705983),n=Y(n,r,i,o,e[l+8],7,1770035416),o=Y(o,n,r,i,e[l+9],12,-1958414417),i=Y(i,o,n,r,e[l+10],17,-42063),r=Y(r,i,o,n,e[l+11],22,-1990404162),n=Y(n,r,i,o,e[l+12],7,1804603682),o=Y(o,n,r,i,e[l+13],12,-40341101),i=Y(i,o,n,r,e[l+14],17,-1502002290),n=G(n,r=Y(r,i,o,n,e[l+15],22,1236535329),i,o,e[l+1],5,-165796510),o=G(o,n,r,i,e[l+6],9,-1069501632),i=G(i,o,n,r,e[l+11],14,643717713),r=G(r,i,o,n,e[l],20,-373897302),n=G(n,r,i,o,e[l+5],5,-701558691),o=G(o,n,r,i,e[l+10],9,38016083),i=G(i,o,n,r,e[l+15],14,-660478335),r=G(r,i,o,n,e[l+4],20,-405537848),n=G(n,r,i,o,e[l+9],5,568446438),o=G(o,n,r,i,e[l+14],9,-1019803690),i=G(i,o,n,r,e[l+3],14,-187363961),r=G(r,i,o,n,e[l+8],20,1163531501),n=G(n,r,i,o,e[l+13],5,-1444681467),o=G(o,n,r,i,e[l+2],9,-51403784),i=G(i,o,n,r,e[l+7],14,1735328473),n=J(n,r=G(r,i,o,n,e[l+12],20,-1926607734),i,o,e[l+5],4,-378558),o=J(o,n,r,i,e[l+8],11,-2022574463),i=J(i,o,n,r,e[l+11],16,1839030562),r=J(r,i,o,n,e[l+14],23,-35309556),n=J(n,r,i,o,e[l+1],4,-1530992060),o=J(o,n,r,i,e[l+4],11,1272893353),i=J(i,o,n,r,e[l+7],16,-155497632),r=J(r,i,o,n,e[l+10],23,-1094730640),n=J(n,r,i,o,e[l+13],4,681279174),o=J(o,n,r,i,e[l],11,-358537222),i=J(i,o,n,r,e[l+3],16,-722521979),r=J(r,i,o,n,e[l+6],23,76029189),n=J(n,r,i,o,e[l+9],4,-640364487),o=J(o,n,r,i,e[l+12],11,-421815835),i=J(i,o,n,r,e[l+15],16,530742520),n=V(n,r=J(r,i,o,n,e[l+2],23,-995338651),i,o,e[l],6,-198630844),o=V(o,n,r,i,e[l+7],10,1126891415),i=V(i,o,n,r,e[l+14],15,-1416354905),r=V(r,i,o,n,e[l+5],21,-57434055),n=V(n,r,i,o,e[l+12],6,1700485571),o=V(o,n,r,i,e[l+3],10,-1894986606),i=V(i,o,n,r,e[l+10],15,-1051523),r=V(r,i,o,n,e[l+1],21,-2054922799),n=V(n,r,i,o,e[l+8],6,1873313359),o=V(o,n,r,i,e[l+15],10,-30611744),i=V(i,o,n,r,e[l+6],15,-1560198380),r=V(r,i,o,n,e[l+13],21,1309151649),n=V(n,r,i,o,e[l+4],6,-145523070),o=V(o,n,r,i,e[l+11],10,-1120210379),i=V(i,o,n,r,e[l+2],15,718787259),r=V(r,i,o,n,e[l+9],21,-343485551),n=W(n,s),r=W(r,a),i=W(i,u),o=W(o,c)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(H(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),X=q;function Q(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function Z(e,t){return e<<t|e>>>32-t}var ee=U("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,l=Math.ceil(o/16),s=new Array(l),a=0;a<l;++a){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*a+4*c]<<24|e[64*a+4*c+1]<<16|e[64*a+4*c+2]<<8|e[64*a+4*c+3];s[a]=u}s[l-1][14]=8*(e.length-1)/Math.pow(2,32),s[l-1][14]=Math.floor(s[l-1][14]),s[l-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<l;++d){for(var f=new Uint32Array(80),g=0;g<16;++g)f[g]=s[d][g];for(var h=16;h<80;++h)f[h]=Z(f[h-3]^f[h-8]^f[h-14]^f[h-16],1);for(var p=n[0],m=n[1],_=n[2],v=n[3],y=n[4],C=0;C<80;++C){var N=Math.floor(C/20),E=Z(p,5)+Q(N,m,_,v)+y+t[N]+f[C]>>>0;y=v,v=_,_=Z(m,30)>>>0,m=p,p=E}n[0]=n[0]+p>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+_>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),te=ee,ne=Object.freeze({__proto__:null,v1:function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||P,l=void 0!==e.clockseq?e.clockseq:$;if(null==o||null==l){var s=e.random||(e.rng||k)();null==o&&(o=P=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==l&&(l=$=16383&(s[6]<<8|s[7]))}var a=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:K+1,c=a-B+(u-K)/1e4;if(c<0&&void 0===e.clockseq&&(l=l+1&16383),(c<0||a>B)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");B=a,K=u,$=l;var d=(1e4*(268435455&(a+=122192928e5))+u)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=255&d;var f=a/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=255&f,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=l>>>8|128,i[r++]=255&l;for(var g=0;g<6;++g)i[r+g]=o[g];return t||F(i)},v3:X,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||k)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return F(r)},v5:te,NIL:"00000000-0000-0000-0000-000000000000",version:function(e){if(!M(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)},validate:M,stringify:F,parse:j});const re=["debug","info","warn","error","none"];var ie={commonBasicLogger:function(e,t){if(e&&e.destination&&"function"!=typeof e.destination)throw new Error("destination for basicLogger was set to a non-function");function n(e){return function(t){r&&r[e]&&r[e].call(r,t)}}const i=e&&e.destination?[e.destination,e.destination,e.destination,e.destination]:[n("log"),n("info"),n("warn"),n("error")],o=!(!e||!e.destination),l=e&&void 0!==e.prefix&&null!==e.prefix?e.prefix:"[LaunchDarkly] ";let s=1;if(e&&e.level)for(let t=0;t<re.length;t++)re[t]===e.level&&(s=t);function a(e,n,s){if(s.length<1)return;let a;const u=o?n+": "+l:l;if(1!==s.length&&t){const e=[...s];e[0]=u+e[0],a=t(...e)}else a=u+s[0];try{i[e](a)}catch(e){r&&r.log&&r.log("[LaunchDarkly] Configured logger's "+n+" method threw an exception: "+e)}}const u={};for(let e=0;e<re.length;e++){const t=re[e];if("none"!==t)if(e<s)u[t]=()=>{};else{const n=e;u[t]=function(){a(n,t,arguments)}}}return u},validateLogger:function(e){re.forEach((t=>{if("none"!==t&&(!e[t]||"function"!=typeof e[t]))throw new Error("Provided logger instance must support logger."+t+"(...) method")}))}};function oe(e){return e&&e.message?e.message:"string"==typeof e||e instanceof String?e:JSON.stringify(e)}const le=" Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization.";var se={bootstrapInvalid:function(){return"LaunchDarkly bootstrap data is not available because the back end could not read the flags."},bootstrapOldFormat:function(){return"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly."+le},clientInitialized:function(){return"LaunchDarkly client initialized"},clientNotReady:function(){return"LaunchDarkly client is not ready"},debugEnqueueingEvent:function(e){return'enqueueing "'+e+'" event'},debugPostingDiagnosticEvent:function(e){return"sending diagnostic event ("+e.kind+")"},debugPostingEvents:function(e){return"sending "+e+" events"},debugStreamDelete:function(e){return'received streaming deletion for flag "'+e+'"'},debugStreamDeleteIgnored:function(e){return'received streaming deletion for flag "'+e+'" but ignored due to version check'},debugStreamPatch:function(e){return'received streaming update for flag "'+e+'"'},debugStreamPatchIgnored:function(e){return'received streaming update for flag "'+e+'" but ignored due to version check'},debugStreamPing:function(){return"received ping message from stream"},debugPolling:function(e){return"polling for feature flags at "+e},debugStreamPut:function(){return"received streaming update for all flags"},deprecated:function(e,t){return t?'"'+e+'" is deprecated, please use "'+t+'"':'"'+e+'" is deprecated'},environmentNotFound:function(){return"Environment not found. Double check that you specified a valid environment/client-side ID."+le},environmentNotSpecified:function(){return"No environment/client-side ID was specified."+le},errorFetchingFlags:function(e){return"Error fetching flag settings: "+oe(e)},eventCapacityExceeded:function(){return"Exceeded event queue capacity. Increase capacity to avoid dropping events."},eventWithoutContext:function(){return"Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"},httpErrorMessage:function(e,t,n){return"Received error "+e+(401===e?" (invalid SDK key)":"")+" for "+t+" - "+(d.isHttpErrorRecoverable(e)?n:"giving up permanently")},httpUnavailable:function(){return"Cannot make HTTP requests in this environment."+le},identifyDisabled:function(){return"identify() has no effect here; it must be called on the main client instance"},inspectorMethodError:(e,t)=>`an inspector: "${t}" of type: "${e}" generated an exception`,invalidContentType:function(e){return'Expected application/json content type but got "'+e+'"'},invalidData:function(){return"Invalid data received from LaunchDarkly; connection may have been interrupted"},invalidInspector:(e,t)=>`an inspector: "${t}" of an invalid type (${e}) was configured`,invalidKey:function(){return"Event key must be a string"},invalidContext:function(){return"Invalid context specified."+le},invalidTagValue:e=>`Config option "${e}" must only contain letters, numbers, ., _ or -.`,localStorageUnavailable:function(e){return"local storage is unavailable: "+oe(e)},networkError:e=>"network error"+(e?" ("+e+")":""),optionBelowMinimum:(e,t,n)=>'Config option "'+e+'" was set to '+t+", changing to minimum value of "+n,streamClosing:function(){return"Closing stream connection"},streamConnecting:function(e){return"Opening stream connection to "+e},streamError:function(e,t){return"Error on stream connection: "+oe(e)+", will continue retrying after "+t+" milliseconds."},tagValueTooLong:e=>`Value of "${e}" was longer than 64 characters and was discarded.`,unknownCustomEventKey:function(e){return'Custom event "'+e+'" does not exist'},unknownOption:e=>'Ignoring unknown config option "'+e+'"',contextNotSpecified:function(){return"No context specified."+le},unrecoverableStreamError:e=>`Error on stream connection ${oe(e)}, giving up permanently`,wrongOptionType:(e,t,n)=>'Config option "'+e+'" should be of type '+t+", got "+n+", using default value",wrongOptionTypeBoolean:(e,t)=>'Config option "'+e+'" should be a boolean, got '+t+", converting to boolean"};const{validateLogger:ae}=ie,ue={baseUrl:{default:"https://app.launchdarkly.com"},streamUrl:{default:"https://clientstream.launchdarkly.com"},eventsUrl:{default:"https://events.launchdarkly.com"},sendEvents:{default:!0},streaming:{type:"boolean"},sendLDHeaders:{default:!0},requestHeaderTransform:{type:"function"},sendEventsOnlyForVariation:{default:!1},useReport:{default:!1},evaluationReasons:{default:!1},eventCapacity:{default:100,minimum:1},flushInterval:{default:2e3,minimum:2e3},samplingInterval:{default:0,minimum:0},streamReconnectDelay:{default:1e3,minimum:0},allAttributesPrivate:{default:!1},privateAttributes:{default:[]},bootstrap:{type:"string|object"},diagnosticRecordingInterval:{default:9e5,minimum:2e3},diagnosticOptOut:{default:!1},wrapperName:{type:"string"},wrapperVersion:{type:"string"},stateProvider:{type:"object"},application:{validator:function(e,t,n){const r={};return t.id&&(r.id=fe(`${e}.id`,t.id,n)),t.version&&(r.version=fe(`${e}.version`,t.version,n)),r}},inspectors:{default:[]}},ce=/^(\w|\.|-)+$/;function de(e){return e?.replace(/\/+$/,"")}function fe(e,t,n){if("string"==typeof t&&t.match(ce)){if(!(t.length>64))return t;n.warn(se.tagValueTooLong(e))}else n.warn(se.invalidTagValue(e))}var ge={baseOptionDefs:ue,validate:function(e,t,n,r){const i=D.extend({logger:{default:r}},ue,n),o={};function l(e){D.onNextTick((()=>{t&&t.maybeReportError(new d.LDInvalidArgumentError(e))}))}let s=D.extend({},e||{});return function(e){const t=e;Object.keys(o).forEach((e=>{if(void 0!==t[e]){const n=o[e];r&&r.warn(se.deprecated(e,n)),n&&(void 0===t[n]&&(t[n]=t[e]),delete t[e])}}))}(s),s=function(e){const t=D.extend({},e);return Object.keys(i).forEach((e=>{void 0!==t[e]&&null!==t[e]||(t[e]=i[e]&&i[e].default)})),t}(s),s=function(e){const t=D.extend({},e),n=e=>{if(null===e)return"any";if(void 0===e)return;if(Array.isArray(e))return"array";const t=typeof e;return"boolean"===t||"string"===t||"number"===t||"function"===t?t:"object"};return Object.keys(e).forEach((o=>{const s=e[o];if(null!=s){const a=i[o];if(void 0===a)l(se.unknownOption(o));else{const i=a.type||n(a.default),u=a.validator;if(u){const n=u(o,e[o],r);void 0!==n?t[o]=n:delete t[o]}else if("any"!==i){const e=i.split("|"),r=n(s);e.indexOf(r)<0?"boolean"===i?(t[o]=!!s,l(se.wrongOptionTypeBoolean(o,r))):(l(se.wrongOptionType(o,i,r)),t[o]=a.default):"number"===r&&void 0!==a.minimum&&s<a.minimum&&(l(se.optionBelowMinimum(o,s,a.minimum)),t[o]=a.minimum)}}}})),t.baseUrl=de(t.baseUrl),t.streamUrl=de(t.streamUrl),t.eventsUrl=de(t.eventsUrl),t}(s),ae(s.logger),s},getTags:function(e){const t={};return e&&(e.application&&void 0!==e.application.id&&null!==e.application.id&&(t["application-id"]=[e.application.id]),e.application&&void 0!==e.application.version&&null!==e.application.id&&(t["application-version"]=[e.application.version])),t}};const{getLDUserAgentString:he}=D;var pe={getLDHeaders:function(e,t){if(t&&!t.sendLDHeaders)return{};const n={};n[e.userAgentHeaderName||"User-Agent"]=he(e),t&&t.wrapperName&&(n["X-LaunchDarkly-Wrapper"]=t.wrapperVersion?t.wrapperName+"/"+t.wrapperVersion:t.wrapperName);const r=ge.getTags(t),i=Object.keys(r);return i.length&&(n["x-launchdarkly-tags"]=i.sort().map((e=>Array.isArray(r[e])?r[e].sort().map((t=>`${e}/${t}`)):[`${e}/${r[e]}`])).reduce(((e,t)=>e.concat(t)),[]).join(" ")),n},transformHeaders:function(e,t){return t&&t.requestHeaderTransform?t.requestHeaderTransform({...e}):e}};const{v1:me}=ne,{getLDHeaders:_e,transformHeaders:ve}=pe;var ye=function(e,t,n){const r="/a/"+t+".gif",i=D.extend({"Content-Type":"application/json"},_e(e,n)),o=e.httpFallbackPing,l={sendChunk:(t,l,s,a)=>{const u=JSON.stringify(t),c=s?null:me();return a?function t(r){const o=s?i:D.extend({},i,{"X-LaunchDarkly-Event-Schema":"4","X-LaunchDarkly-Payload-ID":c});return e.httpRequest("POST",l,ve(o,n),u).promise.then((e=>{if(e)return e.status>=400&&d.isHttpErrorRecoverable(e.status)&&r?t(!1):function(e){const t={status:e.status},n=e.header("date");if(n){const e=Date.parse(n);e&&(t.serverTime=e)}return t}(e)})).catch((()=>r?t(!1):Promise.reject()))}(!0).catch((()=>{})):(o&&o(l+r+"?d="+D.base64URLEncode(u)),Promise.resolve())},sendEvents:function(t,n,r){if(!e.httpRequest)return Promise.resolve();const i=e.httpAllowsPost();let o;o=i?[t]:D.chunkEventsForUrl(2e3-n.length,t);const s=[];for(let e=0;e<o.length;e++)s.push(l.sendChunk(o[e],n,r,i));return Promise.all(s)}};return l};const{commonBasicLogger:Ce}=ie;function Ne(e){return"string"==typeof e&&"kind"!==e&&e.match(/^(\w|\.|-)+$/)}function Ee(e){return e.includes("%")||e.includes(":")?e.replace(/%/g,"%25").replace(/:/g,"%3A"):e}var Te={checkContext:function(e,t){if(e){if(t&&(void 0===e.kind||null===e.kind))return void 0!==e.key&&null!==e.key;const n=e.key,r=void 0===e.kind?"user":e.kind,i=Ne(r),o="multi"===r||null!=n&&""!==n;if("multi"===r){const t=Object.keys(e).filter((e=>"kind"!==e));return o&&t.every((e=>Ne(e)))&&t.every((t=>{const n=e[t].key;return null!=n&&""!==n}))}return o&&i}return!1},getContextKeys:function(e,t=Ce()){if(!e)return;const n={},{kind:r,key:i}=e;switch(r){case void 0:n.user=`${i}`;break;case"multi":Object.entries(e).filter((([e])=>"kind"!==e)).forEach((([e,t])=>{t?.key&&(n[e]=t.key)}));break;case null:t.warn(`null is not a valid context kind: ${e}`);break;case"":t.warn(`'' is not a valid context kind: ${e}`);break;default:n[r]=`${i}`}return n},getContextKinds:function(e){return e?null===e.kind||void 0===e.kind?["user"]:"multi"!==e.kind?[e.kind]:Object.keys(e).filter((e=>"kind"!==e)):[]},getCanonicalKey:function(e){if(e){if((void 0===e.kind||null===e.kind||"user"===e.kind)&&e.key)return e.key;if("multi"!==e.kind&&e.key)return`${e.kind}:${Ee(e.key)}`;if("multi"===e.kind)return Object.keys(e).sort().filter((e=>"kind"!==e)).map((t=>`${t}:${Ee(e[t].key)}`)).join(":")}}};const{getContextKinds:Se}=Te;function xe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function be(e){return(e.startsWith("/")?e.substring(1):e).split("/").map((e=>e.indexOf("~")>=0?e.replace(/~1/g,"/").replace(/~0/g,"~"):e))}function Oe(e){return!e.startsWith("/")}function we(e,t){const n=Oe(e),r=Oe(t);if(n&&r)return e===t;if(n){const n=be(t);return 1===n.length&&e===n[0]}if(r){const n=be(e);return 1===n.length&&t===n[0]}return e===t}function De(e){return`/${xe(e)}`}var Re={cloneExcluding:function(e,t){const n=[],r={},i=[];for(n.push(...Object.keys(e).map((t=>({key:t,ptr:De(t),source:e,parent:r,visited:[e]}))));n.length;){const e=n.pop();if(t.some((t=>we(t,e.ptr))))i.push(e.ptr);else{const t=e.source[e.key];if(null===t)e.parent[e.key]=t;else if(Array.isArray(t))e.parent[e.key]=[...t];else if("object"==typeof t){if(e.visited.includes(t))continue;e.parent[e.key]={},n.push(...Object.keys(t).map((n=>{return{key:n,ptr:(r=e.ptr,i=xe(n),`${r}/${i}`),source:t,parent:e.parent[e.key],visited:[...e.visited,t]};var r,i})))}else e.parent[e.key]=t}}return{cloned:r,excluded:i.sort()}},compare:we,literalToReference:De};const{getContextKeys:ke}=Te;var Ae=function(e,t,n,r=null,i=null,o=null){const l={},s=o||ye(e,n,t),a=D.appendUrlPath(t.eventsUrl,"/events/bulk/"+n),u=function(){const e={};let t=0,n=0,r={},i={};return e.summarizeEvent=e=>{if("feature"===e.kind){const o=e.key+":"+(null!==e.variation&&void 0!==e.variation?e.variation:"")+":"+(null!==e.version&&void 0!==e.version?e.version:""),l=r[o];let s=i[e.key];s||(s=new Set,i[e.key]=s),function(e){return e.context?Se(e.context):e.contextKeys?Object.keys(e.contextKeys):[]}(e).forEach((e=>s.add(e))),l?l.count=l.count+1:r[o]={count:1,key:e.key,version:e.version,variation:e.variation,value:e.value,default:e.default},(0===t||e.creationDate<t)&&(t=e.creationDate),e.creationDate>n&&(n=e.creationDate)}},e.getSummary=()=>{const e={};let o=!0;for(const t of Object.values(r)){let n=e[t.key];n||(n={default:t.default,counters:[],contextKinds:[...i[t.key]]},e[t.key]=n);const r={value:t.value,count:t.count};void 0!==t.variation&&null!==t.variation&&(r.variation=t.variation),void 0!==t.version&&null!==t.version?r.version=t.version:r.unknown=!0,n.counters.push(r),o=!1}return o?null:{startDate:t,endDate:n,features:e}},e.clearSummary=()=>{t=0,n=0,r={},i={}},e}(),c=function(e){const t={},n=e.allAttributesPrivate,r=e.privateAttributes||[],i=["key","kind","_meta","anonymous"],o=["name","ip","firstName","lastName","email","avatar","country"],l=e=>{if("object"!=typeof e||null===e||Array.isArray(e))return;const{cloned:t,excluded:o}=Re.cloneExcluding(e,(e=>(n?Object.keys(e):[...r,...e._meta&&e._meta.privateAttributes||[]]).filter((e=>!i.some((t=>Re.compare(e,t))))))(e));return t.key=String(t.key),o.length&&(t._meta||(t._meta={}),t._meta.redactedAttributes=o),t._meta&&(delete t._meta.privateAttributes,0===Object.keys(t._meta).length&&delete t._meta),void 0!==t.anonymous&&(t.anonymous=!!t.anonymous),t};return t.filter=e=>void 0===e.kind||null===e.kind?l((e=>{const t={...e.custom||{},kind:"user",key:e.key};void 0!==e.anonymous&&(t.anonymous=!!e.anonymous);for(const n of o)delete t[n],void 0!==e[n]&&null!==e[n]&&(t[n]=String(e[n]));return void 0!==e.privateAttributeNames&&null!==e.privateAttributeNames&&(t._meta=t._meta||{},t._meta.privateAttributes=e.privateAttributeNames.map((e=>e.startsWith("/")?Re.literalToReference(e):e))),t})(e)):"multi"===e.kind?(e=>{const t={kind:e.kind},n=Object.keys(e);for(const r of n)if("kind"!==r){const n=l(e[r]);n&&(t[r]=n)}return t})(e):l(e),t}(t),f=t.samplingInterval,g=t.eventCapacity,h=t.flushInterval,p=t.logger;let m,_=[],v=0,y=!1,C=!1;function N(){return 0===f||0===Math.floor(Math.random()*f)}function E(e){_.length<g?(_.push(e),C=!1):(C||(C=!0,p.warn(se.eventCapacityExceeded())),r&&r.incrementDroppedEvents())}return l.enqueue=function(e){if(y)return;let t=!1,n=!1;var r;if(u.summarizeEvent(e),"feature"===e.kind?N()&&(t=!!e.trackEvents,n=!!(r=e).debugEventsUntilDate&&r.debugEventsUntilDate>v&&r.debugEventsUntilDate>(new Date).getTime()):t=N(),t&&E(function(e){const t=D.extend({},e);return"identify"===e.kind?t.context=c.filter(e.context):(t.contextKeys=ke(e.context,p),delete t.context),"feature"===e.kind&&(delete t.trackEvents,delete t.debugEventsUntilDate),t}(e)),n){const t=D.extend({},e,{kind:"debug"});t.context=c.filter(t.context),delete t.trackEvents,delete t.debugEventsUntilDate,E(t)}},l.flush=function(){if(y)return Promise.resolve();const e=_,t=u.getSummary();return u.clearSummary(),t&&(t.kind="summary",e.push(t)),r&&r.setEventsInLastBatch(e.length),0===e.length?Promise.resolve():(_=[],p.debug(se.debugPostingEvents(e.length)),s.sendEvents(e,a).then((e=>{const t=e&&e[0];t&&(t.serverTime&&(v=t.serverTime),d.isHttpErrorRecoverable(t.status)||(y=!0),t.status>=400&&D.onNextTick((()=>{i.maybeReportError(new d.LDUnexpectedResponseError(se.httpErrorMessage(t.status,"event posting","some events were dropped")))})))})))},l.start=function(){const e=()=>{l.flush(),m=setTimeout(e,h)};m=setTimeout(e,h)},l.stop=function(){clearTimeout(m)},l};const Me="ready",Pe="initialized",$e="failed";const{appendUrlPath:Le,base64URLEncode:Ie,objectHasOwnProperty:Fe}=D,{getLDHeaders:Be,transformHeaders:Ke}=pe,{isHttpErrorRecoverable:je}=d;var Ue=function(e,t,n,r){const i=t.streamUrl,o=t.logger,l={},s=Le(i,"/eval/"+n),a=t.useReport,u=t.evaluationReasons,c=t.streamReconnectDelay,d=Be(e,t);let f,g=!1,h=null,p=null,m=null,_=null,v=null,y=0;function C(e){if(e.status&&"number"==typeof e.status&&!je(e.status))return T(),o.error(se.unrecoverableStreamError(e)),void(p&&(clearTimeout(p),p=null));const t=function(){const e=(t=function(){const e=c*Math.pow(2,y);return e>3e4?3e4:e}(),t-Math.trunc(.5*Math.random()*t));var t;return y+=1,e}();g||(o.warn(se.streamError(e,t)),g=!0),S(!1),T(),N(t)}function N(e){p||(e?p=setTimeout(E,e):E())}function E(){let r;p=null;let l="";const c={headers:d,readTimeoutMillis:3e5};if(e.eventSourceFactory){null!=_&&(l="h="+_),a?e.eventSourceAllowsReport?(r=s,c.method="REPORT",c.headers["Content-Type"]="application/json",c.body=JSON.stringify(m)):(r=Le(i,"/ping/"+n),l=""):r=s+"/"+Ie(JSON.stringify(m)),c.headers=Ke(c.headers,t),u&&(l=l+(l?"&":"")+"withReasons=true"),r=r+(l?"?":"")+l,T(),o.info(se.streamConnecting(r)),f=(new Date).getTime(),h=e.eventSourceFactory(r,c);for(const e in v)Fe(v,e)&&h.addEventListener(e,v[e]);h.onerror=C,h.onopen=()=>{y=0}}}function T(){h&&(o.info(se.streamClosing()),h.close(),h=null)}function S(e){f&&r&&r.recordStreamInit(f,!e,(new Date).getTime()-f),f=null}return l.connect=function(e,t,n){m=e,_=t,v={};for(const e in n||{})v[e]=function(t){g=!1,S(!0),n[e]&&n[e](t)};N()},l.disconnect=function(){clearTimeout(p),p=null,T()},l.isConnected=function(){return!!(h&&e.eventSourceIsActive&&e.eventSourceIsActive(h))},l};const{transformHeaders:He,getLDHeaders:We}=pe,ze="application/json";var Ye=function(e,t,n){const r=t.baseUrl,i=t.useReport,o=t.evaluationReasons,l=t.logger,s={},a={};function u(n,r){if(!e.httpRequest)return new Promise(((e,t)=>{t(new d.LDFlagFetchError(se.httpUnavailable()))}));const i=r?"REPORT":"GET",o=We(e,t);r&&(o["Content-Type"]=ze);let l=a[n];l||(l=function(e){let t,n,r,i;const o={addPromise:(o,l)=>{t=o,n&&n(),n=l,o.then((n=>{t===o&&(r(n),e&&e())}),(n=>{t===o&&(i(n),e&&e())}))}};return o.resultPromise=new Promise(((e,t)=>{r=e,i=t})),o}((()=>{delete a[n]})),a[n]=l);const s=e.httpRequest(i,n,He(o,t),r),u=s.promise.then((e=>{if(200===e.status){if(e.header("content-type")&&e.header("content-type").substring(0,16)===ze)return JSON.parse(e.body);{const t=se.invalidContentType(e.header("content-type")||"");return Promise.reject(new d.LDFlagFetchError(t))}}return Promise.reject(function(e){return 404===e.status?new d.LDInvalidEnvironmentIdError(se.environmentNotFound()):new d.LDFlagFetchError(se.errorFetchingFlags(e.statusText||String(e.status)))}(e))}),(e=>Promise.reject(new d.LDFlagFetchError(se.networkError(e)))));return l.addPromise(u,(()=>{s.cancel&&s.cancel()})),l.resultPromise}return s.fetchJSON=function(e){return u(D.appendUrlPath(r,e),null)},s.fetchFlagSettings=function(e,t){let s,a,c,d="";return i?(a=[r,"/sdk/evalx/",n,"/context"].join(""),c=JSON.stringify(e)):(s=D.base64URLEncode(JSON.stringify(e)),a=[r,"/sdk/evalx/",n,"/contexts/",s].join("")),t&&(d="h="+t),o&&(d=d+(d?"&":"")+"withReasons=true"),a=a+(d?"?":"")+d,l.debug(se.debugPolling(a)),u(a,c)},s};const{v1:Ge}=ne,{getContextKinds:Je}=Te;var Ve=function(e){function t(e){return null==e||"user"===e?"ld:$anonUserId":`ld:$contextKey:${e}`}function n(n,r){return null!==r.key&&void 0!==r.key?(r.key=r.key.toString(),Promise.resolve(r)):r.anonymous?function(n){return e.get(t(n))}(n).then((i=>{if(i)return r.key=i,r;{const i=Ge();return r.key=i,function(n,r){return e.set(t(r),n)}(i,n).then((()=>r))}})):Promise.reject(new d.LDInvalidUserError(se.invalidContext()))}this.processContext=e=>{if(!e)return Promise.reject(new d.LDInvalidUserError(se.contextNotSpecified()));const t=D.clone(e);if("multi"===e.kind){const e=Je(t);return Promise.all(e.map((e=>n(e,t[e])))).then((()=>t))}return n(e.kind,t)}};const{v1:qe}=ne,{baseOptionDefs:Xe}=ge,{appendUrlPath:Qe}=D;var Ze=function(e){const t={diagnosticId:qe()};return e&&(t.sdkKeySuffix=e.length>6?e.substring(e.length-6):e),t},et=function(e){let t,n,r,i;function o(e){t=e,n=0,r=0,i=[]}return o(e),{getProps:()=>({dataSinceDate:t,droppedEvents:n,eventsInLastBatch:r,streamInits:i}),setProps:e=>{t=e.dataSinceDate,n=e.droppedEvents||0,r=e.eventsInLastBatch||0,i=e.streamInits||[]},incrementDroppedEvents:()=>{n++},setEventsInLastBatch:e=>{r=e},recordStreamInit:(e,t,n)=>{const r={timestamp:e,failed:t,durationMillis:n};i.push(r)},reset:o}},tt=function(e,t,n,r,i,o,l){const s=!!e.diagnosticUseCombinedEvent,a="ld:"+i+":$diagnostics",u=Qe(o.eventsUrl,"/events/diagnostic/"+i),c=o.diagnosticRecordingInterval,d=n;let f,g,h=!!o.streaming;const p={};function m(){return{sdk:y(),configuration:{customBaseURI:o.baseUrl!==Xe.baseUrl.default,customStreamURI:o.streamUrl!==Xe.streamUrl.default,customEventsURI:o.eventsUrl!==Xe.eventsUrl.default,eventsCapacity:o.eventCapacity,eventsFlushIntervalMillis:o.flushInterval,reconnectTimeMillis:o.streamReconnectDelay,streamingDisabled:!h,allAttributesPrivate:!!o.allAttributesPrivate,diagnosticRecordingIntervalMillis:o.diagnosticRecordingInterval,usingSecureMode:!!o.hash,bootstrapMode:!!o.bootstrap,fetchGoalsDisabled:!o.fetchGoals,sendEventsOnlyForVariation:!!o.sendEventsOnlyForVariation},platform:e.diagnosticPlatformData}}function _(e){o.logger&&o.logger.debug(se.debugPostingDiagnosticEvent(e)),r.sendEvents(e,u,!0).then((()=>{})).catch((()=>{}))}function v(){_(function(){const e=(new Date).getTime();let t={kind:s?"diagnostic-combined":"diagnostic",id:l,creationDate:e,...d.getProps()};return s&&(t={...t,...m()}),d.reset(e),t}()),g=setTimeout(v,c),f=(new Date).getTime(),s&&function(){if(t.isEnabled()){const e={...d.getProps()};t.set(a,JSON.stringify(e))}}()}function y(){const t={...e.diagnosticSdkData};return o.wrapperName&&(t.wrapperName=o.wrapperName),o.wrapperVersion&&(t.wrapperVersion=o.wrapperVersion),t}return p.start=()=>{s?function(e){if(!t.isEnabled())return e(!1);t.get(a).then((t=>{if(t)try{const e=JSON.parse(t);d.setProps(e),f=e.dataSinceDate}catch(e){}e(!0)})).catch((()=>{e(!1)}))}((e=>{if(e){const e=(f||0)+c,t=(new Date).getTime();t>=e?v():g=setTimeout(v,e-t)}else 0===Math.floor(4*Math.random())?v():g=setTimeout(v,c)})):(_({kind:"diagnostic-init",id:l,creationDate:d.getProps().dataSinceDate,...m()}),g=setTimeout(v,c))},p.stop=()=>{g&&clearTimeout(g)},p.setStreaming=e=>{h=e},p};const{onNextTick:nt}=D,rt={flagUsed:"flag-used",flagDetailsChanged:"flag-details-changed",flagDetailChanged:"flag-detail-changed",clientIdentityChanged:"client-identity-changed"};Object.freeze(rt);var it={InspectorTypes:rt,InspectorManager:function(e,t){const n={},r={[rt.flagUsed]:[],[rt.flagDetailsChanged]:[],[rt.flagDetailChanged]:[],[rt.clientIdentityChanged]:[]},i=e?.map((e=>function(e,t){let n=!1;const r={type:e.type,name:e.name,method:(...i)=>{try{e.method(...i)}catch{n||(n=!0,t.warn(se.inspectorMethodError(r.type,r.name)))}}};return r}(e,t)));return i.forEach((e=>{Object.prototype.hasOwnProperty.call(r,e.type)?r[e.type].push(e):t.warn(se.invalidInspector(e.type,e.name))})),n.hasListeners=e=>r[e]?.length,n.onFlagUsed=(e,t,n)=>{r[rt.flagUsed].length&&nt((()=>{r[rt.flagUsed].forEach((r=>r.method(e,t,n)))}))},n.onFlags=e=>{r[rt.flagDetailsChanged].length&&nt((()=>{r[rt.flagDetailsChanged].forEach((t=>t.method(e)))}))},n.onFlagChanged=(e,t)=>{r[rt.flagDetailChanged].length&&nt((()=>{r[rt.flagDetailChanged].forEach((n=>n.method(e,t)))}))},n.onIdentityChanged=e=>{r[rt.clientIdentityChanged].length&&nt((()=>{r[rt.clientIdentityChanged].forEach((t=>t.method(e)))}))},n}};const{commonBasicLogger:ot}=ie,{checkContext:lt,getContextKeys:st}=Te,{InspectorTypes:at,InspectorManager:ut}=it,ct="change",dt="internal-change";var ft={initialize:function(e,t,n,i,o){const l=n&&n.logger?n.logger:o&&o.logger&&o.logger.default||ot("warn"),s=function(e){const t={},n={};return t.on=function(e,t,r){n[e]=n[e]||[],n[e]=n[e].concat({handler:t,context:r})},t.off=function(e,t,r){if(n[e])for(let i=0;i<n[e].length;i++)n[e][i].handler===t&&n[e][i].context===r&&(n[e]=n[e].slice(0,i).concat(n[e].slice(i+1)))},t.emit=function(e){if(!n[e])return;const t=n[e].slice(0);for(let e=0;e<t.length;e++)t[e].handler.apply(t[e].context,Array.prototype.slice.call(arguments,1))},t.getEvents=function(){return Object.keys(n)},t.getEventListenerCount=function(e){return n[e]?n[e].length:0},t.maybeReportError=function(t){t&&(n.error?this.emit("error",t):(e||r).error(t.message))},t}(l),a=function(e){let t=!1,n=!1,r=null,i=null;const o=new Promise((t=>{const n=()=>{e.off(Me,n),t()};e.on(Me,n)})).catch((()=>{}));return{getInitializationPromise:()=>i||(t?Promise.resolve():n?Promise.reject(r):(i=new Promise(((t,n)=>{const r=()=>{e.off(Pe,r),t()},i=t=>{e.off($e,i),n(t)};e.on(Pe,r),e.on($e,i)})),i)),getReadyPromise:()=>o,signalSuccess:()=>{t||n||(t=!0,e.emit(Pe),e.emit(Me))},signalFailure:i=>{t||n||(n=!0,r=i,e.emit($e,i),e.emit(Me)),e.maybeReportError(i)}}}(s),u=ge.validate(n,s,o,l),c=ut(u.inspectors,l),f=u.sendEvents;let g=e,h=u.hash;const p=function(e,t){const n={};let r=!1;const i=e=>{r||(r=!0,t.warn(se.localStorageUnavailable(e)))};return n.isEnabled=()=>!!e,n.get=t=>new Promise((n=>{e?e.get(t).then(n).catch((e=>{i(e),n(void 0)})):n(void 0)})),n.set=(t,n)=>new Promise((r=>{e?e.set(t,n).then((()=>r(!0))).catch((e=>{i(e),r(!1)})):r(!1)})),n.clear=t=>new Promise((n=>{e?e.clear(t).then((()=>n(!0))).catch((e=>{i(e),n(!1)})):n(!1)})),n}(i.localStorage,l),m=ye(i,g,u),_=u.sendEvents&&!u.diagnosticOptOut,v=_?Ze(g):null,y=_?et((new Date).getTime()):null,C=_?tt(i,p,y,m,g,u,v):null,N=Ue(i,u,g,y),E=u.eventProcessor||Ae(i,u,g,y,s,m),T=Ye(i,u,g);let S,x,b,O={},w=u.streaming,R=!1,k=!1,A=!0;const M=u.stateProvider,P=function(e,t){const n={};let r;return n.setContext=function(e){r=D.sanitizeContext(e),r&&t&&t(D.clone(r))},n.getContext=function(){return r?D.clone(r):null},e&&n.setContext(e),n}(null,(function(e){(function(e){M||e&&I({kind:"identify",context:e,creationDate:(new Date).getTime()})})(e),c.hasListeners(at.clientIdentityChanged)&&c.onIdentityChanged(P.getContext())})),$=new Ve(p),L=p.isEnabled()?function(e,t,n,r){const i={};function o(){let e="";const i=r.getContext();return i&&(e=n||D.btoa(JSON.stringify(i))),"ld:"+t+":"+e}return i.loadFlags=()=>e.get(o()).then((e=>{if(null==e)return null;try{let t=JSON.parse(e);if(t){const e=t.$schema;void 0===e||e<1?t=D.transformValuesToVersionedValues(t):delete t.$schema}return t}catch(e){return i.clearFlags().then((()=>null))}})),i.saveFlags=t=>{const n=D.extend({},t,{$schema:1});return e.set(o(),JSON.stringify(n))},i.clearFlags=()=>e.clear(o()),i}(p,g,h,P):null;function I(e){g&&(M&&M.enqueueEvent&&M.enqueueEvent(e)||(e.context?(A=!1,!f||k||i.isDoNotTrack()||(l.debug(se.debugEnqueueingEvent(e.kind)),E.enqueue(e))):A&&(l.warn(se.eventWithoutContext()),A=!1)))}function F(e,t){c.hasListeners(at.flagDetailChanged)&&c.onFlagChanged(e.key,H(t))}function B(){c.hasListeners(at.flagDetailsChanged)&&c.onFlags(Object.entries(O).map((([e,t])=>({key:e,detail:H(t)}))).reduce(((e,t)=>(e[t.key]=t.detail,e)),{}))}function K(e,t,n,r){const i=P.getContext(),o=new Date,l={kind:"feature",key:e,context:i,value:t?t.value:null,variation:t?t.variationIndex:null,default:n,creationDate:o.getTime()},s=O[e];s&&(l.version=s.flagVersion?s.flagVersion:s.version,l.trackEvents=s.trackEvents,l.debugEventsUntilDate=s.debugEventsUntilDate),(r||s&&s.trackReason)&&t&&(l.reason=t.reason),I(l)}function j(e){return lt(e,!1)?Promise.resolve(e):Promise.reject(new d.LDInvalidUserError(se.invalidContext()))}function U(e,t,n,r,i){let o;if(O&&D.objectHasOwnProperty(O,e)&&O[e]&&!O[e].deleted){const n=O[e];o=H(n),null!==n.value&&void 0!==n.value||(o.value=t)}else o={value:t,variationIndex:null,reason:{kind:"ERROR",errorKind:"FLAG_NOT_FOUND"}};return n&&K(e,o,t,r),i||function(e,t){c.hasListeners(at.flagUsed)&&c.onFlagUsed(e,t,P.getContext())}(e,o),o}function H(e){return{value:e.value,variationIndex:void 0===e.variation?null:e.variation,reason:e.reason||null}}function W(){if(x=!0,!P.getContext())return;const e=e=>{try{return JSON.parse(e)}catch(e){return void s.maybeReportError(new d.LDInvalidDataError(se.invalidData()))}};N.connect(P.getContext(),h,{ping:function(){l.debug(se.debugStreamPing());const e=P.getContext();T.fetchFlagSettings(e,h).then((t=>{D.deepEquals(e,P.getContext())&&Y(t||{})})).catch((e=>{s.maybeReportError(new d.LDFlagFetchError(se.errorFetchingFlags(e)))}))},put:function(t){const n=e(t.data);n&&(l.debug(se.debugStreamPut()),Y(n))},patch:function(t){const n=e(t.data);if(!n)return;const r=O[n.key];if(!r||!r.version||!n.version||r.version<n.version){l.debug(se.debugStreamPatch(n.key));const e={},t=D.extend({},n);delete t.key,O[n.key]=t;const i=H(t);e[n.key]=r?{previous:r.value,current:i}:{current:i},G(e),F(n,t)}else l.debug(se.debugStreamPatchIgnored(n.key))},delete:function(t){const n=e(t.data);if(n)if(!O[n.key]||O[n.key].version<n.version){l.debug(se.debugStreamDelete(n.key));const e={};O[n.key]&&!O[n.key].deleted&&(e[n.key]={previous:O[n.key].value}),O[n.key]={version:n.version,deleted:!0},F(n,O[n.key]),G(e)}else l.debug(se.debugStreamDeleteIgnored(n.key))}})}function z(){x&&(N.disconnect(),x=!1)}function Y(e){const t={};if(!e)return Promise.resolve();for(const n in O)D.objectHasOwnProperty(O,n)&&O[n]&&(e[n]&&!D.deepEquals(e[n].value,O[n].value)?t[n]={previous:O[n].value,current:H(e[n])}:e[n]&&!e[n].deleted||(t[n]={previous:O[n].value}));for(const n in e)D.objectHasOwnProperty(e,n)&&e[n]&&(!O[n]||O[n].deleted)&&(t[n]={current:H(e[n])});return O={...e},B(),G(t).catch((()=>{}))}function G(e){const t=Object.keys(e);if(t.length>0){const n={};t.forEach((t=>{const r=e[t].current,i=r?r.value:void 0,o=e[t].previous;s.emit(ct+":"+t,i,o),n[t]=r?{current:i,previous:o}:{previous:o}})),s.emit(ct,n),s.emit(dt,O),u.sendEventsOnlyForVariation||M||t.forEach((t=>{K(t,e[t].current)}))}return S&&L?L.saveFlags(O):Promise.resolve()}function J(){const e=w||b&&void 0===w;e&&!x?W():!e&&x&&z(),C&&C.setStreaming(e)}function V(e){return e===ct||e.substr(0,7)===ct+":"}if("string"==typeof u.bootstrap&&"LOCALSTORAGE"===u.bootstrap.toUpperCase()&&(L?S=!0:l.warn(se.localStorageUnavailable())),"object"==typeof u.bootstrap&&(O=function(e){const t=Object.keys(e),n="$flagsState",r="$valid",i=e[n];!i&&t.length&&l.warn(se.bootstrapOldFormat()),!1===e[r]&&l.warn(se.bootstrapInvalid());const o={};return t.forEach((t=>{if(t!==n&&t!==r){let n={value:e[t]};i&&i[t]?n=D.extend(n,i[t]):n.version=0,o[t]=n}})),o}(u.bootstrap)),M){const e=M.getInitialState();e?q(e):M.on("init",q),M.on("update",(function(e){e.context&&P.setContext(e.context),e.flags&&Y(e.flags)}))}else(e?$.processContext(t).then(j).then((e=>(P.setContext(e),"object"==typeof u.bootstrap?X():S?L.loadFlags().then((e=>null==e?(O={},T.fetchFlagSettings(P.getContext(),h).then((e=>Y(e||{}))).then(X).catch((e=>{Q(new d.LDFlagFetchError(se.errorFetchingFlags(e)))}))):(O=e,D.onNextTick(X),T.fetchFlagSettings(P.getContext(),h).then((e=>Y(e))).catch((e=>s.maybeReportError(e)))))):T.fetchFlagSettings(P.getContext(),h).then((e=>{O=e||{},B(),X()})).catch((e=>{O={},Q(e)}))))):Promise.reject(new d.LDInvalidEnvironmentIdError(se.environmentNotSpecified()))).catch(Q);function q(e){g=e.environment,P.setContext(e.context),O={...e.flags},D.onNextTick(X)}function X(){l.info(se.clientInitialized()),R=!0,J(),a.signalSuccess()}function Q(e){a.signalFailure(e)}const Z={waitForInitialization:()=>a.getInitializationPromise(),waitUntilReady:()=>a.getReadyPromise(),identify:function(e,t,n){if(k)return D.wrapPromiseCallback(Promise.resolve({}),n);if(M)return l.warn(se.identifyDisabled()),D.wrapPromiseCallback(Promise.resolve(D.transformVersionedValuesToValues(O)),n);const r=S&&L?L.clearFlags():Promise.resolve();return D.wrapPromiseCallback(r.then((()=>$.processContext(e))).then(j).then((e=>T.fetchFlagSettings(e,t).then((n=>{const r=D.transformVersionedValuesToValues(n);return P.setContext(e),h=t,n?Y(n).then((()=>r)):r})))).then((e=>(x&&W(),e))).catch((e=>(s.maybeReportError(e),Promise.reject(e)))),n)},getContext:function(){return P.getContext()},variation:function(e,t){return U(e,t,!0,!1,!1).value},variationDetail:function(e,t){return U(e,t,!0,!0,!1)},track:function(e,t,n){if("string"!=typeof e)return void s.maybeReportError(new d.LDInvalidEventKeyError(se.unknownCustomEventKey(e)));i.customEventFilter&&!i.customEventFilter(e)&&l.warn(se.unknownCustomEventKey(e));const r=P.getContext(),o={kind:"custom",key:e,context:r,url:i.getCurrentUrl(),creationDate:(new Date).getTime()};r&&r.anonymous&&(o.contextKind=r.anonymous?"anonymousUser":"user"),null!=t&&(o.data=t),null!=n&&(o.metricValue=n),I(o)},on:function(e,t,n){V(e)?(b=!0,R&&J(),s.on(e,t,n)):s.on(...arguments)},off:function(e){if(s.off(...arguments),V(e)){let e=!1;s.getEvents().forEach((t=>{V(t)&&s.getEventListenerCount(t)>0&&(e=!0)})),e||(b=!1,x&&void 0===w&&z())}},setStreaming:function(e){const t=null===e?void 0:e;t!==w&&(w=t,J())},flush:function(e){return D.wrapPromiseCallback(f?E.flush():Promise.resolve(),e)},allFlags:function(){const e={};if(!O)return e;for(const t in O)D.objectHasOwnProperty(O,t)&&!O[t].deleted&&(e[t]=U(t,null,!u.sendEventsOnlyForVariation,!1,!0).value);return e},close:function(e){if(k)return D.wrapPromiseCallback(Promise.resolve(),e);const t=()=>{k=!0,O={}},n=Promise.resolve().then((()=>{if(z(),C&&C.stop(),f)return E.stop(),E.flush()})).then(t).catch(t);return D.wrapPromiseCallback(n,e)}};return{client:Z,options:u,emitter:s,ident:P,logger:l,requestor:T,start:function(){f&&(C&&C.start(),E.start())},enqueueEvent:I,getFlagsInternal:function(){return O},getEnvironmentId:()=>g,internalChangeEventName:dt}},commonBasicLogger:ot,errors:d,messages:se,utils:D,getContextKeys:st},gt=ft.initialize,ht=ft.errors,pt=ft.messages,mt=ft.getContextKeys;function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=ft.commonBasicLogger,Nt={promise:Promise.resolve({status:200,header:function(){return null},body:null})};function Et(e){var t,n={userAgentHeaderName:"X-LaunchDarkly-User-Agent",synchronousFlush:!1};if(window.XMLHttpRequest){var r=e&&e.disableSyncEventPost;n.httpRequest=function(e,t,i,o){var l=n.synchronousFlush&!r;return n.synchronousFlush=!1,function(e,t,n,r,i){if(i&&!function(){var e=window.navigator&&window.navigator.userAgent;if(e){var t=e.match(/Chrom(e|ium)\/([0-9]+)\./);if(t)return parseInt(t[2],10)<73}return!0}())return Nt;var o=new window.XMLHttpRequest;for(var l in o.open(e,t,!i),n||{})Object.prototype.hasOwnProperty.call(n,l)&&o.setRequestHeader(l,n[l]);if(i)return o.send(r),Nt;var s,a=new Promise((function(e,t){o.addEventListener("load",(function(){s||e({status:o.status,header:function(e){return o.getResponseHeader(e)},body:o.responseText})})),o.addEventListener("error",(function(){s||t(new Error)})),o.send(r)}));return{promise:a,cancel:function(){s=!0,o.abort()}}}(e,t,i,o,l)}}n.httpAllowsPost=function(){return void 0===t&&(t=!!window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest),t},n.httpFallbackPing=function(e){(new window.Image).src=e};var i,o=e&&e.eventUrlTransformer;n.getCurrentUrl=function(){return o?o(window.location.href):window.location.href},n.isDoNotTrack=function(){var e;return 1===(e=window.navigator&&void 0!==window.navigator.doNotTrack?window.navigator.doNotTrack:window.navigator&&void 0!==window.navigator.msDoNotTrack?window.navigator.msDoNotTrack:window.doNotTrack)||!0===e||"1"===e||"yes"===e};try{window.localStorage&&(n.localStorage={get:function(e){return new Promise((function(t){t(window.localStorage.getItem(e))}))},set:function(e,t){return new Promise((function(n){window.localStorage.setItem(e,t),n()}))},clear:function(e){return new Promise((function(t){window.localStorage.removeItem(e),t()}))}})}catch(e){n.localStorage=null}if(e&&e.useReport&&"function"==typeof window.EventSourcePolyfill&&window.EventSourcePolyfill.supportedOptions&&window.EventSourcePolyfill.supportedOptions.method?(n.eventSourceAllowsReport=!0,i=window.EventSourcePolyfill):(n.eventSourceAllowsReport=!1,i=window.EventSource),window.EventSource){var l=3e5;n.eventSourceFactory=function(e,t){var n=vt(vt({},{heartbeatTimeout:l,silentTimeout:l,skipDefaultHeaders:!0}),t);return new i(e,n)},n.eventSourceIsActive=function(e){return e.readyState===window.EventSource.OPEN||e.readyState===window.EventSource.CONNECTING}}return n.userAgent="JSClient",n.version="3.0.0",n.diagnosticSdkData={name:"js-client-sdk",version:"3.0.0"},n.diagnosticPlatformData={name:"JS"},n.diagnosticUseCombinedEvent=!0,n}var Tt=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};function St(e,t,n,r){var i,o,l=("substring"!==e.kind&&"regex"!==e.kind||!r.includes("/")?t.replace(r,""):t).replace(n,"");switch(e.kind){case"exact":o=t,i=new RegExp("^"+Tt(e.url)+"/?$");break;case"canonical":o=l,i=new RegExp("^"+Tt(e.url)+"/?$");break;case"substring":o=l,i=new RegExp(".*"+Tt(e.substring)+".*$");break;case"regex":o=l,i=new RegExp(e.pattern);break;default:return!1}return i.test(o)}function xt(e,t){for(var n={},r=null,i=[],o=0;o<e.length;o++)for(var l=e[o],s=l.urls||[],a=0;a<s.length;a++)if(St(s[a],window.location.href,window.location.search,window.location.hash)){"pageview"===l.kind?t("pageview",l):(i.push(l),t("click_pageview",l));break}return i.length>0&&(r=function(e){for(var n=function(e,t){for(var n=[],r=0;r<t.length;r++)for(var i=e.target,o=t[r],l=o.selector,s=document.querySelectorAll(l);i&&s.length>0;){for(var a=0;a<s.length;a++)i===s[a]&&n.push(o);i=i.parentNode}return n}(e,i),r=0;r<n.length;r++)t("click",n[r])},document.addEventListener("click",r)),n.dispose=function(){document.removeEventListener("click",r)},n}var bt="goalsReady",Ot={fetchGoals:{default:!0},hash:{type:"string"},eventProcessor:{type:"object"},eventUrlTransformer:{type:"function"},disableSyncEventPost:{default:!1}};function wt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Et(n),i=gt(e,t,n,r,Ot),o=i.client,l=i.options,s=i.emitter,a=new Promise((function(e){var t=s.on(bt,(function(){s.off(bt,t),e()}))}));o.waitUntilGoalsReady=function(){return a},l.fetchGoals?function(e,t){var n,r;function i(){r&&r.dispose(),n&&n.length&&(r=xt(n,o))}function o(t,n){var r=e.ident.getContext(),i={kind:t,key:n.key,data:null,url:window.location.href,creationDate:(new Date).getTime(),contextKeys:mt(r)};return"click"===t&&(i.selector=n.selector),e.enqueueEvent(i)}e.requestor.fetchJSON("/sdk/goals/"+e.getEnvironmentId()).then((function(e){e&&e.length>0&&(r=xt(n=e,o),function(e,t){var n,r=window.location.href;function i(){(n=window.location.href)!==r&&(r=n,t())}!function e(t,n){t(),setTimeout((function(){e(t,n)}),n)}(i,300),window.history&&window.history.pushState?window.addEventListener("popstate",i):window.addEventListener("hashchange",i)}(0,i)),t()})).catch((function(n){e.emitter.maybeReportError(new ht.LDUnexpectedResponseError((n&&n.message,n.message))),t()}))}(i,(function(){return s.emit(bt)})):s.emit(bt),"complete"!==document.readyState?window.addEventListener("load",i.start):i.start();var u=function(){r.synchronousFlush=!0,o.flush().catch((function(){})),r.synchronousFlush=!1};return window.addEventListener("beforeunload",u),window.addEventListener("unload",u),o}var Dt=function(e){return Ct(vt({destination:r.log},e))},Rt=void 0,kt="3.0.0",At={initialize:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r&&r.warn&&r.warn(pt.deprecated("default export","named LDClient export")),wt(e,t,n)},version:kt}},403842:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function l(e){try{a(r.next(e))}catch(e){o(e)}}function s(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,s)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(667294)),u=n(853973),c=n(299105),d=s(n(215675)),f=n(623188),g=s(n(104449));t.default=function(e){return l(this,void 0,void 0,(function*(){const{clientSideID:t,flags:n,options:r,reactOptions:i}=e,o=Object.assign(Object.assign({},u.defaultReactOptions),i),{ldClient:l,flags:s,error:h}=yield(0,d.default)(t,(0,f.getContextOrUser)(e),r,n),p=(null==r?void 0:r.bootstrap)&&"localStorage"!==r.bootstrap?r.bootstrap:s;return({children:e})=>{const[t,r]=(0,a.useState)((()=>Object.assign({unproxiedFlags:p},(0,g.default)(l,p,o,n))));(0,a.useEffect)((()=>{function e(e){const t=(0,f.getFlattenedFlagsFromChangeset)(e,n);Object.keys(t).length>0&&r((({unproxiedFlags:e})=>{const r=Object.assign(Object.assign({},e),t);return Object.assign({unproxiedFlags:r},(0,g.default)(l,r,o,n))}))}return l.on("change",e),function(){l.off("change",e)}}),[]);const{flags:i,flagKeyMap:s}=t;return a.default.createElement(c.Provider,{value:{flags:i,flagKeyMap:s,ldClient:l,error:h}},e)}}))}},299105:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Consumer=t.Provider=void 0;const r=(0,n(667294).createContext)({flags:{},flagKeyMap:{},ldClient:void 0}),{Provider:i,Consumer:o}=r;t.Provider=i,t.Consumer=o,t.default=r},104449:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(276884)),o=n(853973);function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t,n){return new Proxy(t,{get(t,r,i){const o=Reflect.get(t,r,i);return"symbol"!=typeof r&&l(n,r)?void 0!==o?e.variation(n[r],o):void 0:o}})}t.default=function(e,t,n=o.defaultReactOptions,r){const a=function(e,t){if(void 0===t)return e;return Object.keys(t).reduce(((t,n)=>(l(e,n)&&(t[n]=e[n]),t)),{})}(t,r),[u,c={}]=n.useCamelCaseFlagKeys?function(e){const t={},n={};for(const r in e){if(0===r.indexOf("$"))continue;const o=(0,i.default)(r);t[o]=e[r],n[o]=r}return[t,n]}(a):[a];return{flags:n.sendEventsOnFlagRead?s(e,u,c):u,flagKeyMap:c}}},728592:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withLDConsumer=t.withLDProvider=t.useLDClientError=t.useLDClient=t.useFlags=t.camelCaseKeys=t.asyncWithLDProvider=t.LDProvider=void 0;const l=o(n(194623));t.LDProvider=l.default;const s=o(n(247128));t.withLDProvider=s.default;const a=o(n(403842));t.asyncWithLDProvider=a.default;const u=o(n(617100));t.withLDConsumer=u.default;const c=o(n(730002));t.useFlags=c.default;const d=o(n(565246));t.useLDClient=d.default;const f=o(n(972950));t.useLDClientError=f.default;const g=n(623188);Object.defineProperty(t,"camelCaseKeys",{enumerable:!0,get:function(){return g.camelCaseKeys}}),i(n(853973),t)},215675:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function l(e){try{a(r.next(e))}catch(e){o(e)}}function s(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,s)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(516201),a=n(623188),u={wrapperName:"react-client-sdk",wrapperVersion:o(n(292561)).version,sendEventsOnlyForVariation:!0};t.default=(e,t={anonymous:!0,kind:"user"},n,r)=>l(void 0,void 0,void 0,(function*(){const i=(0,s.initialize)(e,t,Object.assign(Object.assign({},u),n));return new Promise((e=>{function t(){i.off("ready",o),i.off("failed",n)}function n(n){t(),e({flags:{},ldClient:i,error:n})}function o(){t();const n=(0,a.fetchFlags)(i,r);e({flags:n,ldClient:i})}i.on("failed",n),i.on("ready",o)}))}))},194623:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function l(e){try{a(r.next(e))}catch(e){o(e)}}function s(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,s)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(667294)),u=n(853973),c=n(299105),d=s(n(215675)),f=n(623188),g=s(n(104449));class h extends a.Component{constructor(e){super(e),this.getReactOptions=()=>Object.assign(Object.assign({},u.defaultReactOptions),this.props.reactOptions),this.subscribeToChanges=e=>{const{flags:t}=this.props;e.on("change",(n=>{const r=this.getReactOptions(),i=(0,f.getFlattenedFlagsFromChangeset)(n,t),o=Object.assign(Object.assign({},this.state.unproxiedFlags),i);Object.keys(i).length>0&&this.setState(Object.assign({unproxiedFlags:o},(0,g.default)(e,o,r,t)))}))},this.initLDClient=()=>l(this,void 0,void 0,(function*(){const{clientSideID:e,flags:t,options:n}=this.props;let r=yield this.props.ldClient;const i=this.getReactOptions();let o,l;if(r)o=(0,f.fetchFlags)(r,t);else{const i=yield(0,d.default)(e,(0,f.getContextOrUser)(this.props),n,t);o=i.flags,r=i.ldClient,l=i.error}this.setState(Object.assign(Object.assign({unproxiedFlags:o},(0,g.default)(r,o,i,t)),{ldClient:r,error:l})),this.subscribeToChanges(r)}));const{options:t}=e;if(this.state={flags:{},unproxiedFlags:{},flagKeyMap:{},ldClient:void 0},t){const{bootstrap:e}=t;if(e&&"localStorage"!==e){const{useCamelCaseFlagKeys:t}=this.getReactOptions();this.state={flags:t?(0,f.camelCaseKeys)(e):e,unproxiedFlags:e,flagKeyMap:{},ldClient:void 0}}}}componentDidMount(){return l(this,void 0,void 0,(function*(){const{deferInitialization:e}=this.props;e&&!(0,f.getContextOrUser)(this.props)||(yield this.initLDClient())}))}componentDidUpdate(e){return l(this,void 0,void 0,(function*(){const{deferInitialization:t}=this.props,n=!(0,f.getContextOrUser)(e)&&(0,f.getContextOrUser)(this.props);t&&n&&(yield this.initLDClient())}))}render(){const{flags:e,flagKeyMap:t,ldClient:n,error:r}=this.state;return a.default.createElement(c.Provider,{value:{flags:e,flagKeyMap:t,ldClient:n,error:r}},this.props.children)}}t.default=h},853973:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultReactOptions=void 0,t.defaultReactOptions={useCamelCaseFlagKeys:!0,sendEventsOnFlagRead:!0}},730002:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(667294),o=r(n(299105));t.default=()=>{const{flags:e}=(0,i.useContext)(o.default);return e}},565246:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(667294),o=r(n(299105));t.default=()=>{const{ldClient:e}=(0,i.useContext)(o.default);return e}},972950:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(667294),o=r(n(299105));t.default=function(){const{error:e}=(0,i.useContext)(o.default);return e}},623188:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFlags=t.getFlattenedFlagsFromChangeset=t.camelCaseKeys=t.getContextOrUser=void 0;const i=r(n(276884));t.getContextOrUser=e=>{var t;return null!==(t=e.context)&&void 0!==t?t:e.user};t.camelCaseKeys=e=>{const t={};for(const n in e)0!==n.indexOf("$")&&(t[(0,i.default)(n)]=e[n]);return t};t.getFlattenedFlagsFromChangeset=(e,t)=>{const n={};for(const r in e)t&&void 0===t[r]||(n[r]=e[r].current);return n};t.fetchFlags=(e,t)=>{const n=e.allFlags();return t?Object.keys(t).reduce(((e,r)=>(e[r]=Object.prototype.hasOwnProperty.call(n,r)?n[r]:t[r],e)),{}):n},t.camelCaseKeys.camelCaseKeys=t.camelCaseKeys,t.default={camelCaseKeys:t.camelCaseKeys,getFlattenedFlagsFromChangeset:t.getFlattenedFlagsFromChangeset,fetchFlags:t.fetchFlags}},617100:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(n(667294)),s=n(299105);t.default=function(e={clientOnly:!1}){return function(t){return n=>l.createElement(s.Consumer,null,(({flags:r,ldClient:i})=>e.clientOnly?l.createElement(t,Object.assign({ldClient:i},n)):l.createElement(t,Object.assign({flags:r,ldClient:i},n))))}}},247128:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withLDProvider=void 0;const s=o(n(667294)),a=n(853973),u=l(n(194623)),c=l(n(108679));function d(e){return function(t){const{reactOptions:n}=e,r=Object.assign(Object.assign({},a.defaultReactOptions),n),i=Object.assign(Object.assign({},e),{reactOptions:r});function o(e){return s.createElement(u.default,Object.assign({},i),s.createElement(t,Object.assign({},e)))}return(0,c.default)(o,t),o}}t.withLDProvider=d,t.default=d},932998:function(e,t,n){const r=n(734556);e.exports=r},734556:function(e,t,n){var r=n(425108);let i={},o={},l={},s={},a={},u={},c={},d={},f={},g={},h={},p={},m={},_={},v={},y={},C={},N={},E={},T={},S={},x={},b={},O={},w={},D={},R={},k={},A={},M={},P={},$={},L={},I={},F={},B={};function K(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let j="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,U=j&&"documentMode"in document?document.documentMode:null,H=j&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),W=j&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),z=!(!j||!("InputEvent"in window)||U)&&"getTargetRanges"in new window.InputEvent("input"),Y=j&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),G=j&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,J=j&&/^(?=.*Chrome).*/i.test(navigator.userAgent),V=j&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!J,q=Y||G||V?"":"",X=W?"":q,Q=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,Z=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,ee={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},te={directionless:1,unmergeable:2},ne={center:2,end:6,justify:4,left:1,right:3,start:5},re={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},ie={normal:0,segmented:2,token:1},oe={0:"normal",2:"segmented",1:"token"},le=!1,se=0;function ae(e){se=e.timeStamp}function ue(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function ce(e,t,n){le=!0;let r=100<performance.now()-se;try{wr(e,(()=>{let i=rr()||function(e){return e.getEditorState().read((()=>{let e=rr();return null!==e?e.clone():null}))}(e);var o=new Map,l=e.getRootElement(),s=e._editorState,a=e._blockCursorElement;let u=!1,c="";for(var d=0;d<t.length;d++){var f=t[d],g=f.type,h=f.target,p=Pe(h,s);if(!(null===p&&h!==l||Rr(p)))if("characterData"===g){if(f=r&&An(p))e:{g=h;var m=p;if(jn(f=i)){var _=f.anchor.getNode();if(_.is(m)&&f.format!==_.getFormat()){f=!1;break e}}f=3===g.nodeType&&m.isAttached()}f&&(g=f=null,null!==(m=at(e._window))&&m.anchorNode===h&&(f=m.anchorOffset,g=m.focusOffset),null!==(h=h.nodeValue)&&We(p,h,f,g,!1))}else if("childList"===g){for(u=!0,g=f.addedNodes,m=0;m<g.length;m++){var v=Me(_=g[m]),y=_.parentNode;null==y||_===a||null!==v||"BR"===_.nodeName&&ue(_,y,e)||(W&&(v=_.innerText||_.nodeValue)&&(c+=v),y.removeChild(_))}if(0<(g=(f=f.removedNodes).length)){for(m=0,_=0;_<g;_++)("BR"===(y=f[_]).nodeName&&ue(y,h,e)||a===y)&&(h.appendChild(y),m++);g!==m&&(h===l&&(p=s._nodeMap.get("root")),o.set(h,p))}}}if(0<o.size)for(let[t,n]of o)if(Ar(n))for(o=n.getChildrenKeys(),l=t.firstChild,s=0;s<o.length;s++)null!==(a=e.getElementByKey(o[s]))&&(null==l?(t.appendChild(a),l=a):l!==a&&t.replaceChild(a,l),l=l.nextSibling);else An(n)&&n.markDirty();if(0<(o=n.takeRecords()).length){for(l=0;l<o.length;l++)for(s=(a=o[l]).addedNodes,a=a.target,d=0;d<s.length;d++)null==(h=(p=s[d]).parentNode)||"BR"!==p.nodeName||ue(p,a,e)||h.removeChild(p);n.takeRecords()}null!==i&&(u&&(i.dirty=!0,Fe(i)),W&&Ve(e)&&i.insertRawText(c))}))}finally{le=!1}}function de(e){let t=e._observer;if(null!==t){ce(e,t.takeRecords(),t)}}function fe(e){0===se&&et(e).addEventListener("textInput",ae,!0),e._observer=new MutationObserver(((t,n)=>{ce(e,t,n)}))}function ge(e,t){let n=e.__mode,r=e.__format;e=e.__style;let i=t.__mode,o=t.__format;return t=t.__style,!(null!==n&&n!==i||null!==r&&r!==o||null!==e&&e!==t)}function he(e,t){let n=e.mergeWithSibling(t),r=yr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function pe(e){if(""===e.__text&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t;null!==(t=e.getPreviousSibling())&&An(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){ge(t,e)&&(e=he(t,e));break}t.remove()}for(var n;null!==(n=e.getNextSibling())&&An(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){ge(e,n)&&he(e,n);break}n.remove()}}}function me(e){return _e(e.anchor),_e(e.focus),e}function _e(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),An(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}if(!Ar(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}let ve=1,ye="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function Ce(e){let t=document.activeElement;if(null===t)return!1;let n=t.nodeName;return Rr(Pe(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function Ne(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Ce(t)&&Ee(t)===e}catch(e){return!1}}function Ee(e){for(;null!=e;){let t=e.__lexicalEditor;if(null!=t)return t;e=Qe(e)}return null}function Te(e){return e.isToken()||e.isSegmented()}function Se(e){for(;null!=e;){if(3===e.nodeType)return e;e=e.firstChild}return null}function xe(e,t,n){return e&(t=ee[t])&&(null===n||0==(n&t))?e^t:null===n||n&t?e|t:e}function be(e){return An(e)||mn(e)||Rr(e)}function Oe(e,t){if(null!=t)e.__key=t;else{_r(),99<hr&&K(14),t=yr();var n=vr(),r=""+ve++;n._nodeMap.set(r,e),Ar(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function we(e){var t=e.getParent();if(null!==t){let i=e.getWritable();t=t.getWritable();var n=e.getPreviousSibling();if(e=e.getNextSibling(),null===n)if(null!==e){var r=e.getWritable();t.__first=e.__key,r.__prev=null}else t.__first=null;else{if(r=n.getWritable(),null!==e){let t=e.getWritable();t.__prev=r.__key,r.__next=t.__key}else r.__next=null;i.__prev=null}null===e?null!==n?(e=n.getWritable(),t.__last=n.__key,e.__next=null):t.__last=null:(e=e.getWritable(),null!==n?((n=n.getWritable()).__next=e.__key,e.__prev=n.__key):e.__prev=null,i.__next=null),t.__size--,i.__parent=null}}function De(e){99<hr&&K(14);var t=e.getLatest(),n=t.__parent,r=vr();let i=yr(),o=r._nodeMap;if(r=i._dirtyElements,null!==n)e:for(;null!==n&&!r.has(n);){let e=o.get(n);if(void 0===e)break;r.set(n,!1),n=e.__parent}t=t.__key,i._dirtyType=1,Ar(e)?r.set(t,!0):i._dirtyLeaves.add(t)}function Re(e){_r();var t=yr();let n=t._compositionKey;e!==n&&(t._compositionKey=e,null!==n&&(null!==(t=Ae(n))&&t.getWritable()),null!==e&&(null!==(e=Ae(e))&&e.getWritable()))}function ke(){return mr()?null:yr()._compositionKey}function Ae(e,t){return void 0===(e=(t||vr())._nodeMap.get(e))?null:e}function Me(e,t){return void 0!==(e=e[`__lexicalKey_${yr()._key}`])?Ae(e,t):null}function Pe(e,t){for(;null!=e;){let n=Me(e,t);if(null!==n)return n;e=Qe(e)}return null}function $e(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t}function Le(e){return e.read((()=>Ie().getTextContent()))}function Ie(){return vr()._nodeMap.get("root")}function Fe(e){_r();let t=vr();null!==e&&(e.dirty=!0,e._cachedNodes=null),t._selection=e}function Be(e){var t,n=yr();e:{for(t=e;null!=t;){let e=t[`__lexicalKey_${n._key}`];if(void 0!==e){t=e;break e}t=Qe(t)}t=null}return null===t?e===(n=n.getRootElement())?Ae("root"):null:Ae(t)}function Ke(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function je(e){let t=[];for(;null!==e;)t.push(e),e=e._parentEditor;return t}function Ue(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function He(e,t,n){if(null!==(t=at(t._window))){var r=t.anchorNode,{anchorOffset:i,focusOffset:o}=t;if(null!==r&&(t=3===r.nodeType?r.nodeValue:null,r=Pe(r),null!==t&&An(r))){if(t===q&&n){t=n,o=i=n.length}null!==t&&We(r,t,i,o,e)}}}function We(e,t,n,r,i){let o=e;if(o.isAttached()&&(i||!o.isDirty())){let u=o.isComposing(),c=t;if((u||i)&&t[t.length-1]===q&&(c=t.slice(0,-1)),t=o.getTextContent(),i||c!==t)if(""===c)if(Re(null),Y||G||V)o.remove();else{let e=yr();setTimeout((()=>{e.update((()=>{o.isAttached()&&o.remove()}))}),20)}else{i=o.getParent(),t=ir();var l=o.getTextContentSize(),s=ke(),a=o.getKey();o.isToken()||null!==s&&a===s&&!u||jn(t)&&(null!==i&&!i.canInsertTextBefore()&&0===t.anchor.offset||t.anchor.key===e.__key&&0===t.anchor.offset&&!o.canInsertTextBefore()||t.focus.key===e.__key&&t.focus.offset===l&&!o.canInsertTextAfter())?o.markDirty():(jn(e=rr())&&null!==n&&null!==r&&(e.setTextNodeRange(o,n,o,r),o.isSegmented()&&(n=kn(n=o.getTextContent()),o.replace(n),o=n)),o.setTextContent(c))}}}function ze(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});let n=e.__lexicalClassNameCache,r=n[t];return void 0!==r?r:"string"==typeof(e=e[t])?(e=e.split(" "),n[t]=e):e}function Ye(e,t,n,r,i){0!==n.size&&(n=r.__type,r=r.__key,void 0===(t=t.get(n))&&K(33,n),n=t.klass,void 0===(t=e.get(n))&&(t=new Map,e.set(n,t)),n="destroyed"===(e=t.get(r))&&"created"===i,(void 0===e||n)&&t.set(r,n?"updated":i))}function Ge(e,t,n){let r=e.getParent(),i=n;return null!==r&&(t&&0===n?(i=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(i=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?i-1:i)}function Je(e,t){var n=e.offset;return"element"===e.type?Ge(e=e.getNode(),t,n):(e=e.getNode(),t&&0===n||!t&&n===e.getTextContentSize()?null===(n=t?e.getPreviousSibling():e.getNextSibling())?Ge(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n:null)}function Ve(e){return"insertFromPaste"===(e=(e=et(e).event)&&e.inputType)||"insertFromPasteAsQuotation"===e}function qe(e){return!$r(e)&&!e.isLastChild()&&!e.isInline()}function Xe(e,t){return void 0===(e=e._keyToDOMMap.get(t))&&K(75,t),e}function Qe(e){return null!==(e=e.assignedSlot||e.parentElement)&&11===e.nodeType?e.host:e}function Ze(e,t){for(e=e.getParent();null!==e;){if(e.is(t))return!0;e=e.getParent()}return!1}function et(e){return null===(e=e._window)&&K(78),e}function tt(e){for(e=e.getParentOrThrow();null!==e&&!nt(e);)e=e.getParentOrThrow();return e}function nt(e){return $r(e)||Ar(e)&&e.isShadowRoot()}function rt(e){return Oe(e=e.constructor.clone(e),null),e}function it(e){var t=yr();let n=e.constructor.getType();return void 0===(t=t._nodes.get(n))&&K(97),null!==(t=t.replace)?((t=t(e))instanceof e.constructor||K(98),t):e}function ot(e,t){!$r(e=e.getParent())||Ar(t)||Rr(t)||K(99)}function lt(e){return(Rr(e)||Ar(e)&&!e.canBeEmpty())&&!e.isInline()}function st(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,null!==(t=e.parentElement)&&t.removeChild(e)}function at(e){return j?(e||window).getSelection():null}function ut(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),nt(e)&&K(102);let r=e=>{const t=e.getParentOrThrow(),i=nt(t),o=e!==n||i?rt(e):e;if(i)return e.insertAfter(o),[e,o,o];const[l,s,a]=r(t);return e=e.getNextSiblings(),a.append(o,...e),[l,s,o]},[i,o]=r(n);return[i,o]}function ct(e,t){for(;e!==Ie()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function dt(e){let t=[],n=[e];for(;0<n.length;){let r=n.pop();void 0===r&&K(112),Ar(r)&&n.unshift(...r.getChildren()),r!==e&&t.push(r)}return t}function ft(e,t,n,r,i,o){for(e=e.getFirstChild();null!==e;){let l=e.__key;e.__parent===t&&(Ar(e)&&ft(e,l,n,r,i,o),n.has(l)||o.delete(l),i.push(l)),e=e.getNextSibling()}}let gt,ht,pt,mt,_t,vt,yt,Ct,Nt,Et,Tt="",St="",xt="",bt=!1,Ot=!1,wt=null;function Dt(e,t){let n=yt.get(e);if(null!==t){let n=Ht(e);n.parentNode===t&&t.removeChild(n)}Ct.has(e)||ht._keyToDOMMap.delete(e),Ar(n)&&Rt(e=Bt(n,yt),0,e.length-1,null),void 0!==n&&Ye(Et,pt,mt,n,"destroyed")}function Rt(e,t,n,r){for(;t<=n;++t){let n=e[t];void 0!==n&&Dt(n,r)}}function kt(e,t){e.setProperty("text-align",t)}function At(e,t){var n=gt.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px",e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${n})`)}function Mt(e,t){e=e.style,0===t?kt(e,""):1===t?kt(e,"left"):2===t?kt(e,"center"):3===t?kt(e,"right"):4===t?kt(e,"justify"):5===t?kt(e,"start"):6===t&&kt(e,"end")}function Pt(e,t,n){let r=Ct.get(e);void 0===r&&K(60);let i=r.createDOM(gt,ht);var o=ht._keyToDOMMap;if(i["__lexicalKey_"+ht._key]=e,o.set(e,i),An(r)?i.setAttribute("data-lexical-text","true"):Rr(r)&&i.setAttribute("data-lexical-decorator","true"),Ar(r)){if(e=r.__indent,o=r.__size,0!==e&&At(i,e),0!==o){--o,e=Bt(r,Ct);var l=St;St="",$t(e,r,0,o,i,null),Ft(r,i),St=l}0!==(e=r.__format)&&Mt(i,e),r.isInline()||It(null,r,i),qe(r)&&(Tt+="\n\n",xt+="\n\n")}else o=r.getTextContent(),Rr(r)?(null!==(l=r.decorate(ht,gt))&&jt(e,l),i.contentEditable="false"):An(r)&&(r.isDirectionless()||(St+=o)),Tt+=o,xt+=o;return null!==t&&(null!=n?t.insertBefore(i,n):null!=(n=t.__lexicalLineBreak)?t.insertBefore(i,n):t.appendChild(i)),Ye(Et,pt,mt,r,"created"),i}function $t(e,t,n,r,i,o){let l=Tt;for(Tt="";n<=r;++n)Pt(e[n],i,o);qe(t)&&(Tt+="\n\n"),i.__lexicalTextContent=Tt,Tt=l+Tt}function Lt(e,t){return mn(e=t.get(e))||Rr(e)&&e.isInline()}function It(e,t,n){e=null!==e&&(0===e.__size||Lt(e.__last,yt)),t=0===t.__size||Lt(t.__last,Ct),e?t||(null!=(t=n.__lexicalLineBreak)&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function Ft(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==St||n!==wt){let o=""===St;if(o)var r=wt;else r=St,r=Q.test(r)?"rtl":Z.test(r)?"ltr":null;if(r!==n){let l=t.classList,s=gt.theme;var i=null!==n?s[n]:void 0;let a=null!==r?s[r]:void 0;void 0!==i&&("string"==typeof i&&(i=i.split(" "),i=s[n]=i),l.remove(...i)),null===r||o&&"ltr"===r?t.removeAttribute("dir"):(void 0!==a&&("string"==typeof a&&(n=a.split(" "),a=s[r]=n),void 0!==a&&l.add(...a)),t.dir=r),Ot||(e.getWritable().__dir=r)}wt=r,t.__lexicalDirTextContent=St,t.__lexicalDir=r}}function Bt(e,t){let n=[];for(e=e.__first;null!==e;){let r=t.get(e);void 0===r&&K(101),n.push(e),e=r.__next}return n}function Kt(e,t){var n=yt.get(e),r=Ct.get(e);void 0!==n&&void 0!==r||K(61);var i=bt||vt.has(e)||_t.has(e);let o=Xe(ht,e);if(n===r&&!i)return Ar(n)?(void 0!==(r=o.__lexicalTextContent)&&(Tt+=r,xt+=r),void 0!==(r=o.__lexicalDirTextContent)&&(St+=r)):(r=n.getTextContent(),An(n)&&!n.isDirectionless()&&(St+=r),xt+=r,Tt+=r),o;if(n!==r&&i&&Ye(Et,pt,mt,r,"updated"),r.updateDOM(n,o,gt))return r=Pt(e,null,null),null===t&&K(62),t.replaceChild(r,o),Dt(e,null),r;if(Ar(n)&&Ar(r)){if((e=r.__indent)!==n.__indent&&At(o,e),(e=r.__format)!==n.__format&&Mt(o,e),i){e=r,i=St,St="",t=Tt;var l=n.__size,s=e.__size;if(Tt="",1===l&&1===s){var a=n.__first,u=e.__first;if(a===u)Kt(a,o);else{var c=Ht(a);u=Pt(u,null,null),o.replaceChild(u,c),Dt(a,null)}}else{u=Bt(n,yt);var d=Bt(e,Ct);if(0===l)0!==s&&$t(d,e,0,s-1,o,null);else if(0===s)0!==l&&(Rt(u,0,l-1,(a=null==o.__lexicalLineBreak)?null:o),a&&(o.textContent=""));else{var f=u;u=d,d=l-1,l=s-1;let t=o.firstChild,n=0;for(s=0;n<=d&&s<=l;){var g=f[n];let e=u[s];if(g===e)t=Ut(Kt(e,o)),n++,s++;else{void 0===a&&(a=new Set(f)),void 0===c&&(c=new Set(u));let r=c.has(g),i=a.has(e);r?(i?((g=Xe(ht,e))===t?t=Ut(Kt(e,o)):(null!=t?o.insertBefore(g,t):o.appendChild(g),Kt(e,o)),n++):Pt(e,o,t),s++):(t=Ut(Ht(g)),Dt(g,o),n++)}}c=s>l,(a=n>d)&&!c?$t(u,e,s,l,o,a=void 0===(a=u[l+1])?null:ht.getElementByKey(a)):c&&!a&&Rt(f,n,d,o)}}qe(e)&&(Tt+="\n\n"),o.__lexicalTextContent=Tt,Tt=t+Tt,Ft(e,o),St=i,$r(r)||r.isInline()||It(n,r,o)}qe(r)&&(Tt+="\n\n",xt+="\n\n")}else n=r.getTextContent(),Rr(r)?null!==(i=r.decorate(ht,gt))&&jt(e,i):An(r)&&!r.isDirectionless()&&(St+=n),Tt+=n,xt+=n;return!Ot&&$r(r)&&r.__cachedText!==xt&&((r=r.getWritable()).__cachedText=xt),o}function jt(e,t){let n=ht._pendingDecorators,r=ht._decorators;if(null===n){if(r[e]===t)return;n=$e(ht)}n[e]=t}function Ut(e){return null!==(e=e.nextSibling)&&e===ht._blockCursorElement&&(e=e.nextSibling),e}function Ht(e){let t=Nt.get(e);return void 0===t&&K(75,e),t}let Wt=Object.freeze({}),zt=[["keydown",function(e,t){if(Yt=e.timeStamp,Gt=e.keyCode,!t.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:i,metaKey:o,altKey:a}=e;if(!xr(t,_,e)){if(39!==n||i||o||a)if(39!==n||a||r||!i&&!o)if(37!==n||i||o||a)if(37!==n||a||r||!i&&!o)if(38!==n||i||o)if(40!==n||i||o)if(13===n&&r)Zt=!0,xr(t,S,e);else if(32===n)xr(t,x,e);else if(H&&i&&79===n)e.preventDefault(),Zt=!0,xr(t,s,!0);else if(13!==n||r){var u=H?!a&&!o&&(8===n||72===n&&i):!(i||a||o)&&8===n;u?8===n?xr(t,b,e):(e.preventDefault(),xr(t,l,!0)):27===n?xr(t,O,e):(u=H?!(r||a||o)&&(46===n||68===n&&i):!(i||a||o)&&46===n)?46===n?xr(t,w,e):(e.preventDefault(),xr(t,l,!1)):8===n&&(H?a:i)?(e.preventDefault(),xr(t,f,!0)):46===n&&(H?a:i)?(e.preventDefault(),xr(t,f,!1)):H&&o&&8===n?(e.preventDefault(),xr(t,g,!0)):H&&o&&46===n?(e.preventDefault(),xr(t,g,!1)):66===n&&!a&&(H?o:i)?(e.preventDefault(),xr(t,h,"bold")):85===n&&!a&&(H?o:i)?(e.preventDefault(),xr(t,h,"underline")):73===n&&!a&&(H?o:i)?(e.preventDefault(),xr(t,h,"italic")):9!==n||a||i||o?90===n&&!r&&(H?o:i)?(e.preventDefault(),xr(t,p,void 0)):(u=H?90===n&&o&&r:89===n&&i||90===n&&i&&r)?(e.preventDefault(),xr(t,m,void 0)):zn(t._editorState._selection)?(u=!r&&(67===n&&(H?o:i)))?(e.preventDefault(),xr(t,P,e)):(u=!r&&(88===n&&(H?o:i)))?(e.preventDefault(),xr(t,$,e)):65===n&&(H?o:i)&&(e.preventDefault(),xr(t,L,e)):!W&&65===n&&(H?o:i)&&(e.preventDefault(),xr(t,L,e)):xr(t,D,e)}else Zt=!1,xr(t,S,e);else xr(t,T,e);else xr(t,E,e);else xr(t,N,e);else xr(t,C,e);else xr(t,y,e);else xr(t,v,e);(i||r||a||o)&&xr(t,B,e)}}}],["pointerdown",function(e,t){let n=e.target;e=e.pointerType,n instanceof Node&&"touch"!==e&&wr(t,(()=>{Rr(Pe(n))||(Qt=!0)}))}],["compositionstart",function(e,t){wr(t,(()=>{let n=rr();if(jn(n)&&!t.isComposing()){let r=n.anchor,i=n.anchor.getNode();Re(r.key),(e.timeStamp<Yt+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&xr(t,u,X)}}))}],["compositionend",function(e,t){W?en=!0:wr(t,(()=>{sn(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),wr(t,(()=>{var n=rr(),r=e.data,i=ln(e);if(null!=r&&jn(n)&&nn(n,i,r,e.timeStamp,!1)){en&&(sn(t,r),en=!1);var o=n.anchor,l=o.getNode();if(null===(i=at(t._window)))return;let s=o.offset;(o=z&&!n.isCollapsed()&&An(l)&&null!==i.anchorNode)&&(o=(l=l.getTextContent().slice(0,s)+r+l.getTextContent().slice(s+n.focus.offset))===(3===(i=i.anchorNode).nodeType?i.nodeValue:null)),o||xr(t,u,r),r=r.length,W&&1<r&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=r),Y||G||V||!t.isComposing()||(Yt=0,Re(null))}else He(!1,t,null!==r?r:void 0),en&&(sn(t,r||void 0),en=!1);_r(),de(n=yr())})),Vt=null}],["click",function(e,t){wr(t,(()=>{let n=rr();var r=at(t._window);let i=ir();if(r)if(jn(n)){let t=n.anchor;var l=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!$r(l)&&1===Ie().getChildrenSize()&&l.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i)?(r.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||l!==(r=n.focus.getNode())&&(Ar(l)?l.select(0):l.getParentOrThrow().select(0))}else"touch"===e.pointerType&&(null!==(l=r.anchorNode)&&(1===(l=l.nodeType)||3===l))&&Fe(r=nr(i,r,t));xr(t,o,e)}))}],["cut",Wt],["copy",Wt],["dragstart",Wt],["dragover",Wt],["dragend",Wt],["paste",Wt],["focus",Wt],["blur",Wt],["drop",Wt]];z&&zt.push(["beforeinput",(e,t)=>function(e,t){let n=e.inputType,r=ln(e);"deleteCompositionText"===n||W&&Ve(t)||"insertCompositionText"!==n&&wr(t,(()=>{let i=rr();if("deleteContentBackward"===n){if(null===i){var o=ir();if(!jn(o))return;Fe(o.clone())}if(jn(i))return void(229===Gt&&e.timeStamp<Yt+30&&t.isComposing()&&i.anchor.key===i.focus.key?(Re(null),Yt=0,setTimeout((()=>{wr(t,(()=>{Re(null)}))}),30),jn(i)&&(o=i.anchor.getNode(),o.markDirty(),i.format=o.getFormat(),i.style=o.getStyle())):(e.preventDefault(),xr(t,l,!0)))}if(jn(i)){o=e.data,null!==Vt&&He(!1,t,Vt),i.dirty&&null===Vt||!i.isCollapsed()||$r(i.anchor.getNode())||null===r||i.applyDOMRange(r),Vt=null;var _=i.focus,v=i.anchor.getNode();if(_=_.getNode(),"insertText"===n||"insertTranspose"===n)"\n"===o?(e.preventDefault(),xr(t,s,!1)):"\n\n"===o?(e.preventDefault(),xr(t,a,void 0)):null==o&&e.dataTransfer?(o=e.dataTransfer.getData("text/plain"),e.preventDefault(),i.insertRawText(o)):null!=o&&nn(i,r,o,e.timeStamp,!0)?(e.preventDefault(),xr(t,u,o)):Vt=o,Jt=e.timeStamp;else switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":xr(t,u,e);break;case"insertFromComposition":Re(null),xr(t,u,e);break;case"insertLineBreak":Re(null),xr(t,s,!1);break;case"insertParagraph":Re(null),Zt&&!G?(Zt=!1,xr(t,s,!1)):xr(t,a,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":xr(t,c,e);break;case"deleteByComposition":(function(e,t){return e!==t||Ar(e)||Ar(t)||!e.isToken()||!t.isToken()})(v,_)&&xr(t,d,e);break;case"deleteByDrag":case"deleteByCut":xr(t,d,e);break;case"deleteContent":xr(t,l,!1);break;case"deleteWordBackward":xr(t,f,!0);break;case"deleteWordForward":xr(t,f,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":xr(t,g,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":xr(t,g,!1);break;case"formatStrikeThrough":xr(t,h,"strikethrough");break;case"formatBold":xr(t,h,"bold");break;case"formatItalic":xr(t,h,"italic");break;case"formatUnderline":xr(t,h,"underline");break;case"historyUndo":xr(t,p,void 0);break;case"historyRedo":xr(t,m,void 0)}}}))}(e,t)]);let Yt=0,Gt=0,Jt=0,Vt=null,qt=0,Xt=!1,Qt=!1,Zt=!1,en=!1,tn=[0,"",0,"root",0];function nn(e,t,n,r,i){let o=e.anchor,l=e.focus,s=o.getNode();var a=yr();let u=at(a._window),c=null!==u?u.anchorNode:null,d=o.key;a=a.getElementByKey(d);let f=n.length;return d!==l.key||!An(s)||(!i&&(!z||Jt<r+50)||s.isDirty()&&2>f||Ke(n))&&o.offset!==l.offset&&!s.isComposing()||Te(s)||s.isDirty()&&1<f||(i||!z)&&null!==a&&!s.isComposing()&&c!==Se(a)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;let n=t.getParentOrThrow(),r=t.isToken();return 0===e?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=(An(t=t.getPreviousSibling())||Ar(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()||r)}(e,s)}function rn(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function on(e,t,n){let{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:s}=e;Xt&&(Xt=!1,rn(r,o)&&rn(l,s))||wr(t,(()=>{if(n){if(Ne(t,r,l)){var o=rr();if(jn(o)){var s=o.anchor,a=s.getNode();if(o.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(o.dirty=!0);var u=et(t).event;u=u?u.timeStamp:performance.now();let[n,r,i,l,c]=tn;u<c+200&&s.offset===i&&s.key===l?(o.format=n,o.style=r):"text"===s.type?(o.format=a.getFormat(),o.style=a.getStyle()):"element"===s.type&&(o.format=0,o.style="")}else{s=255,a=!1;let e=(u=o.getNodes()).length;for(let t=0;t<e;t++){let e=u[t];if(An(e)&&(a=!0,0===(s&=e.getFormat())))break}o.format=a?s:0}}xr(t,i,void 0)}}else Fe(null)}))}function ln(e){return e.getTargetRanges?0===(e=e.getTargetRanges()).length?null:e[0]:null}function sn(e,t){var n=e._compositionKey;if(Re(null),null!==n&&null!=t){if(""===t)return t=Ae(n),void(null!==(e=Se(e.getElementByKey(n)))&&null!==e.nodeValue&&An(t)&&We(t,e.nodeValue,null,null,!0));if("\n"===t[t.length-1]&&jn(n=rr()))return t=n.focus,n.anchor.set(t.key,t.offset,t.type),void xr(e,S,null)}He(!0,e,t)}function an(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}let un=new Map;function cn(e){let t=at(null==(e=e.target)?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null!==t){var n=Ee(t.anchorNode);if(null!==n){Qt&&(Qt=!1,wr(n,(()=>{var e=ir(),r=t.anchorNode;null!==r&&(1===(r=r.nodeType)||3===r)&&Fe(e=nr(e,t,n))})));var r=(e=(e=je(n))[e.length-1])._key,i=un.get(r),o=i||e;o!==n&&on(t,o,!1),on(t,n,!0),n!==e?un.set(r,n):i&&un.delete(r)}}}function dn(e,t,n){_r();var r=e.__key;let i=e.getParent();if(null!==i){var o=rr();if(jn(o)&&Ar(e)){var{anchor:l,focus:s}=o,a=l.getNode(),u=s.getNode();Ze(a,e)&&l.set(e.__key,0,"element"),Ze(u,e)&&s.set(e.__key,0,"element")}if(u=!1,jn(a=o)&&t){o=a.anchor;let t=a.focus;o.key===r&&(sr(o,e,i,e.getPreviousSibling(),e.getNextSibling()),u=!0),t.key===r&&(sr(t,e,i,e.getPreviousSibling(),e.getNextSibling()),u=!0)}else zn(a)&&t&&e.isSelected()&&e.selectPrevious();jn(a)&&t&&!u?(r=e.getIndexWithinParent(),we(e),or(a,i,r,-1)):we(e),n||nt(i)||i.canBeEmpty()||!i.isEmpty()||dn(i,t),t&&$r(i)&&i.isEmpty()&&i.selectEnd()}}class fn{static getType(){K(64,this.name)}static clone(){K(65,this.name)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Oe(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;null!==e;){if("root"===e)return!0;if(null===(e=Ae(e)))break;e=e.__parent}return!1}isSelected(e){if(null==(e=e||rr()))return!1;let t=e.getNodes().some((e=>e.__key===this.__key));return(An(this)||!jn(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(null===e)return-1;e=e.getFirstChild();let t=0;for(;null!==e;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return null===e?null:Ae(e)}getParentOrThrow(){let e=this.getParent();return null===e&&K(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(nt(t))return e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&K(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:Ae(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(null===t)return e;for(t=t.getFirstChild();null!==t&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:Ae(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var n=e.getParents();Ar(this)&&t.unshift(this),Ar(e)&&n.unshift(e),e=t.length;var r=n.length;if(0===e||0===r||t[e-1]!==n[r-1])return null;for(n=new Set(n),r=0;r<e;r++){let e=t[r];if(n.has(e))return e}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let n=this;for(;;){var r=n.getParentOrThrow();if(r===t){r=n.getIndexWithinParent();break}n=r}for(n=e;;){if((e=n.getParentOrThrow())===t){t=n.getIndexWithinParent();break}n=e}return r<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;null!==e;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),n=[],r=new Set;for(var i=this;;){var o=i.__key;if(r.has(o)||(r.add(o),n.push(i)),i===e)break;if(null!==(o=Ar(i)?t?i.getFirstChild():i.getLastChild():null))i=o;else if(null!==(o=t?i.getNextSibling():i.getPreviousSibling()))i=o;else{if(i=i.getParentOrThrow(),r.has(i.__key)||n.push(i),i===e)break;o=i;do{null===o&&K(68),i=t?o.getNextSibling():o.getPreviousSibling(),null!==(o=o.getParent())&&(null!==i||r.has(o.__key)||n.push(o))}while(null===i)}}return t||n.reverse(),n}isDirty(){let e=yr()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=Ae(this.__key);return null===e&&K(113),e}getWritable(){_r();var e=vr(),t=yr();e=e._nodeMap;let n=this.__key,r=this.getLatest(),i=r.__parent;t=t._cloneNotNeeded;var o=rr();return null!==o&&(o._cachedNodes=null),t.has(n)?(De(r),r):((o=r.constructor.clone(r)).__parent=i,o.__next=r.__next,o.__prev=r.__prev,Ar(r)&&Ar(o)?(o.__first=r.__first,o.__last=r.__last,o.__size=r.__size,o.__indent=r.__indent,o.__format=r.__format,o.__dir=r.__dir):An(r)&&An(o)&&(o.__format=r.__format,o.__style=r.__style,o.__mode=r.__mode,o.__detail=r.__detail),t.add(n),o.__key=n,De(o),e.set(n,o),o)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){K(70)}updateDOM(){K(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){K(72)}static importJSON(){K(18,this.name)}static transform(){return null}remove(e){dn(this,!0,e)}replace(e,t){_r();var n=rr();null!==n&&(n=n.clone()),ot(this,e);let r=this.getLatest(),i=this.__key,o=e.__key,l=e.getWritable(),s=(e=this.getParentOrThrow().getWritable()).__size;we(l);let a=r.getPreviousSibling(),u=r.getNextSibling(),c=r.__prev,d=r.__next,f=r.__parent;return dn(r,!1,!0),null===a?e.__first=o:a.getWritable().__next=o,l.__prev=c,null===u?e.__last=o:u.getWritable().__prev=o,l.__next=d,l.__parent=f,e.__size=s,t&&this.getChildren().forEach((e=>{l.append(e)})),jn(n)&&(Fe(n),t=n.anchor,n=n.focus,t.key===i&&In(t,l),n.key===i&&In(n,l)),ke()===i&&Re(o),l}insertAfter(e,t=!0){_r(),ot(this,e);var n=this.getWritable();let r=e.getWritable();var i=r.getParent();let o=rr();var l=!1,s=!1;if(null!==i){var a=e.getIndexWithinParent();we(r),jn(o)&&(s=i.__key,l=o.anchor,i=o.focus,l="element"===l.type&&l.key===s&&l.offset===a+1,s="element"===i.type&&i.key===s&&i.offset===a+1)}i=this.getNextSibling(),a=this.getParentOrThrow().getWritable();let u=r.__key,c=n.__next;return null===i?a.__last=u:i.getWritable().__prev=u,a.__size++,n.__next=u,r.__next=c,r.__prev=n.__key,r.__parent=n.__parent,t&&jn(o)&&(or(o,a,(t=this.getIndexWithinParent())+1),n=a.__key,l&&o.anchor.set(n,t+2,"element"),s&&o.focus.set(n,t+2,"element")),e}insertBefore(e,t=!0){_r(),ot(this,e);var n=this.getWritable();let r=e.getWritable(),i=r.__key;we(r);let o=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),s=n.__prev,a=this.getIndexWithinParent();return null===o?l.__first=i:o.getWritable().__next=i,l.__size++,n.__prev=i,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent,n=rr(),t&&jn(n)&&or(n,t=this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return jr()}selectPrevious(e,t){_r();let n=this.getPreviousSibling(),r=this.getParentOrThrow();return null===n?r.select(0,0):Ar(n)?n.select():An(n)?n.select(e,t):(e=n.getIndexWithinParent()+1,r.select(e,e))}selectNext(e,t){_r();let n=this.getNextSibling(),r=this.getParentOrThrow();return null===n?r.select():Ar(n)?n.select(0,0):An(n)?n.select(e,t):(e=n.getIndexWithinParent(),r.select(e,e))}markDirty(){this.getWritable()}}class gn extends fn{static getType(){return"linebreak"}static clone(e){return new gn(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t,n,r=e.parentElement;return null!==r&&((t=r.firstChild)===e||t.nextSibling===e&&3===t.nodeType&&null!==(t.textContent||"").match(/^( |\t|\r?\n)+$/))&&((n=r.lastChild)===e||n.previousSibling===e&&3===n.nodeType&&null!==(n.textContent||"").match(/^( |\t|\r?\n)+$/))?null:{conversion:hn,priority:0}}}}static importJSON(){return pn()}exportJSON(){return{type:"linebreak",version:1}}}function hn(){return{node:pn()}}function pn(){return it(new gn)}function mn(e){return e instanceof gn}function _n(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function vn(e,t){return 1&t?"strong":2&t?"em":"span"}function yn(e,t,n,r,i){e=r.classList,void 0!==(r=ze(i,"base"))&&e.add(...r);let o=!1,l=8&t&&4&t;var s=8&n&&4&n;void 0!==(r=ze(i,"underlineStrikethrough"))&&(s?(o=!0,l||e.add(...r)):l&&e.remove(...r));for(let a in ee)s=ee[a],void 0!==(r=ze(i,a))&&(n&s&&(!o||"underline"!==a&&"strikethrough"!==a)?(0==(t&s)||l&&"underline"===a||"strikethrough"===a)&&e.add(...r):t&s&&e.remove(...r))}function Cn(e,t,n){let r=t.firstChild;if(e+=(n=n.isComposing())?q:"",null==r)t.textContent=e;else if((t=r.nodeValue)!==e)if(n||W){n=t.length;let i=e.length,o=0,l=0;for(;o<n&&o<i&&t[o]===e[o];)o++;for(;l+o<n&&l+o<i&&t[n-l-1]===e[i-l-1];)l++;e=[o,n-o-l,e.slice(o,i-l)];let[s,a,u]=e;0!==a&&r.deleteData(s,a),r.insertData(s,u)}else r.nodeValue=e}function Nn(e,t){return(t=document.createElement(t)).appendChild(e),t}class En extends fn{static getType(){return"text"}static clone(e){return new En(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return oe[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===ke()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(e){return e=ee[e],0!=(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return xe(this.getLatest().__format,e,t)}createDOM(e){var t=this.__format,n=_n(0,t);let r=vn(0,t),i=document.createElement(null===n?r:n),o=i;return null!==n&&(o=document.createElement(r),i.appendChild(o)),n=o,Cn(this.__text,n,this),void 0!==(e=e.theme.text)&&yn(r,0,t,n,e),""!==(t=this.__style)&&(i.style.cssText=t),i}updateDOM(e,t,n){let r=this.__text;var i=e.__format,o=this.__format,l=_n(0,i);let s=_n(0,o);var a=vn(0,i);let u=vn(0,o);return(null===l?a:l)!==(null===s?u:s)||(l===s&&a!==u?(null==(i=t.firstChild)&&K(48),Cn(r,e=l=document.createElement(u),this),void 0!==(n=n.theme.text)&&yn(u,0,o,e,n),t.replaceChild(l,i),!1):(a=t,null!==s&&null!==l&&(null==(a=t.firstChild)&&K(49)),Cn(r,a,this),void 0!==(n=n.theme.text)&&i!==o&&yn(u,i,o,a,n),o=this.__style,e.__style!==o&&(t.style.cssText=o),!1))}static importDOM(){return{"#text":()=>({conversion:bn,priority:0}),b:()=>({conversion:Sn,priority:0}),code:()=>({conversion:Rn,priority:0}),em:()=>({conversion:Rn,priority:0}),i:()=>({conversion:Rn,priority:0}),s:()=>({conversion:Rn,priority:0}),span:()=>({conversion:Tn,priority:0}),strong:()=>({conversion:Rn,priority:0}),sub:()=>({conversion:Rn,priority:0}),sup:()=>({conversion:Rn,priority:0}),u:()=>({conversion:Rn,priority:0})}}static importJSON(e){let t=kn(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return({element:e}=super.exportDOM(e)),null!==e&&(this.hasFormat("bold")&&(e=Nn(e,"b")),this.hasFormat("italic")&&(e=Nn(e,"i")),this.hasFormat("strikethrough")&&(e=Nn(e,"s")),this.hasFormat("underline")&&(e=Nn(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?ee[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?te[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=ee[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=ie[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){_r();let n=rr();var r=this.getTextContent();let i=this.__key;return"string"==typeof r?(r=r.length,void 0===e&&(e=r),void 0===t&&(t=r)):t=e=0,jn(n)?((r=ke())!==n.anchor.key&&r!==n.focus.key||Re(i),n.setTextNodeRange(this,e,this,t),n):er(i,e,i,t,"text","text")}spliceText(e,t,n,r){let i=this.getWritable(),o=i.__text,l=n.length,s=e;0>s&&(s=l+s,0>s&&(s=0));let a=rr();return r&&jn(a)&&(e+=l,a.setTextNodeRange(i,e,i,e)),t=o.slice(0,s)+n+o.slice(s+t),i.__text=t,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){_r();var t=this.getLatest(),n=t.getTextContent(),r=t.__key,i=ke(),o=new Set(e);e=[];for(var l=n.length,s="",a=0;a<l;a++)""!==s&&o.has(a)&&(e.push(s),s=""),s+=n[a];if(""!==s&&e.push(s),0===(o=e.length))return[];if(e[0]===n)return[t];var u=e[0];n=t.getParentOrThrow(),a=t.getFormat();let c=t.getStyle(),d=t.__detail;l=!1,t.isSegmented()?((s=kn(u)).__format=a,s.__style=c,s.__detail=d,l=!0):(s=t.getWritable()).__text=u,t=rr(),s=[s],u=u.length;for(let n=1;n<o;n++){var f=e[n],g=f.length;(f=kn(f).getWritable()).__format=a,f.__style=c,f.__detail=d;let o=f.__key;if(g=u+g,jn(t)){let e=t.anchor,n=t.focus;e.key===r&&"text"===e.type&&e.offset>u&&e.offset<=g&&(e.key=o,e.offset-=u,t.dirty=!0),n.key===r&&"text"===n.type&&n.offset>u&&n.offset<=g&&(n.key=o,n.offset-=u,t.dirty=!0)}i===r&&Re(o),u=g,s.push(f)}return r=this.getPreviousSibling(),i=this.getNextSibling(),null!==r&&De(r),null!==i&&De(i),r=n.getWritable(),i=this.getIndexWithinParent(),l?(r.splice(i,0,s),this.remove()):r.splice(i,1,s),jn(t)&&or(t,n,i,o-1),s}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||K(50);var n=this.__key;let r=e.__key,i=this.__text,o=i.length;ke()===r&&Re(n);let l=rr();if(jn(l)){let i=l.anchor,s=l.focus;null!==i&&i.key===r&&(ar(i,t,n,e,o),l.dirty=!0),null!==s&&s.key===r&&(ar(s,t,n,e,o),l.dirty=!0)}return n=e.__text,this.setTextContent(t?n+i:i+n),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function Tn(e){let t="700"===e.style.fontWeight,n="line-through"===e.style.textDecoration,r="italic"===e.style.fontStyle,i="underline"===e.style.textDecoration,o=e.style.verticalAlign;return{forChild:e=>An(e)?(t&&e.toggleFormat("bold"),n&&e.toggleFormat("strikethrough"),r&&e.toggleFormat("italic"),i&&e.toggleFormat("underline"),"sub"===o&&e.toggleFormat("subscript"),"super"===o&&e.toggleFormat("superscript"),e):e,node:null}}function Sn(e){let t="normal"===e.style.fontWeight;return{forChild:e=>(An(e)&&!t&&e.toggleFormat("bold"),e),node:null}}let xn=new WeakMap;function bn(e){null===e.parentElement&&K(129);for(var t,n=e.textContent||"",r=e.parentNode,i=[e];null!==r&&void 0===(t=xn.get(r))&&!("PRE"===r.nodeName||1===r.nodeType&&r.style.whiteSpace.startsWith("pre"));)i.push(r),r=r.parentNode;for(t=void 0===t?r:t,r=0;r<i.length;r++)xn.set(i[r],t);if(null!==t){for(e=[],i=(n=n.split(/(\r?\n|\t)/)).length,t=0;t<i;t++)"\n"===(r=n[t])||"\r\n"===r?e.push(pn()):"\t"===r?e.push(Pn()):""!==r&&e.push(kn(r));return{node:e}}if(""===(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===n[0]){for(i=e,t=!0;null!==i&&null!==(i=wn(i,!1));)if(0<(r=i.textContent||"").length){/[ \t\n]$/.test(r)&&(n=n.slice(1)),t=!1;break}t&&(n=n.slice(1))}if(" "===n[n.length-1]){for(i=!0;null!==e&&null!==(e=wn(e,!0));)if(0<(e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length){i=!1;break}i&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:kn(n)}}let On=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function wn(e,t){for(;;){for(var n=void 0;null===(n=t?e.nextSibling:e.previousSibling);)if(null===(e=e.parentElement))return null;if(1===(e=n).nodeType&&(""===(n=e.style.display)&&null===e.nodeName.match(On)||""!==n&&!n.startsWith("inline")))return null;for(;null!==(n=t?e.firstChild:e.lastChild);)e=n;if(3===e.nodeType)return e;if("BR"===e.nodeName)return null}}let Dn={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Rn(e){let t=Dn[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(An(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e),node:null}}function kn(e=""){return it(new En(e))}function An(e){return e instanceof En}class Mn extends En{static getType(){return"tab"}static clone(e){let t=new Mn(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}static importJSON(e){let t=Pn();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){K(126)}setDetail(){K(127)}setMode(){K(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Pn(){return it(new Mn)}class $n{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode(),r=this.offset;if(e=e.offset,Ar(t)){var i=t.getDescendantByIndex(r);t=null!=i?i:t}return Ar(n)&&(i=n.getDescendantByIndex(e),n=null!=i?i:n),t===n?r<e:t.isBefore(n)}getNode(){let e=Ae(this.key);return null===e&&K(20),e}set(e,t,n){let r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,mr()||(ke()===i&&Re(e),null!==r&&(r._cachedNodes=null,r.dirty=!0))}}function Ln(e,t){let n=t.__key,r=e.offset,i="element";if(An(t))i="text",r>(t=t.getTextContentSize())&&(r=t);else if(!Ar(t)){var o=t.getNextSibling();An(o)?(n=o.__key,r=0,i="text"):(o=t.getParent())&&(n=o.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,i)}function In(e,t){if(Ar(t)){let n=t.getLastDescendant();Ar(n)||An(n)?Ln(e,n):Ln(e,t)}else Ln(e,t)}function Fn(e,t,n,r){let i=e.getNode(),o=i.getChildAtIndex(e.offset),l=kn(),s=$r(i)?jr().append(l):l;l.setFormat(n),l.setStyle(r),null===o?i.append(s):(o.insertBefore(s),"element"===t.type&&t.key===e.key&&t.offset!==e.offset&&t.set(t.key,t.offset+1,"element")),e.is(t)&&t.set(l.__key,0,"text"),e.set(l.__key,0,"text")}function Bn(e,t,n,r){e.key=t,e.offset=n,e.type=r}class Kn{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!zn(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Kn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.getNodes(),r=n.length;var i=n[r-1];if(An(i))i=i.select();else{let e=i.getIndexWithinParent()+1;i=i.getParentOrThrow().select(e,e)}for(i.insertNodes(e,t),e=0;e<r;e++)n[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(null!==e)return e;var t=this._nodes;e=[];for(let n of t)null!==(t=Ae(n))&&e.push(t);return mr()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function jn(e){return e instanceof Wn}class Un{constructor(e,t,n){this.gridKey=e,this.anchor=t,this.focus=n,this.dirty=!1,this._cachedNodes=null,t._selection=this,n._selection=this}is(e){return!!Hn(e)&&(this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus))}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new Un(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Gn(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.focus.getNode();return me(n.select(0,n.getChildrenSize())).insertNodes(e,t)}getShape(){var e=Ae(this.anchor.key);null===e&&K(21);var t=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var n=Ae(this.focus.key);null===n&&K(22);var r=n.getIndexWithinParent();let i=n.getParentOrThrow().getIndexWithinParent();return n=Math.min(t,r),t=Math.max(t,r),r=Math.min(e,i),e=Math.max(e,i),{fromX:Math.min(n,t),fromY:Math.min(r,e),toX:Math.max(n,t),toY:Math.max(r,e)}}getNodes(){function e(e){let{cell:t,startColumn:n,startRow:r}=e;s=Math.min(s,n),a=Math.min(a,r),u=Math.max(u,n+t.__colSpan-1),c=Math.max(c,r+t.__rowSpan-1)}var t=this._cachedNodes;if(null!==t)return t;var n=this.anchor.getNode();t=this.focus.getNode(),n=ct(n,zr);var r=ct(t,zr);zr(n)||K(103),zr(r)||K(104),Vr(t=n.getParent())||K(105),Gr(t=t.getParent())||K(106);let[i,o,l]=ur(t,n,r),s=Math.min(o.startColumn,l.startColumn),a=Math.min(o.startRow,l.startRow),u=Math.max(o.startColumn+o.cell.__colSpan-1,l.startColumn+l.cell.__colSpan-1),c=Math.max(o.startRow+o.cell.__rowSpan-1,l.startRow+l.cell.__rowSpan-1);n=s,r=a;for(var d=s,f=a;s<n||a<r||u>d||c>f;){if(s<n){var g=f-r;--n;for(var h=0;h<=g;h++)e(i[r+h][n])}if(a<r)for(g=d-n,--r,h=0;h<=g;h++)e(i[r][n+h]);if(u>d)for(g=f-r,d+=1,h=0;h<=g;h++)e(i[r+h][d]);if(c>f)for(g=d-n,f+=1,h=0;h<=g;h++)e(i[f][n+h])}for(t=[t],n=null,r=a;r<=c;r++)for(d=s;d<=u;d++)({cell:f}=i[r][d]),Vr(g=f.getParent())||K(107),g!==n&&t.push(g),t.push(f,...dt(f)),n=g;return mr()||(this._cachedNodes=t),t}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Hn(e){return e instanceof Un}class Wn{constructor(e,t,n,r){this.anchor=e,this.focus=t,this.dirty=!1,this.format=n,this.style=r,this._cachedNodes=null,e._selection=this,t._selection=this}is(e){return!!jn(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style)}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(null!==e)return e;e=this.anchor;var t=this.focus,n=e.isBefore(t),r=n?e:t;n=n?t:e,e=r.getNode(),t=n.getNode();let i=r.offset;return r=n.offset,Ar(e)&&(n=e.getDescendantByIndex(i),e=null!=n?n:e),Ar(t)&&(null!==(n=t.getDescendantByIndex(r))&&n!==e&&t.getChildAtIndex(r)===n&&(n=n.getPreviousSibling()),t=null!=n?n:t),e=e.is(t)?Ar(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),mr()||(this._cachedNodes=e),e}setTextNodeRange(e,t,n,r){Bn(this.anchor,e.__key,t,"text"),Bn(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),[l,s]=Gn(this),a="",u=!0;for(let c=0;c<e.length;c++){let d=e[c];if(Ar(d)&&!d.isInline())u||(a+="\n"),u=!d.isEmpty();else if(u=!1,An(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=l<s?e.slice(l,s):e.slice(s,l)):e=o?e.slice(l):e.slice(s):d===n&&(e=o?e.slice(0,s):e.slice(0,l)),a+=e}else!Rr(d)&&!mn(d)||d===n&&this.isCollapsed()||(a+=d.getTextContent())}return a}applyDOMRange(e){let t=yr(),n=t.getEditorState()._selection;if(null!==(e=Qn(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n))){var[r,i]=e;Bn(this.anchor,r.key,r.offset,r.type),Bn(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new Wn(new $n(e.key,e.offset,e.type),new $n(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=xe(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return 0!=(this.format&ee[e])}insertRawText(e){let t=[],n=(e=e.split(/(\r?\n|\t)/)).length;for(let r=0;r<n;r++){let n=e[r];"\n"===n||"\r\n"===n?t.push(pn()):"\t"===n?t.push(Pn()):t.push(kn(n))}this.insertNodes(t)}insertText(e){var t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),i=this.format,o=this.style;r&&"element"===t.type?Fn(t,n,i,o):r||"element"!==n.type||Fn(n,t,i,o);var l=this.getNodes(),s=l.length,a=r?n:t;n=(r?t:n).offset;var u=a.offset;An(t=l[0])||K(26),r=t.getTextContent().length;var c=t.getParentOrThrow(),d=l[s-1];if(this.isCollapsed()&&n===r&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!c.canInsertTextAfter()&&null===t.getNextSibling())){var f=t.getNextSibling();if(An(f)&&f.canInsertTextBefore()&&!Te(f)||((f=kn()).setFormat(i),c.canInsertTextAfter()?t.insertAfter(f):c.insertAfter(f)),f.select(0,0),t=f,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===n&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!c.canInsertTextBefore()&&null===t.getPreviousSibling())){if(An(f=t.getPreviousSibling())&&!Te(f)||((f=kn()).setFormat(i),c.canInsertTextBefore()?t.insertBefore(f):c.insertBefore(f)),f.select(),t=f,""!==e)return void this.insertText(e)}else if(t.isSegmented()&&n!==r)(c=kn(t.getTextContent())).setFormat(i),t.replace(c),t=c;else if(!(this.isCollapsed()||""===e||(f=d.getParent(),c.canInsertTextBefore()&&c.canInsertTextAfter()&&(!Ar(f)||f.canInsertTextBefore()&&f.canInsertTextAfter()))))return this.insertText(""),Xn(this.anchor,this.focus,null),void this.insertText(e);if(1===s)if(t.isToken())(e=kn(e)).select(),t.replace(e);else{if(l=t.getFormat(),s=t.getStyle(),n===u&&(l!==i||s!==o)){if(""!==t.getTextContent())return(l=kn(e)).setFormat(i),l.setStyle(o),l.select(),0===n?t.insertBefore(l,!1):([s]=t.splitText(n),s.insertAfter(l,!1)),void(l.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));t.setFormat(i),t.setStyle(o)}""===(t=t.spliceText(n,u-n,e,!0)).getTextContent()?t.remove():"text"===this.anchor.type&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=l,this.style=s))}else{if(i=new Set([...t.getParentKeys(),...d.getParentKeys()]),f=Ar(t)?t:t.getParentOrThrow(),o=Ar(d)?d:d.getParentOrThrow(),c=d,!f.is(o)&&o.isInline())do{c=o,o=o.getParentOrThrow()}while(o.isInline());"text"===a.type&&(0!==u||""===d.getTextContent())||"element"===a.type&&d.getIndexWithinParent()<u?An(d)&&!d.isToken()&&u!==d.getTextContentSize()?(d.isSegmented()&&(a=kn(d.getTextContent()),d.replace(a),d=a),d=d.spliceText(0,u,""),i.add(d.__key)):(a=d.getParentOrThrow()).canBeEmpty()||1!==a.getChildrenSize()?d.remove():a.remove():i.add(d.__key),a=o.getChildren(),u=new Set(l),d=f.is(o),f=f.isInline()&&null===t.getNextSibling()?f:t;for(let e=a.length-1;0<=e;e--){let n=a[e];if(n.is(t)||Ar(n)&&n.isParentOf(t))break;n.isAttached()&&(!u.has(n)||n.is(c)?d||f.insertAfter(n,!1):n.remove())}if(!d)for(a=o,u=null;null!==a;)(0===(d=(o=a.getChildren()).length)||o[d-1].is(u))&&(i.delete(a.__key),u=a),a=a.getParent();for(t.isToken()?n===r?t.select():((e=kn(e)).select(),t.replace(e)):""===(t=t.spliceText(n,r-n,e,!0)).getTextContent()?t.remove():t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length),e=1;e<s;e++)t=l[e],i.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),Re(null);else{var t=this.getNodes(),n=[];for(var r of t)An(r)&&n.push(r);var i=n.length;if(0===i)this.toggleFormat(e),Re(null);else{r=this.anchor;var o=this.focus,l=this.isBackward();t=l?o:r,r=l?r:o;var s=0,a=n[0];if(o="element"===t.type?0:t.offset,"text"===t.type&&o===a.getTextContentSize()&&(s=1,a=n[1],o=0),null!=a){l=a.getFormatFlags(e,null);var u=i-1,c=n[u];if(i="text"===r.type?r.offset:c.getTextContentSize(),a.is(c))o!==i&&(0===o&&i===a.getTextContentSize()?a.setFormat(l):(e=a.splitText(o,i),(e=0===o?e[0]:e[1]).setFormat(l),"text"===t.type&&t.set(e.__key,0,"text"),"text"===r.type&&r.set(e.__key,i-o,"text")),this.format=l);else{0!==o&&([,a]=a.splitText(o),o=0),a.setFormat(l);var d=c.getFormatFlags(e,l);for(0<i&&(i!==c.getTextContentSize()&&([c]=c.splitText(i)),c.setFormat(d)),s+=1;s<u;s++){let t=n[s];if(!t.isToken()){let n=t.getFormatFlags(e,d);t.setFormat(n)}}"text"===t.type&&t.set(a.__key,o,"text"),"text"===r.type&&r.set(c.__key,i,"text"),this.format=l|d}}}}}insertNodes(e,t){if(!this.isCollapsed()){var n=this.isBackward()?this.anchor:this.focus,r=n.getNode().getNextSibling();if(r=r?r.getKey():null,n=(n=n.getNode().getPreviousSibling())?n.getKey():null,this.removeText(),this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===r&&0===this.focus.offset){var i=kn();this.focus.getNode().insertBefore(i)}else this.focus.key===n&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(i=kn(),this.focus.getNode().insertAfter(i));i&&(this.focus.set(i.__key,0,"text"),this.anchor.set(i.__key,0,"text"))}}n=(i=this.anchor).offset;var o=i.getNode();r=o,"element"===i.type&&(r=null===(r=(i=i.getNode()).getChildAtIndex(n-1))?i:r),i=[];var l=o.getNextSiblings(),s=nt(o)?null:o.getTopLevelElementOrThrow();if(An(o))if(r=o.getTextContent().length,0===n&&0!==r)r=null!==(r=o.getPreviousSibling())?r:o.getParentOrThrow(),i.push(o);else if(n===r)r=o;else{if(o.isToken())return!1;[r,o]=o.splitText(n),i.push(o)}o=r,i.push(...l),l=e[0];var a=!1,u=null;for(let t=0;t<e.length;t++){var c=e[t];if(nt(r)||Rr(r)||!Ar(c)||c.isInline())a&&!Ar(c)&&!Rr(c)&&nt(r.getParent())&&K(28);else{if(c.is(l)){if(Ar(r)&&r.isEmpty()&&r.canReplaceWith(c)){r.replace(c),r=c,a=!0;continue}if(be(a=c.getFirstDescendant())){for(var d=a.getParentOrThrow();d.isInline();)d=d.getParentOrThrow();if(a=(u=d.getChildren()).length,Ar(r)){var f=r.getFirstChild();for(let e=0;e<a;e++){let t=u[e];null===f?r.append(t):f.insertAfter(t),f=t}}else{for(f=a-1;0<=f;f--)r.insertAfter(u[f]);r=r.getParentOrThrow()}if(u=u[a-1],d.remove(),a=!0,d.is(c))continue}}An(r)&&(null===s&&K(27),r=s)}a=!1,Ar(r)&&!r.isInline()?(u=c,Rr(c)&&!c.isInline()?r=1===e.length&&r.canBeEmpty()&&r.isEmpty()?r.insertBefore(c,!1):r.insertAfter(c,!1):Ar(c)?!c.canBeEmpty()&&c.isEmpty()||($r(r)?(null!==(d=r.getChildAtIndex(n))?d.insertBefore(c):r.append(c),r=c):c.isInline()?(r.append(c),r=c):r=r.insertAfter(c,!1)):(null!==(d=r.getFirstChild())?d.insertBefore(c):r.append(c),r=c)):!Ar(c)||Ar(c)&&c.isInline()||Rr(r)&&!r.isInline()?(u=c,jn(this)&&Rr(c)&&(Ar(r)||An(r))&&!c.isInline()?(An(r)?(d=r.getParentOrThrow(),[r]=r.splitText(n),r=r.getIndexWithinParent()+1):(d=r,r=n),[,r]=ut(d,r),r=r.insertBefore(c)):r=r.insertAfter(c,!1)):(c=r.getParentOrThrow(),mn(r)&&r.remove(),r=c,t--)}if(t&&(An(o)?o.select():An(e=r.getPreviousSibling())?e.select():(e=r.getIndexWithinParent(),r.getParentOrThrow().select(e,e))),Ar(r)){if(e=An(u)?u:Ar(u)&&u.isInline()?u.getLastDescendant():r.getLastDescendant(),t||(null===e?r.select():An(e)?""===e.getTextContent()?e.selectPrevious():e.select():e.selectNext()),0!==i.length)for(t=r,e=i.length-1;0<=e;e--)s=(n=i[e]).getParentOrThrow(),!Ar(r)||Zn(n)||Rr(n)&&(!n.isInline()||n.isIsolated())?Ar(r)||Zn(n)?Ar(n)&&!n.canInsertAfter(r)?(Ar(o=s.constructor.clone(s))||K(29),o.append(n),r.insertAfter(o)):r.insertAfter(n):(r.insertBefore(n),r=n):(t===r?r.append(n):r.insertBefore(n),r=n),s.isEmpty()&&!s.canBeEmpty()&&s.remove()}else t||(An(r)?r.select():(t=r.getParentOrThrow(),e=r.getIndexWithinParent()+1,t.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,t=e.offset,n=[];if("text"===e.type){var r=e.getNode(),i=r.getNextSiblings().reverse(),o=r.getParentOrThrow(),l=o.isInline(),s=l?o.getTextContentSize():r.getTextContentSize();0===t?i.push(r):(l&&(n=o.getNextSiblings()),t===s||l&&t===r.getTextContentSize()||([,r]=r.splitText(t),i.push(r)))}else{if(nt(o=e.getNode()))return i=jr(),n=o.getChildAtIndex(t),i.select(),void(null!==n?n.insertBefore(i,!1):o.append(i));i=o.getChildren().slice(t).reverse()}if(r=i.length,0===t&&0<r&&o.isInline()){if(Ar(i=(n=o.getParentOrThrow()).insertNewAfter(this,!1)))for(n=n.getChildren(),o=0;o<n.length;o++)i.append(n[o])}else if(null===(l=o.insertNewAfter(this,!1)))this.insertLineBreak();else if(Ar(l))if(s=o.getFirstChild(),0===t&&(o.is(e.getNode())||s&&s.is(e.getNode()))&&0<r)o.insertBefore(l);else{if(o=null,t=n.length,e=l.getParentOrThrow(),0<t)for(s=0;s<t;s++)e.append(n[s]);if(0!==r)for(n=0;n<r;n++)t=i[n],null===o?l.append(t):o.insertBefore(t),o=t;l.canBeEmpty()||0!==l.getChildrenSize()?l.selectStart():(l.selectPrevious(),l.remove())}}insertLineBreak(e){let t=pn();var n=this.anchor;"element"===n.type&&($r(n=n.getNode())&&this.insertParagraph()),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}getCharacterOffsets(){return Gn(this)}extract(){var e=this.getNodes(),t=e.length,n=t-1,r=this.anchor;let i=this.focus;var o=e[0];let l=e[n],[s,a]=Gn(this);return 0===t?[]:1===t?An(o)&&!this.isCollapsed()?(e=s>a?a:s,n=o.splitText(e,s>a?s:a),null!=(e=0===e?n[0]:n[1])?[e]:[]):[o]:(t=r.isBefore(i),An(o)&&((r=t?s:a)===o.getTextContentSize()?e.shift():0!==r&&([,o]=o.splitText(r),e[0]=o)),An(l)&&(o=l.getTextContent().length,0===(t=t?a:s)?e.pop():t!==o&&([l]=l.splitText(t),e[n]=l)),e)}modify(e,t,n){var r=this.focus,i=this.anchor,o="move"===e,l=Je(r,t);if(Rr(l)&&!l.isIsolated())o&&l.isKeyboardSelectable()?((t=tr()).add(l.__key),Fe(t)):An(e=t?l.getPreviousSibling():l.getNextSibling())?(l=e.__key,t=t?e.getTextContent().length:0,r.set(l,t,"text"),o&&i.set(l,t,"text")):(n=l.getParentOrThrow(),Ar(e)?(n=e.__key,l=t?e.getChildrenSize():0):(l=l.getIndexWithinParent(),n=n.__key,t||l++),r.set(n,l,"element"),o&&i.set(n,l,"element"));else if(r=at((i=yr())._window)){var s=i._blockCursorElement,a=i._rootElement;if(null===a||null===s||!Ar(l)||l.isInline()||l.canBeEmpty()||st(s,i,a),r.modify(e,t?"backward":"forward",n),0<r.rangeCount&&(l=r.getRangeAt(0),i=$r(i=this.anchor.getNode())?i:tt(i),this.applyDOMRange(l),this.dirty=!0,!o)){for(o=this.getNodes(),e=[],n=!1,s=0;s<o.length;s++)Ze(a=o[s],i)?e.push(a):n=!0;n&&0<e.length&&(t?Ar(t=e[0])?t.selectStart():t.getParentOrThrow().selectStart():Ar(t=e[e.length-1])?t.selectEnd():t.getParentOrThrow().selectEnd()),r.anchorNode===l.startContainer&&r.anchorOffset===l.startOffset||(t=this.focus,r=(o=this.anchor).key,l=o.offset,i=o.type,Bn(o,t.key,t.offset,t.type),Bn(t,r,l,i),this._cachedNodes=null)}}}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){var n=this.anchor,r=this.focus,o=n.getNode();if(!e&&("element"===n.type&&Ar(o)&&n.offset===o.getChildrenSize()||"text"===n.type&&n.offset===o.getTextContentSize())){var l=o.getParent();if(Ar(l=o.getNextSibling()||(null===l?null:l.getNextSibling()))&&l.isShadowRoot())return}if(Rr(l=Je(r,e))&&!l.isIsolated())return void(l.isKeyboardSelectable()&&Ar(o)&&0===o.getChildrenSize()?(o.remove(),e=tr(),e.add(l.__key),Fe(e)):(l.remove(),yr().dispatchCommand(i,void 0)));if(!e&&Ar(l)&&Ar(o)&&o.isEmpty())return o.remove(),void l.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===n.offset&&("element"===n.type?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(l="text"===r.type?r.getNode():null,o="text"===n.type?n.getNode():null,null!==l&&l.isSegmented()){if(n=r.offset,r=l.getTextContentSize(),l.is(o)||e&&n!==r||!e&&0!==n)return void Jn(l,e,n)}else if(null!==o&&o.isSegmented()&&(n=n.offset,r=o.getTextContentSize(),o.is(l)||e&&0!==n||!e&&n!==r))return void Jn(o,e,n);if(o=this.anchor,l=this.focus,(n=o.getNode())===(r=l.getNode())&&"text"===o.type&&"text"===l.type){var s=o.offset,a=l.offset;let t=s<a;(r=t?s:a)!==(s=(a=t?a:s)-1)&&(Ke(n=n.getTextContent().slice(r,a))||(e?l.offset=s:o.offset=s))}}}this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&((e=this.anchor.getNode()).isEmpty()&&$r(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function zn(e){return e instanceof Kn}function Yn(e){let t=e.offset;return"text"===e.type?t:t===(e=e.getNode()).getChildrenSize()?e.getTextContent().length:0}function Gn(e){let t=e.anchor;return e=e.focus,"element"===t.type&&"element"===e.type&&t.key===e.key&&t.offset===e.offset?[0,0]:[Yn(t),Yn(e)]}function Jn(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),i=r.length,o=0,l=0;for(let e=0;e<i;e++){let s=e===i-1;if(l=o,o+=r[e].length,t&&o===n||o>n||s){r.splice(e,1),s&&(l=void 0);break}}""===(t=r.join("").trim())?e.remove():(e.setTextContent(t),e.select(l,l))}function Vn(e,t,n,r){var i=t;if(1===e.nodeType){let s=!1;var o=e.childNodes,l=o.length;i===l&&(s=!0,i=l-1);let a=o[i];if(l=!1,a===r._blockCursorElement?(a=o[i+1],l=!0):null!==r._blockCursorElement&&i--,An(r=Be(a)))i=s?r.getTextContentSize():0;else{if(null===(o=Be(e)))return null;if(Ar(o)?((t=Ar(e=o.getChildAtIndex(i)))&&(t=e.getParent(),t=null===n||null===t||!t.canBeEmpty()||t!==n.getNode()),t&&(null===(n=s?e.getLastDescendant():e.getFirstDescendant())?(o=e,i=0):o=Ar(e=n)?e:e.getParentOrThrow()),An(e)?(r=e,o=null,i=s?e.getTextContentSize():0):e!==o&&s&&!l&&i++):(i=o.getIndexWithinParent(),i=0===t&&Rr(o)&&Be(e)===o?i:i+1,o=o.getParentOrThrow()),Ar(o))return new $n(o.__key,i,"element")}}else r=Be(e);return An(r)?new $n(r.__key,i,"text"):null}function qn(e,t,n){var r=e.offset,i=e.getNode();0===r?(r=i.getPreviousSibling(),i=i.getParent(),t?(n||!t)&&null===r&&Ar(i)&&i.isInline()&&(An(t=i.getPreviousSibling())&&(e.key=t.__key,e.offset=t.getTextContent().length)):Ar(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):An(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),t&&Ar(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&null===r&&Ar(i)&&i.isInline()&&!i.canInsertTextAfter()&&(An(t=i.getNextSibling())&&(e.key=t.__key,e.offset=0)))}function Xn(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t);let i=e.is(t);qn(e,r,i),qn(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type),(r=yr()).isComposing()&&r._compositionKey!==e.key&&jn(n)&&(r=n.anchor,n=n.focus,Bn(e,r.key,r.offset,r.type),Bn(t,n.key,n.offset,n.type))}}function Qn(e,t,n,r,i,o){return null!==e&&null!==n&&Ne(i,e,n)?null===(t=Vn(e,t,jn(o)?o.anchor:null,i))||null===(r=Vn(n,r,jn(o)?o.focus:null,i))||"element"===t.type&&"element"===r.type&&(e=Be(e),n=Be(n),Rr(e)&&Rr(n))?null:(Xn(t,r,o),[t,r]):null}function Zn(e){return Ar(e)&&!e.isInline()}function er(e,t,n,r,i,o){let l=vr();return(e=new Wn(new $n(e,t,i),new $n(n,r,o),0,"")).dirty=!0,l._selection=e}function tr(){return new Kn(new Set)}function nr(e,t,n){var r=n._window;if(null===r)return null;var i=r.event,o=i?i.type:void 0;let l;if(r="selectionchange"===o,i=!le&&(r||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&i&&3===i.detail||"drop"===o||void 0===o),jn(e)&&!i)return e.clone();if(null===t)return null;if(i=t.anchorNode,o=t.focusNode,l=t.anchorOffset,t=t.focusOffset,r&&jn(e)&&!Ne(n,i,o))return e.clone();if(null===(n=Qn(i,l,o,t,n,e)))return null;let[s,a]=n;return new Wn(s,a,jn(e)?e.format:0,jn(e)?e.style:"")}function rr(){return vr()._selection}function ir(){return yr()._editorState._selection}function or(e,t,n,r=1){var i=e.anchor,o=e.focus,l=i.getNode(),s=o.getNode();if(t.is(l)||t.is(s)){if(l=t.__key,e.isCollapsed())(n<=(t=i.offset)&&0<r||n<t&&0>r)&&(n=Math.max(0,t+r),i.set(l,n,"element"),o.set(l,n,"element"),lr(e));else{let u=e.isBackward();var a=(s=u?o:i).getNode();o=(i=u?i:o).getNode(),t.is(a)&&((n<=(a=s.offset)&&0<r||n<a&&0>r)&&s.set(l,Math.max(0,a+r),"element")),t.is(o)&&((n<=(t=i.offset)&&0<r||n<t&&0>r)&&i.set(l,Math.max(0,t+r),"element"))}lr(e)}}function lr(e){var t=e.anchor,n=t.offset;let r=e.focus;var i=r.offset,o=t.getNode(),l=r.getNode();if(e.isCollapsed())Ar(o)&&(An(l=(i=n>=(l=o.getChildrenSize()))?o.getChildAtIndex(l-1):o.getChildAtIndex(n))&&(n=0,i&&(n=l.getTextContentSize()),t.set(l.__key,n,"text"),r.set(l.__key,n,"text")));else{if(Ar(o)){let r=o.getChildrenSize();An(n=(e=n>=r)?o.getChildAtIndex(r-1):o.getChildAtIndex(n))&&(o=0,e&&(o=n.getTextContentSize()),t.set(n.__key,o,"text"))}Ar(l)&&(An(i=(t=i>=(n=l.getChildrenSize()))?l.getChildAtIndex(n-1):l.getChildAtIndex(i))&&(l=0,t&&(l=i.getTextContentSize()),r.set(i.__key,l,"text")))}}function sr(e,t,n,r,i){let o=null,l=0,s=null;null!==r?(o=r.__key,An(r)?(l=r.getTextContentSize(),s="text"):Ar(r)&&(l=r.getChildrenSize(),s="element")):null!==i&&(o=i.__key,An(i)?s="text":Ar(i)&&(s="element")),null!==o&&null!==s?e.set(o,l,s):(l=t.getIndexWithinParent(),-1===l&&(l=n.getChildrenSize()),e.set(n.__key,l,"element"))}function ar(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&--e.offset}function ur(e,t,n){let r=[],i=null,o=null;e=e.getChildren();for(let c=0;c<e.length;c++){var l=e[c];Vr(l)||K(108);var s=l.getChildren();l=0;for(let e of s){for(zr(e)||K(109);void 0!==r[c]&&void 0!==r[c][l];)l++;var a=l,u=e;let d={cell:u,startColumn:a,startRow:s=c},f=u.__rowSpan,g=u.__colSpan;for(let e=0;e<f;e++){void 0===r[s+e]&&(r[s+e]=[]);for(let t=0;t<g;t++)r[s+e][a+t]=d}t.is(u)&&(i=d),n.is(u)&&(o=d),l+=e.__colSpan}}return null===i&&K(110),null===o&&K(111),[r,i,o]}let cr=null,dr=null,fr=!1,gr=!1,hr=0,pr={characterData:!0,childList:!0,subtree:!0};function mr(){return fr||null!==cr&&cr._readOnly}function _r(){fr&&K(13)}function vr(){return null===cr&&K(15),cr}function yr(){return null===dr&&K(16),dr}function Cr(e,t,n){var r=t.__type;let i=e._nodes.get(r);for(void 0===i&&K(30,r),void 0===(e=n.get(r))&&(e=Array.from(i.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function Nr(e,t){var n=e.type,r=t.get(n);if(void 0===r&&K(17,n),n=r.klass,e.type!==n.getType()&&K(18,n.name),n=n.importJSON(e),e=e.children,Ar(n)&&Array.isArray(e))for(r=0;r<e.length;r++){let i=Nr(e[r],t);n.append(i)}return n}function Er(e,t){let n=cr,r=fr,i=dr;cr=e,fr=!0,dr=null;try{return t()}finally{cr=n,fr=r,dr=i}}function Tr(e,t){let n=e._pendingEditorState,r=e._rootElement,o=e._headless||null===r;if(null!==n){var l=e._editorState,s=l._selection,a=n._selection,u=0!==e._dirtyType,c=cr,d=fr,f=dr,g=e._updating,h=e._observer,p=null;if(e._pendingEditorState=null,e._editorState=n,!o&&u&&null!==h){dr=e,cr=n,fr=!1,e._updating=!0;try{let t=e._dirtyType,r=e._dirtyElements,i=e._dirtyLeaves;h.disconnect();var m=r,_=i;St=xt=Tt="",bt=2===t,wt=null,ht=e,gt=e._config,pt=e._nodes,mt=ht._listeners.mutation,_t=m,vt=_,yt=l._nodeMap,Ct=n._nodeMap,Ot=n._readOnly,Nt=new Map(e._keyToDOMMap);let o=new Map;Et=o,Kt("root",null),Et=Nt=gt=Ct=yt=vt=_t=pt=ht=void 0,p=o}catch(t){if(t instanceof Error&&e._onError(t),gr)throw t;return Ur(e,null,r,n),fe(e),e._dirtyType=2,gr=!0,Tr(e,l),void(gr=!1)}finally{h.observe(r,pr),e._updating=g,cr=c,fr=d,dr=f}}n._readOnly||(n._readOnly=!0);var v=e._dirtyLeaves,y=e._dirtyElements,C=e._normalizedNodes,N=e._updateTags,E=e._deferred;u&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set);var T,S=e._decorators,x=e._pendingDecorators||S,b=n._nodeMap;for(T in x)b.has(T)||(x===S&&(x=$e(e)),delete x[T]);var O=o?null:at(e._window);if(e._editable&&null!==O&&(u||null===a||a.dirty)){dr=e,cr=n;try{if(null!==h&&h.disconnect(),u||null===a||a.dirty){let t=e._blockCursorElement;null!==t&&st(t,e,r);e:{let t=O.anchorNode,n=O.focusNode,i=O.anchorOffset,o=O.focusOffset,l=document.activeElement;if(!(N.has("collaboration")&&l!==r||null!==l&&Ce(l)))if(jn(a)){var w=a.anchor,D=a.focus,R=w.key,k=D.key,A=Xe(e,R),M=Xe(e,k),P=w.offset,$=D.offset,L=a.format,I=a.style,F=a.isCollapsed(),B=A,K=M,j=!1;if("text"===w.type){B=Se(A);let e=w.getNode();j=e.getFormat()!==L||e.getStyle()!==I}else jn(s)&&"text"===s.anchor.type&&(j=!0);if("text"===D.type&&(K=Se(M)),null!==B&&null!==K){if(F&&(null===s||j||jn(s)&&(s.format!==L||s.style!==I))){var U=performance.now();tn=[L,I,P,R,U]}if(i===P&&o===$&&t===B&&n===K&&("Range"!==O.type||!F)&&(null!==l&&r.contains(l)||r.focus({preventScroll:!0}),"element"!==w.type))break e;try{O.setBaseAndExtent(B,P,K,$)}catch(e){}if(!N.has("skip-scroll-into-view")&&a.isCollapsed()&&null!==r&&r===document.activeElement){let t=a instanceof Wn&&"element"===a.anchor.type?B.childNodes[P]||null:0<O.rangeCount?O.getRangeAt(0):null;if(null!==t){let n;if(t instanceof Text){let e=document.createRange();e.selectNode(t),n=e.getBoundingClientRect()}else n=t.getBoundingClientRect();let i=r.ownerDocument,o=i.defaultView;if(null!==o)for(var H,W,{top:z,bottom:Y}=n,G=r;null!==G;){let t=G===i.body;if(t)H=0,W=et(e).innerHeight;else{let e=G.getBoundingClientRect();H=e.top,W=e.bottom}let n=0;if(z<H?n=-(H-z):Y>W&&(n=Y-W),0!==n)if(t)o.scrollBy(0,n);else{let e=G.scrollTop;G.scrollTop+=n;let t=G.scrollTop-e;z-=t,Y-=t}if(t)break;G=Qe(G)}}}Xt=!0}}else null!==s&&Ne(e,t,n)&&O.removeAllRanges()}}e:{let t=e._blockCursorElement;if(jn(a)&&a.isCollapsed()&&"element"===a.anchor.type&&r.contains(document.activeElement)){let n=a.anchor,i=n.getNode(),o=n.offset,l=i.getChildrenSize(),s=!1,u=null;if(o===l){lt(i.getChildAtIndex(o-1))&&(s=!0)}else{let t=i.getChildAtIndex(o);if(lt(t)){let n=t.getPreviousSibling();(null===n||lt(n))&&(s=!0,u=e.getElementByKey(t.__key))}}if(s){let n=e.getElementByKey(i.__key);if(null===t){let n=e._config.theme,r=document.createElement("div");r.contentEditable="false",r.setAttribute("data-lexical-cursor","true");let i=n.blockCursor;if(void 0!==i){if("string"==typeof i){let e=i.split(" ");i=n.blockCursor=e}void 0!==i&&r.classList.add(...i)}e._blockCursorElement=t=r}r.style.caretColor="transparent",null===u?n.appendChild(t):n.insertBefore(t,u);break e}}null!==t&&st(t,e,r)}null!==h&&h.observe(r,pr)}finally{dr=f,cr=c}}if(null!==p){var J=p;let t=Array.from(e._listeners.mutation),n=t.length;for(let e=0;e<n;e++){let[n,r]=t[e],i=J.get(r);void 0!==i&&n(i,{dirtyLeaves:v,prevEditorState:l,updateTags:N})}}jn(a)||null===a||null!==s&&s.is(a)||e.dispatchCommand(i,void 0);var V=e._pendingDecorators;null!==V&&(e._decorators=V,e._pendingDecorators=null,Sr("decorator",e,!0,V));var q=Le(t||l),X=Le(n);if(q!==X&&Sr("textcontent",e,!0,X),Sr("update",e,!0,{dirtyElements:y,dirtyLeaves:v,editorState:n,normalizedNodes:C,prevEditorState:t||l,tags:N}),e._deferred=[],0!==E.length){let t=e._updating;e._updating=!0;try{for(let e=0;e<E.length;e++)E[e]()}finally{e._updating=t}}var Q=e._updates;if(0!==Q.length){let t=Q.shift();if(t){let[n,r]=t;Or(e,n,r)}}}}function Sr(e,t,n,...r){let i=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function xr(e,t,n){if(!1===e._updating||dr!==e){let r=!1;return e.update((()=>{r=xr(e,t,n)})),r}let r=je(e);for(let o=4;0<=o;o--)for(let l=0;l<r.length;l++){var i=r[l]._commands.get(t);if(void 0!==i&&void 0!==(i=i[o])){let t=(i=Array.from(i)).length;for(let r=0;r<t;r++)if(!0===i[r](n,e))return!0}}return!1}function br(e,t){let n=e._updates;for(t=t||!1;0!==n.length;){var r=n.shift();if(r){let n,[i,o]=r;void 0!==o&&(r=o.onUpdate,n=o.tag,o.skipTransforms&&(t=!0),r&&e._deferred.push(r),n&&e._updateTags.add(n)),i()}}return t}function Or(e,t,n){let r=e._updateTags;var i,o=i=!1;if(void 0!==n){var l=n.onUpdate;null!=(i=n.tag)&&r.add(i),i=n.skipTransforms||!1,o=n.discrete||!1}l&&e._deferred.push(l),n=e._editorState;let s=!1;(null===(l=e._pendingEditorState)||l._readOnly)&&(l=e._pendingEditorState=new Fr(new Map((l||n)._nodeMap)),s=!0),l._flushSync=o,o=cr;let a=fr,u=dr,c=e._updating;cr=l,fr=!1,e._updating=!0,dr=e;try{s&&(e._headless?null!=n._selection&&(l._selection=n._selection.clone()):l._selection=function(e){let t=e.getEditorState()._selection,n=at(e._window);return zn(t)||Hn(t)?t.clone():nr(t,n,e)}(e));let r=e._compositionKey;t(),i=br(e,i),function(e,t){if(t=t.getEditorState()._selection,jn(e=e._selection)){var n=e.anchor;let r,i=e.focus;"text"===n.type&&(r=n.getNode(),r.selectionTransform(t,e)),"text"===i.type&&r!==(n=i.getNode())&&n.selectionTransform(t,e)}}(l,e),0!==e._dirtyType&&(i?function(e,t){t=t._dirtyLeaves,e=e._nodeMap;for(let n of t)An(t=e.get(n))&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&pe(t)}(l,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;let i=ke(),o=new Map;var l=n;let s=l.size;for(var a=r,u=a.size;0<s||0<u;){if(0<s){t._dirtyLeaves=new Set;for(let r of l)An(l=e.get(r))&&l.isAttached()&&l.isSimpleText()&&!l.isUnmergeable()&&pe(l),void 0!==l&&void 0!==l&&l.__key!==i&&l.isAttached()&&Cr(t,l,o),n.add(r);if(s=(l=t._dirtyLeaves).size,0<s){hr++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(let n of a)a=n[0],u=n[1],("root"===a||u)&&(void 0!==(l=e.get(a))&&void 0!==l&&l.__key!==i&&l.isAttached()&&Cr(t,l,o),r.set(a,u));s=(l=t._dirtyLeaves).size,u=(a=t._dirtyElements).size,hr++}t._dirtyLeaves=n,t._dirtyElements=r}(l,e),br(e),function(e,t,n,r){e=e._nodeMap,t=t._nodeMap;let i=[];for(let[n]of r){let o=t.get(n);void 0===o||o.isAttached()||(Ar(o)&&ft(o,n,e,t,i,r),e.has(n)||r.delete(n),i.push(n))}for(let e of i)t.delete(e);for(let i of n)void 0===(r=t.get(i))||r.isAttached()||(e.has(i)||n.delete(i),t.delete(i))}(n,l,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(l._flushSync=!0);let o=l._selection;if(jn(o)){let e=l._nodeMap,t=o.focus.key;void 0!==e.get(o.anchor.key)&&void 0!==e.get(t)||K(19)}else zn(o)&&0===o._nodes.size&&(l._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=n,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Tr(e)}finally{cr=o,fr=a,dr=u,e._updating=c,hr=0}0!==e._dirtyType||function(e,t){if(t=t.getEditorState()._selection,e=e._selection,null!==e){if(e.dirty||!e.is(t))return!0}else if(null!==t)return!0;return!1}(l,e)?l._flushSync?(l._flushSync=!1,Tr(e)):s&&ye((()=>{Tr(e)})):(l._flushSync=!1,s&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function wr(e,t,n){e._updating?e._updates.push([t,n]):Or(e,t,n)}class Dr extends fn{constructor(e){super(e)}decorate(){K(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Rr(e){return e instanceof Dr}class kr extends fn{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return re[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=yr()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(An(t)&&e.push(t),Ar(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(Ar(e)){let t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(Ar(e)){let t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;return e>=n?Ar(e=t[n-1])&&e.getLastDescendant()||e||null:Ar(e=t[e])&&e.getFirstDescendant()||e||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:Ae(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&K(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:Ae(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&K(96,this.__key),e}getChildAtIndex(e){var t=this.getChildrenSize();let n;if(e<t/2){for(n=this.getFirstChild(),t=0;null!==n&&t<=e;){if(t===e)return n;n=n.getNextSibling(),t++}return null}for(n=this.getLastChild(),--t;null!==n&&t>=e;){if(t===e)return n;n=n.getPreviousSibling(),t--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContent(),Ar(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}getTextContentSize(){let e=0,t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContentSize(),Ar(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return""!==e&&(e=ne[e],0!=(this.getFormat()&e))}select(e,t){_r();let n=rr(),r=e,i=t;var o=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){if(An(e=this.getFirstChild())||Ar(e))return e.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)&&(An(e=this.getLastChild())||Ar(e)))return e.select();return void 0===r&&(r=o),void 0===i&&(i=o),o=this.__key,jn(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):er(o,r,o,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return Ar(e)||An(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return Ar(e)||An(e)?e.select():null!==e?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?ne[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){let r=n.length,i=this.getChildrenSize(),o=this.getWritable(),l=o.__key;var s=[],a=[];let u=this.getChildAtIndex(e+t),c=null,d=i-t+r;if(0!==e)if(e===i)c=this.getLastChild();else{var f=this.getChildAtIndex(e);null!==f&&(c=f.getPreviousSibling())}if(0<t){var g=null===c?this.getFirstChild():c.getNextSibling();for(f=0;f<t;f++){null===g&&K(100);var h=g.getNextSibling(),p=g.__key;we(g=g.getWritable()),a.push(p),g=h}}for(f=c,h=0;h<r;h++){p=n[h],null!==f&&p.is(f)&&(c=f=f.getPreviousSibling()),(g=p.getWritable()).__parent===l&&d--,we(g);let e=p.__key;null===f?(o.__first=e,g.__prev=null):((f=f.getWritable()).__next=e,g.__prev=f.__key),p.__key===l&&K(76),g.__parent=l,s.push(e),f=p}if(e+t===i?null!==f&&(f.getWritable().__next=null,o.__last=f.__key):null!==u&&(e=u.getWritable(),null!==f?(t=f.getWritable(),e.__prev=f.__key,t.__next=u.__key):e.__prev=null),o.__size=d,a.length&&jn(e=rr())){a=new Set(a),s=new Set(s);let{anchor:t,focus:n}=e;Mr(t,a,s)&&sr(t,t.getNode(),this,c,u),Mr(n,a,s)&&sr(n,n.getNode(),this,c,u),0!==d||this.canBeEmpty()||nt(this)||this.remove()}return o}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function Ar(e){return e instanceof kr}function Mr(e,t,n){for(e=e.getNode();e;){let r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}class Pr extends kr{static getType(){return"root"}static clone(){return new Pr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){K(51)}getTextContent(){let e=this.__cachedText;return!mr()&&0!==yr()._dirtyType||null===e?super.getTextContent():e}remove(){K(52)}replace(){K(53)}insertBefore(){K(54)}insertAfter(){K(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let n=e[t];Ar(n)||Rr(n)||K(56)}return super.append(...e)}static importJSON(e){let t=Ie();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function $r(e){return e instanceof Pr}function Lr(){return new Fr(new Map([["root",new Pr]]))}function Ir(e){let t=e.exportJSON();var n=e.constructor;t.type!==n.getType()&&K(130,n.name);let r=t.children;if(Ar(e))for(Array.isArray(r)||K(59,n.name),e=e.getChildren(),n=0;n<e.length;n++){let t=Ir(e[n]);r.push(t)}return t}class Fr{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return Er(this,e)}clone(e){return(e=new Fr(this._nodeMap,void 0===e?this._selection:e))._readOnly=!0,e}toJSON(){return Er(this,(()=>({root:Ir(Ie())})))}}class Br extends kr{static getType(){return"paragraph"}static clone(e){return new Br(e.__key)}createDOM(e){let t=document.createElement("p");return void 0!==(e=ze(e.theme,"paragraph"))&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Kr,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),0<(t=this.getIndent())&&(e.style.textIndent=20*t+"px")}return{element:e}}static importJSON(e){let t=jr();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=jr();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(0===e.length||An(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function Kr(e){let t=jr();return e.style&&(t.setFormat(e.style.textAlign),0<(e=parseInt(e.style.textIndent,10)/20)&&t.setIndent(e)),{node:t}}function jr(){return it(new Br)}function Ur(e,t,n,r){let i=e._keyToDOMMap;i.clear(),e._editorState=Lr(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,null!==(r=e._observer)&&(r.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}class Hr{constructor(e,t,n,r,i,o,l){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Ue(),this._onError=i,this._htmlConversions=o,this._editable=l,this._headless=null!==t&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&K(35);let r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);let i=r.get(e);void 0===i&&K(36,String(e));let o=i[n];return o.add(t),()=>{o.delete(t),i.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t){void 0===this._nodes.get(e.getType())&&K(37,e.name);let n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransformToKlass(e,t){var n=e.getType();return void 0===(n=this._nodes.get(n))&&K(37,e.name),n.transforms.add(t),n}registerNodeTransform(e,t){var n=this.registerNodeTransformToKlass(e,t);let r=[n];return null!=(n=n.replaceWithKlass)&&(n=this.registerNodeTransformToKlass(n,t),r.push(n)),function(e,t){wr(e,(()=>{var e=vr();if(!e.isEmpty())if("root"===t)Ie().markDirty();else{e=e._nodeMap;for(let[,t]of e)t.markDirty()}}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,e.getType()),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return xr(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let o=ze(this._config.theme,"root");var n=this._pendingEditorState||this._editorState;if(this._rootElement=e,Ur(this,t,e,n),null!==t){if(!this._config.disableEvents){0!==qt&&(qt--,0===qt&&t.ownerDocument.removeEventListener("selectionchange",cn));var r=t.__lexicalEditor;if(null!=r){if(null!==r._parentEditor){var i=je(r);i=i[i.length-1]._key,un.get(i)===r&&un.delete(i)}else un.delete(r._key);t.__lexicalEditor=null}for(r=an(t),i=0;i<r.length;i++)r[i]();t.__lexicalEventHandles=[]}null!=o&&t.classList.remove(...o)}null!==e?(n=(n=e.ownerDocument)&&n.defaultView||null,(r=e.style).userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=n,this._dirtyType=2,fe(this),this._updateTags.add("history-merge"),Tr(this),this._config.disableEvents||function(e,t){0===qt&&e.ownerDocument.addEventListener("selectionchange",cn),qt++,e.__lexicalEditor=t;let n=an(e);for(let r=0;r<zt.length;r++){let[i,o]=zt[r],l="function"==typeof o?e=>{!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()&&o(e,t))}:e=>{if(!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()))switch(i){case"cut":return xr(t,$,e);case"copy":return xr(t,P,e);case"paste":return xr(t,c,e);case"dragstart":return xr(t,k,e);case"dragover":return xr(t,A,e);case"dragend":return xr(t,M,e);case"focus":return xr(t,I,e);case"blur":return xr(t,F,e);case"drop":return xr(t,R,e)}};e.addEventListener(i,l),n.push((()=>{e.removeEventListener(i,l)}))}}(e,this),null!=o&&e.classList.add(...o)):(this._editorState=n,this._window=this._pendingEditorState=null),Sr("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&K(38),de(this);let n=this._pendingEditorState,r=this._updateTags;t=void 0!==t?t.tag:null,null===n||n.isEmpty()||(null!=t&&r.add(t),Tr(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=t&&r.add(t),Tr(this)}parseEditorState(e,t){e="string"==typeof e?JSON.parse(e):e;let n=Lr(),r=cr,i=fr,o=dr,l=this._dirtyElements,s=this._dirtyLeaves,a=this._cloneNotNeeded,u=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,cr=n,fr=!1,dr=this;try{Nr(e.root,this._nodes),t&&t(),n._readOnly=!0}catch(e){e instanceof Error&&this._onError(e)}finally{this._dirtyElements=l,this._dirtyLeaves=s,this._cloneNotNeeded=a,this._dirtyType=u,cr=r,fr=i,dr=o}return n}update(e,t){wr(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),wr(this,(()=>{let e=rr(),n=Ie();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;null!==e&&e.blur(),null!==(e=at(this._window))&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Sr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class Wr extends kr{constructor(e,t){super(t),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function zr(e){return e instanceof Wr}class Yr extends kr{}function Gr(e){return e instanceof Yr}class Jr extends kr{}function Vr(e){return e instanceof Jr}t.$addUpdateTag=function(e){_r(),yr()._updateTags.add(e)},t.$applyNodeReplacement=it,t.$copyNode=rt,t.$createLineBreakNode=pn,t.$createNodeSelection=tr,t.$createParagraphNode=jr,t.$createRangeSelection=function(){let e=new $n("root",0,"element"),t=new $n("root",0,"element");return new Wn(e,t,0,"")},t.$createTabNode=Pn,t.$createTextNode=kn,t.$getAdjacentNode=Je,t.$getNearestNodeFromDOMNode=Pe,t.$getNearestRootOrShadowRoot=tt,t.$getNodeByKey=Ae,t.$getPreviousSelection=ir,t.$getRoot=Ie,t.$getSelection=rr,t.$getTextContent=function(){let e=rr();return null===e?"":e.getTextContent()},t.$hasAncestor=Ze,t.$hasUpdateTag=function(e){return yr()._updateTags.has(e)},t.$insertNodes=function(e,t){let n=rr()||ir();return null===n&&(n=Ie().selectEnd()),n.insertNodes(e,t)},t.$isBlockElementNode=Zn,t.$isDecoratorNode=Rr,t.$isElementNode=Ar,t.$isInlineElementOrDecoratorNode=function(e){return Ar(e)&&e.isInline()||Rr(e)&&e.isInline()},t.$isLeafNode=be,t.$isLineBreakNode=mn,t.$isNodeSelection=zn,t.$isParagraphNode=function(e){return e instanceof Br},t.$isRangeSelection=jn,t.$isRootNode=$r,t.$isRootOrShadowRoot=nt,t.$isTabNode=function(e){return e instanceof Mn},t.$isTextNode=An,t.$nodesOfType=function(e){var t=vr();let n=t._readOnly,r=e.getType();t=t._nodeMap;let i=[];for(let[,o]of t)o instanceof e&&o.__type===r&&(n||o.isAttached())&&i.push(o);return i},t.$normalizeSelection__EXPERIMENTAL=me,t.$parseSerializedNode=function(e){return Nr(e,yr()._nodes)},t.$selectAll=function(){var e=Ie();Fe(me(e=e.select(0,e.getChildrenSize())))},t.$setCompositionKey=Re,t.$setSelection=Fe,t.$splitNode=ut,t.BLUR_COMMAND=F,t.CAN_REDO_COMMAND={},t.CAN_UNDO_COMMAND={},t.CLEAR_EDITOR_COMMAND={},t.CLEAR_HISTORY_COMMAND={},t.CLICK_COMMAND=o,t.COMMAND_PRIORITY_CRITICAL=4,t.COMMAND_PRIORITY_EDITOR=0,t.COMMAND_PRIORITY_HIGH=3,t.COMMAND_PRIORITY_LOW=1,t.COMMAND_PRIORITY_NORMAL=2,t.CONTROLLED_TEXT_INSERTION_COMMAND=u,t.COPY_COMMAND=P,t.CUT_COMMAND=$,t.DELETE_CHARACTER_COMMAND=l,t.DELETE_LINE_COMMAND=g,t.DELETE_WORD_COMMAND=f,t.DEPRECATED_$computeGridMap=ur,t.DEPRECATED_$createGridSelection=function(){let e=new $n("root",0,"element"),t=new $n("root",0,"element");return new Un("root",e,t)},t.DEPRECATED_$getNodeTriplet=function(e){e instanceof Wr||(e instanceof fn?zr(e=ct(e,zr))||K(114):zr(e=ct(e.getNode(),zr))||K(114));let t=e.getParent();Vr(t)||K(115);let n=t.getParent();return Gr(n)||K(116),[e,t,n]},t.DEPRECATED_$isGridCellNode=zr,t.DEPRECATED_$isGridNode=Gr,t.DEPRECATED_$isGridRowNode=Vr,t.DEPRECATED_$isGridSelection=Hn,t.DEPRECATED_GridCellNode=Wr,t.DEPRECATED_GridNode=Yr,t.DEPRECATED_GridRowNode=Jr,t.DRAGEND_COMMAND=M,t.DRAGOVER_COMMAND=A,t.DRAGSTART_COMMAND=k,t.DROP_COMMAND=R,t.DecoratorNode=Dr,t.ElementNode=kr,t.FOCUS_COMMAND=I,t.FORMAT_ELEMENT_COMMAND={},t.FORMAT_TEXT_COMMAND=h,t.INDENT_CONTENT_COMMAND={},t.INSERT_LINE_BREAK_COMMAND=s,t.INSERT_PARAGRAPH_COMMAND=a,t.INSERT_TAB_COMMAND={},t.KEY_ARROW_DOWN_COMMAND=T,t.KEY_ARROW_LEFT_COMMAND=C,t.KEY_ARROW_RIGHT_COMMAND=v,t.KEY_ARROW_UP_COMMAND=E,t.KEY_BACKSPACE_COMMAND=b,t.KEY_DELETE_COMMAND=w,t.KEY_DOWN_COMMAND=_,t.KEY_ENTER_COMMAND=S,t.KEY_ESCAPE_COMMAND=O,t.KEY_MODIFIER_COMMAND=B,t.KEY_SPACE_COMMAND=x,t.KEY_TAB_COMMAND=D,t.LineBreakNode=gn,t.MOVE_TO_END=y,t.MOVE_TO_START=N,t.OUTDENT_CONTENT_COMMAND={},t.PASTE_COMMAND=c,t.ParagraphNode=Br,t.REDO_COMMAND=m,t.REMOVE_TEXT_COMMAND=d,t.RootNode=Pr,t.SELECTION_CHANGE_COMMAND=i,t.SELECT_ALL_COMMAND=L,t.TabNode=Mn,t.TextNode=En,t.UNDO_COMMAND=p,t.createCommand=function(){return{}},t.createEditor=function(e){var t=e||{},n=dr,i=t.theme||{};let o=void 0===e?n:t.parentEditor||null,l=t.disableEvents||!1,s=Lr(),a=t.namespace||(null!==o?o._config.namespace:Ue()),u=t.editorState,c=[Pr,En,gn,Mn,Br,...t.nodes||[]],d=t.onError;if(t=void 0===t.editable||t.editable,void 0===e&&null!==n)e=n._nodes;else for(e=new Map,n=0;n<c.length;n++){let t=c[n],r=null;var f=null;"function"!=typeof t&&(t=(f=t).replace,r=f.with,f=f.withKlass?f.withKlass:null);let i=t.getType(),o=t.transform(),l=new Set;null!==o&&l.add(o),e.set(i,{klass:t,replace:r,replaceWithKlass:f,transforms:l})}return i=new Hr(s,o,e,{disableEvents:l,namespace:a,theme:i},d||r.error,function(e){let t=new Map,n=new Set;return e.forEach((e=>{if(null!=(e=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null)&&!n.has(e)){n.add(e);var r=e();null!==r&&Object.keys(r).forEach((e=>{let n=t.get(e);void 0===n&&(n=[],t.set(e,n)),n.push(r[e])}))}})),t}(e),t),void 0!==u&&(i._pendingEditorState=u,i._dirtyType=2),i},t.getNearestEditorFromDOMNode=Ee,t.isSelectionCapturedInDecoratorInput=Ce,t.isSelectionWithinEditor=Ne},565155:function(e,t,n){n.d(t,{Bu:function(){return Qe},sE:function(){return Xe}});var r=n(425108);const i="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",o="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",l=(e,t)=>{for(const n in t)e[n]=t[n];return e},s="numeric",a="ascii",u="alpha",c="asciinumeric",d="alphanumeric",f="domain",g="emoji",h="scheme",p="slashscheme",m="whitespace";function _(e,t){return e in t||(t[e]=[]),t[e]}function v(e,t,n){t[s]&&(t[c]=!0,t[d]=!0),t[a]&&(t[c]=!0,t[u]=!0),t[c]&&(t[d]=!0),t[u]&&(t[d]=!0),t[d]&&(t[f]=!0),t[g]&&(t[f]=!0);for(const r in t){const t=_(r,n);t.indexOf(e)<0&&t.push(e)}}function y(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}y.groups={},y.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let n=0;n<t.jr.length;n++){const r=t.jr[n][0],i=t.jr[n][1];if(i&&r.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){let i;return r=r||y.groups,t&&t.j?i=t:(i=new y(t),n&&r&&v(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let t=0;t<o-1;t++)i=i.tt(e[t]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||y.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let s,a=i.go(e);if(a?(s=new y,l(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new y,o){if(r)if(s.t&&"string"==typeof s.t){const e=l(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(s.t,r),n);v(o,e,r)}else n&&v(o,n,r);s.t=o}return i.j[e]=s,s}};const C=(e,t,n,r,i)=>e.ta(t,n,r,i),N=(e,t,n,r,i)=>e.tr(t,n,r,i),E=(e,t,n,r,i)=>e.ts(t,n,r,i),T=(e,t,n,r,i)=>e.tt(t,n,r,i),S="WORD",x="UWORD",b="LOCALHOST",O="TLD",w="UTLD",D="SCHEME",R="SLASH_SCHEME",k="NUM",A="WS",M="NL",P="OPENBRACE",$="CLOSEBRACE",L="OPENBRACKET",I="CLOSEBRACKET",F="OPENPAREN",B="CLOSEPAREN",K="OPENANGLEBRACKET",j="CLOSEANGLEBRACKET",U="FULLWIDTHLEFTPAREN",H="FULLWIDTHRIGHTPAREN",W="LEFTCORNERBRACKET",z="RIGHTCORNERBRACKET",Y="LEFTWHITECORNERBRACKET",G="RIGHTWHITECORNERBRACKET",J="FULLWIDTHLESSTHAN",V="FULLWIDTHGREATERTHAN",q="AMPERSAND",X="APOSTROPHE",Q="ASTERISK",Z="AT",ee="BACKSLASH",te="BACKTICK",ne="CARET",re="COLON",ie="COMMA",oe="DOLLAR",le="DOT",se="EQUALS",ae="EXCLAMATION",ue="HYPHEN",ce="PERCENT",de="PIPE",fe="PLUS",ge="POUND",he="QUERY",pe="QUOTE",me="FULLWIDTHMIDDLEDOT",_e="SEMI",ve="SLASH",ye="TILDE",Ce="UNDERSCORE",Ne="EMOJI",Ee="SYM";var Te=Object.freeze({__proto__:null,WORD:S,UWORD:x,LOCALHOST:b,TLD:O,UTLD:w,SCHEME:D,SLASH_SCHEME:R,NUM:k,WS:A,NL:M,OPENBRACE:P,CLOSEBRACE:$,OPENBRACKET:L,CLOSEBRACKET:I,OPENPAREN:F,CLOSEPAREN:B,OPENANGLEBRACKET:K,CLOSEANGLEBRACKET:j,FULLWIDTHLEFTPAREN:U,FULLWIDTHRIGHTPAREN:H,LEFTCORNERBRACKET:W,RIGHTCORNERBRACKET:z,LEFTWHITECORNERBRACKET:Y,RIGHTWHITECORNERBRACKET:G,FULLWIDTHLESSTHAN:J,FULLWIDTHGREATERTHAN:V,AMPERSAND:q,APOSTROPHE:X,ASTERISK:Q,AT:Z,BACKSLASH:ee,BACKTICK:te,CARET:ne,COLON:re,COMMA:ie,DOLLAR:oe,DOT:le,EQUALS:se,EXCLAMATION:ae,HYPHEN:ue,PERCENT:ce,PIPE:de,PLUS:fe,POUND:ge,QUERY:he,QUOTE:pe,FULLWIDTHMIDDLEDOT:me,SEMI:_e,SLASH:ve,TILDE:ye,UNDERSCORE:Ce,EMOJI:Ne,SYM:Ee});const Se=/[a-z]/,xe=/\p{L}/u,be=/\p{Emoji}/u,Oe=/\d/,we=/\s/;const De="\n",Re="",ke="";let Ae=null,Me=null;function Pe(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let i,o=e.charCodeAt(r),l=o<55296||o>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(l),r+=l.length}return t}(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),r=n.length,i=[];let o=0,l=0;for(;l<r;){let s=e,a=null,u=0,c=null,d=-1,f=-1;for(;l<r&&(a=s.go(n[l]));)s=a,s.accepts()?(d=0,f=0,c=s):d>=0&&(d+=n[l].length,f++),u+=n[l].length,o+=n[l].length,l++;o-=d,l-=f,u-=d,i.push({t:c.t,v:t.slice(o-u,o),s:o-u,e:o})}return i}function $e(e,t,n,r,i){let o;const l=t.length;for(let n=0;n<l-1;n++){const l=t[n];e.j[l]?o=e.j[l]:(o=new y(r),o.jr=i.slice(),e.j[l]=o),e=o}return o=new y(n),o.jr=i.slice(),e.j[t[l-1]]=o,o}function Le(e){const t=[],n=[];let r=0;for(;r<e.length;){let i=0;for(;"0123456789".indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+i),10);t>0;t--)n.pop();r+=i}else n.push(e[r]),r++}return t}const Ie={defaultProtocol:"http",events:null,format:Be,formatHref:Be,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Fe(e,t=null){let n=l({},Ie);e&&(n=l(n,e instanceof Fe?e.o:e));const r=n.ignoreTags,i=[];for(let e=0;e<r.length;e++)i.push(r[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}function Be(e){return e}Fe.prototype={o:Ie,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let i=this.o[e];return i?("object"==typeof i?(i=n.t in i?i[n.t]:Ie[e],"function"==typeof i&&r&&(i=i(t,n))):"function"==typeof i&&r&&(i=i(t,n.t,n)),i):i},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Ke(e,t){this.t="token",this.v=e,this.tk=t}function je(e,t){class n extends Ke{constructor(t,n){super(t,n),this.t=e}}for(const e in t)n.prototype[e]=t[e];return n.t=e,n}Ke.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Ie.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),s={},a=e.get("className",n,t),u=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),f=e.getObj("events",n,t);return s.href=r,a&&(s.class=a),u&&(s.target=u),c&&(s.rel=c),d&&l(s,d),{tagName:i,attributes:s,content:o,eventListeners:f}}};const Ue=je("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),He=je("text"),We=je("nl"),ze=je("url",{isLink:!0,toHref(e=Ie.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==b&&e[1].t===re}});const Ye=e=>new y(e);function Ge(e,t,n){const r=n[0].s,i=n[n.length-1].e;return new e(t.slice(r,i),n)}void 0!==r&&r&&r.warn;const Je={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Ve(){Je.scanner=function(e=[]){const t={};y.groups=t;const n=new y;null==Ae&&(Ae=Le(i)),null==Me&&(Me=Le(o)),T(n,"'",X),T(n,"{",P),T(n,"}",$),T(n,"[",L),T(n,"]",I),T(n,"(",F),T(n,")",B),T(n,"<",K),T(n,">",j),T(n,"",U),T(n,"",H),T(n,"",W),T(n,"",z),T(n,"",Y),T(n,"",G),T(n,"",J),T(n,"",V),T(n,"&",q),T(n,"*",Q),T(n,"@",Z),T(n,"`",te),T(n,"^",ne),T(n,":",re),T(n,",",ie),T(n,"$",oe),T(n,".",le),T(n,"=",se),T(n,"!",ae),T(n,"-",ue),T(n,"%",ce),T(n,"|",de),T(n,"+",fe),T(n,"#",ge),T(n,"?",he),T(n,'"',pe),T(n,"/",ve),T(n,";",_e),T(n,"~",ye),T(n,"_",Ce),T(n,"\\",ee),T(n,"",me);const r=N(n,Oe,k,{[s]:!0});N(r,Oe,r);const d=N(n,Se,S,{[a]:!0});N(d,Se,d);const _=N(n,xe,x,{[u]:!0});N(_,Se),N(_,xe,_);const C=N(n,we,A,{[m]:!0});T(n,De,M,{[m]:!0}),T(C,De),N(C,we,C);const Pe=N(n,be,Ne,{[g]:!0});N(Pe,be,Pe),T(Pe,Re,Pe);const Ie=T(Pe,ke);N(Ie,be,Pe);const Fe=[[Se,d]],Be=[[Se,null],[xe,_]];for(let e=0;e<Ae.length;e++)$e(n,Ae[e],O,S,Fe);for(let e=0;e<Me.length;e++)$e(n,Me[e],w,x,Be);v(O,{tld:!0,ascii:!0},t),v(w,{utld:!0,alpha:!0},t),$e(n,"file",D,S,Fe),$e(n,"mailto",D,S,Fe),$e(n,"http",R,S,Fe),$e(n,"https",R,S,Fe),$e(n,"ftp",R,S,Fe),$e(n,"ftps",R,S,Fe),v(D,{scheme:!0,ascii:!0},t),v(R,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let t=0;t<e.length;t++){const r=e[t][0],i=e[t][1]?{[h]:!0}:{[p]:!0};r.indexOf("-")>=0?i[f]=!0:Se.test(r)?Oe.test(r)?i[c]=!0:i[a]=!0:i[s]=!0,E(n,r,r,i)}return E(n,"localhost",b,{ascii:!0}),n.jd=new y(Ee),{start:n,tokens:l({groups:t},Te)}}(Je.customSchemes);for(let e=0;e<Je.tokenQueue.length;e++)Je.tokenQueue[e][1]({scanner:Je.scanner});Je.parser=function({groups:e}){const t=e.domain.concat([q,Q,Z,ee,te,ne,oe,se,ue,k,ce,de,fe,ge,ve,Ee,ye,Ce]),n=[X,re,ie,le,ae,he,pe,_e,K,j,P,$,I,L,F,B,U,H,W,z,Y,G,J,V],r=[q,X,Q,ee,te,ne,oe,se,ue,P,$,ce,de,fe,ge,he,ve,Ee,ye,Ce],i=Ye(),o=T(i,ye);C(o,r,o),C(o,e.domain,o);const l=Ye(),s=Ye(),a=Ye();C(i,e.domain,l),C(i,e.scheme,s),C(i,e.slashscheme,a),C(l,r,o),C(l,e.domain,l);const u=T(l,Z);T(o,Z,u),T(s,Z,u),T(a,Z,u);const c=T(o,le);C(c,r,o),C(c,e.domain,o);const d=Ye();C(u,e.domain,d),C(d,e.domain,d);const f=T(d,le);C(f,e.domain,d);const g=Ye(Ue);C(f,e.tld,g),C(f,e.utld,g),T(u,b,g);const h=T(d,ue);C(h,e.domain,d),C(g,e.domain,d),T(g,le,f),T(g,ue,h);const p=T(g,re);C(p,e.numeric,Ue);const m=T(l,ue),_=T(l,le);C(m,e.domain,l),C(_,r,o),C(_,e.domain,l);const v=Ye(ze);C(_,e.tld,v),C(_,e.utld,v),C(v,e.domain,l),C(v,r,o),T(v,le,_),T(v,ue,m),T(v,Z,u);const y=T(v,re),N=Ye(ze);C(y,e.numeric,N);const E=Ye(ze),S=Ye();C(E,t,E),C(E,n,S),C(S,t,E),C(S,n,S),T(v,ve,E),T(N,ve,E);const x=T(s,re),O=T(a,re),w=T(O,ve),D=T(w,ve);C(s,e.domain,l),T(s,le,_),T(s,ue,m),C(a,e.domain,l),T(a,le,_),T(a,ue,m),C(x,e.domain,E),T(x,ve,E),C(D,e.domain,E),C(D,t,E),T(D,ve,E);const R=[[P,$],[L,I],[F,B],[K,j],[U,H],[W,z],[Y,G],[J,V]];for(let e=0;e<R.length;e++){const[r,i]=R[e],o=T(E,r);T(S,r,o),T(o,i,E);const l=Ye(ze);C(o,t,l);const s=Ye();C(o,n),C(l,t,l),C(l,n,s),C(s,t,l),C(s,n,s),T(l,i,E),T(s,i,E)}return T(i,b,v),T(i,M,We),{start:i,tokens:Te}}(Je.scanner.tokens);for(let e=0;e<Je.pluginQueue.length;e++)Je.pluginQueue[e][1]({scanner:Je.scanner,parser:Je.parser});return Je.initialized=!0,Je}function qe(e){return Je.initialized||Ve(),function(e,t,n){let r=n.length,i=0,o=[],l=[];for(;i<r;){let s=e,a=null,u=null,c=0,d=null,f=-1;for(;i<r&&!(a=s.go(n[i].t));)l.push(n[i++]);for(;i<r&&(u=a||s.go(n[i].t));)a=null,s=u,s.accepts()?(f=0,d=s):f>=0&&f++,i++,c++;if(f<0)i-=c,i<r&&(l.push(n[i]),i++);else{l.length>0&&(o.push(Ge(He,t,l)),l=[]),i-=f,c-=f;const e=d.t,r=n.slice(i-c,i);o.push(Ge(e,t,r))}}return l.length>0&&o.push(Ge(He,t,l)),o}(Je.parser.start,e,Pe(Je.scanner.start,e))}function Xe(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new Fe(n),i=qe(e),o=[];for(let e=0;e<i.length;e++){const n=i[e];!n.isLink||t&&n.t!==t||!r.check(n)||o.push(n.toFormattedObject(r))}return o}function Qe(e,t=null){const n=qe(e);return 1===n.length&&n[0].isLink&&(!t||n[0].t===t)}qe.scan=Pe},292561:function(e){e.exports=JSON.parse('{"name":"launchdarkly-react-client-sdk","version":"3.0.1","description":"LaunchDarkly SDK for React","author":"LaunchDarkly <team@launchdarkly.com>","license":"Apache-2.0","keywords":["launchdarkly","launch","darkly","react","sdk","bindings"],"main":"lib/index.js","types":"lib/index.d.ts","files":["lib","src","!**/*.test.*","!**/__snapshots__"],"scripts":{"test":"jest","test:junit":"jest --ci --reporters=default --reporters=jest-junit","build":"rimraf lib/* && tsc && mv lib/src/* lib && rimraf lib/package.json lib/src lib/*.test.*","lint":"tslint -p tsconfig.json \'src/**/*.ts*\'","lint:all":"npm run lint","check-typescript":"tsc","prepublishOnly":"npm run build","prettier":"prettier --write \'src/*.@(js|ts|tsx|json|css)\'","link-dev":"./link-dev.sh","check":"npm i && npm run prettier && npm run lint && tsc && npm run test"},"repository":{"type":"git","url":"git://github.com/launchdarkly/react-client-sdk.git"},"homepage":"https://github.com/launchdarkly/react-client-sdk","devDependencies":{"@testing-library/jest-dom":"^5.16.4","@testing-library/react":"^13.0.1","@types/hoist-non-react-statics":"^3.3.1","@types/jest":"^27.0.3","@types/lodash.camelcase":"^4.3.6","@types/prop-types":"^15.7.4","@types/react":"^18.0.3","@types/react-dom":"^18.0.0","@types/react-test-renderer":"^18.0.0","jest":"^27.4.4","jest-environment-jsdom":"^27.4.4","jest-environment-jsdom-global":"^3.0.0","jest-junit":"^13.0.0","prettier":"^1.18.2","prop-types":"^15.7.2","react":"^18.0.0","react-dom":"^18.0.0","react-test-renderer":"^18.0.0","rimraf":"^3.0.0","ts-jest":"^27.1.1","tslint":"^6.1.3","tslint-config-prettier":"^1.18.0","tslint-plugin-prettier":"^2.3.0","typescript":"^4.5.3"},"dependencies":{"hoist-non-react-statics":"^3.3.2","launchdarkly-js-client-sdk":"^3.0.0","lodash.camelcase":"^4.3.0"},"peerDependencies":{"react":"^16.6.3 || ^17.0.0 || ^18.0.0","react-dom":"^16.8.4 || ^17.0.0 || ^18.0.0"}}')}}]);
//# sourceMappingURL=vendors-43b6411f-f73fabb5138c8469.bundle.js.map