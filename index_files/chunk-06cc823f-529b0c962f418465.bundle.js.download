!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8deffe13-2b5e-43a3-b69f-72e6764cee62",e._sentryDebugIdIdentifier="sentry-dbid-8deffe13-2b5e-43a3-b69f-72e6764cee62")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"03c050f83997f8f858284f712ef0b0ca3dc661b2"},(self.webpackChunkdisco=self.webpackChunkdisco||[]).push([[8425],{810361:function(e,n,a){a.r(n);a(244311);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PathwayPageHeaderFragment",selections:[{args:null,kind:"FragmentSpread",name:"PathwayAdminDropdownFragment"}],type:"Product",abstractKey:null,hash:"47d50a3881a592c2de9bc2b9c0f46ab3"};n.default=t},831248:function(e,n,a){a.d(n,{Z:function(){return S}});var t,l=a(69722),i=a(851857),r=a(812647),o=a(204942),s=a(893112),d=a(669187),u=a(810863),c=a(264399),m=a(175256),g=(a(810361),a(630549)),p=a(963457),y=a(422578),f=a(616550),k=(a(244311),a(785893)),F=a(425108);function h(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function b(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?h(Object(a),!0).forEach((function(n){(0,o.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function P(){var e=(0,l.R6)(),n=v(),i=(0,y.useFragment)((void 0!==t||(t=a(810361)).hash&&"47d50a3881a592c2de9bc2b9c0f46ab3"!==t.hash&&F.error("The definition of 'PathwayPageHeaderFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),e),r=e.viewerPermissions,o=r.has("members.manage"),u=r.has("invitations.manage"),h=(0,p.Z)((function(e){return e.breakpoints.down("xs")}));return(0,k.jsx)(m.Z,{rightOverflow:(0,k.jsxs)("div",{className:n.buttons,children:[u&&!h&&(0,k.jsx)(c.Z,{productId:e.id,children:function(e){return(0,k.jsx)(g.Z,b(b({},e),{},{icon:"user-add",tooltip:"Send an invite",testid:"HeaderContent.invite"}))}}),o&&!h&&(0,k.jsx)(g.Z,{to:(0,f.Gn)(d.ZP.ADMIN.INSIGHTS.PATHWAYS.PATHWAY,{productSlug:e.slug}),tooltip:"Reports",icon:"chart-bar"}),(0,k.jsx)(s.Z,{testid:"PathwayPageHeader.more-actions",productKey:i,classes:{button:n.dropdownButton}})]})})}var v=(0,u.Z)((function(e){return{buttons:{display:"flex",alignItems:"center",margin:e.spacing(0,-1)},dropdownButton:{width:"48px",height:"48px",padding:0}}})),C=a(676779);function S(){var e=(0,l.R6)();return(0,k.jsx)(C.Z,{headerContent:(0,k.jsx)(P,{}),children:e.dashboard?(0,k.jsx)(i.Z,{dashboardId:e.dashboard.id,children:(0,k.jsx)(r.Z,{dashboardId:e.dashboard.id,position:"main"})}):null})}},489159:function(e,n,a){var t=a(753688),l=a(810863),i=a(541321),r=a(868112),o=a(785893),s=(0,r.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(6432)]).then(a.bind(a,882634))}));var d=(0,l.Z)({drawer:{padding:0}});n.Z=function(){var e=(0,t.P)("pathwayGroupProductRegistration"),n=e.params,a=n.drawerPGID,l=n.pId,r=Boolean(a&&l),u=d();return(0,o.jsx)(i.ds,{open:e.isOpen,onClose:function(){e.close()},containerClasses:{drawerContainer:u.drawer},children:r&&(0,o.jsx)(s,{})})}},460073:function(e,n,a){a.d(n,{Z:function(){return g}});var t=a(204942),l=a(922261),i=a(810863),r=a(541321),o=a(108920),s=a(886664),d=a(294184),u=a.n(d),c=a(785893);var m=(0,i.Z)((function(e){return{container:{maxWidth:"350px","& .StripeElement":{backgroundColor:e.palette.groovy.neutral[100],borderRadius:"".concat(e.measure.borderRadius.big,"px !important"),padding:e.spacing(0,1.5)}},fullName:{"&:focus-within, &:focus, &:hover":{borderColor:"transparent",outline:"none","& .input:not([disabled])":{border:"none"}}},cardInfoSection:(0,t.Z)({display:"grid",gridTemplateColumns:"1fr 1fr",gap:e.spacing(2)},e.breakpoints.down("sm"),{gridTemmplateColumns:"1fr",gap:e.spacing(1)})}})),g=function(e){var n=e.customClassName,a=e.cardFormState,t=e.onCardHolderNameChange,i=e.onPostalCodeChange,d=e.onSaveCardCheckboxSelect,g=(0,l.f)().authUser,p=!d,y=(0,o.Z)(),f={base:{lineHeight:"48px",backgroundColor:y.palette.groovy.neutral[100],color:y.palette.text.primary,fontSize:"14px",fontSmoothing:"antialiased",fontWeight:"normal","::placeholder":{color:y.palette.groovy.grey[300]}},invalid:{color:y.palette.error.main}},k=m();return(0,c.jsxs)("div",{className:u()(k.container,n),children:[(0,c.jsx)(r.Z0,{label:"Card Number",testid:"card-form.card-number",children:(0,c.jsx)(s.CardNumberElement,{options:{style:f,placeholder:"XXXX XXXX XXXX XXXX",showIcon:!0}})}),(0,c.jsx)(r.Z0,{label:"Holder Name",children:(0,c.jsx)(r.z6,{"data-testid":"CardForm.holder-name",className:k.fullName,value:a.cardHolderName,name:"holder-name",onChange:t,placeholder:"Full Name",size:"large",fullWidth:!0})}),(0,c.jsxs)("div",{className:k.cardInfoSection,children:[(0,c.jsx)(r.Z0,{label:"Expiration Date",testid:"card-form.exp-date",children:(0,c.jsx)(s.CardExpiryElement,{options:{style:f}})}),(0,c.jsx)(r.Z0,{label:"CVV",testid:"card-form.card-cvc",children:(0,c.jsx)(s.CardCvcElement,{options:{style:f,placeholder:"3 Digits"}})})]}),(0,c.jsx)(r.Z0,{label:"Zip or Postal Code",children:(0,c.jsx)(r.z6,{"data-testid":"CardForm.postal-code",value:a.postalCode,name:"postal-code",onChange:i,size:"large",fullWidth:!0})}),g&&!p&&(0,c.jsx)(r.Af,{className:"product-payment-modal__agreement-checkbox",label:"Save this card for future purchases",checked:a.isSaveCardCheckboxSelected,onChange:d})]})}},107206:function(e,n,a){var t=a(204942),l=a(145987),i=a(144334),r=a(437657),o=(a(194350),a(335774)),s=a(810863),d=a(541321),u=a(785893),c=["testid","details","padding"];function m(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}var g=(0,o.Z)(),p=(0,s.Z)((function(e){return{container:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:e.spacing(3)},lhs:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:e.spacing(3)}}}));n.Z=function(e){var n=e.testid,a=void 0===n?"ConnectStripeBanner":n,o=e.details,s=void 0===o?"Stripe must be connected to collect payments":o,y=e.padding,f=void 0===y?2:y,k=(0,l.Z)(e,c),F=p(),h=g(function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?m(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}({padding:f},k));return(0,u.jsx)(d.W0,{border:!0,className:h.root,children:(0,u.jsxs)("div",{className:F.container,children:[(0,u.jsxs)("div",{className:F.lhs,children:[(0,u.jsx)(i.Z,{width:48,height:48}),(0,u.jsxs)("div",{children:[(0,u.jsx)(d.U4,{variant:"body-md-600",marginBottom:.5,children:"Connect Stripe"}),(0,u.jsx)(d.U4,{variant:"body-sm",color:"text.secondary",children:s})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)(r.Z,{testid:a,showConnectConfirmDialog:!0})})]})})}},437657:function(e,n,a){var t,l=a(115861),i=a(386854),r=a(887757),o=a.n(r),s=a(285245),d=a(753688),u=a(963114),c=(a(123090),a(10165)),m=a(461875),g=a(541321),p=a(611797),y=a(989659),f=a(188191),k=a(667294),F=(a(422578),a(785893)),h=a(425108);n.Z=c.Z.withSkeleton({component:function(e){var n=e.showConnectConfirmDialog,r=e.testid,b=void 0===r?"ConnectStripeButton":r,P=(0,s.vn)(),v=(0,k.useState)(!1),C=(0,i.Z)(v,2),S=C[0],K=C[1],I=(0,u.NP)("organization"),w=(0,m.Cs)("owner"),x=(0,d.P)("integration"),T=(0,d.P)("experienceSettings"),j=(0,f.Z)().connectStripeAcacia,D=P.viewerPermissions.has("stripe_integration.manage"),L=(0,k.useState)(!1),O=(0,i.Z)(L,2),A=O[0],N=O[1];return P.stripeAccountId?null:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(g.t2,{content:"Only ".concat(I.singularLowercase," ").concat(w.plural," can connect Stripe"),disabled:D,children:(0,F.jsx)("div",{children:(0,F.jsx)(g.v2,{component:y.Z,testid:"".concat(b,".stripe-connection-button"),onClick:j?function(){T.isOpen?T.swap({integration:"stripe",mode:"connect"}):x.open({integration:"stripe",mode:"connect"})}:function(e){return E.apply(this,arguments)},disabled:!D||A,shouldDisplaySpinner:A,children:"Connect Stripe"})})}),(0,F.jsx)(p.Z,{icon:"warning",variant:"primary",testid:"ConnectStripe",isOpen:S,confirmationButtonProps:{onClick:_,children:"Continue to Stripe"},onClose:function(){K(!1)},modalContentLabel:"Continue to Stripe",title:"Continue to Stripe?",description:"You'll be redirected to Stripe to continue with the connection process. Before continuing, please save any changes you've made."})]});function E(){return(E=(0,l.Z)(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}K(!0),e.next=6;break;case 4:return e.next=6,_(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(o().mark((function e(n){var l,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),n.preventDefault(),N(!0),e.prev=3,e.next=6,c.Z.runQuery((void 0!==t||(t=a(123090)).hash&&"7c53e51135cfb6f06ad19213fca4d5b8"!==t.hash&&h.error("The definition of 'ConnectStripeButtonQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),{id:P.id,returnTo:window.location.href});case 6:if(null!=(i=e.sent)&&null!==(l=i.organization)&&void 0!==l&&l.stripeOauthAuthorizeUrl){e.next=9;break}return e.abrupt("return");case 9:K(!1),window.open(i.organization.stripeOauthAuthorizeUrl,"_self"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),N(!1);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}},skeleton:function(){return(0,F.jsx)(g.Zi,{})}})},123090:function(e,n,a){a.r(n);a(244311);var t,l,i,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"returnTo"}],kind:"Fragment",metadata:null,name:"ConnectStripeButtonQuery",selections:[{alias:"organization",args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"returnTo",variableName:"returnTo"}],kind:"ScalarField",name:"stripeOauthAuthorizeUrl",storageKey:null}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ConnectStripeButtonQuery",selections:[{alias:"organization",args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"c680984b12abc828f874174070b14795",id:null,metadata:{},name:"ConnectStripeButtonQuery",operationKind:"query",text:"query ConnectStripeButtonQuery(\n  $id: ID!\n  $returnTo: String!\n) {\n  organization: node(id: $id) {\n    __typename\n    ... on Organization {\n      stripeOauthAuthorizeUrl(returnTo: $returnTo)\n    }\n    id\n  }\n}\n"}};r.hash="7c53e51135cfb6f06ad19213fca4d5b8",n.default=r},727788:function(e,n,a){var t=a(17623),l=a(118109),i=a(541321),r=a(188191),o=a(868112),s=a(785893),d=(0,o.Z)((function(){return Promise.resolve().then(a.bind(a,118109))}));n.Z=function(e){var n=e.testid,a=void 0===n?"ConnectStripeGlobalModal":n,o=(0,r.Z)().connectStripeAcacia,u=(0,t.J)("connectStripe");return"1"===u.params.connectStripeModal&&o?(0,s.jsx)(i.SH,{isOpen:u.isOpen,onClose:u.close,testid:"".concat(a,".modal"),modalContentLabel:"Connect Stripe",title:"Select your currency",subtitle:"Select the currency you would like to charge in.",body:(0,s.jsx)(d,{}),skeletonBody:(0,s.jsx)(l.ConnectStripeModalContentSkeleton,{}),buttons:!0}):null}},118109:function(e,n,a){a.r(n),a.d(n,{ConnectStripeModalContentSkeleton:function(){return I}});var t,l,i=a(204942),r=a(115861),o=a(386854),s=a(887757),d=a.n(s),u=(a(413534),a(285245)),c=a(17623),m=a(479159),g=a(884665),p=(a(366443),a(547236),a(10165)),y=a(810863),f=a(52270),k=a(541321),F=a(757336),h=a(667294),b=a(422578),P=(a(244311),a(785893)),v=a(425108);function C(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function S(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?C(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var K=(0,y.Z)((function(e){return{currencyCode:S({},e.typography.modifiers.fontWeight[600]),tooltip:{display:"flex",gap:e.spacing(1),alignItems:"center",justifyContent:"flex-start",marginTop:e.spacing(2)}}}));function I(){var e=K();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(k.HJ,{}),(0,P.jsxs)("div",{className:e.tooltip,children:[(0,P.jsx)(k.De,{icon:"info"}),(0,P.jsx)(k.U4,{color:"text.secondary",variant:"body-xs",children:"Currency cannot be changed after it is set."})]})]})}n.default=p.Z.withSkeleton({component:(0,F.Pi)((function(e){var n,i=e.testid,s=void 0===i?"ConnectStripeModalContent":i,p=(0,u.vn)(),y=(0,c.J)("connectStripe"),F=K(),C=(0,h.useState)(!1),S=(0,o.Z)(C,2),I=S[0],w=S[1],x=(0,b.useLazyLoadQuery)((void 0!==t||(t=a(547236)).hash&&"3cc2b33132666a97fc2fefa800ee1ecf"!==t.hash&&v.error("The definition of 'ConnectStripeModalContentQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),{id:p.id}).organization,T=(0,m.V)((void 0!==l||(l=a(366443)).hash&&"3dadd6aac8182f445b66cf46122eca41"!==l.hash&&v.error("The definition of 'ConnectStripeModalContent_UpdateCurrencyMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{currency:p.currency},{requireChangeToSubmit:!1});return(0,P.jsx)(f.Z,{id:s,testid:s,onSubmit:function(){return D.apply(this,arguments)},buttons:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(k.v2,{variant:"outlined",onClick:y.close,color:"grey",children:"Cancel"}),(0,P.jsx)(f.Z.SubmitButton,{form:T,disabled:T.disabled||T.isSubmitting||I,shouldDisplaySpinner:T.isSubmitting||I,children:"Connect"})]}),children:(0,P.jsxs)(k.Z0,{error:Boolean(T.errorsByField.currency),errorMessages:T.errorsByField.currency,tooltip:"Currency cannot be changed after initial setup.",children:[(0,P.jsx)(k.sf,{value:T.state.currency,onChange:function(e){if(!e)return;T.state.currency=e},options:(null==x||null===(n=x.currencies)||void 0===n?void 0:n.map((function(e){return{value:e,title:"".concat(e.toUpperCase()," - ").concat(g.h2[e])}})))||[],disableClearable:!0,autoComplete:!0,renderOption:j,renderValue:j}),(0,P.jsxs)("div",{className:F.tooltip,children:[(0,P.jsx)(k.De,{icon:"info"}),(0,P.jsx)(k.U4,{color:"text.secondary",variant:"body-xs",children:"Currency cannot be changed after it is set."})]})]})});function j(e){return(0,P.jsxs)(k.U4,{children:[(0,P.jsx)("span",{className:F.currencyCode,children:e.value.toUpperCase()})," - ".concat(g.h2[e.value])]})}function D(){return(D=(0,r.Z)(d().mark((function e(){var n,a,t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,T.submit(T.state,{variables:{returnTo:"".concat(window.location.origin).concat(window.location.pathname)}});case 3:if(a=e.sent,t=a.response,a.didSave&&null!=t&&null!==(n=t.node)&&void 0!==n&&n.stripeOauthAuthorizeUrl){e.next=9;break}return w(!1),e.abrupt("return");case 9:window.open(t.node.stripeOauthAuthorizeUrl,"_self");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),skeleton:I})},547236:function(e,n,a){a.r(n);a(244311);var t,l,i,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ConnectStripeModalContentQuery",selections:[{alias:"organization",args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"currencies",storageKey:null}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ConnectStripeModalContentQuery",selections:[{alias:"organization",args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"91ec5329e57798a460567a7545c5bb9b",id:null,metadata:{},name:"ConnectStripeModalContentQuery",operationKind:"query",text:"query ConnectStripeModalContentQuery(\n  $id: ID!\n) {\n  organization: node(id: $id) {\n    __typename\n    ... on Organization {\n      currencies\n    }\n    id\n  }\n}\n"}};r.hash="3cc2b33132666a97fc2fefa800ee1ecf",n.default=r},366443:function(e,n,a){a.r(n);a(244311);var t,l,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"returnTo"}],kind:"Fragment",metadata:null,name:"ConnectStripeModalContent_UpdateCurrencyMutation",selections:l=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateOrganizationCurrencyMutationResponse",kind:"LinkedField",name:"updateOrganizationCurrency",plural:!1,selections:[{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},{alias:null,args:[{kind:"Variable",name:"returnTo",variableName:"returnTo"}],kind:"ScalarField",name:"stripeOauthAuthorizeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stripeAccountId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ConnectStripeModalContent_UpdateCurrencyMutation",selections:l},params:{cacheID:"6b70592a9a56259c99ad03b7760970a8",id:null,metadata:{},name:"ConnectStripeModalContent_UpdateCurrencyMutation",operationKind:"mutation",text:"mutation ConnectStripeModalContent_UpdateCurrencyMutation(\n  $input: UpdateOrganizationCurrencyInput!\n  $returnTo: String!\n) {\n  response: updateOrganizationCurrency(input: $input) {\n    node {\n      id\n      currency\n      stripeOauthAuthorizeUrl(returnTo: $returnTo)\n      stripeAccountId\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="3dadd6aac8182f445b66cf46122eca41",n.default=i},601510:function(e,n,a){var t=a(17623),l=a(963114),i=a(274823),r=a(810863),o=a(541321),s=a(366963),d=a(4662),u=a(188191),c=a(868112),m=a(785893),g=(0,c.Z)((function(){return Promise.resolve().then(a.bind(a,274823))}));var p=(0,r.Z)((function(e){return{modal:{textAlign:"left"},warningText:{color:e.palette.text.danger,fontWeight:700},title:{display:"flex",alignItems:"center",gap:e.spacing(1),marginBottom:e.spacing(2)}}}));n.Z=function(e){var n=e.testid,a=void 0===n?"UpgradeCheckoutVersion":n,r=(0,t.J)("upgradeCheckoutVersion"),c=(0,u.Z)().connectStripeAcacia,y=r.params,f=y.upgradeCheckoutVersionModal,k=y.step,F=(0,d.Z)(),h=p(),b=(0,l.NP)("admin_experience"),P=(0,l.NP)("organization");return"1"===f&&c?(0,m.jsx)(o.SH,{testid:"".concat(a,".modal"),isOpen:r.isOpen,onClose:r.close,width:"".concat(F.measure.modalMaxWidth.large,"px"),modalContentLabel:"Upgrade Checkout Version",title:function(){switch(k){case"products":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:h.title,children:[(0,m.jsx)(o.U4,{variant:"body-lg-600",children:"Review your ".concat(b.plural," for Stripe")}),(0,m.jsx)(s.Z,{name:"1/2",color:F.palette.groovy.blue[400],backgroundColor:F.palette.groovy.blue[100]})]}),(0,m.jsx)(o.U4,{color:"text.secondary",children:"Here are the paid ".concat(b.plural," from your ").concat(P.singularLowercase," that we'll automatically create as products in your Stripe account.")})]});case"discounts":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:h.title,children:[(0,m.jsx)(o.U4,{variant:"body-lg-600",children:"Select Discounts to Transfer to Stripe"}),(0,m.jsx)(s.Z,{name:"2/2",color:F.palette.groovy.blue[400],backgroundColor:F.palette.groovy.blue[100]})]}),(0,m.jsx)(o.U4,{color:"text.secondary",marginBottom:2,children:"Discounts will now be managed exclusively in Stripe. Select the discounts you want to transfer to your Stripe account to prevent losing them."}),(0,m.jsxs)(o.U4,{color:"text.secondary",children:[(0,m.jsx)("span",{className:h.warningText,children:"WARNING: "}),"After completing this process, all discounts will be removed from Disco and will no longer be accessible. This action cannot be undone."]})]})}}(),body:(0,m.jsx)(g,{}),skeletonBody:(0,m.jsx)(i.UpgradeCheckoutVersionModalContentSkeleton,{}),classes:{container:h.modal},buttons:!0}):null}},274823:function(e,n,a){a.r(n),a.d(n,{UpgradeCheckoutVersionModalContentSkeleton:function(){return ie},default:function(){return re}});var t,l=a(115861),i=a(887757),r=a.n(i),o=(a(413534),a(285245)),s=a(17623),d=a(963114),u=a(479159),c=(a(483615),a(386854)),m=(a(888772),a(801527),a(486607),a(789114)),g=(a(913992),a(10165)),p=a(810863),y=a(541321),f=a(288222),k=a(168949),F=a(757336),h=a(422578),b=(a(244311),a(785893)),P=a(425108);var v,C=(0,p.Z)({checkbox:{margin:0,"& > *":{padding:0}}}),S=function(){var e=C();return(0,b.jsxs)(y.Fj.Row,{children:[(0,b.jsx)(f.Z,{width:"1%",children:(0,b.jsx)(y.Tu,{hideLabel:!0,className:e.checkbox})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.Ju,{})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.Ju,{})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.Ju,{})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.Ju,{})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.Ju,{})})]})},K=g.Z.withSkeleton({component:(0,F.Pi)((function(e){var n,l,i=e.discountKey,r=e.form,s=C(),d=(0,o.vn)(),u=(0,h.useFragment)((void 0!==t||(t=a(913992)).hash&&"74a083741a9ddf67b84b262205848d61"!==t.hash&&P.error("The definition of 'DiscountTableRowFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),i),c="DiscountTableRow.".concat(u.id),g=m.Z.useDisplayValue(u,null==d?void 0:d.currency),p=(null===(n=r.state.stripe_acacia)||void 0===n||null===(l=n.discountIds)||void 0===l?void 0:l.includes(u.id))||!1,F=null!==u.maxRedemptions&&u.redemptions.totalCount>=u.maxRedemptions;return(0,b.jsxs)(y.Fj.Row,{testid:c,children:[(0,b.jsx)(f.Z,{width:"1%",children:(0,b.jsx)(y.t2,{content:"This discount has been fully redeemed, so it will not be recreated on Stripe.",disabled:!F,children:(0,b.jsx)("div",{children:(0,b.jsx)(y.Af,{className:s.checkbox,label:null,onChange:function(){var e,n=(null===(e=r.state.stripe_acacia)||void 0===e?void 0:e.discountIds)||k.LO.array([]),a=n.findIndex((function(e){return e===u.id}));-1===a?n.push(u.id):n.splice(a,1)},checked:p,testid:"".concat(c,".checkbox"),disabled:F})})})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.U4,{variant:"body-sm",children:u.name})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.U4,{variant:"body-sm",children:u.code})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.U4,{variant:"body-sm",children:g})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.U4,{variant:"body-sm",children:null===u.maxRedemptions?"-":u.maxRedemptions})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(y.U4,{variant:"body-sm",children:null===u.maxRedemptions?"-":u.redemptions.totalCount})})]})})),skeleton:S}),I=(a(584593),a(681355),a(667294)),w=a(425108);var x=(0,p.Z)({spinner:{display:"flex",alignItems:"center",justifyContent:"center",height:"24px",width:"24px"},checkbox:{margin:0,"& > *":{padding:0}}});var T,j,D=g.Z.withSkeleton({component:(0,F.Pi)((function(e){var n,t,l,i=e.testid,r=void 0===i?"DiscountTableSelectAll":i,s=e.form,d=x(),u=(0,o.vn)(),c=(0,h.useLazyLoadQuery)((void 0!==v||(v=a(584593)).hash&&"9ffb00600f271dabc86b18f2c8968b36"!==v.hash&&w.error("The definition of 'DiscountTableSelectAllQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),v),{id:(null==u?void 0:u.id)||""},{fetchPolicy:"network-only"}),m=g.Z.connectionToArray(null==c||null===(n=c.organization)||void 0===n?void 0:n.discounts).filter((function(e){return null===e.maxRedemptions||e.redemptions.totalCount<e.maxRedemptions})),p=((null===(t=s.state.stripe_acacia)||void 0===t||null===(l=t.discountIds)||void 0===l?void 0:l.length)||0)>=(m.length||0);return(0,I.useEffect)((function(){f()}),[]),(0,b.jsx)(y.Af,{testid:"".concat(r,".select-all"),label:null,className:d.checkbox,onChange:f,checked:p});function f(){p&&s.state.stripe_acacia?s.state.stripe_acacia.discountIds=k.LO.array([]):s.state.stripe_acacia&&(s.state.stripe_acacia.discountIds=k.LO.array(m.map((function(e){return e.id}))))}})),skeleton:function(){var e=x();return(0,b.jsx)("div",{className:e.spinner,children:(0,b.jsx)(y.Zy,{size:"sm"})})}}),L=a(425108);function O(){return(0,b.jsx)(y.Bt,{header:[{key:"checkbox",value:(0,b.jsx)(y.Tu,{hideLabel:!0})},{value:"Discount"},{value:"Code"},{value:"Value"},{value:"Max Redemptions"},{value:"Redemptions"}],rows:1,row:(0,b.jsx)(S,{})})}var A,N=g.Z.withSkeleton({component:(0,F.Pi)((function(e){var n=e.testid,t=void 0===n?"UpgradeCheckoutVersionModalDiscounts":n,l=e.form,i=(0,o.vn)(),r=(0,I.useState)(1),s=(0,c.Z)(r,2),d=s[0],u=s[1],m=(0,h.useLazyLoadQuery)((void 0!==T||(T=a(486607)).hash&&"2ed91b6815a80fdd4756c1aaa8b32b63"!==T.hash&&L.error("The definition of 'UpgradeCheckoutVersionModalDiscountsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),T),{organizationId:(null==i?void 0:i.id)||"",first:10},{fetchPolicy:"network-only"}).organization,p=(0,h.usePaginationFragment)((void 0!==j||(j=a(888772)).hash&&"a2d433f86ad1c363ab62c2dbb1bc503c"!==j.hash&&L.error("The definition of 'UpgradeCheckoutVersionModalDiscounts_PaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),j),m),f=p.data,k=p.refetch,F=g.Z.connectionToArray(null==f?void 0:f.discounts);return(0,b.jsx)(y.Fj,{activePage:d,setActivePage:u,rowsPerPage:10,testid:t,onPaginate:k,rows:F.map((function(e){return(0,b.jsx)(K,{discountKey:e,form:l},e.id)})),connection:{cursorsList:(null==f?void 0:f.discounts.edges.map((function(e){return e.cursor})))||[],totalCount:(null==f?void 0:f.discounts.totalCount)||0,pageInfo:{endCursor:null==f?void 0:f.discounts.pageInfo.endCursor,startCursor:null==f?void 0:f.discounts.pageInfo.startCursor}},header:[{value:(0,b.jsx)(D,{testid:"".concat(t,".select-all"),form:l}),key:"checkbox"},{value:"Discount"},{value:"Code"},{value:"Value"},{value:"Max Redemptions"},{value:"Redemptions"}]})})),skeleton:O}),E=(a(870375),a(47795),a(533529),a(204942)),_=(a(213388),a(351742)),B=a(245012),Z=a(366963),V=a(108920),M=a(425108);function U(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function R(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?U(Object(a),!0).forEach((function(n){(0,E.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var z,$,Q=(0,p.Z)((function(e){return{price:R(R({},e.typography["body-sm"]),{},{fontWeight:600}),details:R({},e.typography["body-xs"]),cell:{display:"flex",alignItems:"center"},disabled:{cursor:"not-allowed",userSelect:"none",opacity:.4}}})),q=function(){return(0,b.jsxs)(y.Fj.Row,{children:[(0,b.jsx)(f.Z,{children:(0,b.jsx)(B.I,{})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(Z.d,{})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(_.K,{})})]})},H=g.Z.withSkeleton({component:(0,F.Pi)((function(e){var n=e.productKey,t=Q(),l=(0,V.Z)(),i=(0,d.NP)("admin_experience"),r=(0,h.useFragment)((void 0!==A||(A=a(213388)).hash&&"6cd8133f97f989703454db0152e2ed88"!==A.hash&&M.error("The definition of 'PaidProductTableRowFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),A),n),o="PaidProductTableRow.".concat(r.slug);return(0,b.jsxs)(y.Fj.Row,{testid:o,className:"membership_plan"===r.type?t.disabled:void 0,children:[(0,b.jsxs)(f.Z,{className:t.cell,children:[(0,b.jsx)(B.Z,{productKey:r,testid:o}),(0,b.jsx)(y.t2,{content:"This membership plan already exists on Stripe.",disabled:"membership_plan"!==r.type})]}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(Z.Z,{name:"membership_plan"===r.type?"Membership Plan":i.singular,backgroundColor:l.palette.groovy.grey[200],testid:o})}),(0,b.jsx)(f.Z,{children:(0,b.jsx)(_.Z,{productKey:r,ignoreViewersPlan:!0,classes:{price:t.price,details:t.details}})})]})})),skeleton:q}),W=a(425108);function G(){return(0,b.jsx)(y.Bt,{header:[{value:"Name"},{value:"Type"},{value:"Price"}],rows:1,row:(0,b.jsx)(q,{})})}var Y,X=g.Z.withSkeleton({component:function(e){var n=e.testid,t=void 0===n?"UpgradeCheckoutVersionModalProducts":n,l=e.form,i=(0,o.vn)(),r=(0,I.useState)(1),s=(0,c.Z)(r,2),d=s[0],u=s[1],m=(0,h.useLazyLoadQuery)((void 0!==z||(z=a(533529)).hash&&"4ea4edc1348b00351e40accc6fb89fd9"!==z.hash&&W.error("The definition of 'UpgradeCheckoutVersionModalProductsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),z),{organizationId:(null==i?void 0:i.id)||"",first:10},{fetchPolicy:"network-only"}).organization,p=(0,h.usePaginationFragment)((void 0!==$||($=a(870375)).hash&&"b86a16a65f042286c9ff7e97d3bc69c6"!==$.hash&&W.error("The definition of 'UpgradeCheckoutVersionModalProducts_PaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),$),m),f=p.data,k=p.refetch,F=g.Z.connectionToArray(null==f?void 0:f.paidProducts);return(0,I.useEffect)((function(){l.state.totalPaidProducts=(null==f?void 0:f.paidProducts.totalCount)||0}),[null==f?void 0:f.paidProducts.totalCount]),(0,b.jsx)(y.Fj,{activePage:d,setActivePage:u,rowsPerPage:10,testid:t,onPaginate:k,rows:F.map((function(e){return(0,b.jsx)(H,{productKey:e,form:l},e.id)})),connection:{cursorsList:(null==f?void 0:f.paidProducts.edges.map((function(e){return e.cursor})))||[],totalCount:(null==f?void 0:f.paidProducts.totalCount)||0,pageInfo:{endCursor:null==f?void 0:f.paidProducts.pageInfo.endCursor,startCursor:null==f?void 0:f.paidProducts.pageInfo.startCursor}},header:[{value:"Name"},{value:"Type"},{value:"Price"}]})},skeleton:G}),J=a(52270),ee=a(445033),ne=a(923450),ae=a.n(ne),te=a(425108);var le=(0,p.Z)({bold:{fontWeight:700}});function ie(){var e=(0,s.J)("upgradeCheckoutVersion").params.step;return(0,b.jsx)(J.Z,{buttons:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.v2,{color:"grey",variant:"outlined",children:"Cancel"}),(0,b.jsx)(y.v2,{disabled:!0,children:"Continue"})]}),children:"products"===e?(0,b.jsx)(G,{}):(0,b.jsx)(O,{})})}var re=g.Z.withSkeleton({component:(0,F.Pi)((function(e){var n=e.testid,t=void 0===n?"UpgradeCheckoutVersionModalContent":n,i=(0,s.J)("upgradeCheckoutVersion"),c=(0,o.vn)(),m=le(),g=(0,d.NP)("admin_experience"),p=i.params.step,f=(0,u.V)((void 0!==Y||(Y=a(483615)).hash&&"2340ee4e0fbdcb005697e523e1e1fb59"!==Y.hash&&te.error("The definition of 'UpgradeCheckoutVersionModalContentMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Y),{version:(null==c||c.checkoutVersion,"stripe_acacia"),stripe_acacia:{discountIds:k.LO.array([])},totalPaidProducts:0},{requireChangeToSubmit:!1});return(0,b.jsx)(J.Z,{id:t,testid:t,onSubmit:h,buttons:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.v2,{color:"grey",variant:"outlined",onClick:function(){switch(p){case"products":i.close();break;case"discounts":i.open({step:"products"})}},children:function(){switch(p){case"products":return"Cancel";case"discounts":return"Back";default:return null}}()}),(0,b.jsx)(y.v2,{onClick:function(){return F.apply(this,arguments)},shouldDisplaySpinner:f.isSubmitting,disabled:f.disabled,children:function(){switch(p){case"products":return"Continue";case"discounts":return"Complete";default:return null}}()})]}),children:function(){switch(p){case"products":return(0,b.jsx)(X,{form:f});case"discounts":return(0,b.jsx)(N,{form:f});default:return null}}()});function F(){return(F=(0,l.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=p,e.next="products"===e.t0?3:"discounts"===e.t0?5:8;break;case 3:return i.open({step:"discounts"}),e.abrupt("break",8);case 5:return e.next=7,h();case 7:return e.abrupt("break",8);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return P.apply(this,arguments)}function P(){return(P=(0,l.Z)(r().mark((function e(){var n,a,t,l,o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.submit({version:f.state.version,stripe_acacia:f.state.stripe_acacia});case 2:if(a=e.sent,a.didSave){e.next=6;break}return e.abrupt("return");case 6:i.close(),t=f.state.totalPaidProducts,l=(null===(n=f.state.stripe_acacia)||void 0===n?void 0:n.discountIds.length)||0,o=ae()(g.singular,t,!0),s=ae()("Discount",l,!0),(0,ee.HE)({message:"Stripe integration has been upgraded.",body:t||l?t&&!l?(0,b.jsxs)(y.U4,{color:"groovy.green.600",children:[(0,b.jsx)("span",{className:m.bold,children:o})," ".concat(1===t?"was":"were"," successfully created in Stripe for you.")]}):!t&&l?(0,b.jsxs)(y.U4,{color:"groovy.green.600",children:[(0,b.jsx)("span",{className:m.bold,children:s})," ".concat(1===l?"was":"were"," successfully created in Stripe for you.")]}):(0,b.jsxs)(y.U4,{color:"groovy.green.600",children:[(0,b.jsx)("span",{className:m.bold,children:o})," and ",(0,b.jsx)("span",{className:m.bold,children:s})," ".concat(1===l?"was":"were"," successfully created in Stripe for you.")]}):"You have successfully upgraded your Stripe integration."});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),skeleton:ie})},913992:function(e,n,a){a.r(n);a(244311);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DiscountTableRowFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxRedemptions",storageKey:null},{alias:null,args:null,concreteType:"DiscountRedemptionNodeConnection",kind:"LinkedField",name:"redemptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"Discount_displayValue"}],type:"Discount",abstractKey:null,hash:"74a083741a9ddf67b84b262205848d61"};n.default=t},584593:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"DiscountTableSelectAllQuery",selections:[{alias:"organization",args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DiscountNodeConnection",kind:"LinkedField",name:"discounts",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"DiscountNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Discount",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxRedemptions",storageKey:null},{alias:null,args:null,concreteType:"DiscountRedemptionNodeConnection",kind:"LinkedField",name:"redemptions",plural:!1,selections:[i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"DiscountTableSelectAllQuery",selections:[{alias:"organization",args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o,r],storageKey:null}]},params:{cacheID:"7af12d60a67764885c788ee1b6a005e2",id:null,metadata:{},name:"DiscountTableSelectAllQuery",operationKind:"query",text:"query DiscountTableSelectAllQuery(\n  $id: ID!\n) {\n  organization: node(id: $id) {\n    __typename\n    ... on Organization {\n      discounts {\n        totalCount\n        edges {\n          node {\n            id\n            maxRedemptions\n            redemptions {\n              totalCount\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n}\n"}};s.hash="9ffb00600f271dabc86b18f2c8968b36",n.default=s},213388:function(e,n,a){a.r(n);a(244311);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PaidProductTableRowFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:[{kind:"Literal",name:"hideDrafts",value:!1},{kind:"Literal",name:"hideNonPublic",value:!1}],kind:"FragmentSpread",name:"ProductPricingDetailsFragment"},{args:null,kind:"FragmentSpread",name:"ProductWithDetailsFragment"},{args:null,kind:"FragmentSpread",name:"ProductTypeTagFragment"}],type:"Product",abstractKey:null,hash:"6cd8133f97f989703454db0152e2ed88"};n.default=t},483615:function(e,n,a){a.r(n);a(244311);var t,l,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"UpgradeCheckoutVersionModalContentMutation",selections:l=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpgradeCheckoutVersionMutationResponse",kind:"LinkedField",name:"upgradeCheckoutVersion",plural:!1,selections:[{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stripeAccountId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkoutVersion",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UpgradeCheckoutVersionModalContentMutation",selections:l},params:{cacheID:"ab4c2d65a930ba6d6d0bb94ed7108467",id:null,metadata:{},name:"UpgradeCheckoutVersionModalContentMutation",operationKind:"mutation",text:"mutation UpgradeCheckoutVersionModalContentMutation(\n  $input: UpgradeCheckoutVersionInput!\n) {\n  response: upgradeCheckoutVersion(input: $input) {\n    node {\n      id\n      stripeAccountId\n      checkoutVersion\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="2340ee4e0fbdcb005697e523e1e1fb59",n.default=i},801527:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"before"},i={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"id"},o={defaultValue:null,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:null,name:"UpgradeCheckoutVersionModalDiscountsPaginationQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:d=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"}],kind:"FragmentSpread",name:"UpgradeCheckoutVersionModalDiscounts_PaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,l,i,o,r],kind:"Operation",name:"UpgradeCheckoutVersionModalDiscountsPaginationQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:d,concreteType:"DiscountNodeConnection",kind:"LinkedField",name:"discounts",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"DiscountNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Discount",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxRedemptions",storageKey:null},{alias:null,args:null,concreteType:"DiscountRedemptionNodeConnection",kind:"LinkedField",name:"redemptions",plural:!1,selections:[m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"valueKind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"valueAmount",storageKey:null},u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:d,filters:null,handle:"connection",key:"UpgradeCheckoutVersionModalDiscounts_discounts",kind:"LinkedHandle",name:"discounts"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"d2247dee2a26a4dccca70b5bdf3e1ddd",id:null,metadata:{},name:"UpgradeCheckoutVersionModalDiscountsPaginationQuery",operationKind:"query",text:"query UpgradeCheckoutVersionModalDiscountsPaginationQuery(\n  $after: String\n  $before: String\n  $first: Int\n  $last: Int\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...UpgradeCheckoutVersionModalDiscounts_PaginationFragment_pbnwq\n    id\n  }\n}\n\nfragment DiscountTableRowFragment on Discount {\n  id\n  name\n  code\n  maxRedemptions\n  redemptions {\n    totalCount\n  }\n  ...Discount_displayValue\n}\n\nfragment Discount_displayValue on Discount {\n  valueKind\n  valueAmount\n}\n\nfragment UpgradeCheckoutVersionModalDiscounts_PaginationFragment_pbnwq on Organization {\n  id\n  discounts(first: $first, after: $after, last: $last, before: $before) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        ...DiscountTableRowFragment\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      startCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n"}};g.hash="a2d433f86ad1c363ab62c2dbb1bc503c",n.default=g},486607:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"before"},i={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"last"},o={defaultValue:null,kind:"LocalArgument",name:"organizationId"}],kind:"Fragment",metadata:null,name:"UpgradeCheckoutVersionModalDiscountsQuery",selections:[{alias:"organization",args:s=[{kind:"Variable",name:"id",variableName:"organizationId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:d=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"}],kind:"FragmentSpread",name:"UpgradeCheckoutVersionModalDiscounts_PaginationFragment"}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,i,t,r,l],kind:"Operation",name:"UpgradeCheckoutVersionModalDiscountsQuery",selections:[{alias:"organization",args:s,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:d,concreteType:"DiscountNodeConnection",kind:"LinkedField",name:"discounts",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"DiscountNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Discount",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxRedemptions",storageKey:null},{alias:null,args:null,concreteType:"DiscountRedemptionNodeConnection",kind:"LinkedField",name:"redemptions",plural:!1,selections:[m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"valueKind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"valueAmount",storageKey:null},u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:d,filters:null,handle:"connection",key:"UpgradeCheckoutVersionModalDiscounts_discounts",kind:"LinkedHandle",name:"discounts"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"be794c7e5fb5037d7d3576afb1d40b44",id:null,metadata:{},name:"UpgradeCheckoutVersionModalDiscountsQuery",operationKind:"query",text:"query UpgradeCheckoutVersionModalDiscountsQuery(\n  $organizationId: ID!\n  $first: Int\n  $after: String\n  $last: Int\n  $before: String\n) {\n  organization: node(id: $organizationId) {\n    __typename\n    ... on Organization {\n      ...UpgradeCheckoutVersionModalDiscounts_PaginationFragment_pbnwq\n    }\n    id\n  }\n}\n\nfragment DiscountTableRowFragment on Discount {\n  id\n  name\n  code\n  maxRedemptions\n  redemptions {\n    totalCount\n  }\n  ...Discount_displayValue\n}\n\nfragment Discount_displayValue on Discount {\n  valueKind\n  valueAmount\n}\n\nfragment UpgradeCheckoutVersionModalDiscounts_PaginationFragment_pbnwq on Organization {\n  id\n  discounts(first: $first, after: $after, last: $last, before: $before) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        ...DiscountTableRowFragment\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      startCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n"}};g.hash="2ed91b6815a80fdd4756c1aaa8b32b63",n.default=g},888772:function(e,n,a){a.r(n);a(244311);var t,l,i=(l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:t=["discounts"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:t},fragmentPathInResult:["node"],operation:a(801527),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"UpgradeCheckoutVersionModalDiscounts_PaginationFragment",selections:[l,{alias:"discounts",args:null,concreteType:"DiscountNodeConnection",kind:"LinkedField",name:"__UpgradeCheckoutVersionModalDiscounts_discounts_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"DiscountNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Discount",kind:"LinkedField",name:"node",plural:!1,selections:[l,{args:null,kind:"FragmentSpread",name:"DiscountTableRowFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"Organization",abstractKey:null});i.hash="a2d433f86ad1c363ab62c2dbb1bc503c",n.default=i},47795:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S,K,I={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"before"},i={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"id"},o={defaultValue:null,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:null,name:"UpgradeCheckoutVersionModalProductsPaginationQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[d={kind:"Variable",name:"after",variableName:"after"},u={kind:"Variable",name:"before",variableName:"before"},c={kind:"Variable",name:"first",variableName:"first"},m={kind:"Variable",name:"last",variableName:"last"}],kind:"FragmentSpread",name:"UpgradeCheckoutVersionModalProducts_PaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,l,i,o,r],kind:"Operation",name:"UpgradeCheckoutVersionModalProductsPaginationQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:y=[d,u,c,m,{kind:"Literal",name:"types",value:["course","membership_plan"]}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"paidProducts",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"RegistrationPricing",kind:"LinkedField",name:"registrationPricing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"basePrice",storageKey:null},F={alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:k=[{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amountCents",storageKey:null},p],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RegistrationPricingRange",kind:"LinkedField",name:"registrationPricingRange",plural:!1,selections:[{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"minPricing",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"maxPricing",plural:!1,selections:k,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"hideDrafts",value:!1},{kind:"Literal",name:"hideNonPublic",value:!1}],concreteType:"MembershipBenefitNodeConnection",kind:"LinkedField",name:"includedInBenefits",plural:!1,selections:[{alias:null,args:null,concreteType:"MembershipBenefitNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"node",plural:!1,selections:[p,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[p,h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},F],storageKey:null}],storageKey:null}],storageKey:"includedInBenefits(hideDrafts:false,hideNonPublic:false)"},{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"viewerActiveMembershipPlan",plural:!1,selections:[p],storageKey:null},p],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"startsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endsAt",storageKey:null},F,{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"typeTag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},p],storageKey:null},{alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[f,b,{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},p],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},g,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:v=[P={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},P,C={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:S=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},P,C],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:K=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},P,C],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:K,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:K,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},P,C],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:K,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:K,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:S,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:v,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:v,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:y,filters:["types"],handle:"connection",key:"UpgradeCheckoutVersionModalProductsTable_paidProducts",kind:"LinkedHandle",name:"paidProducts"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"6c69443b8dd439af0509c237884d88e4",id:null,metadata:{},name:"UpgradeCheckoutVersionModalProductsPaginationQuery",operationKind:"query",text:"query UpgradeCheckoutVersionModalProductsPaginationQuery(\n  $after: String\n  $before: String\n  $first: Int\n  $last: Int\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...UpgradeCheckoutVersionModalProducts_PaginationFragment_pbnwq\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment PaidProductTableRowFragment on Product {\n  id\n  slug\n  type\n  ...ProductPricingDetailsFragment_4CYgjM\n  ...ProductWithDetailsFragment\n  ...ProductTypeTagFragment\n}\n\nfragment ProductPricingDetailsFragment_4CYgjM on Product {\n  id\n  type\n  registrationPricing {\n    basePrice\n    pricing {\n      frequency\n      kind\n      ...pricingUtils_usePricingDisplayValue\n      id\n    }\n  }\n  registrationPricingRange {\n    minPricing {\n      ...pricingUtils_usePricingDisplayValue\n      id\n    }\n    maxPricing {\n      ...pricingUtils_usePricingDisplayValue\n      id\n    }\n  }\n  ...usePermissionsFragment\n  includedInBenefits(hideNonPublic: false, hideDrafts: false) {\n    edges {\n      node {\n        id\n        membershipPlan {\n          id\n          name\n        }\n        pricing {\n          frequency\n          kind\n          amountCents\n          ...pricingUtils_usePricingDisplayValue\n          id\n        }\n      }\n    }\n  }\n  organization {\n    viewerActiveMembershipPlan {\n      id\n    }\n    id\n  }\n}\n\nfragment ProductTypeTagFragment on Product {\n  typeTag {\n    label\n    color\n    id\n  }\n}\n\nfragment ProductWithDetailsFragment on Product {\n  id\n  name\n  startsAt\n  endsAt\n  type\n  slug\n  pricing {\n    ...pricingUtils_usePricingDisplayValue\n    id\n  }\n  ...ProductTypeTagFragment\n  badge {\n    ...BadgeFragment\n    id\n  }\n  cover\n}\n\nfragment UpgradeCheckoutVersionModalProducts_PaginationFragment_pbnwq on Organization {\n  id\n  paidProducts(types: [course, membership_plan], first: $first, after: $after, last: $last, before: $before) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        ...PaidProductTableRowFragment\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      startCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n\nfragment pricingUtils_usePricingDisplayValue on Pricing {\n  frequency\n  kind\n  amountCents\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};I.hash="b86a16a65f042286c9ff7e97d3bc69c6",n.default=I},533529:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S,K,I,w,x={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"before"},i={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"last"},o={defaultValue:null,kind:"LocalArgument",name:"organizationId"}],kind:"Fragment",metadata:null,name:"UpgradeCheckoutVersionModalProductsQuery",selections:[{alias:"organization",args:s=[{kind:"Variable",name:"id",variableName:"organizationId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[u={alias:null,args:null,concreteType:"DiscountNodeConnection",kind:"LinkedField",name:"discounts",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{args:[c={kind:"Variable",name:"after",variableName:"after"},m={kind:"Variable",name:"before",variableName:"before"},g={kind:"Variable",name:"first",variableName:"first"},p={kind:"Variable",name:"last",variableName:"last"}],kind:"FragmentSpread",name:"UpgradeCheckoutVersionModalProducts_PaginationFragment"}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,i,t,r,l],kind:"Operation",name:"UpgradeCheckoutVersionModalProductsQuery",selections:[{alias:"organization",args:s,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[y={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[u,{alias:null,args:k=[c,m,g,p,{kind:"Literal",name:"types",value:["course","membership_plan"]}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"paidProducts",plural:!1,selections:[d,{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"RegistrationPricing",kind:"LinkedField",name:"registrationPricing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"basePrice",storageKey:null},b={alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:h=[{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amountCents",storageKey:null},f],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RegistrationPricingRange",kind:"LinkedField",name:"registrationPricingRange",plural:!1,selections:[{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"minPricing",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"maxPricing",plural:!1,selections:h,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"hideDrafts",value:!1},{kind:"Literal",name:"hideNonPublic",value:!1}],concreteType:"MembershipBenefitNodeConnection",kind:"LinkedField",name:"includedInBenefits",plural:!1,selections:[{alias:null,args:null,concreteType:"MembershipBenefitNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"node",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[f,P={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},b],storageKey:null}],storageKey:null}],storageKey:"includedInBenefits(hideDrafts:false,hideNonPublic:false)"},{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"viewerActiveMembershipPlan",plural:!1,selections:[f],storageKey:null},f],storageKey:null},P,{alias:null,args:null,kind:"ScalarField",name:"startsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endsAt",storageKey:null},b,{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"typeTag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},f],storageKey:null},{alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[F,v,{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},f],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},y,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:S=[C={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},C,K={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:I=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},C,K],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:w=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},C,K],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:w,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:w,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},C,K],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:w,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:w,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:I,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:S,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:S,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:k,filters:["types"],handle:"connection",key:"UpgradeCheckoutVersionModalProductsTable_paidProducts",kind:"LinkedHandle",name:"paidProducts"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"5a4222014ec37504152aecdd47bf6921",id:null,metadata:{},name:"UpgradeCheckoutVersionModalProductsQuery",operationKind:"query",text:"query UpgradeCheckoutVersionModalProductsQuery(\n  $organizationId: ID!\n  $first: Int\n  $after: String\n  $last: Int\n  $before: String\n) {\n  organization: node(id: $organizationId) {\n    __typename\n    ... on Organization {\n      discounts {\n        totalCount\n      }\n      ...UpgradeCheckoutVersionModalProducts_PaginationFragment_pbnwq\n    }\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment PaidProductTableRowFragment on Product {\n  id\n  slug\n  type\n  ...ProductPricingDetailsFragment_4CYgjM\n  ...ProductWithDetailsFragment\n  ...ProductTypeTagFragment\n}\n\nfragment ProductPricingDetailsFragment_4CYgjM on Product {\n  id\n  type\n  registrationPricing {\n    basePrice\n    pricing {\n      frequency\n      kind\n      ...pricingUtils_usePricingDisplayValue\n      id\n    }\n  }\n  registrationPricingRange {\n    minPricing {\n      ...pricingUtils_usePricingDisplayValue\n      id\n    }\n    maxPricing {\n      ...pricingUtils_usePricingDisplayValue\n      id\n    }\n  }\n  ...usePermissionsFragment\n  includedInBenefits(hideNonPublic: false, hideDrafts: false) {\n    edges {\n      node {\n        id\n        membershipPlan {\n          id\n          name\n        }\n        pricing {\n          frequency\n          kind\n          amountCents\n          ...pricingUtils_usePricingDisplayValue\n          id\n        }\n      }\n    }\n  }\n  organization {\n    viewerActiveMembershipPlan {\n      id\n    }\n    id\n  }\n}\n\nfragment ProductTypeTagFragment on Product {\n  typeTag {\n    label\n    color\n    id\n  }\n}\n\nfragment ProductWithDetailsFragment on Product {\n  id\n  name\n  startsAt\n  endsAt\n  type\n  slug\n  pricing {\n    ...pricingUtils_usePricingDisplayValue\n    id\n  }\n  ...ProductTypeTagFragment\n  badge {\n    ...BadgeFragment\n    id\n  }\n  cover\n}\n\nfragment UpgradeCheckoutVersionModalProducts_PaginationFragment_pbnwq on Organization {\n  id\n  paidProducts(types: [course, membership_plan], first: $first, after: $after, last: $last, before: $before) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        ...PaidProductTableRowFragment\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      startCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n\nfragment pricingUtils_usePricingDisplayValue on Pricing {\n  frequency\n  kind\n  amountCents\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};x.hash="4ea4edc1348b00351e40accc6fb89fd9",n.default=x},870375:function(e,n,a){a.r(n);a(244311);var t,l,i=(l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:t=["paidProducts"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:t},fragmentPathInResult:["node"],operation:a(47795),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"UpgradeCheckoutVersionModalProducts_PaginationFragment",selections:[l,{alias:"paidProducts",args:[{kind:"Literal",name:"types",value:["course","membership_plan"]}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"__UpgradeCheckoutVersionModalProductsTable_paidProducts_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[l,{args:null,kind:"FragmentSpread",name:"PaidProductTableRowFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:'__UpgradeCheckoutVersionModalProductsTable_paidProducts_connection(types:["course","membership_plan"])'}],type:"Organization",abstractKey:null});i.hash="b86a16a65f042286c9ff7e97d3bc69c6",n.default=i},490427:function(e,n,a){var t,l=a(386854),i=a(655496),r=a(285245),o=a(963114),s=(a(600758),a(681355),a(10165)),d=a(810863),u=a(541321),c=a(509645),m=a(162083),g=a(352387),p=a(667294),y=a(422578),f=a(785893),k=a(425108);var F=(0,d.Z)((function(e){return{listItem:{padding:e.spacing(1)},noFeeds:{marginTop:e.spacing(1)},popoverPaper:{borderRadius:e.measure.borderRadius.medium,padding:e.spacing(2),margin:0,maxHeight:"500px",minWidth:"200px"},feedGroupHeader:{display:"flex",gap:e.spacing(1),padding:e.spacing(0,1,0,1)},feedsContainer:{marginLeft:e.spacing(2.5),paddingLeft:e.spacing(2),borderLeft:e.palette.constants.borderSmall}}}));n.Z=s.Z.withSkeleton({component:function(e){var n=e.setFeedSelection,d=e.selectedFeed,h=e.children,b=(0,p.useRef)(null),P=(0,r.vn)(),v=(0,p.useState)(null),C=(0,l.Z)(v,2),S=C[0],K=C[1],I=(0,p.useState)(""),w=(0,l.Z)(I,2),x=w[0],T=w[1],j=F(),D=(0,o.bE)(),L=(0,y.useLazyLoadQuery)((void 0!==t||(t=a(600758)).hash&&"aee97acfcc61e8bbc083e12cbcc39506"!==t.hash&&k.error("The definition of 'FeedSelectorDropdownQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),{id:P.id},{fetchPolicy:"network-only"}).organization,O=s.Z.connectionToArray(null==L?void 0:L.products),A=O.reduce((function(e,n){return e+s.Z.connectionToArray(n.feeds).filter(_).length}),0),N=s.Z.connectionToArray(null==L?void 0:L.feeds).filter(_);return(0,f.jsxs)("div",{"data-testid":"FeedSelectorDropdown",children:[(0,f.jsx)(c.p,{ref:b,onClick:function(e){return K(e.currentTarget)},children:h}),(0,f.jsxs)(g.ZP,{anchorEl:S,open:Boolean(S),onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{classes:{root:j.popoverPaper}},children:[(0,f.jsx)(u.z6,{"data-testid":"FeedSelectorDropdown.Search",onChange:function(e){return T(e.target.value)},value:x,placeholder:"Search",fullWidth:!0}),N.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.U4,{variant:"body-xs-600-uppercase",display:"block",marginTop:2,marginBottom:1,children:D.organization.singular}),(0,f.jsx)("div",{"data-testid":"FeedSelectorDropdown.CommunityFeeds",children:N.map((function(e){return(0,f.jsx)("div",{children:(0,f.jsx)("div",{className:j.feedGroupHeader,children:(0,f.jsx)(m.Z,{className:j.listItem,onClick:function(){n({id:e.id,name:e.name,viewerPermissions:e.viewerPermissions}),E()},title:e.name,icon:e.app.badge&&(0,f.jsx)(i.Z,{badgeKey:e.app.badge,size:24})},e.id)})},e.id)}))})]}),A>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.U4,{variant:"body-xs-600-uppercase",display:"block",marginTop:2,marginBottom:1,children:"".concat(D.experience.plural)}),(0,f.jsx)("div",{"data-testid":"FeedSelectorDropdown.ProductFeeds",children:O.map((function(e){var a=s.Z.connectionToArray(e.feeds).filter(_);return a.length?(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:j.feedGroupHeader,children:[e.badge&&(0,f.jsx)(i.Z,{badgeKey:e.badge,size:24}),(0,f.jsx)(u.U4,{color:"text.secondary",variant:"body-sm",children:e.name})]}),(0,f.jsx)("div",{className:j.feedsContainer,children:a.map((function(a){return(0,f.jsx)(m.Z,{className:j.listItem,selected:d.id===a.id,onClick:function(){n({id:a.id,name:a.name,viewerPermissions:a.viewerPermissions,product:{id:e.id,name:e.name,status:e.status,slug:e.slug,waitingRoomEndsAt:e.waitingRoomEndsAt,startDate:e.startDate}}),E()},title:a.name},a.id)}))})]},e.id):null}))})]}),A<=0&&!N.length&&(0,f.jsx)(u.U4,{variant:"body-xs-600",className:j.noFeeds,children:"No feeds found."})]})]});function E(){K(null),T("")}function _(e){return!x||new RegExp(x,"gi").test(e.name)}},skeleton:function(){return null}})},197417:function(e,n,a){var t=a(204942),l=(a(606659),a(541321)),i=a(284911),r=a(785893);function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function s(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=function(e){var n=e.form;return(0,i.Z)().has("comments.disable")?(0,r.jsx)(l.v5,{"data-testid":"PostFormFields.Checkbox.show-comments",testid:"PostFormFields.Checkbox.show-comments",name:"toggle-show-comments",labelPlacement:"end",checked:n.state.content.showComments,onChange:function(){var e;return n.state.content=s(s({},n.state.content),{},{showComments:!(null!==(e=n.state.content)&&void 0!==e&&e.showComments)})},label:(0,r.jsx)(l.U4,{variant:"body-sm",color:"text.secondary",display:"inline",children:"Enable comments"})}):null}},855823:function(e,n,a){var t=a(204942),l=a(515395),i=a(354623),r=a(128006),o=a(406836),s=a(316541),d=(a(606659),a(193847)),u=(a(479159),a(525776),a(206569),a(810863)),c=a(559406),m=(a(851115),a(137969),a(757336)),g=(a(667294),a(785893));function p(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function y(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?p(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var f=(0,u.Z)((function(e){return{titleInputRoot:{backgroundColor:"transparent",padding:e.spacing(1,1.5,1,2)},titleInput:y(y({},e.typography["body-lg"]),e.typography.modifiers.fontWeight[600]),fieldWrapper:{display:"grid",gap:e.spacing(2.5)},aiStatusContainer:{position:"relative",top:"auto",right:"auto",width:"100%",maxWidth:"100%"}}}));n.Z=(0,m.Pi)((function(e){var n=e.form,a=e.contentKey,t=e.editorButtonsRef,u=e.setEditorRef,m=f();return(0,g.jsx)(g.Fragment,{children:"default"===n.state.step?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:m.fieldWrapper,children:[(0,g.jsx)(d.Z,{testid:"PostFormFields",mode:"edit",contentForm:n,alwaysAllowAttachmentUpload:!0,showAttachmentsList:!1}),n.state.aiTemplate&&c.Z.isEmpty(n.state.content.richEditorDescriptionContent)&&(0,g.jsx)(l.Z,{title:"Generating Post",footerMessage:"Generating your post, please wait...",classes:{container:m.aiStatusContainer},hideCloseButton:!0,statuses:[],showSpinner:!0}),(0,g.jsx)(s.Z,{form:n,classes:{input:m.titleInput,inputRoot:m.titleInputRoot},placeholder:"Enter a title (required)"})]}),(0,g.jsx)(r.Z,{form:n,showOutline:!1,placeholder:"Share something great...",contentKey:a,config:"post",editorButtonsRef:t,setEditorRef:u}),(0,g.jsx)(i.Z,{form:n,hideCreateButton:!0,hideDropzone:!0})]}):(0,g.jsx)(o.Z,{form:n})})}))},600758:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S,K,I,w,x,T,j,D,L,O,A,N,E,_,B,Z,V,M,U,R,z,$,Q={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FeedSelectorDropdownQuery",selections:[{alias:"organization",args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:s=[r={kind:"Literal",name:"canPost",value:!0},{kind:"Literal",name:"excludeProductLevel",value:!0},o={kind:"Variable",name:"first",variableName:"first"}],concreteType:"FeedNodeConnection",kind:"LinkedField",name:"feeds",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"node",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[m={alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BadgeFragment"}],storageKey:null},d,g={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"customAppUrl",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[d,u,c,f={args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[k={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},u,f,{args:null,kind:"FragmentSpread",name:"appLevelContextFragment"}],storageKey:null},h={alias:null,args:null,concreteType:"Collection",kind:"LinkedField",name:"collection",plural:!1,selections:F=[d],storageKey:null},b={alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:F,storageKey:null},v={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"linkProduct",plural:!1,selections:P=[k],storageKey:null},{alias:null,args:null,concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[C={alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},S={alias:null,args:null,concreteType:"Dashboard",kind:"LinkedField",name:"forYouDashboard",plural:!1,selections:F,storageKey:null},{args:null,kind:"FragmentSpread",name:"AppSidebarItemFragment"},{args:null,kind:"FragmentSpread",name:"ContentAppSettingsButtonFragment"},{args:null,kind:"FragmentSpread",name:"LinkAppSettingsButtonFragment"},{args:null,kind:"FragmentSpread",name:"FeedAppSettingsButtonFragment"},{args:null,kind:"FragmentSpread",name:"GenericAppSettingsButtonFragment"},{args:null,kind:"FragmentSpread",name:"CollectionAppSettingsButtonFragment"},{args:null,kind:"FragmentSpread",name:"ChatChannelSettingsModalButtonFragment"},{args:null,kind:"FragmentSpread",name:"ChatChannelSideBarItemFragment"},{args:null,kind:"FragmentSpread",name:"NavFolderSettingsDropdownFragment"},{args:null,kind:"FragmentSpread",name:"EventsAppSettingsButtonFragment"},{args:null,kind:"FragmentSpread",name:"MembersAppSettingsButtonFragment"},{args:null,kind:"FragmentSpread",name:"DashboardAppSettingsButtonFragment"},{kind:"InlineDataFragmentSpread",name:"AppUtils_getLocationFragment",selections:[d,g,p,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:F,storageKey:null},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:F,storageKey:null},h,b,v],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:K=[{kind:"Literal",name:"type",value:"course"}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"products",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[d,u,I={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},k,w={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"waitingRoomEndsAt",storageKey:null},m,{alias:"feeds",args:[r],concreteType:"FeedNodeConnection",kind:"LinkedField",name:"__ProductFeedSelectorDropdown_feeds_connection",plural:!1,selections:j=[{alias:null,args:null,concreteType:"FeedNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"node",plural:!1,selections:[d,u,c,T={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"__ProductFeedSelectorDropdown_feeds_connection(canPost:true)"}],storageKey:null}],storageKey:null}],storageKey:'products(type:"course")'}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t],kind:"Operation",name:"FeedSelectorDropdownQuery",selections:[{alias:"organization",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[T,d,{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"FeedNodeConnection",kind:"LinkedField",name:"feeds",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"node",plural:!1,selections:[d,u,c,{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[D={alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},d],storageKey:null},d,g,p,y,{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[d,u,c,{kind:"InlineFragment",selections:[T,{kind:"InlineFragment",selections:[L={alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:N=[A={alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},O],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:_=[E={alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},O],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:_,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:_,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[B={alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},O],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:_,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:_,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:N,type:"AssignmentSubmission",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[k,u,U={kind:"InlineFragment",selections:[T,{kind:"InlineFragment",selections:Z=[c],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[L,c,O],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:V=[A,c,O],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:M=[E,c,O],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:M,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:M,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[B,c,O],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:M,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:M,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:V,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:Z,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:Z,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},d,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:"connectedApps",args:[{kind:"Literal",name:"includeNested",value:!0}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[d,g],storageKey:null}],storageKey:null}],storageKey:"productApps(includeNested:true)"},{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:F,storageKey:null}],storageKey:null},h,b,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"linkProduct",plural:!1,selections:[k,d],storageKey:null},{alias:null,args:null,concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[C,d],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},S,I,R={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"navSectionId",storageKey:null},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[d,C,U,R,z],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:K,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"products",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[d,u,I,k,w,x,D,{alias:null,args:$=[r,o],concreteType:"FeedNodeConnection",kind:"LinkedField",name:"feeds",plural:!1,selections:j,storageKey:null},{alias:null,args:$,filters:["canPost"],handle:"connection",key:"ProductFeedSelectorDropdown_feeds",kind:"LinkedHandle",name:"feeds"}],storageKey:null}],storageKey:null}],storageKey:'products(type:"course")'}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"89ec9c791a04496848f278d6a0ed6657",id:null,metadata:{connection:[{count:"first",cursor:null,direction:"forward",path:null}]},name:"FeedSelectorDropdownQuery",operationKind:"query",text:'query FeedSelectorDropdownQuery(\n  $id: ID!\n  $first: Int\n) {\n  organization: node(id: $id) {\n    __typename\n    ... on Organization {\n      feeds(first: $first, canPost: true, excludeProductLevel: true) {\n        edges {\n          node {\n            id\n            name\n            viewerPermissions\n            app {\n              badge {\n                ...BadgeFragment\n                id\n              }\n              id\n              kind\n              customAppUrl\n              customAppTitle\n              feed {\n                id\n                name\n                viewerPermissions\n                ...usePermissionsFragment\n              }\n              product {\n                slug\n                name\n                ...usePermissionsFragment\n                ...appLevelContextFragment\n                id\n              }\n              collection {\n                id\n              }\n              contentUsage {\n                id\n              }\n              linkProduct {\n                slug\n                id\n              }\n              productApps {\n                edges {\n                  node {\n                    id\n                    chatChannel {\n                      externalChannelId\n                      id\n                    }\n                  }\n                }\n              }\n              forYouDashboard {\n                id\n              }\n              ...AppSidebarItemFragment\n              ...ContentAppSettingsButtonFragment\n              ...LinkAppSettingsButtonFragment\n              ...FeedAppSettingsButtonFragment\n              ...GenericAppSettingsButtonFragment\n              ...CollectionAppSettingsButtonFragment\n              ...ChatChannelSettingsModalButtonFragment\n              ...ChatChannelSideBarItemFragment\n              ...NavFolderSettingsDropdownFragment\n              ...EventsAppSettingsButtonFragment\n              ...MembersAppSettingsButtonFragment\n              ...DashboardAppSettingsButtonFragment\n              ...AppUtils_getLocationFragment\n            }\n          }\n        }\n      }\n      products(type: "course") {\n        edges {\n          node {\n            id\n            name\n            status\n            slug\n            startDate\n            waitingRoomEndsAt\n            badge {\n              ...BadgeFragment\n              id\n            }\n            feeds(first: $first, canPost: true) {\n              edges {\n                node {\n                  id\n                  name\n                  viewerPermissions\n                  __typename\n                }\n                cursor\n              }\n              pageInfo {\n                endCursor\n                hasNextPage\n              }\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment AppSidebarItemFragment on ProductApp {\n  kind\n  status\n  visibility\n  customAppTitle\n  badge {\n    ...BadgeFragment\n    id\n  }\n  product {\n    ...usePermissionsFragment\n    id\n  }\n  forYouDashboard {\n    id\n  }\n  ...RemoveAppButtonFragment\n  ...ToggleAppStatusButtonFragment\n}\n\nfragment AppUtils_getLocationFragment on ProductApp {\n  id\n  kind\n  customAppUrl\n  product {\n    slug\n    id\n  }\n  feed {\n    id\n  }\n  chatChannel {\n    id\n  }\n  collection {\n    id\n  }\n  contentUsage {\n    id\n  }\n  linkProduct {\n    slug\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment ChatChannelBadgeFragment on ProductApp {\n  badge {\n    ...BadgeFragment\n    id\n  }\n  chatChannel {\n    visibility\n    id\n  }\n}\n\nfragment ChatChannelSettingsModalButtonFragment on ProductApp {\n  id\n  productId\n}\n\nfragment ChatChannelSideBarItemFragment on ProductApp {\n  id\n  customAppTitle\n  chatChannel {\n    id\n    externalChannelId\n    ...usePermissionsFragment\n  }\n  product {\n    slug\n    name\n    viewerMembership {\n      id\n    }\n    id\n  }\n  ...ChatChannelBadgeFragment\n  ...ChatChannelSettingsModalButtonFragment\n  ...DeleteChatChannelAppButtonFragment\n  ...AppUtils_getLocationFragment\n}\n\nfragment CollectionAppSettingsButtonFragment on ProductApp {\n  id\n  ...CollectionAppSettingsModalFragment\n}\n\nfragment CollectionAppSettingsModalFragment on ProductApp {\n  id\n}\n\nfragment ContentAppSettingsButtonFragment on ProductApp {\n  id\n  ...ContentAppSetupModalFragment\n}\n\nfragment ContentAppSetupModalFragment on ProductApp {\n  id\n}\n\nfragment DashboardAppSettingsButtonFragment on ProductApp {\n  id\n  ...DashboardAppSetupModalFragment\n}\n\nfragment DashboardAppSetupModalContentFragment on ProductApp {\n  id\n  forYouDashboard {\n    id\n  }\n}\n\nfragment DashboardAppSetupModalFragment on ProductApp {\n  customAppTitle\n  forYouDashboard {\n    id\n  }\n  ...DashboardAppSetupModalContentFragment\n}\n\nfragment DeleteChatChannelAppButtonFragment on ProductApp {\n  id\n  navSectionId\n  product {\n    id\n    slug\n  }\n  chatChannel {\n    id\n    organizationId\n  }\n}\n\nfragment DeleteNavFolderButtonFragment on ProductApp {\n  id\n  customAppTitle\n  productApps {\n    totalCount\n  }\n}\n\nfragment EventsAppSettingsButtonFragment on ProductApp {\n  id\n  ...EventsAppSetupModalFragment\n}\n\nfragment EventsAppSetupModalFragment on ProductApp {\n  id\n}\n\nfragment FeedAppSettingsButtonFragment on ProductApp {\n  id\n  ...FeedAppSetupModalFragment\n}\n\nfragment FeedAppSetupModalFragment on ProductApp {\n  id\n}\n\nfragment GenericAppSettingsButtonFragment on ProductApp {\n  id\n  ...GenericAppSettingsModalFragment\n}\n\nfragment GenericAppSettingsModalFragment on ProductApp {\n  id\n  kind\n}\n\nfragment LinkAppSettingsButtonFragment on ProductApp {\n  id\n  ...LinkAppSetupModalFragment\n}\n\nfragment LinkAppSetupModalFragment on ProductApp {\n  id\n  kind\n}\n\nfragment MemberDirectoryAppSettingsModalFragment on ProductApp {\n  id\n  kind\n}\n\nfragment MembersAppSettingsButtonFragment on ProductApp {\n  id\n  kind\n  productId\n  ...MemberDirectoryAppSettingsModalFragment\n}\n\nfragment NavFolderSettingsButtonFragment on ProductApp {\n  id\n}\n\nfragment NavFolderSettingsDropdownFragment on ProductApp {\n  id\n  product {\n    ...usePermissionsFragment\n    id\n  }\n  ...NavFolderSettingsButtonFragment\n  ...DeleteNavFolderButtonFragment\n}\n\nfragment RemoveAppButtonFragment on ProductApp {\n  id\n  kind\n  customAppTitle\n  feed {\n    id\n    name\n  }\n  collection {\n    id\n  }\n  productId\n  organizationId\n  navSectionId\n}\n\nfragment ToggleAppStatusButtonFragment on ProductApp {\n  id\n  status\n  kind\n  product {\n    type\n    id\n  }\n}\n\nfragment appLevelContextFragment on Product {\n  id\n  name\n  slug\n  type\n  ...useConnectedProductAppsActiveProductFragment\n}\n\nfragment useConnectedProductAppsActiveProductFragment on Product {\n  connectedApps: productApps(includeNested: true) {\n    edges {\n      node {\n        id\n        kind\n      }\n    }\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n'}};Q.hash="aee97acfcc61e8bbc083e12cbcc39506",n.default=Q},545953:function(e,n,a){var t=a(204942),l=a(386854),i=a(145987),r=a(787695),o=(a(905881),a(681355),a(509645)),s=a(128032),d=a(667294),u=a(785893),c=["testid","feedId","refetch","className","children","checkQueryParamForModalOpen","aiTemplate"];function m(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function g(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?m(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=function(e){var n=e.testid,a=void 0===n?"CreatePostButton":n,t=e.feedId,m=e.refetch,p=e.className,y=e.children,f=e.checkQueryParamForModalOpen,k=e.aiTemplate,F=(0,i.Z)(e,c),h=(0,s.t)(),b=(0,l.Z)(h,2),P=b[0].createPost,v=b[1];return(0,u.jsx)(o.p,g(g({leftIcon:"add",className:p,testid:a,stopPropagation:!!k,modalOpenByDefault:f&&"true"===P,modal:(0,d.useCallback)((function(e){return e.isOpen?(0,u.jsx)(r.Z,{isOpen:f&&"true"===P||e.isOpen,onClose:function(){e.onClose(),v({createPost:void 0})},feedId:t,refetch:m,aiTemplate:k}):null}),[t])},F),{},{children:y||"Add Post"}))}},186503:function(e,n,a){a.d(n,{Z:function(){return _}});var t=a(204942),l=a(386854),i=a(145987),r=a(285245),o=a(69722),s=a(922261),d=a(753688),u=a(545953),c=a(908436),m=a(490911),g=a(430684),p=a(787695),y=(a(681355),a(810863)),f=a(111740),k=a(541321),F=(a(509645),a(757336)),h=a(667294),b=a(785893);var P,v=(0,y.Z)((function(){return{noBorderAIButton:{width:"40px",height:"40px"}}})),C=(0,F.Pi)((function(e){var n=e.feedId,a=e.refetch,t=e.children,i=e.testid,r=void 0===i?"WritePostWithAIButton":i,o=(0,h.useState)(!1),s=(0,l.Z)(o,2),d=s[0],u=s[1],y=(0,h.useState)(!1),F=(0,l.Z)(y,2),P=F[0],C=F[1],S=v(),K=(0,c.X)().form;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},style:{display:"inline-block"},role:"button",tabIndex:0,children:(0,b.jsx)(k.t2,{content:"Write with AI",children:(0,b.jsx)(f.Z,{variant:"outlined",transparentBg:!0,testid:r,onClick:function(e){e.stopPropagation(),u(!0)},size:"small",stopPropagation:!0,className:S.noBorderAIButton,children:t})})}),(0,b.jsx)(m.Z,{testid:"".concat(r,".AIFormModal"),modalContentLabel:"Post Generation",title:"Describe your post",isOpen:d,onClose:function(){u(!1)},form:K,onSubmit:function(){var e;null!==(e=K.state.prompt)&&void 0!==e&&e.trim()&&(u(!1),setTimeout((function(){C(!0)}),100))},placeholder:g.eR}),P&&(0,b.jsx)(p.Z,{isOpen:P,onClose:function(){C(!1)},feedId:n,refetch:a,aiTemplate:"default",prompt:K.state.prompt||void 0,referenceUrls:K.state.referenceUrls||[],assetEmbeddingSourceIds:K.state.assetEmbeddingSourceIds||[],contentEmbeddingSourceIds:K.state.contentEmbeddingSourceIds||[],trainingDataEmbeddingSourceIds:K.state.trainingDataEmbeddingSourceIds||[],searchWeb:K.state.searchWeb||!1,communityContext:K.state.communityContext||!1,onSubmitPost:function(){K.reset()}})]})})),S=(a(316134),a(10165)),K=a(276979),I=a(269865),w=a(188191),x=a(4580),T=a(923450),j=a.n(T),D=a(422578),L=a(425108),O=["buttons","disabled","tooltip","feedId","noMargin"];function A(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function N(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?A(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var E=(0,y.Z)((function(e){return{container:function(n){return{marginBottom:n.noMargin?0:e.spacing(2),display:"flex",flexDirection:"column",gap:e.spacing(1.5)}},section:{display:"flex",alignItems:"center",gap:e.spacing(1.5),"&:hover":{boxShadow:e.palette.groovyDepths.boxShadow},padding:e.spacing(2.5)},input:{cursor:"pointer",pointerEvents:"none"}}}));var _=S.Z.withSkeleton({component:function(e){var n,t=e.buttons,c=e.disabled,m=e.tooltip,g=e.feedId,p=e.noMargin,y=(0,i.Z)(e,O),f=(0,s.f)({required:!0}).authUser,F=E({noMargin:p}),h=(0,d.P)("scheduledPosts"),v=(0,x.Z)("ai_inline_prompts"),T=(0,w.Z)().aiPostGenerationV2,A=(0,r.vn)(),_=(0,o.R6)(),B=((null==_?void 0:_.viewerIsManagerOrInstructor)||(null==A?void 0:A.viewerIsOwnerOrAdmin))&&!(null!=_&&_.isAdminViewingAsMember||null!=A&&A.isAdminViewingAsMember),Z=S.Z.useRefetchableQuery((void 0!==P||(P=a(316134)).hash&&"e47e63af6a814724363fa950d0cfb835"!==P.hash&&L.error("The definition of 'CreatePostInputQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),P),{feedId:g||""},{fetchPolicy:"store-and-network",refetchInBackground:!0}),V=(0,l.Z)(Z,2),M=V[0].node,U=V[1],R=S.Z.narrowNodeType(M,"Feed"),z=function(){y.refetch&&y.refetch(),g&&U({feedId:g})};(0,D.useSubscribeToInvalidationState)(null!=R&&R.__id?[R.__id]:[],(function(){z()}));var $=(null==R||null===(n=R.posts)||void 0===n?void 0:n.totalCount)||0,Q=(0,b.jsxs)(k.W0,{className:F.section,groovyDepths:"xs",border:!0,children:[(0,b.jsx)(K.Z,{userKey:f,size:40}),(0,b.jsx)(k.z6,{placeholder:"What would you like to share today?","data-testid":"CreatePostInput",readOnly:!0,fullWidth:!0,disableFocus:!0,disabled:c,classes:{input:F.input}}),t,B&&v&&T&&(0,b.jsx)(C,{testid:"WritePostWithAIButton",feedId:g||"",refetch:z})]});return(0,b.jsxs)("div",{className:F.container,children:[m?(0,b.jsx)(k.t2,{content:m,children:(0,b.jsx)("span",{children:Q})}):(0,b.jsx)(u.Z,{checkQueryParamForModalOpen:!0,feedId:g,refetch:z,className:y.className,children:function(e){return(0,b.jsx)(I.Z,N(N({},e),{},{children:Q}))}}),$>0&&(0,b.jsxs)(k.U4,{color:"text.secondary",variant:"body-xs",component:"div",children:["You have ",(0,b.jsx)(k.Xn,{onClick:function(){if(!g)return;h.open({feedId:g})},textVariant:"body-xs",children:"".concat($," scheduled ").concat(j()("post",$))})]})]})},skeleton:function(){var e=E({});return(0,b.jsx)("div",{className:e.container,children:(0,b.jsx)(k.sS,{height:90})})}})},787695:function(e,n,a){a.d(n,{Z:function(){return ce}});var t=a(241451),l=a(204942),i=(a(585438),a(951469)),r=a(543289),o=a(606659),s=a(285245),d=a(69722),u=a(922261),c=a(963114),m=a(384714),g=a(479159),p=(a(525776),a(236664),a(545953),a(115861)),y=a(386854),f=a(145987),k=a(887757),F=a.n(k),h=a(655979),b=a(753688),P=a(345139),v=a(628613),C=a(669187),S=(a(187351),a(855823)),K=a(407176),I=(a(681355),a(837025)),w=a(559406),x=(a(851115),a(52270)),T=a(541321),j=a(611797),D=a(168949),L=a(757336),O=a(667294),A=a(616550),N=a(244311),E=a(785893),_=["testid"];function B(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Z(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?B(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var V,M,U=(0,L.Pi)((function(e){var n=e.testid,a=void 0===n?"CreatePostForm":n,l=(0,f.Z)(e,_),i=l.form,r=l.refetch,o=l.onClose,s=l.editorButtonsRef,d=l.onSubmitPost,u=(0,A.k6)(),c=(0,A.TH)(),g=(0,O.useRef)(!1),k=(0,O.useState)(!1),L=(0,y.Z)(k,2),B=L[0],V=L[1],M=(0,b.P)("scheduledPosts"),U=(0,m.yM)().setUnsavedChanges,R=(0,I.Z)(),z=(0,P.y)().completeOrIgnoreChecklistItem,$=(0,O.useState)(null),Q=(0,y.Z)($,2),q=Q[0],H=Q[1];return(0,O.useEffect)((function(){i.state.aiTemplate&&q&&function(){W.apply(this,arguments)}()}),[i.state.aiTemplate,q]),B?(0,E.jsx)(j.Z,{isOpen:!0,onClose:function(){return null==o?void 0:o(!1)},title:"Confirm Scheduling",modalContentLabel:"Confirm Scheduling",testid:"CreatePostModal.confirm-scheduled-share",variant:"primary",description:"This Experience is currently in draft mode. If the Experience is still in draft mode at the time this post is published, the post will not be shared by email.",cancelButtonText:"Cancel",customConfirmationButton:(0,E.jsx)(T.v2,{testid:"".concat(a,".confirm-submit"),width:"100%",onClick:function(){g.current=!0,X()},shouldDisplaySpinner:i.isSubmitting,disabled:i.isSubmitting,children:"Schedule Post"})}):(0,E.jsx)(x.Z,{id:"CreatePostForm",testid:a,onSubmit:X,children:(0,E.jsx)(S.Z,{form:i,editorButtonsRef:s,setEditorRef:H})});function W(){return(W=(0,p.Z)(F().mark((function e(){var n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("title");case 2:return n=e.sent,e.next=5,G("body",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,n){return Y.apply(this,arguments)}function Y(){return(Y=(0,p.Z)(F().mark((function e(n,a){var l,r,o,s;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={feedId:i.state.feedId,template:i.state.aiTemplate,prompt:i.state.prompt,referenceUrls:null!==(l=i.state.referenceUrls)&&void 0!==l&&l.length?(0,D.ZN)(i.state.referenceUrls):[],referenceEmbeddingSourceIds:[].concat((0,t.Z)(i.state.assetEmbeddingSourceIds||[]),(0,t.Z)(i.state.contentEmbeddingSourceIds||[]),(0,t.Z)(i.state.trainingDataEmbeddingSourceIds||[])),communityContext:i.state.communityContext,searchWeb:i.state.searchWeb},"title"!==n){e.next=5;break}return e.next=4,v.Z.createStream({startStreamCb:function(){return h.Z.generatePost(Z(Z({},r),{},{responseType:"title"}))},handleText:function(e){return i.state.content.name=e,!0},onStreamEnd:function(e){e.webSearchOutput&&(o=e.webSearchOutput)}});case 4:return e.abrupt("return",o);case 5:if("body"!==n||!q){e.next=8;break}return e.next=8,w.Z.aiStreamToEditor(q,Z(Z({},r),{},{responseType:"body",postTitle:null!==(s=i.state.content.name)&&void 0!==s?s:void 0,previousResearchOutput:a}),{onStreamEnd:function(e){e.botResponseId&&(R({kind:"post_suggestion_drafted",entityId:e.botResponseId}),i.state.botResponseId=e.botResponseId)}});case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return J.apply(this,arguments)}function J(){return(J=(0,p.Z)(F().mark((function e(){var n,a,t,l,s,m,p,y,f,k,h;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.state.selectedFeed.product&&"published"!==i.state.selectedFeed.product.status&&i.state.content.sendNotificationEmail&&i.state.isScheduled)||g.current){e.next=2;break}return e.abrupt("return",V(!0));case 2:return(s=[]).push(N.ConnectionHandler.getConnectionID(i.state.selectedFeed.id,"FeedPosts__posts",{kind:i.state.isScheduled?"scheduled":"released"})),m=i.state.isScheduled,e.next=7,i.submit({feedId:i.state.feedId,content:Z(Z({},i.state.content),{},{richEditorNotificationEmailBodyContent:i.state.selectedFeed.product?i.state.content.richEditorDescriptionContent:i.state.content.richEditorNotificationEmailBodyContent,releaseDatetime:i.state.isScheduled?i.state.content.releaseDatetime:null}),botResponseId:i.state.botResponseId},{connections:s});case 7:if(p=e.sent,y=p.didSave,f=p.response,y&&null!=f&&null!==(n=f.node)&&void 0!==n&&n.id){e.next=12;break}return e.abrupt("return");case 12:return U(!1),(0,N.commitLocalUpdate)(K.Z,(function(e){s.forEach((function(n){var a=e.get(n);if(a){var t=Number(a.getValue("totalCount"));a.setValue(t+1,"totalCount")}if(!r){var l=e.get(i.state.feedId);l&&l.invalidateRecord()}}))})),e.next=16,z("write_welcome_post");case 16:r&&r(),d&&d(),o&&o(!0),h=!i.state.selectedFeed.product||"published"===(null===(a=i.state.selectedFeed.product)||void 0===a?void 0:a.status),f.node.viewerPermissions.includes("post.share")&&h&&(k=f.node.id),c.pathname===C.ZP.COMMUNITY.HOME.ROOT&&null!=f&&null!==(t=f.node)&&void 0!==t&&t.id&&u.replace(Z(Z({},c),{},{state:Z(Z({},c.state),{},{openSharePostModal:k})})),null!=f&&null!==(l=f.node)&&void 0!==l&&l.feedId&&(m?M.open({feedId:f.node.feedId}):u.push({pathname:i.state.selectedFeed.product?(0,A.Gn)(C.ZP.PRODUCT.FEED.POSTS.LIST,{productSlug:i.state.selectedFeed.product.slug,feedId:f.node.feedId}):(0,A.Gn)(C.ZP.COMMUNITY.FEED.POSTS.LIST,{feedId:f.node.feedId}),state:{openSharePostModal:k}}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),R=a(490427),z=(a(905881),a(197417)),$=a(164026),Q=a(494204),q=a(10165),H=a(383382),W=a(810863),G=a(445033),Y=a(108920),X=a(541749),J=a(696672),ee=a(188191),ne=a(982879),ae=a(692311),te=a(429422),le=a(422578),ie=a(425108);function re(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return oe(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return oe(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var t=0,l=function(){};return{s:l,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function se(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function de(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?se(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var ue=(0,W.Z)((function(e){return{details:{height:"unset",display:"flex",alignItems:"center",marginTop:e.spacing(.25)},detailsText:{textTransform:"none"},chevron:{display:"flex",transform:"rotate(180deg)"},buttonsContainer:{display:"flex",gap:e.spacing(1)},body:(0,l.Z)({},e.breakpoints.down("xs"),{padding:e.spacing(.5,1,1)})}})),ce=q.Z.withSkeleton({component:(0,L.Pi)((function(e){var n,l,p,y,f,k=e.feedId,F=e.initialTitle,h=e.initialDescription,b=e.refetch,P=e.botResponseId,v=e.onSubmitPost,C=(0,ee.Z)().globalAdd,S=(0,s.vn)(),K=(0,m.Su)(),I=(0,d.R6)(),x=null==I?void 0:I.id,j=(0,u.f)().authUser,L=ue(),A=(0,Y.Z)(),N=(0,Q.Z)(),_=(0,ne.Kx)().createPost,B=null!==(n=e.isOpen)&&void 0!==n?n:"true"===_,Z=(0,c.bE)(),W=(null==S?void 0:S.viewerIsOwnerOrAdmin)||(null==I?void 0:I.viewerIsManagerOrInstructor),oe=(0,O.useRef)(null),se=(0,le.useLazyLoadQuery)((void 0!==V||(V=a(236664)).hash&&"2df08f0be4665b36d0bbd0ad794c15d1"!==V.hash&&ie.error("The definition of 'CreatePostModalQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),V),{organizationId:S.id,feedId:k||"",productId:x||"",userId:null!=j&&j.id?j.id:""},{fetchPolicy:"network-only"}),ce=se.organization,me=se.product,ge=se.feedNode,pe=se.user,ye=q.Z.narrowNodeType(ge,"Feed"),fe=function(){if(k)return q.Z.isNodeType(ye,"Feed")?ye:null;if(x){if(!q.Z.isNodeType(me,"Product"))return null;var e=q.Z.connectionToArray(me.feeds).find((function(e){var n;return null===(n=e.viewerPermissions)||void 0===n?void 0:n.includes("posts.create")}));return e?de(de({},e),{},{product:me}):null}var n=q.Z.connectionToArray(null==ce?void 0:ce.feeds);if(n[0])return n[0];var a,t=re(q.Z.connectionToArray(null==ce?void 0:ce.products));try{for(t.s();!(a=t.n()).done;){var l=a.value,i=q.Z.connectionToArray(l.feeds);if(i[0])return de(de({},i[0]),{},{product:l})}}catch(e){t.e(e)}finally{t.f()}return null}(),ke=(0,g.V)((void 0!==M||(M=a(525776)).hash&&"37473b1a85323403cafe6b5a68ef3106"!==M.hash&&ie.error("The definition of 'CreatePostModalMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),M),{feedId:null!==(l=null==fe?void 0:fe.id)&&void 0!==l?l:"",content:{name:F||"",description:"",richEditorDescriptionContent:h||"",attachments:D.LO.array(),coverPhoto:null,coverVideo:null,coverVideoDurationSeconds:null,notificationEmailSubject:"",richEditorNotificationEmailBodyContent:null,notificationEmailCtaButton:"enabled",sendNotificationEmail:!1,showComments:!0,releaseDatetime:(0,ae.Z)((0,te.Z)(new Date,{days:1}),{hours:13,minutes:0}).toString()},isScheduled:!1,step:"default",selectedFeed:null!=fe?fe:{},botResponseId:P,aiTemplate:e.aiTemplate,prompt:e.prompt,referenceUrls:e.referenceUrls,assetEmbeddingSourceIds:e.assetEmbeddingSourceIds,contentEmbeddingSourceIds:e.contentEmbeddingSourceIds,trainingDataEmbeddingSourceIds:e.trainingDataEmbeddingSourceIds,searchWeb:e.searchWeb,communityContext:e.communityContext});(0,O.useEffect)((function(){K.setUnsavedChanges(ke.isChanged)}),[ke.isChanged]);var Fe=$.c.getPostFormModalTitle("add",ke.state.step),he=x&&(!q.Z.isNodeType(me,"Product")||!q.Z.connectionToArray(me.feeds).length),be=null===(p=ke.state.selectedFeed.viewerPermissions)||void 0===p?void 0:p.includes("posts.create"),Pe=null===(y=ke.state.selectedFeed.viewerPermissions)||void 0===y?void 0:y.includes("posts.schedule");return(0,E.jsx)(m.ZP,de(de({},K),{},{children:(0,E.jsx)(T.SH,de(de({},e),{},{shouldCloseOnOverlayClick:!1,isOpen:B,onClose:function(){return ve(!1)},classes:{body:L.body},title:"default"===ke.state.step?pe&&(0,E.jsx)(H.ZP,{userKey:pe,linkToProfile:!1,classes:{details:L.details},details:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(T.U4,{variant:"body-xs-500-uppercase",truncateText:1,color:"text.secondary",display:"inline",className:L.detailsText,marginRight:.5,children:"Posting in"}),k&&!C?(0,E.jsx)(T.aH,{"data-testid":"CreatePostModal.feedName",label:Ce(),color:"blue",borderRadius:8}):(0,E.jsx)(R.Z,{setFeedSelection:function(e){var n=(0,D.LO)({id:e.id,name:e.name,viewerPermissions:D.LO.array(e.viewerPermissions?(0,t.Z)(e.viewerPermissions):[]),product:e.product?(0,D.LO)(e.product):null});ke.state.selectedFeed=n,ke.state.feedId=e.id},selectedFeed:ke.state.selectedFeed,children:function(e){return(0,E.jsx)("div",de(de({},e),{},{children:(0,E.jsx)(T.aH,{"data-testid":"CreatePostModal.feedName",label:Ce(),rightIcon:(0,E.jsx)(T.De,{icon:"chevron",className:L.chevron,width:16,height:16}),color:Se(),borderRadius:8})}))}})]})}):"schedule"===ke.state.step?"Schedule Post":"Share Post",modalContentLabel:Fe,width:"720px",height:N?"100%":void 0,maxHeight:N?"95vh":void 0,shouldCloseOnEsc:!1,testid:"CreatePostModal",body:(0,E.jsxs)("div",{onDragStart:function(e){e.stopPropagation()},children:[ke.state.selectedFeed.name?be?null:(0,E.jsx)(T.kz,{"data-testid":"CreatePostModal.feed-permission-alert",severity:"warning",marginBottom:1.5,message:"You do not have permission to post in this Feed."}):W?he?(0,E.jsx)(T.kz,{severity:"warning",marginBottom:1.5,message:(0,E.jsxs)(E.Fragment,{children:["In order to add a post in this ".concat(Z.admin_experience.singular,", you must first install a Feed app to ").concat(x?"this":"an"," Experience. "),(0,E.jsx)(T.Xn,{to:"https://support.disco.co/hc/en-us/articles/10830820006804#feedapp-add-feed",target:"_blank",children:"Learn how to add an App."})]})}):!fe&&(0,E.jsx)(T.kz,{severity:"warning",marginBottom:1.5,message:(0,E.jsxs)(E.Fragment,{children:["In order to add a post in this ".concat(Z.organization.singularLowercase,", you must first install a Feed app. "),(0,E.jsx)(T.Xn,{to:"https://support.disco.co/hc/en-us/articles/10830820006804#feedapp-add-feed",target:"_blank",children:"Learn how to add an App."})]})}):(0,E.jsx)(T.kz,{"data-testid":"CreatePostModal.experience-permission-alert",severity:"warning",marginBottom:1.5,message:"You do not have permission to post in this ".concat(x?Z.experience.singular:Z.organization.singularLowercase," ")}),(0,E.jsx)(U,{form:ke,onClose:ve,refetch:b,feedId:k,editorButtonsRef:oe,onSubmitPost:v})]}),fullWidthButtons:!0,isFullScreenInWebView:!0,buttons:(0,E.jsxs)(X.Z,{container:!0,direction:"column",children:["schedule"===ke.state.step&&ke.state.selectedFeed.product&&(0,E.jsx)(X.Z,{item:!0,style:{marginBottom:A.spacing(2.5)},children:(0,E.jsx)(r.Z,{form:ke,contentType:"post"})}),(0,E.jsxs)(X.Z,{item:!0,container:!0,alignItems:"center",justifyContent:"default"===ke.state.step?"space-between":"flex-end",children:["default"===ke.state.step?(0,E.jsxs)("div",{className:L.buttonsContainer,children:[(0,E.jsx)(z.Z,{form:ke}),(0,E.jsx)("div",{ref:oe})]}):"schedule"===ke.state.step?(0,E.jsx)(X.Z,{item:!0,className:L.buttonsContainer,children:(0,E.jsx)(i.Z,{form:ke,contentType:"post",productId:null===(f=ke.state.selectedFeed.product)||void 0===f?void 0:f.id,disabled:!ke.state.content.sendNotificationEmail||o.Z.areNotificationFieldsEmpty(ke)},"preview-email")}):null,(0,E.jsx)(X.Z,{item:!0,className:L.buttonsContainer,children:function(){if("default"===ke.state.step)return[].concat((0,t.Z)(J.BB.spreadIf((0,E.jsx)(T.v2,{testid:"CreatePostModal.button.step-schedule",leftIcon:"calendar",color:"grey",variant:"outlined",onClick:function(){return $.c.moveToScheduleStep(ke,{formValidator:Ke})},disabled:Ie(),children:"Schedule"},"schedule"),Pe)),[(0,E.jsx)(T.v2,{testid:"CreatePostModal.button.submit-now",type:"submit",form:"CreatePostForm",shouldDisplaySpinner:ke.isSubmitting,disabled:ke.isSubmitting||Ie(),children:"Post Now"},"confirm")]);if("schedule"===ke.state.step)return[(0,E.jsx)(T.v2,{color:"grey",variant:"outlined",testid:"CreatePostModal.button.previous",onClick:function(){return $.c.moveToDefaultStep(ke)},children:"Previous"},"previous"),(0,E.jsx)(T.v2,{testid:"CreatePostModal.button.submit-schedule",type:"submit",form:"CreatePostForm",shouldDisplaySpinner:ke.isSubmitting,disabled:ke.isSubmitting||w.Z.isEmpty(ke.state.content.richEditorDescriptionContent),children:"Schedule Post"},"confirm")];return[]}()})]})]})}))}));function ve(n){e.onClose&&(n?e.onClose():K.handleLeave({onLeave:e.onClose}))}function Ce(){var e,n=null===(e=ke.state.selectedFeed.product)||void 0===e?void 0:e.name;return ke.state.selectedFeed.name?"".concat(n?"".concat(n," / "):"").concat(ke.state.selectedFeed.name):"No Feed Selected"}function Se(){return ke.state.selectedFeed.name?be?"blue":"grey":"yellow"}function Ke(){return!w.Z.isEmpty(ke.state.content.richEditorDescriptionContent)||((0,G.p)("Must include a description"),!1)}function Ie(){return!be||!ke.state.feedId||!ke.state.content.name||w.Z.isEmpty(ke.state.content.richEditorDescriptionContent)}})),skeleton:function(){return null}})},316134:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"feedId"}],kind:"Fragment",metadata:null,name:"CreatePostInputQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"id",variableName:"feedId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:[{kind:"Literal",name:"kind",value:"scheduled"}],concreteType:"PostNodeConnection",kind:"LinkedField",name:"posts",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:'posts(kind:"scheduled")'},o={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Feed",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CreatePostInputQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[r,o],type:"Feed",abstractKey:null}],storageKey:null}]},params:{cacheID:"4fbf6abfe1252c629c5f5f79c4cb9082",id:null,metadata:{},name:"CreatePostInputQuery",operationKind:"query",text:'query CreatePostInputQuery(\n  $feedId: ID!\n) {\n  node(id: $feedId) {\n    __typename\n    ... on Feed {\n      __typename\n      posts(kind: "scheduled") {\n        totalCount\n      }\n    }\n    id\n  }\n}\n'}};s.hash="e47e63af6a814724363fa950d0cfb835",n.default=s},525776:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S,K,I,w,x,T,j={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"connections"},l={defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"CreatePostModalMutation",selections:[{alias:"response",args:i=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreatePostResponse",kind:"LinkedField",name:"createPost",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"feedId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null},{args:null,kind:"FragmentSpread",name:"PostCardFragment"},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"isInactive",storageKey:null}],storageKey:null}],storageKey:null},u={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t],kind:"Operation",name:"CreatePostModalMutation",selections:[{alias:"response",args:i,concreteType:"CreatePostResponse",kind:"LinkedField",name:"createPost",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[r,o,s,c={alias:null,args:null,kind:"ScalarField",name:"releasedAt",storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[{kind:"InlineFragment",selections:[m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:g=[s],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[p={alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},s,y={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:k=[f={alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},s,y],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:h=[F={alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},s,y],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[b={alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},s,y],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:h,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:k,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:g,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:g,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},r,d],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[r,P={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"coverVideo",storageKey:null},{alias:null,args:null,concreteType:"AssetUsage",kind:"LinkedField",name:"coverVideoAssetUsage",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"asset",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},P,{alias:null,args:null,kind:"ScalarField",name:"muxAssetPlaybackId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspectRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoDuration",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"coverPhoto",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCoverPlayIcon",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"createdBy",plural:!1,selections:S=[r,C={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[P,K={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"releaseDatetime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationDatetime",storageKey:null},{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:I=[r,P],storageKey:null},c,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"richEditorDescriptionContent",storageKey:null},{alias:null,args:null,concreteType:"ContentMentionNodeConnection",kind:"LinkedField",name:"mentions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentMentionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentMention",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,C],storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[r,P,{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"mentionedProduct",plural:!1,selections:I,storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"mentionedContentUsage",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:I,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"mentionedOccurrence",plural:!1,selections:[r,P,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[P,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},w={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"ContentAttachmentNodeConnection",kind:"LinkedField",name:"attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentAttachmentNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentAttachment",kind:"LinkedField",name:"node",plural:!1,selections:[r,P,v,{alias:null,args:null,kind:"ScalarField",name:"downloadUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showComments",storageKey:null},{alias:null,args:null,concreteType:"ContentLikeNodeConnection",kind:"LinkedField",name:"likes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"hasViewerReacted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiAlias",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCount",storageKey:null}],storageKey:null}],storageKey:null},w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerCommented",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasFlagged",storageKey:null},{alias:null,args:null,concreteType:"ContentFlaggingNodeConnection",kind:"LinkedField",name:"flaggings",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentFlaggingNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentFlagging",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:S,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[r,K,P,{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinnedPost",kind:"LinkedField",name:"pinnedPost",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"ordering",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[m,{kind:"InlineFragment",selections:[p,y],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:x=[f,y],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:T=[F,y],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:T,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:T,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[b,y],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:T,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:T,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:x,type:"AssignmentSubmission",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,filters:null,handle:"prependNode",key:"",kind:"LinkedHandle",name:"node",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"},{kind:"Literal",name:"edgeTypeName",value:"PostNodeEdge"}]},u],storageKey:null}]},params:{cacheID:"f0e2c26603401d1f551d93741614276f",id:null,metadata:{},name:"CreatePostModalMutation",operationKind:"mutation",text:"mutation CreatePostModalMutation(\n  $input: CreatePostInput!\n) {\n  response: createPost(input: $input) {\n    node {\n      id\n      feedId\n      viewerPermissions\n      ...PostCardFragment\n      feed {\n        isInactive\n        id\n      }\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n\nfragment BookmarkButtonContentFragment on Content {\n  id\n  hasViewerBookmarked\n}\n\nfragment CommentUtils_useTotalCommentsCount on Content {\n  totalComments\n}\n\nfragment ContentAttachmentsSectionFragment on Content {\n  attachments {\n    edges {\n      node {\n        id\n        name\n        type\n        downloadUrl\n        videoUrl\n        mediaUrl\n      }\n    }\n  }\n}\n\nfragment ContentCard_ContentFragment on Content {\n  id\n  coverVideo\n  coverVideoAssetUsage {\n    id\n    asset {\n      id\n      ...DiscoVideoFragment\n    }\n  }\n  coverPhoto\n  thumbnailUrl\n  showCoverPlayIcon\n  ...ContentHeaderSectionFragment\n  ...ContentMediaSectionFragment\n  ...ContentTitleSectionFragment\n  ...ContentDescriptionSectionFragment\n  ...ContentAttachmentsSectionFragment\n  ...ContentFooterSection_ContentFragment\n  ...BookmarkButtonContentFragment\n}\n\nfragment ContentCommentButton_ContentFragment on Content {\n  ...CommentUtils_useTotalCommentsCount\n  hasViewerCommented\n}\n\nfragment ContentDescriptionSectionFragment on Content {\n  id\n  richEditorDescriptionContent\n  type\n  ...DiscoEditorMentionsFragment\n}\n\nfragment ContentFlaggingListItemFragment on ContentFlagging {\n  id\n  reason\n  reasonText\n  createdAt\n  user {\n    id\n    ...ProfileAvatarWithDetailsFragment\n  }\n}\n\nfragment ContentFlaggingListPopoverFragment on Content {\n  flaggings {\n    edges {\n      node {\n        id\n        ...ContentFlaggingListItemFragment\n      }\n    }\n  }\n}\n\nfragment ContentFlaggingsChipFragment on Content {\n  flaggings {\n    edges {\n      node {\n        id\n      }\n    }\n  }\n  ...ContentFlaggingListPopoverFragment\n}\n\nfragment ContentFooterSection_ContentFragment on Content {\n  id\n  hasViewerBookmarked\n  showComments\n  ...ContentReactionButton_ContentFragment\n  ...ContentCommentButton_ContentFragment\n  ...BookmarkButtonContentFragment\n}\n\nfragment ContentHeaderSectionFragment on Content {\n  id\n  type\n  createdBy {\n    id\n    ...ProfileAvatarWithDetailsFragment\n  }\n  product {\n    name\n    slug\n    id\n  }\n  releaseDatetime\n  creationDatetime\n  post {\n    feed {\n      id\n      name\n    }\n    releasedAt\n    id\n  }\n}\n\nfragment ContentMediaSectionFragment on Content {\n  id\n  coverPhoto\n  coverVideo\n  coverVideoAssetUsage {\n    id\n    asset {\n      id\n      ...DiscoVideoFragment\n    }\n  }\n}\n\nfragment ContentReactionButton_ContentFragment on Content {\n  id\n  likes {\n    totalCount\n  }\n  uniqueReactions {\n    edges {\n      node {\n        id\n        hasViewerReacted\n        emojiCode\n        emojiAlias\n        emojiCount\n      }\n    }\n  }\n}\n\nfragment ContentTitleSectionFragment on Content {\n  id\n  name\n}\n\nfragment DeletePostButtonFragment on Post {\n  id\n  feedId\n  ...usePermissionsFragment\n}\n\nfragment DiscoEditorMentionsFragment on Content {\n  id\n  ...EditorMentionsProviderFragment\n}\n\nfragment DiscoVideoFragment on Asset {\n  id\n  url\n  name\n  muxAssetPlaybackId\n  aspectRatio\n  videoDuration\n}\n\nfragment EditPostButtonFragment on Post {\n  id\n  ...usePermissionsFragment\n}\n\nfragment EditorMentionsProviderFragment on Content {\n  id\n  mentions {\n    edges {\n      node {\n        id\n        user {\n          id\n          fullName\n        }\n        memberGroup {\n          id\n          name\n          kind\n          role\n        }\n        mentionedProduct {\n          id\n          name\n        }\n        mentionedContentUsage {\n          id\n          content {\n            id\n            name\n          }\n        }\n        mentionedOccurrence {\n          id\n          name\n          content {\n            name\n            id\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment FlagContentButtonFragment on Content {\n  ...useCanFlagContentFragment\n  ...FlagContentFormFragment\n}\n\nfragment FlagContentFormFragment on Content {\n  id\n  type\n  product {\n    id\n  }\n}\n\nfragment PostCardFragment on Post {\n  id\n  feedId\n  releasedAt\n  feed {\n    ...usePermissionsFragment\n    id\n  }\n  content {\n    id\n    name\n    type\n    ...ContentCard_ContentFragment\n    ...FlagContentButtonFragment\n    ...ContentFlaggingsChipFragment\n    ...useCanFlagContentFragment\n  }\n  product {\n    id\n    slug\n    name\n    status\n  }\n  pinnedPost {\n    id\n    ordering\n  }\n  ...usePermissionsFragment\n  ...EditPostButtonFragment\n  ...DeletePostButtonFragment\n  ...SharePostButtonFragment\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment SharePostButtonFragment on Post {\n  id\n  releasedAt\n  ...usePermissionsFragment\n}\n\nfragment useCanFlagContentFragment on Content {\n  viewerHasFlagged\n  createdBy {\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};j.hash="37473b1a85323403cafe6b5a68ef3106",n.default=j},236664:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"feedId"},l={defaultValue:null,kind:"LocalArgument",name:"organizationId"},i={defaultValue:null,kind:"LocalArgument",name:"productId"},r={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"CreatePostModalQuery",selections:[{alias:"organization",args:o=[{kind:"Variable",name:"id",variableName:"organizationId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k={kind:"InlineFragment",selections:[m={alias:null,args:[{kind:"Literal",name:"canPost",value:!0},{kind:"Literal",name:"first",value:1}],concreteType:"FeedNodeConnection",kind:"LinkedField",name:"feeds",plural:!1,selections:c=[{alias:null,args:null,concreteType:"FeedNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"feeds(canPost:true,first:1)"},{alias:null,args:[{kind:"Literal",name:"type",value:"course"}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"products",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[s,d,g={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"waitingRoomEndsAt",storageKey:null},m],storageKey:null}],storageKey:null}],storageKey:'products(type:"course")'}],type:"Organization",abstractKey:null}],storageKey:null},{alias:"product",args:F=[{kind:"Variable",name:"id",variableName:"productId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[s,d,p,g,y,f,b={alias:null,args:null,concreteType:"FeedNodeConnection",kind:"LinkedField",name:"feeds",plural:!1,selections:c,storageKey:null}],type:"Product",abstractKey:null}],storageKey:null},{alias:"feedNode",args:P=[{kind:"Variable",name:"id",variableName:"feedId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"InlineFragment",selections:[s,d,u,v={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[s,d,p,g,y,f],storageKey:null}],type:"Feed",abstractKey:null}],storageKey:null},{alias:"user",args:C=[{kind:"Variable",name:"id",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ProfileAvatarWithDetailsFragment"}],type:"User",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,i,t,r],kind:"Operation",name:"CreatePostModalQuery",selections:[{alias:"organization",args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,k,s],storageKey:null},{alias:"product",args:F,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,s,{kind:"InlineFragment",selections:[d,p,g,y,f,b],type:"Product",abstractKey:null}],storageKey:null},{alias:"feedNode",args:P,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,s,{kind:"InlineFragment",selections:[d,u,v],type:"Feed",abstractKey:null}],storageKey:null},{alias:"user",args:C,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,s,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}]},params:{cacheID:"5d5516ce61f7b6e44fb51cb0af763d83",id:null,metadata:{},name:"CreatePostModalQuery",operationKind:"query",text:'query CreatePostModalQuery(\n  $organizationId: ID!\n  $productId: ID!\n  $feedId: ID!\n  $userId: ID!\n) {\n  organization: node(id: $organizationId) {\n    __typename\n    ... on Organization {\n      feeds(first: 1, canPost: true) {\n        edges {\n          node {\n            id\n            name\n            viewerPermissions\n          }\n        }\n      }\n      products(type: "course") {\n        edges {\n          node {\n            id\n            name\n            status\n            slug\n            startDate\n            waitingRoomEndsAt\n            feeds(first: 1, canPost: true) {\n              edges {\n                node {\n                  id\n                  name\n                  viewerPermissions\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n  product: node(id: $productId) {\n    __typename\n    ... on Product {\n      id\n      name\n      slug\n      status\n      startDate\n      waitingRoomEndsAt\n      feeds {\n        edges {\n          node {\n            id\n            name\n            viewerPermissions\n          }\n        }\n      }\n    }\n    id\n  }\n  feedNode: node(id: $feedId) {\n    __typename\n    ... on Feed {\n      id\n      name\n      viewerPermissions\n      product {\n        id\n        name\n        slug\n        status\n        startDate\n        waitingRoomEndsAt\n      }\n    }\n    id\n  }\n  user: node(id: $userId) {\n    __typename\n    ... on User {\n      ...ProfileAvatarWithDetailsFragment\n    }\n    id\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n'}};S.hash="2df08f0be4665b36d0bbd0ad794c15d1",n.default=S},963770:function(e,n,a){var t,l,i=a(204942),r=a(386854),o=a(145987),s=(a(424217),a(857379),a(445033)),d=a(509645),u=a(611797),c=a(571596),m=a(757336),g=a(667294),p=a(422578),y=a(295791),f=(a(244311),a(785893)),k=a(425108),F=["postKey","connectionId","onDelete","children"];function h(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function b(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?h(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=(0,m.Pi)((function(e){var n=e.postKey,i=e.connectionId,m=e.onDelete,h=e.children,P=(0,o.Z)(e,F),v=(0,p.useFragment)((void 0!==t||(t=a(424217)).hash&&"6f5aed9f88b97aa599ce80f8873a763e"!==t.hash&&k.error("The definition of 'DeletePostButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),n),C=(0,c.Z)(v),S=(0,g.useState)(!1),K=(0,r.Z)(S,2),I=K[0],w=K[1],x=(0,p.useMutation)((void 0!==l||(l=a(857379)).hash&&"55c5da49d00a46b263cb2a9f33562ec8"!==l.hash&&k.error("The definition of 'DeletePostButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l)),T=(0,r.Z)(x,2),j=T[0],D=T[1];return C.has("post.delete")?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.p,b(b({},P),{},{onClick:function(){return w(!0)},children:h})),I&&(0,f.jsx)(u.Z,{testid:"DeletePostButton",isOpen:!0,confirmationButtonProps:{onClick:function(){var e={id:v.id,connections:i?[i]:[]};j({variables:e,updater:function(e){if(!i){var n=e.get(v.feedId);if(n)n.invalidateRecord(),y.Z.getConnections(n,"FeedPosts__posts").forEach((function(e){y.Z.deleteNode(e,v.id)}))}},onCompleted:function(){m&&m(),(0,s.Km)({message:"Post deleted"}),w(!1)},onError:function(e){(0,s.p)(e)}})},shouldDisplaySpinner:D,children:"Yes, delete it"},onClose:function(){return w(!1)},modalContentLabel:"Delete Post Dialog",title:"Delete this Post?",description:"Are you sure you want to permanently delete this post? There is no way to undo this action."})]}):null}))},424217:function(e,n,a){a.r(n);a(244311);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeletePostButtonFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedId",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],type:"Post",abstractKey:null,hash:"6f5aed9f88b97aa599ce80f8873a763e"};n.default=t},857379:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"connections"},l={defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"DeletePostButtonMutation",selections:[{alias:null,args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:"DeletePostResponse",kind:"LinkedField",name:"deletePost",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"deletedPostId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t],kind:"Operation",name:"DeletePostButtonMutation",selections:[{alias:null,args:i,concreteType:"DeletePostResponse",kind:"LinkedField",name:"deletePost",plural:!1,selections:[r,{alias:null,args:null,filters:null,handle:"deleteEdge",key:"",kind:"ScalarHandle",name:"deletedPostId",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{cacheID:"2a71a8e8b749dd9ac9b57221daeadc30",id:null,metadata:{},name:"DeletePostButtonMutation",operationKind:"mutation",text:"mutation DeletePostButtonMutation(\n  $id: ID!\n) {\n  deletePost(id: $id) {\n    deletedPostId\n  }\n}\n"}};o.hash="55c5da49d00a46b263cb2a9f33562ec8",n.default=o},996891:function(e,n,a){a.d(n,{Z:function(){return te}});var t=a(204942),l=a(386854),i=a(145987),r=a(285245),o=a(69722),s=a(241451),d=(a(585438),a(951469)),u=a(543289),c=a(606659),m=a(384714),g=a(479159),p=a(669187),y=(a(206569),a(843489),a(115861)),f=a(887757),k=a.n(f),F=a(753688),h=a(855823),b=(a(137969),a(52270)),P=a(541321),v=a(611797),C=a(757336),S=a(667294),K=a(616550),I=a(785893);function w(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function x(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?w(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var T,j,D=(0,C.Pi)((function(e){var n=e.form,a=e.onClose,t=e.onEdit,i=e.contentKey,r=e.editorButtonsRef,s=(0,o.R6)(),d=(0,K.k6)(),u=(0,S.useRef)(!1),c=(0,S.useState)(!1),m=(0,l.Z)(c,2),g=m[0],f=m[1],C=(0,F.P)("scheduledPosts");return g?(0,I.jsx)(v.Z,{isOpen:!0,onClose:function(){return null==a?void 0:a(!1)},title:"Confirm Scheduling",modalContentLabel:"Confirm Scheduling",testid:"CreatePostModal.confirm-scheduled-share",variant:"primary",description:"This Experience is currently in draft mode. If the Experience is still in draft mode at the time this post is published, the post will not be shared by email.",cancelButtonText:"Cancel",customConfirmationButton:(0,I.jsx)(P.v2,{width:"100%",onClick:function(){u.current=!0,w()},shouldDisplaySpinner:n.isSubmitting,disabled:n.isSubmitting,children:"Schedule Post"})}):(0,I.jsx)(b.Z,{id:"EditPostForm",testid:"EditPostForm",onSubmit:w,children:(0,I.jsx)(h.Z,{contentKey:i,form:n,editorButtonsRef:r})});function w(){return T.apply(this,arguments)}function T(){return(T=(0,y.Z)(k().mark((function e(){var l,i,r,o,c,m,g,y,F,h,b;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==(l=n.state.selectedFeed.product)&&void 0!==l&&l.id&&"published"!==n.state.selectedFeed.product.status&&n.state.isScheduled&&n.state.content.sendNotificationEmail)||u.current){e.next=2;break}return e.abrupt("return",f(!0));case 2:return y=n.state.isScheduled,e.next=5,n.submit({postId:n.state.postId,content:x(x({},(null===(i=n.changedState)||void 0===i?void 0:i.content)||{}),{},{richEditorNotificationEmailBodyContent:n.state.selectedFeed.product?null===(r=n.state)||void 0===r||null===(o=r.content)||void 0===o?void 0:o.richEditorDescriptionContent:null===(c=n.state)||void 0===c||null===(m=c.content)||void 0===m?void 0:m.richEditorNotificationEmailBodyContent,releaseDatetime:n.state.isScheduled?null===(g=n.state.content)||void 0===g?void 0:g.releaseDatetime:null})});case 5:if(F=e.sent,h=F.didSave,b=F.response,h){e.next=10;break}return e.abrupt("return");case 10:if(t&&t(),a&&a(!0),null!=b&&b.node&&s){e.next=14;break}return e.abrupt("return");case 14:C.isOpen&&!y&&(C.close(),d.push((0,K.Gn)(p.ZP.PRODUCT.FEED.POSTS.LIST,{productSlug:s.slug,feedId:b.node.feedId})));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),L=(a(490427),a(197417)),O=a(164026),A=a(494204),N=(a(681355),a(10165)),E=a(810863),_=a(559406),B=a(445033),Z=a(108920),V=a(541749),M=a(558365),U=a(696672),R=a(571596),z=a(422578),$=(a(244311),a(425108));function Q(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function q(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var H,W=(0,E.Z)((function(e){return{modalTitleContainer:{display:"flex",gap:e.spacing(1),alignItems:"baseline"},buttonsOverride:{marginLeft:"unset",width:"100%"},buttonsContainer:{display:"flex",gap:e.spacing(1)},body:(0,t.Z)({},e.breakpoints.down("xs"),{padding:e.spacing(.5,1,1)})}})),G=N.Z.withSkeleton({component:(0,C.Pi)((function(e){var n,t,l,i,r,o,y,f,k,F,h,C,w,x,E,M,Q,H,G,Y,X,J,ee,ne=W(),ae=(0,Z.Z)(),te=(0,A.Z)(),le=(0,m.Su)(),ie=(0,S.useRef)(null),re=(0,z.useLazyLoadQuery)((void 0!==T||(T=a(843489)).hash&&"5c5b3d58251c455dd5fb2fa3def0b76b"!==T.hash&&$.error("The definition of 'EditPostModalQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),T),{id:e.id}).post,oe=(0,R.Z)(re),se=(0,R.Z)(null==re?void 0:re.feed),de=null==re||null===(n=re.content)||void 0===n||!n.releaseDatetime||Boolean(new Date(re.content.releaseDatetime)<=new Date),ue=(0,g.V)((void 0!==j||(j=a(206569)).hash&&"d4eac70bfeb8d33c630e1decbd70d8d3"!==j.hash&&$.error("The definition of 'EditPostModalMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),j),{postId:e.id,content:{name:null==re||null===(t=re.content)||void 0===t?void 0:t.name,richEditorDescriptionContent:null==re||null===(l=re.content)||void 0===l?void 0:l.richEditorDescriptionContent,attachments:N.Z.connectionToArray(null==re||null===(i=re.content)||void 0===i?void 0:i.attachments),coverPhoto:null==re||null===(r=re.content)||void 0===r?void 0:r.coverPhoto,coverVideo:null==re||null===(o=re.content)||void 0===o?void 0:o.coverVideo,coverVideoAssetId:null==re||null===(y=re.content)||void 0===y||null===(f=y.coverVideoAsset)||void 0===f?void 0:f.id,coverVideoDurationSeconds:null==re||null===(k=re.content)||void 0===k?void 0:k.coverVideoDurationSeconds,notificationEmailSubject:null==re||null===(F=re.content)||void 0===F?void 0:F.notificationEmailSubject,richEditorNotificationEmailBodyContent:null==re||null===(h=re.content)||void 0===h?void 0:h.richEditorNotificationEmailBodyContent,sendNotificationEmail:null==re||null===(C=re.content)||void 0===C?void 0:C.sendNotificationEmail,releaseDatetime:null==re||null===(w=re.content)||void 0===w?void 0:w.releaseDatetime,releaseNow:!1,showComments:null==re||null===(x=re.content)||void 0===x?void 0:x.showComments,notificationEmailCtaButton:null==re||null===(E=re.content)||void 0===E?void 0:E.notificationEmailCtaButton,createdById:null==re||null===(M=re.content)||void 0===M||null===(Q=M.createdBy)||void 0===Q?void 0:Q.id},isScheduled:Boolean(null==re||null===(H=re.content)||void 0===H?void 0:H.releaseDatetime)&&Boolean(new Date(re.content.releaseDatetime)>new Date),step:"default",selectedFeed:q(q({},null==re?void 0:re.feed),{},{product:q({},null==re?void 0:re.product)})});(0,S.useEffect)((function(){le.setUnsavedChanges(ue.isChanged)}),[ue.isChanged]);var ce,me,ge,pe=O.c.getPostFormModalTitle("edit",ue.state.step);return oe.has("post.edit")?(0,I.jsx)(m.ZP,q(q({},le),{},{children:(0,I.jsx)(P.SH,q(q({},e),{},{shouldCloseOnOverlayClick:!1,isOpen:!0,onClose:function(){return ye(!1)},title:(0,I.jsxs)("div",{className:ne.modalTitleContainer,children:[(0,I.jsx)(P.U4,{variant:"body-lg-600",children:pe}),(null==re||null===(G=re.feed)||void 0===G?void 0:G.name)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(P.U4,{variant:"body-xs-500",children:"in"}),(0,I.jsx)(P.aH,{label:null!=re&&null!==(ce=re.feed)&&void 0!==ce&&ce.name?"".concat(null!=re&&null!==(me=re.product)&&void 0!==me&&me.name?"".concat(null==re||null===(ge=re.product)||void 0===ge?void 0:ge.name," / "):"").concat(re.feed.name):"",borderRadius:8,style:{alignSelf:"center"}})]})]}),modalContentLabel:pe,width:"720px",maxWidth:"90vw",height:te?"100%":void 0,maxHeight:te?"95vh":void 0,testid:"EditPostModal",shouldCloseOnEsc:!1,isFullScreenInWebView:!0,body:(0,I.jsx)(D,{contentKey:null==re?void 0:re.content,form:ue,onEdit:e.onEdit,onClose:ye,editorButtonsRef:ie}),classes:{buttons:ne.buttonsOverride,body:ne.body},buttons:(0,I.jsxs)(V.Z,{container:!0,direction:"column",children:["schedule"===ue.state.step&&(null===(Y=ue.state.selectedFeed.product)||void 0===Y?void 0:Y.id)&&(0,I.jsx)(V.Z,{item:!0,style:{marginBottom:ae.spacing(2.5)},children:(0,I.jsx)(u.Z,{form:ue,contentType:"post"})}),(0,I.jsxs)(V.Z,{item:!0,container:!0,alignItems:"center",justifyContent:"default"===ue.state.step?"space-between":"flex-end",children:["default"===ue.state.step?(0,I.jsxs)("div",{className:ne.buttonsContainer,children:[(0,I.jsx)(L.Z,{form:ue}),(0,I.jsx)("div",{ref:ie})]}):"schedule"===ue.state.step?(0,I.jsx)(V.Z,{item:!0,className:ne.buttonsContainer,children:(0,I.jsx)(d.Z,{form:ue,contentType:"post",disabled:!ue.state.content.sendNotificationEmail||c.Z.areNotificationFieldsEmpty(ue),productId:null===(X=ue.state.selectedFeed.product)||void 0===X?void 0:X.id,ctaUrl:null!=re&&re.id&&null!==(J=re.feed)&&void 0!==J&&J.id&&null!==(ee=re.product)&&void 0!==ee&&ee.slug?"".concat(location.origin).concat((0,K.Gn)(p.ZP.PRODUCT.FEED.POSTS.LIST,{feedId:re.feed.id,productSlug:re.product.slug}),"?postId=").concat(re.id):void 0},"preview-email")}):null,(0,I.jsx)(V.Z,{item:!0,className:ne.buttonsContainer,children:function(){switch(ue.state.step){case"default":return function(){var e=_.Z.isEmpty(ue.state.content.richEditorDescriptionContent)||!ue.state.content.name;if(Boolean(null==re?void 0:re.product))return de?(0,I.jsx)(b.Z.SubmitButton,{testid:"EditPostModal.button.post",id:"EditPostForm",form:ue,disabled:ue.isSubmitting||e,children:"Save Changes"}):[].concat((0,s.Z)(U.BB.spreadIf((0,I.jsx)(P.v2,{testid:"EditPostModal.button.schedule",leftIcon:(0,I.jsx)(P.De,{icon:"calendar"}),color:"grey",variant:"outlined",onClick:function(){return O.c.moveToScheduleStep(ue,{formValidator:fe})},disabled:e,children:"Schedule"},"Schedule"),se.has("posts.schedule"))),[(0,I.jsx)(P.v2,{testid:"EditPostModal.button.post",form:"EditPostForm",type:"submit",disabled:ue.isSubmitting||e,shouldDisplaySpinner:ue.isSubmitting,onClickCapture:function(){ue.state.isScheduled=!1,ue.state.content.sendNotificationEmail=!1,ue.state.content.releaseDatetime=null,ue.state.content.releaseNow=!0},children:"Post Now"},"PostNow")]);return de?(0,I.jsx)(b.Z.SubmitButton,{testid:"EditPostModal.button.post",id:"EditPostForm",form:ue,disabled:ue.isSubmitting||e,children:"Save Changes"}):(0,I.jsx)(P.v2,{testid:"EditPostModal.button.post",onClick:function(){return c.Z.moveToScheduleStep(ue,{formValidator:fe})},disabled:e,children:"Next Step"})}();case"schedule":return[(0,I.jsx)(P.v2,{testid:"EditPostModal.button.previous",color:"grey",variant:"outlined",onClick:function(){return null!=re&&re.product?O.c.moveToDefaultStep(ue):c.Z.moveToDefaultStep(ue)},children:"Previous"},"previous"),(0,I.jsx)(b.Z.SubmitButton,{id:"EditPostForm",testid:"EditPostModal.button.post",form:ue,disabled:ue.isSubmitting,children:"Save Changes"},"post")];default:return[]}}()})]})]})}))})):(0,I.jsx)(v.Z,{isOpen:!0,onClose:e.onClose,modalContentLabel:"Cannot Edit Modal",testid:"CannotEditPostModal",title:"Cannot Edit Post",description:"You can only edit your own posts.",cancelButtonText:"Close"});function ye(n){e.onClose&&(n?e.onClose():le.handleLeave({onLeave:e.onClose}))}function fe(){return!_.Z.isEmpty(ue.state.content.richEditorDescriptionContent)||((0,B.p)("Must include a description"),!1)}})),skeleton:function(){return(0,I.jsx)(M.Z,{})}}),Y=(a(1723),a(509645)),X=a(128032),J=a(425108),ee=["postKey","onEdit","children"];function ne(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ae(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var te=function(e){var n=e.postKey,t=e.onEdit,s=e.children,d=(0,i.Z)(e,ee),u=(0,X.t)(),c=(0,l.Z)(u,2),m=(c[0],c[1]),g=(0,z.useFragment)((void 0!==H||(H=a(1723)).hash&&"c0cc310789b6d14265cc2d1794d03604"!==H.hash&&J.error("The definition of 'EditPostButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),H),n),p=function(e){e.stopPropagation()},y=(0,S.useCallback)((function(e){var n=e.isOpen,a=e.onClose;return n?(0,I.jsx)("div",{onDragStart:p,children:(0,I.jsx)(G,{id:g.id,onEdit:t,onClose:function(){a(),m({editPost:void 0})}})}):null}),[g.id,t]),f=(0,R.Z)(g),k=(0,r.vn)(),F=(0,o.R6)(),h=(null==F?void 0:F.viewerIsManagerOrInstructor)||(null==k?void 0:k.viewerIsOwnerOrAdmin);return f.has("post.edit")||h?(0,I.jsx)(Y.p,ae(ae({leftIcon:"add",testid:"EditPostButton",modal:y,onClick:function(){return m({editPost:"true"})}},d),{},{children:s||"Edit Post"})):null}},1723:function(e,n,a){a.r(n);a(244311);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditPostButtonFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],type:"Post",abstractKey:null,hash:"c0cc310789b6d14265cc2d1794d03604"};n.default=t},206569:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S,K,I={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"EditPostModalMutation",selections:[{alias:"response",args:l=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"EditPostResponse",kind:"LinkedField",name:"editPost",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"feedId",storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"releaseDatetime",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"sendNotificationEmail",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"notificationEmailSubject",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"richEditorNotificationEmailBodyContent",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PostCardFragment"}],storageKey:null},u={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"EditPostModalMutation",selections:[{alias:"response",args:l,concreteType:"EditPostResponse",kind:"LinkedField",name:"editPost",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[r,o,s,d,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"coverVideo",storageKey:null},{alias:null,args:null,concreteType:"AssetUsage",kind:"LinkedField",name:"coverVideoAssetUsage",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"asset",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"muxAssetPlaybackId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspectRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoDuration",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"coverPhoto",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCoverPlayIcon",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"createdBy",plural:!1,selections:y=[c,p={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[m,f={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationDatetime",storageKey:null},{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:k=[c,m],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"releasedAt",storageKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"richEditorDescriptionContent",storageKey:null},{alias:null,args:null,concreteType:"ContentMentionNodeConnection",kind:"LinkedField",name:"mentions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentMentionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentMention",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[c,p],storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[c,m,{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"mentionedProduct",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"mentionedContentUsage",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:k,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"mentionedOccurrence",plural:!1,selections:[c,m,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[m,c],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},h={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"ContentAttachmentNodeConnection",kind:"LinkedField",name:"attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentAttachmentNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentAttachment",kind:"LinkedField",name:"node",plural:!1,selections:[c,m,g,{alias:null,args:null,kind:"ScalarField",name:"downloadUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showComments",storageKey:null},{alias:null,args:null,concreteType:"ContentLikeNodeConnection",kind:"LinkedField",name:"likes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"hasViewerReacted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiAlias",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCount",storageKey:null}],storageKey:null}],storageKey:null},h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerCommented",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasFlagged",storageKey:null},{alias:null,args:null,concreteType:"ContentFlaggingNodeConnection",kind:"LinkedField",name:"flaggings",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentFlaggingNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentFlagging",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:y,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},c,F,{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[K={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:P=[b={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},b,v={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:C=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},b,v],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:S=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},b,v],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:S,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:S,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},b,v],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:S,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:S,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:C,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:P,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:P,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},c],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[c,f,m,{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinnedPost",kind:"LinkedField",name:"pinnedPost",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"ordering",storageKey:null}],storageKey:null},K],storageKey:null},u],storageKey:null}]},params:{cacheID:"cf8d6aa7fcb090ff43d9799f8abda5b8",id:null,metadata:{},name:"EditPostModalMutation",operationKind:"mutation",text:"mutation EditPostModalMutation(\n  $input: EditPostInput!\n) {\n  response: editPost(input: $input) {\n    node {\n      feedId\n      content {\n        releaseDatetime\n        sendNotificationEmail\n        notificationEmailSubject\n        richEditorNotificationEmailBodyContent\n        id\n      }\n      ...PostCardFragment\n      id\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n\nfragment BookmarkButtonContentFragment on Content {\n  id\n  hasViewerBookmarked\n}\n\nfragment CommentUtils_useTotalCommentsCount on Content {\n  totalComments\n}\n\nfragment ContentAttachmentsSectionFragment on Content {\n  attachments {\n    edges {\n      node {\n        id\n        name\n        type\n        downloadUrl\n        videoUrl\n        mediaUrl\n      }\n    }\n  }\n}\n\nfragment ContentCard_ContentFragment on Content {\n  id\n  coverVideo\n  coverVideoAssetUsage {\n    id\n    asset {\n      id\n      ...DiscoVideoFragment\n    }\n  }\n  coverPhoto\n  thumbnailUrl\n  showCoverPlayIcon\n  ...ContentHeaderSectionFragment\n  ...ContentMediaSectionFragment\n  ...ContentTitleSectionFragment\n  ...ContentDescriptionSectionFragment\n  ...ContentAttachmentsSectionFragment\n  ...ContentFooterSection_ContentFragment\n  ...BookmarkButtonContentFragment\n}\n\nfragment ContentCommentButton_ContentFragment on Content {\n  ...CommentUtils_useTotalCommentsCount\n  hasViewerCommented\n}\n\nfragment ContentDescriptionSectionFragment on Content {\n  id\n  richEditorDescriptionContent\n  type\n  ...DiscoEditorMentionsFragment\n}\n\nfragment ContentFlaggingListItemFragment on ContentFlagging {\n  id\n  reason\n  reasonText\n  createdAt\n  user {\n    id\n    ...ProfileAvatarWithDetailsFragment\n  }\n}\n\nfragment ContentFlaggingListPopoverFragment on Content {\n  flaggings {\n    edges {\n      node {\n        id\n        ...ContentFlaggingListItemFragment\n      }\n    }\n  }\n}\n\nfragment ContentFlaggingsChipFragment on Content {\n  flaggings {\n    edges {\n      node {\n        id\n      }\n    }\n  }\n  ...ContentFlaggingListPopoverFragment\n}\n\nfragment ContentFooterSection_ContentFragment on Content {\n  id\n  hasViewerBookmarked\n  showComments\n  ...ContentReactionButton_ContentFragment\n  ...ContentCommentButton_ContentFragment\n  ...BookmarkButtonContentFragment\n}\n\nfragment ContentHeaderSectionFragment on Content {\n  id\n  type\n  createdBy {\n    id\n    ...ProfileAvatarWithDetailsFragment\n  }\n  product {\n    name\n    slug\n    id\n  }\n  releaseDatetime\n  creationDatetime\n  post {\n    feed {\n      id\n      name\n    }\n    releasedAt\n    id\n  }\n}\n\nfragment ContentMediaSectionFragment on Content {\n  id\n  coverPhoto\n  coverVideo\n  coverVideoAssetUsage {\n    id\n    asset {\n      id\n      ...DiscoVideoFragment\n    }\n  }\n}\n\nfragment ContentReactionButton_ContentFragment on Content {\n  id\n  likes {\n    totalCount\n  }\n  uniqueReactions {\n    edges {\n      node {\n        id\n        hasViewerReacted\n        emojiCode\n        emojiAlias\n        emojiCount\n      }\n    }\n  }\n}\n\nfragment ContentTitleSectionFragment on Content {\n  id\n  name\n}\n\nfragment DeletePostButtonFragment on Post {\n  id\n  feedId\n  ...usePermissionsFragment\n}\n\nfragment DiscoEditorMentionsFragment on Content {\n  id\n  ...EditorMentionsProviderFragment\n}\n\nfragment DiscoVideoFragment on Asset {\n  id\n  url\n  name\n  muxAssetPlaybackId\n  aspectRatio\n  videoDuration\n}\n\nfragment EditPostButtonFragment on Post {\n  id\n  ...usePermissionsFragment\n}\n\nfragment EditorMentionsProviderFragment on Content {\n  id\n  mentions {\n    edges {\n      node {\n        id\n        user {\n          id\n          fullName\n        }\n        memberGroup {\n          id\n          name\n          kind\n          role\n        }\n        mentionedProduct {\n          id\n          name\n        }\n        mentionedContentUsage {\n          id\n          content {\n            id\n            name\n          }\n        }\n        mentionedOccurrence {\n          id\n          name\n          content {\n            name\n            id\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment FlagContentButtonFragment on Content {\n  ...useCanFlagContentFragment\n  ...FlagContentFormFragment\n}\n\nfragment FlagContentFormFragment on Content {\n  id\n  type\n  product {\n    id\n  }\n}\n\nfragment PostCardFragment on Post {\n  id\n  feedId\n  releasedAt\n  feed {\n    ...usePermissionsFragment\n    id\n  }\n  content {\n    id\n    name\n    type\n    ...ContentCard_ContentFragment\n    ...FlagContentButtonFragment\n    ...ContentFlaggingsChipFragment\n    ...useCanFlagContentFragment\n  }\n  product {\n    id\n    slug\n    name\n    status\n  }\n  pinnedPost {\n    id\n    ordering\n  }\n  ...usePermissionsFragment\n  ...EditPostButtonFragment\n  ...DeletePostButtonFragment\n  ...SharePostButtonFragment\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment SharePostButtonFragment on Post {\n  id\n  releasedAt\n  ...usePermissionsFragment\n}\n\nfragment useCanFlagContentFragment on Content {\n  viewerHasFlagged\n  createdBy {\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};I.hash="d4eac70bfeb8d33c630e1decbd70d8d3",n.default=I},843489:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S,K,I,w,x,T,j,D,L,O,A,N,E,_,B,Z,V,M,U={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"EditPostModalQuery",selections:[{alias:"post",args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[i,r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"waitingRoomEndsAt",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[r,s={alias:null,args:null,kind:"ScalarField",name:"showComments",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"richEditorDescriptionContent",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"notificationEmailCtaButton",storageKey:null},c={alias:null,args:null,concreteType:"ContentAttachmentNodeConnection",kind:"LinkedField",name:"attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentAttachmentNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentAttachment",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"coverPhoto",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"coverVideo",storageKey:null},y={alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"coverVideoAsset",plural:!1,selections:p=[i],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"coverVideoDurationSeconds",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"sendNotificationEmail",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"notificationEmailSubject",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"richEditorNotificationEmailBodyContent",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"releaseDatetime",storageKey:null},P={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"createdBy",plural:!1,selections:p,storageKey:null},{args:null,kind:"FragmentSpread",name:"DiscoEditorMentionsFragment"}],storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[i,r,v={args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],storageKey:null},v],type:"Post",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"EditPostModalQuery",selections:[{alias:"post",args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[C={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[r,s,d,u,c,m,g,y,f,k,F,h,b,P,i,{alias:null,args:null,concreteType:"ContentMentionNodeConnection",kind:"LinkedField",name:"mentions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentMentionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentMention",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"mentionedProduct",plural:!1,selections:S=[i,r],storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"mentionedContentUsage",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:S,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"mentionedOccurrence",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[r,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[i,r,{kind:"InlineFragment",selections:[C,w={kind:"InlineFragment",selections:I=[K={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},T={kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},K,x={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},D={kind:"InlineFragment",selections:j=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},K,x],type:"Event",abstractKey:null},O={kind:"InlineFragment",selections:L=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},K,x],type:"Comment",abstractKey:null},A={kind:"InlineFragment",selections:L,type:"Feed",abstractKey:null},N={kind:"InlineFragment",selections:L,type:"Post",abstractKey:null},E={kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},K,x],type:"ContentUsage",abstractKey:null},_={kind:"InlineFragment",selections:L,type:"ChatChannel",abstractKey:null},B={kind:"InlineFragment",selections:L,type:"Dashboard",abstractKey:null},Z={kind:"InlineFragment",selections:j,type:"AssignmentSubmission",abstractKey:null},V={kind:"InlineFragment",selections:I,type:"PathwayGroup",abstractKey:null},M={kind:"InlineFragment",selections:I,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{kind:"InlineFragment",selections:[w,T,D,O,A,N,E,_,B,Z,V,M],type:"Node",abstractKey:"__isNode"}],type:"Post",abstractKey:null}],storageKey:null}]},params:{cacheID:"123285ef4adc976f61d28d67e640019f",id:null,metadata:{},name:"EditPostModalQuery",operationKind:"query",text:"query EditPostModalQuery(\n  $id: ID!\n) {\n  post: node(id: $id) {\n    __typename\n    ... on Post {\n      id\n      product {\n        id\n        name\n        slug\n        status\n        startDate\n        waitingRoomEndsAt\n      }\n      content {\n        name\n        showComments\n        richEditorDescriptionContent\n        notificationEmailCtaButton\n        attachments {\n          edges {\n            node {\n              id\n              name\n              mediaUrl\n            }\n          }\n        }\n        coverPhoto\n        coverVideo\n        coverVideoAsset {\n          id\n        }\n        coverVideoDurationSeconds\n        sendNotificationEmail\n        notificationEmailSubject\n        richEditorNotificationEmailBodyContent\n        releaseDatetime\n        createdBy {\n          id\n        }\n        ...DiscoEditorMentionsFragment\n        id\n      }\n      feed {\n        id\n        name\n        ...usePermissionsFragment\n      }\n      ...usePermissionsFragment\n    }\n    id\n  }\n}\n\nfragment DiscoEditorMentionsFragment on Content {\n  id\n  ...EditorMentionsProviderFragment\n}\n\nfragment EditorMentionsProviderFragment on Content {\n  id\n  mentions {\n    edges {\n      node {\n        id\n        user {\n          id\n          fullName\n        }\n        memberGroup {\n          id\n          name\n          kind\n          role\n        }\n        mentionedProduct {\n          id\n          name\n        }\n        mentionedContentUsage {\n          id\n          content {\n            id\n            name\n          }\n        }\n        mentionedOccurrence {\n          id\n          name\n          content {\n            name\n            id\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};U.hash="5c5b3d58251c455dd5fb2fa3def0b76b",n.default=U},987543:function(e,n,a){a.d(n,{Z:function(){return P}});var t,l,i=a(753688),r=a(375253),o=a(69722),s=(a(659658),a(406834),a(724123),a(973319)),d=a(875295),u=a(244605),c=a(10165),m=a(8296),g=a(541749),p=a(571596),y=a(422578),f=(a(244311),a(785893)),k=a(425108);var F=c.Z.withSkeleton({component:function(){var e,n=(0,o.R6)(),F=(0,i.P)("scheduledPosts").params.feedId,h=(0,y.useLazyLoadQuery)((void 0!==t||(t=a(659658)).hash&&"9c867d40e4b052c7e89b06ae3401a59e"!==t.hash&&k.error("The definition of 'ScheduledPostsDrawerContentQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),{feedId:F,first:3,kind:"scheduled"},{fetchPolicy:"network-only"}).feed,b=(0,y.usePaginationFragment)((void 0!==l||(l=a(406834)).hash&&"603c2b305763e2a707887557e61c8a77"!==l.hash&&k.error("The definition of 'ScheduledPostsDrawerContent_PaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),h),P=b.data,v=b.loadNext,C=b.hasNext,S=b.isLoadingNext,K=b.refetch,I=(0,p.Z)(h);if(null==P||!P.posts||!I.has("posts.schedule"))return null;var w=c.Z.connectionToArray(P.posts),x=null==P||null===(e=P.posts)||void 0===e?void 0:e.__id;return(0,f.jsxs)(f.Fragment,{children:[w.length?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g.Z,{container:!0,spacing:4,children:w.map((function(e,n){return(0,f.jsx)(g.Z,{item:!0,xs:12,children:(0,f.jsx)(r.Z,{testid:"ScheduledPost-".concat(n),postKey:e,connectionId:x,feedId:F,onPin:T,onUnpin:T})},e.id)}))}),C&&(0,f.jsx)(m.Z,{isLoading:S,onScrolledIntoView:function(){return v(3)}})]}):function(){if(!h)return null;if(n)return(0,f.jsx)(d.Z,{canCreatePosts:!0});return(0,f.jsx)(s.Z,{canCreatePosts:!0})}(),(0,f.jsx)(u.z,{})]});function T(){K({feedId:F,first:3,kind:"scheduled"},{fetchPolicy:"network-only"})}},skeleton:function(){return(0,f.jsxs)("div",{children:[(0,f.jsx)(r.N,{}),(0,f.jsx)(r.N,{})]})}}),h=a(810863),b=a(541321);function P(){var e=(0,i.P)("scheduledPosts"),n=v();return(0,f.jsxs)(b.ds,{open:e.isOpen,size:"lg",onClose:e.close,containerClasses:{drawerContainer:n.drawer},children:[(0,f.jsx)(b.OR,{title:"Scheduled Posts",testid:"ScheduledPostsDrawerHeader",onClose:e.close,className:n.drawerHeader}),e.isOpen&&(0,f.jsx)(F,{})]})}var v=(0,h.Z)((function(e){return{drawer:{padding:0},drawerHeader:{padding:e.spacing(3,3,0)}}}))},659658:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S,K,I,w,x,T,j,D,L,O,A,N,E,_,B,Z,V,M,U={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"feedId"},i={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"kind"}],kind:"Fragment",metadata:null,name:"ScheduledPostsDrawerContentQuery",selections:[{alias:"feed",args:o=[{kind:"Variable",name:"id",variableName:"feedId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"},{args:[c={kind:"Variable",name:"after",variableName:"after"},m={kind:"Variable",name:"feedId",variableName:"feedId"},g={kind:"Variable",name:"first",variableName:"first"},p={kind:"Variable",name:"kind",variableName:"kind"}],kind:"FragmentSpread",name:"ScheduledPostsDrawerContent_PaginationFragment"}],type:"Feed",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,i,t,r],kind:"Operation",name:"ScheduledPostsDrawerContentQuery",selections:[{alias:"feed",args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[y={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[u,s],storageKey:null},{alias:null,args:f=[c,g,p],concreteType:"PostNodeConnection",kind:"LinkedField",name:"posts",plural:!1,selections:[k={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PostNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"feedId",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"releasedAt",storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[{kind:"InlineFragment",selections:[y,P={kind:"InlineFragment",selections:b=[h={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},C={kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},h,v={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},K={kind:"InlineFragment",selections:S=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},h,v],type:"Event",abstractKey:null},w={kind:"InlineFragment",selections:I=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},h,v],type:"Comment",abstractKey:null},x={kind:"InlineFragment",selections:I,type:"Feed",abstractKey:null},T={kind:"InlineFragment",selections:I,type:"Post",abstractKey:null},j={kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},h,v],type:"ContentUsage",abstractKey:null},D={kind:"InlineFragment",selections:I,type:"ChatChannel",abstractKey:null},L={kind:"InlineFragment",selections:I,type:"Dashboard",abstractKey:null},O={kind:"InlineFragment",selections:S,type:"AssignmentSubmission",abstractKey:null},A={kind:"InlineFragment",selections:b,type:"PathwayGroup",abstractKey:null},N={kind:"InlineFragment",selections:b,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},s],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[s,d,E={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"coverVideo",storageKey:null},{alias:null,args:null,concreteType:"AssetUsage",kind:"LinkedField",name:"coverVideoAssetUsage",plural:!1,selections:[s,{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"asset",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"muxAssetPlaybackId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspectRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoDuration",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"coverPhoto",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCoverPlayIcon",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"createdBy",plural:!1,selections:B=[s,_={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[d,u,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"releaseDatetime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationDatetime",storageKey:null},{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:Z=[s,d],storageKey:null},F,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"richEditorDescriptionContent",storageKey:null},{alias:null,args:null,concreteType:"ContentMentionNodeConnection",kind:"LinkedField",name:"mentions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentMentionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentMention",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[s,_],storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[s,d,{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"mentionedProduct",plural:!1,selections:Z,storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"mentionedContentUsage",plural:!1,selections:[s,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:Z,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"mentionedOccurrence",plural:!1,selections:[s,d,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[d,s],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},V={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"ContentAttachmentNodeConnection",kind:"LinkedField",name:"attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentAttachmentNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentAttachment",kind:"LinkedField",name:"node",plural:!1,selections:[s,d,E,{alias:null,args:null,kind:"ScalarField",name:"downloadUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showComments",storageKey:null},{alias:null,args:null,concreteType:"ContentLikeNodeConnection",kind:"LinkedField",name:"likes",plural:!1,selections:[k],storageKey:null},{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"hasViewerReacted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiAlias",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCount",storageKey:null}],storageKey:null}],storageKey:null},V],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerCommented",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasFlagged",storageKey:null},{alias:null,args:null,concreteType:"ContentFlaggingNodeConnection",kind:"LinkedField",name:"flaggings",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentFlaggingNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentFlagging",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:B,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[s,u,d,{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:[m],concreteType:"PinnedPost",kind:"LinkedField",name:"pinnedPost",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"ordering",storageKey:null}],storageKey:null},y,M={kind:"InlineFragment",selections:[P,C,K,w,x,T,j,D,L,O,A,N],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},V],storageKey:null},{alias:null,args:f,filters:["kind"],handle:"connection",key:"ScheduledPostsDrawerContent__posts",kind:"LinkedHandle",name:"posts"},M],type:"Feed",abstractKey:null}],storageKey:null}]},params:{cacheID:"4dfd5273b1c33a81425d767d9f9289e2",id:null,metadata:{},name:"ScheduledPostsDrawerContentQuery",operationKind:"query",text:"query ScheduledPostsDrawerContentQuery(\n  $feedId: ID!\n  $first: Int!\n  $after: String\n  $kind: String\n) {\n  feed: node(id: $feedId) {\n    __typename\n    ... on Feed {\n      id\n      name\n      product {\n        slug\n        id\n      }\n      ...usePermissionsFragment\n      ...ScheduledPostsDrawerContent_PaginationFragment_1QtMQ0\n    }\n    id\n  }\n}\n\nfragment BookmarkButtonContentFragment on Content {\n  id\n  hasViewerBookmarked\n}\n\nfragment CommentUtils_useTotalCommentsCount on Content {\n  totalComments\n}\n\nfragment ContentAttachmentsSectionFragment on Content {\n  attachments {\n    edges {\n      node {\n        id\n        name\n        type\n        downloadUrl\n        videoUrl\n        mediaUrl\n      }\n    }\n  }\n}\n\nfragment ContentCard_ContentFragment on Content {\n  id\n  coverVideo\n  coverVideoAssetUsage {\n    id\n    asset {\n      id\n      ...DiscoVideoFragment\n    }\n  }\n  coverPhoto\n  thumbnailUrl\n  showCoverPlayIcon\n  ...ContentHeaderSectionFragment\n  ...ContentMediaSectionFragment\n  ...ContentTitleSectionFragment\n  ...ContentDescriptionSectionFragment\n  ...ContentAttachmentsSectionFragment\n  ...ContentFooterSection_ContentFragment\n  ...BookmarkButtonContentFragment\n}\n\nfragment ContentCommentButton_ContentFragment on Content {\n  ...CommentUtils_useTotalCommentsCount\n  hasViewerCommented\n}\n\nfragment ContentDescriptionSectionFragment on Content {\n  id\n  richEditorDescriptionContent\n  type\n  ...DiscoEditorMentionsFragment\n}\n\nfragment ContentFlaggingListItemFragment on ContentFlagging {\n  id\n  reason\n  reasonText\n  createdAt\n  user {\n    id\n    ...ProfileAvatarWithDetailsFragment\n  }\n}\n\nfragment ContentFlaggingListPopoverFragment on Content {\n  flaggings {\n    edges {\n      node {\n        id\n        ...ContentFlaggingListItemFragment\n      }\n    }\n  }\n}\n\nfragment ContentFlaggingsChipFragment on Content {\n  flaggings {\n    edges {\n      node {\n        id\n      }\n    }\n  }\n  ...ContentFlaggingListPopoverFragment\n}\n\nfragment ContentFooterSection_ContentFragment on Content {\n  id\n  hasViewerBookmarked\n  showComments\n  ...ContentReactionButton_ContentFragment\n  ...ContentCommentButton_ContentFragment\n  ...BookmarkButtonContentFragment\n}\n\nfragment ContentHeaderSectionFragment on Content {\n  id\n  type\n  createdBy {\n    id\n    ...ProfileAvatarWithDetailsFragment\n  }\n  product {\n    name\n    slug\n    id\n  }\n  releaseDatetime\n  creationDatetime\n  post {\n    feed {\n      id\n      name\n    }\n    releasedAt\n    id\n  }\n}\n\nfragment ContentMediaSectionFragment on Content {\n  id\n  coverPhoto\n  coverVideo\n  coverVideoAssetUsage {\n    id\n    asset {\n      id\n      ...DiscoVideoFragment\n    }\n  }\n}\n\nfragment ContentReactionButton_ContentFragment on Content {\n  id\n  likes {\n    totalCount\n  }\n  uniqueReactions {\n    edges {\n      node {\n        id\n        hasViewerReacted\n        emojiCode\n        emojiAlias\n        emojiCount\n      }\n    }\n  }\n}\n\nfragment ContentTitleSectionFragment on Content {\n  id\n  name\n}\n\nfragment DeletePostButtonFragment on Post {\n  id\n  feedId\n  ...usePermissionsFragment\n}\n\nfragment DiscoEditorMentionsFragment on Content {\n  id\n  ...EditorMentionsProviderFragment\n}\n\nfragment DiscoVideoFragment on Asset {\n  id\n  url\n  name\n  muxAssetPlaybackId\n  aspectRatio\n  videoDuration\n}\n\nfragment EditPostButtonFragment on Post {\n  id\n  ...usePermissionsFragment\n}\n\nfragment EditorMentionsProviderFragment on Content {\n  id\n  mentions {\n    edges {\n      node {\n        id\n        user {\n          id\n          fullName\n        }\n        memberGroup {\n          id\n          name\n          kind\n          role\n        }\n        mentionedProduct {\n          id\n          name\n        }\n        mentionedContentUsage {\n          id\n          content {\n            id\n            name\n          }\n        }\n        mentionedOccurrence {\n          id\n          name\n          content {\n            name\n            id\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment FlagContentButtonFragment on Content {\n  ...useCanFlagContentFragment\n  ...FlagContentFormFragment\n}\n\nfragment FlagContentFormFragment on Content {\n  id\n  type\n  product {\n    id\n  }\n}\n\nfragment PostCardFragment_1sdUOq on Post {\n  id\n  feedId\n  releasedAt\n  feed {\n    ...usePermissionsFragment\n    id\n  }\n  content {\n    id\n    name\n    type\n    ...ContentCard_ContentFragment\n    ...FlagContentButtonFragment\n    ...ContentFlaggingsChipFragment\n    ...useCanFlagContentFragment\n  }\n  product {\n    id\n    slug\n    name\n    status\n  }\n  pinnedPost(feedId: $feedId) {\n    id\n    ordering\n  }\n  ...usePermissionsFragment\n  ...EditPostButtonFragment\n  ...DeletePostButtonFragment\n  ...SharePostButtonFragment\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment ScheduledPostsDrawerContent_PaginationFragment_1QtMQ0 on Feed {\n  posts(first: $first, after: $after, kind: $kind) {\n    totalCount\n    edges {\n      node {\n        id\n        ...PostCardFragment_1sdUOq\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n\nfragment SharePostButtonFragment on Post {\n  id\n  releasedAt\n  ...usePermissionsFragment\n}\n\nfragment useCanFlagContentFragment on Content {\n  viewerHasFlagged\n  createdBy {\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};U.hash="9c867d40e4b052c7e89b06ae3401a59e",n.default=U},406834:function(e,n,a){a.r(n);a(244311);var t,l,i=(l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"feedId"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"kind"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:t=["posts"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:t},fragmentPathInResult:["node"],operation:a(724123),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ScheduledPostsDrawerContent_PaginationFragment",selections:[{alias:"posts",args:[{kind:"Variable",name:"kind",variableName:"kind"}],concreteType:"PostNodeConnection",kind:"LinkedField",name:"__ScheduledPostsDrawerContent__posts_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PostNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[l,{args:[{kind:"Variable",name:"feedId",variableName:"feedId"}],kind:"FragmentSpread",name:"PostCardFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},l],type:"Feed",abstractKey:null});i.hash="603c2b305763e2a707887557e61c8a77",n.default=i},724123:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P,v,C,S,K,I,w,x,T,j,D,L,O,A,N,E,_,B,Z,V,M,U={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"feedId"},i={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"id"},o={defaultValue:null,kind:"LocalArgument",name:"kind"}],kind:"Fragment",metadata:null,name:"ScheduledPostsDrawerContent_PaginationQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[d={kind:"Variable",name:"after",variableName:"after"},u={kind:"Variable",name:"feedId",variableName:"feedId"},c={kind:"Variable",name:"first",variableName:"first"},m={kind:"Variable",name:"kind",variableName:"kind"}],kind:"FragmentSpread",name:"ScheduledPostsDrawerContent_PaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,l,i,o,r],kind:"Operation",name:"ScheduledPostsDrawerContent_PaginationQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:y=[d,c,m],concreteType:"PostNodeConnection",kind:"LinkedField",name:"posts",plural:!1,selections:[f={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PostNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"feedId",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"releasedAt",storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[{kind:"InlineFragment",selections:[g,b={kind:"InlineFragment",selections:h=[F={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},v={kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},F,P={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},S={kind:"InlineFragment",selections:C=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},F,P],type:"Event",abstractKey:null},I={kind:"InlineFragment",selections:K=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},F,P],type:"Comment",abstractKey:null},w={kind:"InlineFragment",selections:K,type:"Feed",abstractKey:null},x={kind:"InlineFragment",selections:K,type:"Post",abstractKey:null},T={kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},F,P],type:"ContentUsage",abstractKey:null},j={kind:"InlineFragment",selections:K,type:"ChatChannel",abstractKey:null},D={kind:"InlineFragment",selections:K,type:"Dashboard",abstractKey:null},L={kind:"InlineFragment",selections:C,type:"AssignmentSubmission",abstractKey:null},O={kind:"InlineFragment",selections:h,type:"PathwayGroup",abstractKey:null},A={kind:"InlineFragment",selections:h,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},p],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[p,N={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"coverVideo",storageKey:null},{alias:null,args:null,concreteType:"AssetUsage",kind:"LinkedField",name:"coverVideoAssetUsage",plural:!1,selections:[p,{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"asset",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},N,{alias:null,args:null,kind:"ScalarField",name:"muxAssetPlaybackId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspectRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoDuration",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"coverPhoto",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCoverPlayIcon",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"createdBy",plural:!1,selections:B=[p,_={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[N,Z={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},p],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"releaseDatetime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationDatetime",storageKey:null},{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:V=[p,N],storageKey:null},k,p],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"richEditorDescriptionContent",storageKey:null},{alias:null,args:null,concreteType:"ContentMentionNodeConnection",kind:"LinkedField",name:"mentions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentMentionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentMention",kind:"LinkedField",name:"node",plural:!1,selections:[p,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[p,_],storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[p,N,{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"mentionedProduct",plural:!1,selections:V,storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"mentionedContentUsage",plural:!1,selections:[p,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:V,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"mentionedOccurrence",plural:!1,selections:[p,N,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[N,p],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},M={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"ContentAttachmentNodeConnection",kind:"LinkedField",name:"attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentAttachmentNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentAttachment",kind:"LinkedField",name:"node",plural:!1,selections:[p,N,E,{alias:null,args:null,kind:"ScalarField",name:"downloadUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showComments",storageKey:null},{alias:null,args:null,concreteType:"ContentLikeNodeConnection",kind:"LinkedField",name:"likes",plural:!1,selections:[f],storageKey:null},{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"hasViewerReacted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiAlias",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCount",storageKey:null}],storageKey:null}],storageKey:null},M],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerCommented",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasFlagged",storageKey:null},{alias:null,args:null,concreteType:"ContentFlaggingNodeConnection",kind:"LinkedField",name:"flaggings",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentFlaggingNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentFlagging",kind:"LinkedField",name:"node",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:B,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[p,Z,N,{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:[u],concreteType:"PinnedPost",kind:"LinkedField",name:"pinnedPost",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"ordering",storageKey:null}],storageKey:null},g,{kind:"InlineFragment",selections:[b,v,S,I,w,x,T,j,D,L,O,A],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},M],storageKey:null},{alias:null,args:y,filters:["kind"],handle:"connection",key:"ScheduledPostsDrawerContent__posts",kind:"LinkedHandle",name:"posts"}],type:"Feed",abstractKey:null}],storageKey:null}]},params:{cacheID:"be827727af1c937eff6a9db6ece37df9",id:null,metadata:{},name:"ScheduledPostsDrawerContent_PaginationQuery",operationKind:"query",text:"query ScheduledPostsDrawerContent_PaginationQuery(\n  $after: String\n  $feedId: ID!\n  $first: Int!\n  $kind: String\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ScheduledPostsDrawerContent_PaginationFragment_1QtMQ0\n    id\n  }\n}\n\nfragment BookmarkButtonContentFragment on Content {\n  id\n  hasViewerBookmarked\n}\n\nfragment CommentUtils_useTotalCommentsCount on Content {\n  totalComments\n}\n\nfragment ContentAttachmentsSectionFragment on Content {\n  attachments {\n    edges {\n      node {\n        id\n        name\n        type\n        downloadUrl\n        videoUrl\n        mediaUrl\n      }\n    }\n  }\n}\n\nfragment ContentCard_ContentFragment on Content {\n  id\n  coverVideo\n  coverVideoAssetUsage {\n    id\n    asset {\n      id\n      ...DiscoVideoFragment\n    }\n  }\n  coverPhoto\n  thumbnailUrl\n  showCoverPlayIcon\n  ...ContentHeaderSectionFragment\n  ...ContentMediaSectionFragment\n  ...ContentTitleSectionFragment\n  ...ContentDescriptionSectionFragment\n  ...ContentAttachmentsSectionFragment\n  ...ContentFooterSection_ContentFragment\n  ...BookmarkButtonContentFragment\n}\n\nfragment ContentCommentButton_ContentFragment on Content {\n  ...CommentUtils_useTotalCommentsCount\n  hasViewerCommented\n}\n\nfragment ContentDescriptionSectionFragment on Content {\n  id\n  richEditorDescriptionContent\n  type\n  ...DiscoEditorMentionsFragment\n}\n\nfragment ContentFlaggingListItemFragment on ContentFlagging {\n  id\n  reason\n  reasonText\n  createdAt\n  user {\n    id\n    ...ProfileAvatarWithDetailsFragment\n  }\n}\n\nfragment ContentFlaggingListPopoverFragment on Content {\n  flaggings {\n    edges {\n      node {\n        id\n        ...ContentFlaggingListItemFragment\n      }\n    }\n  }\n}\n\nfragment ContentFlaggingsChipFragment on Content {\n  flaggings {\n    edges {\n      node {\n        id\n      }\n    }\n  }\n  ...ContentFlaggingListPopoverFragment\n}\n\nfragment ContentFooterSection_ContentFragment on Content {\n  id\n  hasViewerBookmarked\n  showComments\n  ...ContentReactionButton_ContentFragment\n  ...ContentCommentButton_ContentFragment\n  ...BookmarkButtonContentFragment\n}\n\nfragment ContentHeaderSectionFragment on Content {\n  id\n  type\n  createdBy {\n    id\n    ...ProfileAvatarWithDetailsFragment\n  }\n  product {\n    name\n    slug\n    id\n  }\n  releaseDatetime\n  creationDatetime\n  post {\n    feed {\n      id\n      name\n    }\n    releasedAt\n    id\n  }\n}\n\nfragment ContentMediaSectionFragment on Content {\n  id\n  coverPhoto\n  coverVideo\n  coverVideoAssetUsage {\n    id\n    asset {\n      id\n      ...DiscoVideoFragment\n    }\n  }\n}\n\nfragment ContentReactionButton_ContentFragment on Content {\n  id\n  likes {\n    totalCount\n  }\n  uniqueReactions {\n    edges {\n      node {\n        id\n        hasViewerReacted\n        emojiCode\n        emojiAlias\n        emojiCount\n      }\n    }\n  }\n}\n\nfragment ContentTitleSectionFragment on Content {\n  id\n  name\n}\n\nfragment DeletePostButtonFragment on Post {\n  id\n  feedId\n  ...usePermissionsFragment\n}\n\nfragment DiscoEditorMentionsFragment on Content {\n  id\n  ...EditorMentionsProviderFragment\n}\n\nfragment DiscoVideoFragment on Asset {\n  id\n  url\n  name\n  muxAssetPlaybackId\n  aspectRatio\n  videoDuration\n}\n\nfragment EditPostButtonFragment on Post {\n  id\n  ...usePermissionsFragment\n}\n\nfragment EditorMentionsProviderFragment on Content {\n  id\n  mentions {\n    edges {\n      node {\n        id\n        user {\n          id\n          fullName\n        }\n        memberGroup {\n          id\n          name\n          kind\n          role\n        }\n        mentionedProduct {\n          id\n          name\n        }\n        mentionedContentUsage {\n          id\n          content {\n            id\n            name\n          }\n        }\n        mentionedOccurrence {\n          id\n          name\n          content {\n            name\n            id\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment FlagContentButtonFragment on Content {\n  ...useCanFlagContentFragment\n  ...FlagContentFormFragment\n}\n\nfragment FlagContentFormFragment on Content {\n  id\n  type\n  product {\n    id\n  }\n}\n\nfragment PostCardFragment_1sdUOq on Post {\n  id\n  feedId\n  releasedAt\n  feed {\n    ...usePermissionsFragment\n    id\n  }\n  content {\n    id\n    name\n    type\n    ...ContentCard_ContentFragment\n    ...FlagContentButtonFragment\n    ...ContentFlaggingsChipFragment\n    ...useCanFlagContentFragment\n  }\n  product {\n    id\n    slug\n    name\n    status\n  }\n  pinnedPost(feedId: $feedId) {\n    id\n    ordering\n  }\n  ...usePermissionsFragment\n  ...EditPostButtonFragment\n  ...DeletePostButtonFragment\n  ...SharePostButtonFragment\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment ScheduledPostsDrawerContent_PaginationFragment_1QtMQ0 on Feed {\n  posts(first: $first, after: $after, kind: $kind) {\n    totalCount\n    edges {\n      node {\n        id\n        ...PostCardFragment_1sdUOq\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n\nfragment SharePostButtonFragment on Post {\n  id\n  releasedAt\n  ...usePermissionsFragment\n}\n\nfragment useCanFlagContentFragment on Content {\n  viewerHasFlagged\n  createdBy {\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};U.hash="603c2b305763e2a707887557e61c8a77",n.default=U},353484:function(e,n,a){var t,l=a(204942),i=a(588461),r=a(285245),o=a(69722),s=a(963114),d=a(390584),u=a(905881),c=(a(350056),a(541321)),m=a(571596),g=a(422578),p=a(785893),y=a(425108);function f(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function k(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?f(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=function(e){var n=e.feedKey,l=(0,r.vn)(),f=(0,o.R6)(),F=(0,s.NP)("organization"),h=(0,g.useFragment)((void 0!==t||(t=a(350056)).hash&&"532060580ccb20211ff04d70813df1f5"!==t.hash&&y.error("The definition of 'AIFeedEmptyStateFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),n),b=(0,m.Z)(h.product),P=h.productId?b:null==l?void 0:l.viewerPermissions,v=((null==f?void 0:f.viewerIsManagerOrInstructor)||(null==l?void 0:l.viewerIsOwnerOrAdmin))&&!(null!=f&&f.isAdminViewingAsMember||null!=l&&l.isAdminViewingAsMember);return!h.app.customAppDescription&&null!=P&&P.has("apps.manage")?(0,p.jsx)(c.MJ,{testid:"AIFeedEmptyState.add-description",icon:(0,p.jsx)(d.Z,{}),title:"Add a Feed Description for customized Disco AI suggestions.",subtitle:"Receive post suggestions to engage your ".concat(F.singularLowercase,"."),buttons:(0,p.jsx)(i.Z,{appKey:h.app,children:function(e){return(0,p.jsx)(c.v2,k(k({},e),{},{leftIcon:"add",children:"Feed Description"}))}})}):(0,p.jsx)(c.MJ,{icon:(0,p.jsx)(d.Z,{}),testid:"AIFeedEmptyState.empty-state.create-post-with-ai",title:"No posts yet",subtitle:"Add your first post to start engaging your ".concat(F.singularLowercase,"!"),buttons:h.app.customAppDescription&&v&&(0,p.jsx)(u.Z,{feedId:h.id})})}},905881:function(e,n,a){var t=a(204942),l=(a(655979),a(545953)),i=a(111740),r=(a(509645),a(4580)),o=a(785893);function s(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function d(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?s(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=function(e){var n=e.feedId,a=e.children,t=e.aiTemplate,s=void 0===t?"default":t;return(0,r.Z)("ai_inline_prompts")?(0,o.jsx)(l.Z,{testid:"CreatePostWithAIButton",feedId:n,checkQueryParamForModalOpen:!1,aiTemplate:s,children:a||function(e){return(0,o.jsx)(i.Z,d(d({},e),{},{children:"Create Post with AI"}))}}):null}},973319:function(e,n,a){var t=a(963114),l=a(390584),i=a(541321),r=a(785893);n.Z=function(e){var n=e.canCreatePosts,a=(0,t.NP)("experience"),o=(0,t.NP)("organization");return(0,r.jsx)(i.MJ,{testid:"OrganizationFeedPostsPage.empty-state",icon:(0,r.jsx)(l.Z,{}),title:n?"You have no Posts":"There are no Posts yet",subtitle:n?"Posts are a way of communicating with your entire ".concat(o.singularLowercase," and drive them back to the system to create engagement. For example, you can remind them of an upcoming ").concat(a.singular,"."):"This feed is currently empty. Please check back later!"})}},875295:function(e,n,a){var t=a(963114),l=a(390584),i=a(541321),r=a(785893);n.Z=function(e){var n=e.canCreatePosts,a=(0,t.NP)("experience");return(0,r.jsx)(i.MJ,{testid:"ProductFeedPostsPage.empty-state",icon:(0,r.jsx)(l.Z,{}),title:n?"You have no Posts":"There are no Posts yet",subtitle:n?"Posts are a way of communicating with your entire Cohort and drive them back to the ".concat(a.singular," to create engagement. For example, you can remind them of an upcoming event."):"This feed is currently empty. Please check back later!"})}},350056:function(e,n,a){a.r(n);a(244311);var t,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AIFeedEmptyStateFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customAppDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"FeedAppSettingsButtonFragment"}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],storageKey:null}],type:"Feed",abstractKey:null};l.hash="532060580ccb20211ff04d70813df1f5",n.default=l},221066:function(e,n,a){var t,l=a(386854),i=(a(735572),a(681355),a(10165)),r=a(445033),o=a(541321),s=a(509645),d=a(422578),u=a(785893),c=a(425108);n.Z=i.Z.withSkeleton({component:function(e){var n=e.refetch,i=e.postId,m=e.feedId,g=e.dashboardId,p=e.children;if(!m&&!g)throw new Error("Must pass one of either feedId or dashboardId");var y=(0,d.useMutation)((void 0!==t||(t=a(735572)).hash&&"a864b261afcfd30a4e976b067570fcd7"!==t.hash&&c.error("The definition of 'PinPostButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t)),f=(0,l.Z)(y,2),k=f[0],F=f[1];return(0,u.jsx)(s.p,{leftIcon:(0,u.jsx)(o.De,{icon:"pin"}),"data-testid":"PinPostButton",onClick:function(){k({variables:{input:{postId:i,feedId:m,dashboardId:g},feedId:m,dashboardId:g},onCompleted:function(){n(),(0,r.HE)({message:"Post pinned!"})},onError:function(e){(0,r.p)(e)}})},shouldDisplaySpinner:F,disabled:F,stopPropagation:!0,children:p||"Pin"})},skeleton:function(){return(0,u.jsx)(o.Zi,{})}})},845787:function(e,n,a){var t,l=a(386854),i=(a(741487),a(681355),a(10165)),r=a(445033),o=a(541321),s=a(509645),d=a(422578),u=a(785893),c=a(425108);n.Z=i.Z.withSkeleton({component:function(e){var n=e.refetch,i=e.pinnedPostId,m=e.children,g=(0,d.useMutation)((void 0!==t||(t=a(741487)).hash&&"7afbb2dde818129a936d99bab94025b0"!==t.hash&&c.error("The definition of 'UnpinPostButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t)),p=(0,l.Z)(g,2),y=p[0],f=p[1];return(0,u.jsx)(s.p,{leftIcon:(0,u.jsx)(o.De,{icon:"pin"}),"data-testid":"UnpinPostButton",onClick:function(){y({variables:{input:{pinnedPostId:i}},onCompleted:function(){n(),(0,r.HE)({message:"Post unpinned!"})},onError:function(e){(0,r.p)(e)}})},shouldDisplaySpinner:f,disabled:f,stopPropagation:!0,children:m||"Unpin post"})},skeleton:function(){return(0,u.jsx)(o.Zi,{})}})},735572:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"dashboardId"},l={defaultValue:null,kind:"LocalArgument",name:"feedId"},i={defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"PinPostButtonMutation",selections:o=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"PinPostResponse",kind:"LinkedField",name:"pinPost",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"dashboardId",variableName:"dashboardId"},{kind:"Variable",name:"feedId",variableName:"feedId"}],concreteType:"PinnedPost",kind:"LinkedField",name:"pinnedPost",plural:!1,selections:[r],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,l,t],kind:"Operation",name:"PinPostButtonMutation",selections:o},params:{cacheID:"821924fbe08b970719c93ae704b86149",id:null,metadata:{},name:"PinPostButtonMutation",operationKind:"mutation",text:"mutation PinPostButtonMutation(\n  $input: PinPostInput!\n  $feedId: ID\n  $dashboardId: ID\n) {\n  pinPost(input: $input) {\n    node {\n      id\n      pinnedPost(feedId: $feedId, dashboardId: $dashboardId) {\n        id\n      }\n    }\n  }\n}\n"}};s.hash="a864b261afcfd30a4e976b067570fcd7",n.default=s},741487:function(e,n,a){a.r(n);a(244311);var t,l,i,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"UnpinPostButtonMutation",selections:[i={alias:null,args:l=[{kind:"Variable",name:"input",variableName:"input"}],kind:"ScalarField",name:"unpinPost",storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnpinPostButtonMutation",selections:[i,{alias:null,args:l,filters:null,handle:"deleteRecord",key:"",kind:"ScalarHandle",name:"unpinPost"}]},params:{cacheID:"30085e6a3d0badc3f3a4cdac14a162e0",id:null,metadata:{},name:"UnpinPostButtonMutation",operationKind:"mutation",text:"mutation UnpinPostButtonMutation(\n  $input: UnpinPostInput!\n) {\n  unpinPost(input: $input)\n}\n"}};r.hash="7afbb2dde818129a936d99bab94025b0",n.default=r},489433:function(e,n,a){var t,l,i=a(285245),r=a(963114),o=(a(525776),a(490427),a(728993),a(530588),a(10165)),s=a(810863),d=a(541321),u=a(850429),c=a(642298),m=a(757336),g=a(422578),p=a(785893),y=a(425108);var f=(0,s.Z)({emailContainer:{overflow:"hidden",pointerEvents:"none",cursor:"default"}});n.Z=o.Z.withSkeleton({component:(0,m.Pi)((function(e){var n,o,s,m=e.form,k=e.postKey,F=void 0===k?null:k,h=e.testid,b=void 0===h?"PostPreviewEmailFormFields":h,P=(0,i.vn)(),v=f(),C=(0,r.NP)("organization"),S=(0,g.useFragment)((void 0!==t||(t=a(728993)).hash&&"558958690efb6577520b934a0c135801"!==t.hash&&y.error("The definition of 'PostPreviewEmailFormFieldsFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),F),K=(null===(n=m.state.selectedFeed.product)||void 0===n?void 0:n.id)||(null==S||null===(o=S.product)||void 0===o?void 0:o.id)||"",I=(0,g.useLazyLoadQuery)((void 0!==l||(l=a(530588)).hash&&"acfd43aa563b39fe84f636e7ba1ded9d"!==l.hash&&y.error("The definition of 'PostPreviewEmailFormFieldsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{entityId:K||P.id,richEditorBody:m.state.content.richEditorNotificationEmailBodyContent||"",params:JSON.stringify({title:m.state.content.name,notificationEmailCtaButton:m.state.content.notificationEmailCtaButton,userId:m.state.content.createdById})}).preview;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.W0,{padding:0,marginBottom:2.5,children:m.state.isScheduled?(0,p.jsx)(d.v5,{testid:"".concat(b,".email-toggle"),labelPlacement:"end",checked:null!==(s=m.state.content.sendNotificationEmail)&&void 0!==s?s:void 0,onChange:function(e){return m.state.content.sendNotificationEmail=e},label:"Share post automatically by email when published on the scheduled date."}):null!=S&&S.content.notificationEmailSentDatetime?(0,p.jsx)(d.kz,{severity:"warning",message:w()}):(0,p.jsx)(d.U4,{children:w()})}),m.state.content.sendNotificationEmail&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Z0,{label:"Email Subject",children:(0,p.jsx)(d.z6,{inputProps:{"data-testid":"".concat(b,".subject-line")},placeholder:"An eye-catching subject line",value:m.state.content.notificationEmailSubject,onChange:function(e){return m.state.content.notificationEmailSubject=e.target.value}})}),(0,p.jsx)(d.Z0,{label:"Email Body Preview",children:(0,p.jsx)(d.W0,{padding:0,className:v.emailContainer,children:null!=I&&I.data?(0,p.jsx)("div",{"data-testid":"".concat(b,".preview-pane"),dangerouslySetInnerHTML:{__html:I.data}}):(0,p.jsx)(d.U4,{children:"Failed to retrieve email preview."})})})]})]});function w(){return null!=S&&S.content.notificationEmailSentDatetime?(0,p.jsx)(p.Fragment,{children:"Are you sure you would like to share this post? This post has already been shared by email on ".concat((0,c.Z)(new Date(S.content.notificationEmailSentDatetime),u.zT.DEFAULT_DATE_WITH_SHORT_TIME_FORMAT_WITH_OFFSET_AND_AT))}):"Sharing by email is a great way to encourage engagement in your ".concat(C.singularLowercase,". The email will go to everyone who has access to this post.")}})),skeleton:function(){return(0,p.jsx)(d.Zy,{absoluteCenter:!0})}})},260087:function(e,n,a){var t,l=a(204942),i=a(145987),r=a(244605),o=(a(602800),a(509645)),s=a(571596),d=a(382644),u=a(667294),c=a(422578),m=a(785893),g=a(425108),p=["postKey","children"];function y(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function f(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?y(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=function(e){var n=e.postKey,l=e.children,y=(0,i.Z)(e,p),k=(0,c.useFragment)((void 0!==t||(t=a(602800)).hash&&"14b8c4606b4a8dc2fadbf6f10d4d29ce"!==t.hash&&g.error("The definition of 'SharePostButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),n),F=(0,s.Z)(k),h=(0,u.useCallback)((function(e){var n=e.isOpen,a=e.onClose;return n?(0,m.jsx)(r.Z,{postId:k.id,onClose:a}):null}),[k.id]);return Boolean(k.releasedAt)&&(0,d.Z)(new Date(k.releasedAt))?null:F.has("post.share")?(0,m.jsx)(o.p,f(f({modal:h,leftIcon:"send"},y),{},{children:l||"Share"})):null}},244605:function(e,n,a){a.d(n,{z:function(){return E}});var t,l,i=a(204942),r=a(115861),o=a(145987),s=a(887757),d=a.n(s),u=a(951469),c=a(543289),m=(a(606659),a(963114)),g=a(479159),p=a(669187),y=(a(187351),a(489433)),f=(a(856279),a(832491),a(281111)),k=(a(681355),a(10165)),F=a(810863),h=a(52270),b=a(445033),P=a(541321),v=a(611797),C=a(108920),S=a(541749),K=a(571596),I=a(757336),w=a(422578),x=a(616550),T=(a(244311),a(785893)),j=a(425108),D=["postId","testid"];function L(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function O(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?L(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function A(e){var n,i,s,F,I,L,O,A,E,_=e.postId,B=e.testid,Z=void 0===B?"SharePostModal":B,V=(0,o.Z)(e,D),M=N(),U=(0,C.Z)(),R=(0,m.NP)("product_member"),z=(0,w.useLazyLoadQuery)((void 0!==t||(t=a(832491)).hash&&"3934eda0b8dd5c5b2077a0f068d4fa4d"!==t.hash&&j.error("The definition of 'SharePostModalQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),{id:_}).node,$=k.Z.narrowNodeType(z,"Post"),Q=(0,g.V)((void 0!==l||(l=a(856279)).hash&&"21397cde2c6ad898fbe5b2c1ef3f31f6"!==l.hash&&j.error("The definition of 'SharePostModalMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{postId:_,emailSubject:"",content:{name:null==$||null===(n=$.content)||void 0===n?void 0:n.name,sendNotificationEmail:!0,notificationEmailSubject:null!=$&&null!==(i=$.content)&&void 0!==i&&i.name?" New Post - ".concat($.content.name):" New Post",richEditorNotificationEmailBodyContent:null==$||null===(s=$.content)||void 0===s?void 0:s.richEditorDescriptionContent,notificationEmailCtaButton:"enabled",createdById:null==$||null===(F=$.content)||void 0===F||null===(I=F.createdBy)||void 0===I?void 0:I.id},selectedFeed:$.feed},{requireChangeToSubmit:!1});if(!(0,K.Z)($).has("post.share")||!$)return null;var q=null==$||null===(L=$.feed)||void 0===L?void 0:L.product;return q&&"published"!==(null==q?void 0:q.status)?(0,T.jsx)(v.Z,{isOpen:!0,onClose:V.onClose,title:"Cannot share this Post",modalContentLabel:"Cannot share this Post",testid:"SharePostModal.cannot-share-warning-modal",variant:"warning",description:"This Experience is currently in draft mode and not visible to ".concat(R.plural,". Publish the Experience to share this Post."),cancelButtonText:"Close",customConfirmationButton:(0,T.jsx)(f.Z,{width:"100%",children:"Publish Experience"})}):(0,T.jsx)(P.SH,{isOpen:!0,title:"Share Post",modalContentLabel:"Share Post",width:"720px",maxWidth:"90vw",minHeight:"600px",testid:Z,shouldCloseOnEsc:!1,onClose:V.onClose,body:(0,T.jsx)(h.Z,{id:"SharePostForm",testid:"SharePostForm",onSubmit:function(){return H.apply(this,arguments)},children:(0,T.jsx)(y.Z,{form:Q,postKey:$})}),classes:{buttons:M.buttonsOverride},buttons:(0,T.jsxs)(S.Z,{container:!0,direction:"column",children:[(0,T.jsx)(S.Z,{item:!0,style:{marginBottom:U.spacing(2.5)},children:(0,T.jsx)(c.Z,{form:Q,contentType:"post"})}),(0,T.jsxs)(S.Z,{item:!0,container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,T.jsx)(S.Z,{item:!0,children:(0,T.jsx)(u.Z,{form:Q,contentType:"post",productId:null===(O=$.feed.product)||void 0===O?void 0:O.id,ctaUrl:"".concat(location.origin).concat(null!==(A=$.feed)&&void 0!==A&&A.product?(0,x.Gn)(p.ZP.PRODUCT.FEED.POSTS.LIST,{feedId:$.feed.id,productSlug:null===(E=$.feed)||void 0===E?void 0:E.product.slug}):(0,x.Gn)(p.ZP.COMMUNITY.FEED.POSTS.LIST,{feedId:$.feed.id}),"?postId=").concat($.id)},"preview-email")}),(0,T.jsx)(S.Z,{item:!0,className:M.buttonsContainer,children:[(0,T.jsx)(P.v2,{testid:"".concat(Z,".button.no-thanks"),color:"grey",variant:"outlined",onClick:function(){var e;return null===(e=V.onClose)||void 0===e?void 0:e.call(V)},children:"No Thanks"},"no-thanks"),(0,T.jsx)(h.Z.SubmitButton,{id:"SharePostForm",testid:"".concat(Z,".button.confirm"),type:"submit",form:Q,shouldDisplaySpinner:Q.isSubmitting,disabled:Q.isSubmitting,children:"Share By Email"},"submit")]})]})]})});function H(){return(H=(0,r.Z)(d().mark((function e(){var n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.submit({postId:Q.state.postId,emailSubject:Q.state.content.notificationEmailSubject||"",notificationEmailCtaButton:Q.state.content.notificationEmailCtaButton||"enabled"});case 2:if(a=e.sent,a.didSave){e.next=6;break}return e.abrupt("return");case 6:null===(n=V.onClose)||void 0===n||n.call(V),(0,b.HE)({message:"Post shared via email!"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}var N=(0,F.Z)((function(e){return{buttonsOverride:{marginLeft:"unset",width:"100%"},buttonsContainer:{display:"flex",gap:e.spacing(1)}}}));function E(){var e,n=(0,x.TH)(),a=(0,x.k6)();return null!==(e=n.state)&&void 0!==e&&e.openSharePostModal?(0,T.jsx)(A,{postId:n.state.openSharePostModal,onClose:function(){return a.replace(O(O({},n),{},{state:O(O({},n.state),{},{openSharePostModal:void 0})}))}}):null}n.Z=(0,I.Pi)(A)},728993:function(e,n,a){a.r(n);a(244311);var t,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PostPreviewEmailFormFieldsFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"notificationEmailSentDatetime",storageKey:null}],storageKey:null}],type:"Post",abstractKey:null};l.hash="558958690efb6577520b934a0c135801",n.default=l},530588:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"entityId"},l={defaultValue:null,kind:"LocalArgument",name:"params"},i={defaultValue:null,kind:"LocalArgument",name:"richEditorBody"}],kind:"Fragment",metadata:null,name:"PostPreviewEmailFormFieldsQuery",selections:r=[{alias:"preview",args:[{fields:[{kind:"Literal",name:"emailTemplate",value:"NewAnnouncementNotification"},{kind:"Variable",name:"entityId",variableName:"entityId"},{kind:"Variable",name:"params",variableName:"params"},{kind:"Variable",name:"richEditorBody",variableName:"richEditorBody"}],kind:"ObjectValue",name:"input"}],concreteType:"PreviewEmailTemplateResponse",kind:"LinkedField",name:"previewEmailTemplate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,l,t],kind:"Operation",name:"PostPreviewEmailFormFieldsQuery",selections:r},params:{cacheID:"cfb1d34a28de5bea728feebe0c0dd26c",id:null,metadata:{},name:"PostPreviewEmailFormFieldsQuery",operationKind:"query",text:"query PostPreviewEmailFormFieldsQuery(\n  $richEditorBody: JSON!\n  $params: JSON\n  $entityId: ID!\n) {\n  preview: previewEmailTemplate(input: {entityId: $entityId, emailTemplate: NewAnnouncementNotification, richEditorBody: $richEditorBody, params: $params}) {\n    data\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};o.hash="acfd43aa563b39fe84f636e7ba1ded9d",n.default=o},602800:function(e,n,a){a.r(n);a(244311);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SharePostButtonFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"releasedAt",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],type:"Post",abstractKey:null,hash:"14b8c4606b4a8dc2fadbf6f10d4d29ce"};n.default=t},856279:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"SharePostModalMutation",selections:[{alias:"response",args:l=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SharePostResponse",kind:"LinkedField",name:"sharePost",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[i,r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"waitingRoomEndsAt",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[i,r,d={alias:null,args:null,kind:"ScalarField",name:"sendNotificationEmail",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"notificationEmailSubject",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"richEditorDescriptionContent",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"richEditorNotificationEmailBodyContent",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"notificationEmailCtaButton",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PostPreviewEmailFormFieldsFragment"}],storageKey:null},p={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"SharePostModalMutation",selections:[{alias:"response",args:l,concreteType:"SharePostResponse",kind:"LinkedField",name:"sharePost",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[i,r,d,u,c,m,g,{alias:null,args:null,kind:"ScalarField",name:"notificationEmailSentDatetime",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[i,r,o],storageKey:null}],storageKey:null},p],storageKey:null}]},params:{cacheID:"04def6a5ee3d8c5ed1b1b0a77b8531c2",id:null,metadata:{},name:"SharePostModalMutation",operationKind:"mutation",text:"mutation SharePostModalMutation(\n  $input: SharePostInput!\n) {\n  response: sharePost(input: $input) {\n    node {\n      id\n      feed {\n        id\n        name\n        product {\n          id\n          name\n          status\n          type\n          startDate\n          waitingRoomEndsAt\n          slug\n        }\n      }\n      content {\n        id\n        name\n        sendNotificationEmail\n        notificationEmailSubject\n        richEditorDescriptionContent\n        richEditorNotificationEmailBodyContent\n        notificationEmailCtaButton\n      }\n      ...PostPreviewEmailFormFieldsFragment\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n\nfragment PostPreviewEmailFormFieldsFragment on Post {\n  id\n  feedId\n  product {\n    id\n    name\n    slug\n  }\n  content {\n    id\n    notificationEmailSentDatetime\n  }\n}\n"}};y.hash="21397cde2c6ad898fbe5b2c1ef3f31f6",n.default=y},832491:function(e,n,a){a.r(n);a(244311);var t,l,i,r,o,s,d,u,c,m,g,p,y,f,k,F,h,b,P={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"SharePostModalQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"},d={alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[i,o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[i,o,{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"waitingRoomEndsAt",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[i,o,u={alias:null,args:null,kind:"ScalarField",name:"sendNotificationEmail",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"notificationEmailSubject",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"richEditorDescriptionContent",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"richEditorNotificationEmailBodyContent",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"notificationEmailCtaButton",storageKey:null},y={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"createdBy",plural:!1,selections:[i],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PostPreviewEmailFormFieldsFragment"}],type:"Post",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"SharePostModalQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,i,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[i,o,u,c,m,g,p,y,{alias:null,args:null,kind:"ScalarField",name:"notificationEmailSentDatetime",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[i,o,s],storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:k=[f={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},f,F={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:h=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},f,F],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:b=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},f,F],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},f,F],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:b,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:h,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:k,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:k,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],type:"Post",abstractKey:null}],storageKey:null}]},params:{cacheID:"b6d2916890f8351c8c14fd8c942b801b",id:null,metadata:{},name:"SharePostModalQuery",operationKind:"query",text:"query SharePostModalQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ... on Post {\n      id\n      __typename\n      ...usePermissionsFragment\n      feed {\n        id\n        name\n        product {\n          id\n          name\n          status\n          type\n          startDate\n          waitingRoomEndsAt\n          slug\n        }\n      }\n      content {\n        id\n        name\n        sendNotificationEmail\n        notificationEmailSubject\n        richEditorDescriptionContent\n        richEditorNotificationEmailBodyContent\n        notificationEmailCtaButton\n        createdBy {\n          id\n        }\n      }\n      ...PostPreviewEmailFormFieldsFragment\n    }\n    id\n  }\n}\n\nfragment PostPreviewEmailFormFieldsFragment on Post {\n  id\n  feedId\n  product {\n    id\n    name\n    slug\n  }\n  content {\n    id\n    notificationEmailSentDatetime\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};P.hash="3934eda0b8dd5c5b2077a0f068d4fa4d",n.default=P},164026:function(e,n,a){a.d(n,{c:function(){return t}});var t,l,i=a(606659);(l=t||(t={})).getPostFormModalTitle=function(e,n){return"default"===n?"".concat("add"===e?"Create":"Edit"," Post"):"schedule"===n?"Schedule Post":"Post"},l.moveToScheduleStep=function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).formValidator;i.Z.moveToScheduleStep(e,{formValidator:n,updateCallback:function(){e.state.content.richEditorNotificationEmailBodyContent=e.state.content.richEditorDescriptionContent,e.state.content.notificationEmailSubject=e.state.content.name?" New Post - ".concat(e.state.content.name):" New Post",e.state.content.sendNotificationEmail=!0}})},l.moveToDefaultStep=function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).formValidator;i.Z.moveToDefaultStep(e,{formValidator:n,updateCallback:function(){e.state.content.sendNotificationEmail=!1}})}}}]);
//# sourceMappingURL=chunk-06cc823f-529b0c962f418465.bundle.js.map