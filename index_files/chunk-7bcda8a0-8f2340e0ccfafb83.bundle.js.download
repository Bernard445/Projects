!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="593b1ade-1814-4c8e-a76b-cb5cd199a984",e._sentryDebugIdIdentifier="sentry-dbid-593b1ade-1814-4c8e-a76b-cb5cd199a984")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"03c050f83997f8f858284f712ef0b0ca3dc661b2"},(self.webpackChunkdisco=self.webpackChunkdisco||[]).push([[5071],{694905:function(e,n,a){var l,t,r,i,s,o=a(204942),d=a(115861),u=a(386854),c=a(887757),g=a.n(c),m=(a(519603),a(749159),a(389239),a(79344),a(907859),a(10165)),p=a(810863),h=a(92839),y=a(445033),k=a(541321),f=a(509645),b=a(162083),v=a(108920),S=a(294184),F=a.n(S),C=a(757336),x=a(422578),P=a(785893),K=a(425108);function I(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function T(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?I(Object(a),!0).forEach((function(n){(0,o.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var L=(0,p.Z)((function(e){return{container:{display:"flex",alignItems:"center"},bookmarkIcon:function(n){var a=n.variant;return T({"& > path":{color:"".concat("dark"===e.palette.type?e.palette.groovy.onDark[200]:e.palette.groovy.neutral["dropdown-item"===a?500:400]," !important")}},(0,h.Z)("dropdown-item"!==a,{"&:is(svg)":{width:"16px",height:"16px"}}))},bookmarkIconFill:{"& > path":{color:"".concat(e.palette.primary.main," !important")}},bookmarkButton:function(n){var a=n.inHeader;return T({color:"dark"===e.palette.type?e.palette.groovy.onDark[200]:e.palette.groovy.neutral[700],gap:e.spacing(.25),padding:e.spacing(1),width:"32px",height:"32px","& span":{fontSize:"14px",fontWeight:500,lineHeight:"24px"},"&:hover svg:not($bookmarkIconFill) path":{stroke:e.palette.primary.main}},(0,h.Z)(a,{height:"40px",width:"40px"}))}}}));n.Z=m.Z.withSkeleton({component:(0,C.Pi)((function(e){var n=e.contentUsageKey,o=e.contentKey,c=e.brainSearchKey,p=e.showText,h=void 0!==p&&p,S=e.inHeader,C=void 0!==S&&S,I=e.kind,T=e.testid,w=void 0===T?"BookmarkButton":T,B=e.children,j=e.className,N=e.variant,_=void 0===N?"default":N,A=(0,v.Z)(),M=L({inHeader:C,variant:_}),D=(0,x.useFragment)((void 0!==l||(l=a(389239)).hash&&"dfa42ee2b72d035649840770f64f1e16"!==l.hash&&K.error("The definition of 'BookmarkButtonContentUsageFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),n||null),O=(0,x.useFragment)((void 0!==t||(t=a(749159)).hash&&"67b3c1ec187cb9c100e1e6ea28628f22"!==t.hash&&K.error("The definition of 'BookmarkButtonContentFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),o||null),Z=(0,x.useFragment)((void 0!==r||(r=a(519603)).hash&&"4639f3fb14c02dab16acd5ae521df802"!==r.hash&&K.error("The definition of 'BookmarkButtonBrainSearchFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),c||null),U=m.Z.useAsyncMutation((void 0!==i||(i=a(79344)).hash&&"df9750b43195e31aaa30328383a2270b"!==i.hash&&K.error("The definition of 'BookmarkButtonCreateMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i)),R=(0,x.useMutation)((void 0!==s||(s=a(907859)).hash&&"6e2b70f0196265b987dafc663a3614fb"!==s.hash&&K.error("The definition of 'BookmarkButtonDeleteMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s)),E=(0,u.Z)(R,1)[0];if(!O&&!D&&!Z)return null;var V=(D||O||Z).hasViewerBookmarked;return B?(0,P.jsx)(f.p,{onClick:z,color:"transparent",testid:"".concat(w,".bookmark-overridable-button"),stopPropagation:!0,children:B}):"dropdown-item"===_?(0,P.jsx)(b.Z,{onClick:z,icon:Q(),title:V?"Remove Bookmark":"Bookmark",testid:w}):(0,P.jsx)("div",{className:F()(M.container,j),children:(0,P.jsx)(k.t2,{content:V?"Remove from Bookmarks":"Bookmark",children:(0,P.jsx)(k.v2,{testid:"".concat(w,".bookmark-button"),size:"small",leftIcon:Q(),color:"grey",onClick:function(e){z(),e.stopPropagation()},className:M.bookmarkButton,customButtonColor:{color:"dark"===A.palette.type?A.palette.groovy.onDark[200]:A.palette.groovy.neutral[700],backgroundColor:A.palette.background.paper,hover:{color:A.palette.text.primary,backgroundColor:A.palette.groovy.neutral[100]}},children:h&&"Bookmark"})})});function Q(){return(0,P.jsx)(k.De,{icon:"dropdown-item"===_?"iconsax.custom-archive-thin":"iconsax.custom-archive",active:V,width:16,height:16,className:V?M.bookmarkIconFill:M.bookmarkIcon})}function z(){return H.apply(this,arguments)}function H(){return(H=(0,d.Z)(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=4;break}E({variables:{contentId:null==O?void 0:O.id,contentUsageId:null==D?void 0:D.id,brainSearchId:null==Z?void 0:Z.id},optimisticUpdater:function(e){if(O){var n=e.get(O.id);n&&n.setValue(!1,"hasViewerBookmarked")}if(D){var a=e.get(D.id);a&&a.setValue(!1,"hasViewerBookmarked")}if(Z){var l=e.get(Z.id);l&&l.setValue(!1,"hasViewerBookmarked")}},onError:function(e){(0,y.p)(e)},onCompleted:function(e){e.response.errors?(0,y.p)("Unable to remove bookmark"):(0,y.Km)({message:"Bookmark Removed",testid:"BookmarkButton.removed-toast"})}}),e.next=12;break;case 4:return e.next=6,U({input:{contentId:null==O?void 0:O.id,contentUsageId:null==D?void 0:D.id,brainSearchId:null==Z?void 0:Z.id,kind:I}});case 6:if(n=e.sent,!n.response.errors){e.next=11;break}return(0,y.p)("Unable to add bookmark"),e.abrupt("return");case 11:(0,y.Km)({message:"Bookmark Added",testid:"BookmarkButton.added-toast"});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),skeleton:function(){return(0,P.jsx)(k.Ue,{})}})},519603:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BookmarkButtonBrainSearchFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null}],type:"BrainSearch",abstractKey:null,hash:"4639f3fb14c02dab16acd5ae521df802"};n.default=l},749159:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BookmarkButtonContentFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null}],type:"Content",abstractKey:null,hash:"67b3c1ec187cb9c100e1e6ea28628f22"};n.default=l},389239:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BookmarkButtonContentUsageFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null}],type:"ContentUsage",abstractKey:null,hash:"dfa42ee2b72d035649840770f64f1e16"};n.default=l},79344:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"BookmarkButtonCreateMutation",selections:i=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateBookmarkResponse",kind:"LinkedField",name:"createBookmark",plural:!1,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:r=[t,{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"BrainSearch",kind:"LinkedField",name:"brainSearch",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BookmarkButtonCreateMutation",selections:i},params:{cacheID:"435e8ca26afa3edf42af58e4f5d990a9",id:null,metadata:{},name:"BookmarkButtonCreateMutation",operationKind:"mutation",text:"mutation BookmarkButtonCreateMutation(\n  $input: CreateBookmarkInput!\n) {\n  response: createBookmark(input: $input) {\n    node {\n      id\n      content {\n        id\n        hasViewerBookmarked\n      }\n      contentUsage {\n        id\n        hasViewerBookmarked\n      }\n      brainSearch {\n        id\n        hasViewerBookmarked\n      }\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};s.hash="df9750b43195e31aaa30328383a2270b",n.default=s},907859:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"brainSearchId"},t={defaultValue:null,kind:"LocalArgument",name:"contentId"},r={defaultValue:null,kind:"LocalArgument",name:"contentUsageId"}],kind:"Fragment",metadata:null,name:"BookmarkButtonDeleteMutation",selections:[{alias:"response",args:i=[{kind:"Variable",name:"brainSearchId",variableName:"brainSearchId"},{kind:"Variable",name:"contentId",variableName:"contentId"},{kind:"Variable",name:"contentUsageId",variableName:"contentUsageId"}],concreteType:"DeleteBookmarkResponse",kind:"LinkedField",name:"deleteBookmark",plural:!1,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:o=[s,{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null}],storageKey:null},u={alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:o,storageKey:null},c={alias:null,args:null,concreteType:"BrainSearch",kind:"LinkedField",name:"brainSearch",plural:!1,selections:o,storageKey:null}],storageKey:null},g={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,l],kind:"Operation",name:"BookmarkButtonDeleteMutation",selections:[{alias:"response",args:i,concreteType:"DeleteBookmarkResponse",kind:"LinkedField",name:"deleteBookmark",plural:!1,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,filters:null,handle:"deleteRecord",key:"",kind:"ScalarHandle",name:"id"},d,u,c],storageKey:null},g],storageKey:null}]},params:{cacheID:"ebfe4d709ebba707452a358afbefef2a",id:null,metadata:{},name:"BookmarkButtonDeleteMutation",operationKind:"mutation",text:"mutation BookmarkButtonDeleteMutation(\n  $contentId: ID\n  $contentUsageId: ID\n  $brainSearchId: ID\n) {\n  response: deleteBookmark(contentId: $contentId, contentUsageId: $contentUsageId, brainSearchId: $brainSearchId) {\n    node {\n      id\n      content {\n        id\n        hasViewerBookmarked\n      }\n      contentUsage {\n        id\n        hasViewerBookmarked\n      }\n      brainSearch {\n        id\n        hasViewerBookmarked\n      }\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};m.hash="6e2b70f0196265b987dafc663a3614fb",n.default=m},937023:function(e,n,a){var l=a(204942),t=a(948177),r=a(753688),i=a(10165),s=a(810863),o=a(541321),d=a(868112),u=a(785893),c=(0,d.Z)((function(){return a.e(4657).then(a.bind(a,172181))}));var g=(0,s.Z)((function(e){return{header:{padding:e.spacing(2,3,0,3)},drawer:(0,l.Z)({padding:e.spacing(1,3)},e.breakpoints.down("xs"),{padding:e.spacing(1)})}}));n.Z=i.Z.withSkeleton({component:function(){var e=(0,r.P)("bookmarks"),n=g();return(0,u.jsx)(o.ds,{open:e.isOpen,size:"md",onClose:e.close,containerClasses:{drawerContainer:n.drawer},children:e.isOpen&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.OR,{className:n.header,testid:"BookmarksDrawer",title:"Bookmarks",onClose:e.close,customSubTabs:(0,u.jsx)(t.Z,{}),disableExpand:!0}),(0,u.jsx)(c,{tab:e.params.bookmarksTab})]})})},skeleton:function(){return(0,u.jsx)(o.Zy,{})}})},948177:function(e,n,a){var l=a(204942),t=a(241451),r=a(120666),i=(a(753688),a(810863)),s=a(128032),o=a(696672),d=a(188191),u=a(667294),c=a(785893);function g(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?g(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function p(){var e=h(),n=(0,r.Z)(),a=(0,d.Z)().brainSearch,l=[{label:"Content",params:{bookmarksTab:"content"},testid:"content"},{label:"Events",params:{bookmarksTab:"events"},testid:"events"},{label:"Comments",params:{bookmarksTab:"comments"},testid:"comments"},{label:"Posts",params:{bookmarksTab:"posts"},testid:"posts"}].concat((0,t.Z)(o.BB.spreadIf({label:(null==n?void 0:n.name)||"Ask AI",params:{bookmarksTab:"brain_searches"},testid:"brain_searches"},a)));return(0,c.jsx)("div",{className:e.subtabsContainer,children:(0,c.jsx)("div",{className:e.flex,children:(0,c.jsx)(s.Z,{testid:"BookmarksSubtabs",tabs:l,className:e.subtabs})})})}var h=(0,i.Z)((function(e){return{flex:{display:"flex",justifyContent:"space-between",alignItems:"center"},subtabsContainer:{position:"relative"},subtabs:m(m(m({textAlign:"center",overflow:"auto"},e.typography["body-sm"]),e.typography.modifiers.fontWeight[600]),{},{transform:"translateY(1.5px)","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none"})}}));n.Z=u.memo(p)},167183:function(e,n,a){var l,t=a(204942),r=a(115861),i=a(386854),s=a(887757),o=a.n(s),d=a(120666),u=(a(384032),a(183903)),c=a(491939),g=a(810863),m=a(92839),p=a(541321),h=a(269865),y=a(108920),k=a(759693),f=a(696672),b=a(251941),v=a(294184),S=a.n(v),F=a(667294),C=a(422578),x=a(785893),P=a(425108);function K(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function I(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?K(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var T=(0,g.Z)((function(e){return{rootContainer:{position:"relative",width:"100%",display:"flex",justifyContent:"center",maxWidth:"720px"},innerContainer:{position:"relative",maxWidth:"720px",width:"100%"},inputRoot:function(n){var a=n.variant,l=n.hasSources,t=n.showSuggestions,r=n.suggestionsPosition;return I(I(I(I({borderRadius:e.measure.borderRadius.large,border:"1px solid ".concat(t?e.palette.primary.main:e.palette.groovy.neutral[200]),backgroundColor:e.palette.background.paper},(0,m.Z)(t,I({},"below"===r?{borderBottomLeftRadius:"0 !important",borderBottomRightRadius:"0 !important"}:{borderTopLeftRadius:"0 !important",borderTopRightRadius:"0 !important"}))),{},{boxShadow:"raised"!==a||t?"none":e.palette.groovyDepths.xs,width:"100%",padding:e.spacing(1),minHeight:"48px",maxWidth:"720px",position:"relative"},(0,m.Z)("flat"===a,{"&:hover:not(.Mui-focused)":{backgroundColor:e.palette.background.paper},"&.Mui-focused":{borderColor:e.palette.primary.main}})),(0,m.Z)(l,{flexDirection:"column",gap:e.spacing(.5)})),{},{"&.Mui-focused":{border:t?"none !important":"1px solid ".concat(e.palette.primary.main," !important"),boxShadow:t?"0 0 0 1px ".concat(e.palette.primary.main," !important"):"raised"===a?"".concat(e.palette.groovyDepths.xs," !important"):"none !important"}})},input:{padding:e.spacing(.75,1),maxHeight:"96px",overflowY:"auto",flex:"1 1 auto",width:"calc(100% - ".concat(e.spacing(2),"px)")},sendButton:{borderRadius:e.measure.borderRadius.medium,padding:e.spacing(.5),marginLeft:e.spacing(1),alignSelf:"flex-end",height:"32px",width:"32px",backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:(0,k.$n)(e.palette.primary.main,.2)},"& svg":{color:"".concat(e.palette.primary.contrastText," !important")}},sendIcon:{transform:"rotate(-90deg)"},stopIcon:{color:"".concat(e.palette.common.white," !important")},endAdornment:{width:"100%",display:"flex"},sources:{flexGrow:1,display:"flex",flexWrap:"wrap",gap:e.spacing(1),minWidth:0},sourceTag:{display:"flex",gap:e.spacing(.5),alignItems:"center",borderRadius:e.measure.borderRadius.medium,maxWidth:"100%",padding:e.spacing(1),backgroundColor:e.palette.groovy.neutral[100],color:e.palette.groovy.neutral[500],border:"1px solid ".concat(e.palette.groovy.neutral[200]),"& svg":{width:16,height:16,flexShrink:0}},suggestionsContainer:function(n){var a=n.suggestionsPosition;return I(I({position:"absolute",width:"calc(100% + 2px)",padding:e.spacing(1),maxWidth:"722px"},"below"===a?{top:"calc(100% - 1px)",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.primary.main),borderBottomLeftRadius:e.measure.borderRadius.large,borderBottomRightRadius:e.measure.borderRadius.large}:{bottom:"calc(100% - 1px)",borderTop:"1px solid ".concat(e.palette.primary.main),borderBottom:"1px solid ".concat(e.palette.divider),borderTopLeftRadius:e.measure.borderRadius.large,borderTopRightRadius:e.measure.borderRadius.large}),{},{left:"-1px",backgroundColor:e.palette.background.paper,boxShadow:"none",borderLeft:"1px solid ".concat(e.palette.primary.main),borderRight:"1px solid ".concat(e.palette.primary.main),zIndex:2,display:"flex",flexDirection:"column"})},suggestionItem:{padding:e.spacing(1),borderRadius:e.measure.borderRadius.medium,textAlign:"left","&:hover":{backgroundColor:e.palette.action.hover}}}}));n.Z=function(e){var n=e.placeholder,t=void 0===n?"Ask a question...":n,s=e.onSubmit,g=e.onChange,m=e.onAbort,k=e.isGenerating,v=void 0!==k&&k,K=e.classes,I=e.multiline,L=void 0===I||I,w=e.clearOnSubmit,B=void 0===w||w,j=e.variant,N=void 0===j?"raised":j,_=e.contentUsageKey,A=e.enableSuggestions,M=void 0!==A&&A,D=e.suggestionsPosition,O=void 0===D?"below":D,Z=e.isSidePanel,U=void 0!==Z&&Z,R=e.autoFocus,E=void 0!==R&&R,V=(0,F.useState)(""),Q=(0,i.Z)(V,2),z=Q[0],H=Q[1],$=(0,F.useState)(!1),q=(0,i.Z)($,2),G=q[0],W=q[1],Y=(0,b.d)(),J=(0,y.Z)(),X=(0,d.Z)(),ee=(0,F.useRef)(null);(0,F.useEffect)((function(){if(E&&ee.current){var e=setTimeout((function(){var e;null===(e=ee.current)||void 0===e||e.focus()}),600);return function(){return clearTimeout(e)}}}),[U,Y]);var ne=M&&(null==X?void 0:X.enableSuggestedPrompts),ae=(0,F.useMemo)((function(){return ne?f.BB.randomItems(X.suggestedPrompts,3):[]}),[ne]),le=(0,C.useFragment)((void 0!==l||(l=a(384032)).hash&&"9172b8d3a1f57a8a905a283557be2e2d"!==l.hash&&P.error("The definition of 'BrainSearchInput_ContentUsageFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),_||null),te=!!le,re=G&&ae.length>0&&0===z.trim().length&&!U,ie=T({variant:N,hasSources:te,showSuggestions:re,suggestionsPosition:O}),se=0===z.trim().length,oe=(0,x.jsx)(p.z6,{placeholder:t,classes:{root:S()(ie.inputRoot,!M&&(null==K?void 0:K.root)),input:ie.input},value:z,onChange:function(e){H(e.target.value),null==g||g(e.target.value)},onFocus:function(){return M&&W(!0)},onBlur:function(){M&&W(!1)},multiline:L,inputRef:ee,autoFocus:!Y&&E,endAdornment:te?(0,x.jsxs)("div",{className:ie.endAdornment,children:[(0,x.jsx)("div",{className:ie.sources,children:(0,x.jsxs)("div",{className:ie.sourceTag,children:[(0,x.jsx)(p.De,{icon:"file",color:J.palette.groovy.neutral[500]}),(0,x.jsx)(p.U4,{variant:"body-xs-500",color:"groovy.neutral.500",truncateText:1,children:le.content.name})]})}),de()]}):de(),onKeyPress:function(e){se||"Enter"!==e.key||e.shiftKey||ue(e)}});return M?(0,x.jsx)("div",{className:S()(ie.rootContainer,null==K?void 0:K.root),children:(0,x.jsxs)("div",{className:ie.innerContainer,children:[oe,re&&(0,x.jsx)("div",{className:ie.suggestionsContainer,children:ae.map((function(e){return(0,x.jsx)(h.Z,{className:ie.suggestionItem,onMouseDown:function(n){n.preventDefault(),function(e){ce.apply(this,arguments)}(e)},children:(0,x.jsx)(p.U4,{variant:"body-sm",color:"text.secondary",children:e})},e)}))})]})}):oe;function de(){return v?(0,x.jsx)(p.I4,{className:ie.sendButton,tooltip:"Stop Generating",onClick:m,children:(0,x.jsx)(c.default,{className:ie.stopIcon})}):(0,x.jsx)(p.I4,{className:ie.sendButton,disabled:se,haveDisabledStyles:!0,variant:"primary",onClick:function(e){return ue(e)},children:(0,x.jsx)(u.default,{className:ie.sendIcon,color:J.palette.primary.contrastText})})}function ue(e){s(z),e.preventDefault(),B&&H("")}function ce(){return(ce=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},528731:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchAssistantMessageFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"error",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchMessageFeedbackFooterFragment"},{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeConnection",kind:"LinkedField",name:"sources",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeConnection",kind:"LinkedField",name:"externalSources",plural:!1,selections:l,storageKey:null}],type:"BrainSearchMessage",abstractKey:null};t.hash="c37474e0960166001cf37126ef034b39",n.default=t},384032:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchInput_ContentUsageFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"ContentUsage",abstractKey:null,hash:"9172b8d3a1f57a8a905a283557be2e2d"};n.default=l},164198:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BrainSearchLandingPageQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[i,s={alias:null,args:null,kind:"ScalarField",name:"hasUnprocessedMediaAssets",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"},{args:null,kind:"FragmentSpread",name:"BrainSearchInput_ContentUsageFragment"},{args:null,kind:"FragmentSpread",name:"BrainSearchSidePanelToggle_ContentUsageFragment"},{args:null,kind:"FragmentSpread",name:"PastUserBrainSearchesContentUsageFragment"}],type:"ContentUsage",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrainSearchLandingPageQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:o=[{kind:"Literal",name:"last",value:3}],concreteType:"BrainSearchNodeConnection",kind:"LinkedField",name:"viewerBrainSearches",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearch",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:"viewerBrainSearches(last:3)"},{alias:null,args:o,filters:null,handle:"connection",key:"PastUserBrainSearches__viewerBrainSearches",kind:"LinkedHandle",name:"viewerBrainSearches"},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:u=[d={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},d,c={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:g=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},d,c],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:m=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},d,c],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:m,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:m,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},d,c],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:m,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:m,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:g,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:u,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:u,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],type:"ContentUsage",abstractKey:null}],storageKey:null}]},params:{cacheID:"7d9e6c1720e3f9cbf061cd68d0931f8b",id:null,metadata:{},name:"BrainSearchLandingPageQuery",operationKind:"query",text:"query BrainSearchLandingPageQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ... on ContentUsage {\n      id\n      content {\n        id\n        hasUnprocessedMediaAssets\n      }\n      ...usePermissionsFragment\n      ...BrainSearchInput_ContentUsageFragment\n      ...BrainSearchSidePanelToggle_ContentUsageFragment\n      ...PastUserBrainSearchesContentUsageFragment\n    }\n    id\n  }\n}\n\nfragment BrainSearchInput_ContentUsageFragment on ContentUsage {\n  id\n  content {\n    name\n    id\n  }\n}\n\nfragment BrainSearchSidePanelToggle_ContentUsageFragment on ContentUsage {\n  id\n  content {\n    type\n    id\n  }\n}\n\nfragment PastUserBrainSearchesContentUsageFragment on ContentUsage {\n  id\n  viewerBrainSearches(last: 3) {\n    edges {\n      node {\n        id\n        title\n        createdAt\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      hasPreviousPage\n      startCursor\n    }\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};p.hash="46e48334b1b721bdca5a90a6112e08d4",n.default=p},794251:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchMessageExternalSourceFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null}],type:"BrainSearchMessageExternalSource",abstractKey:null,hash:"0005d05b6a0f9a062f25e30d5e3faf64"};n.default=l},972367:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchMessageFeedbackFooterFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageText",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageFeedbackNode",kind:"LinkedField",name:"brainSearchMessageFeedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null}],storageKey:null}],type:"BrainSearchMessage",abstractKey:null,hash:"0d031f205bdc7a0c6a568d99d0f1cebc"};n.default=l},377016:function(e,n,a){a.r(n);a(244311);var l,t,r,i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"BrainSearchMessageFeedbackFooter__RateReponseMutation",selections:[{alias:null,args:t=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"TrackBrainSearchMessageFeedbackResponse",kind:"LinkedField",name:"trackBrainSearchMessageFeedback",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageFeedbackNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchMessage",kind:"LinkedField",name:"brainSearchMessage",plural:!1,selections:[r={alias:null,args:null,concreteType:"BrainSearchMessageFeedbackNode",kind:"LinkedField",name:"brainSearchMessageFeedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrainSearchMessageFeedbackFooter__RateReponseMutation",selections:[{alias:null,args:t,concreteType:"TrackBrainSearchMessageFeedbackResponse",kind:"LinkedField",name:"trackBrainSearchMessageFeedback",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageFeedbackNode",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchMessage",kind:"LinkedField",name:"brainSearchMessage",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"8b59febe3b5eaa8869f878b2e2c0b8ba",id:null,metadata:{},name:"BrainSearchMessageFeedbackFooter__RateReponseMutation",operationKind:"mutation",text:"mutation BrainSearchMessageFeedbackFooter__RateReponseMutation(\n  $input: TrackBrainSearchMessageFeedbackInput!\n) {\n  trackBrainSearchMessageFeedback(input: $input) {\n    node {\n      brainSearchMessage {\n        brainSearchMessageFeedback {\n          rating\n        }\n        id\n      }\n    }\n  }\n}\n"}};i.hash="9a90fba530bceb6ec467120edd76ffb6",n.default=i},454875:function(e,n,a){a.r(n);a(244311);var l,t,r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchMessageInternalSourceFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageSourceDrawerSearchParams",kind:"LinkedField",name:"drawerSearchParams",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"contentId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assetId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"u",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"drawerOccurrenceId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:r=[l,t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"asset",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"TrainingData",kind:"LinkedField",name:"trainingData",plural:!1,selections:[l,t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BotContext",kind:"LinkedField",name:"botContext",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"originalThreadMessageText",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originalThreadMessageUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileAvatarFragment"}],storageKey:null}],storageKey:null}],type:"BrainSearchMessageSource",abstractKey:null};i.hash="fd798b6816cf986bc9c238623cf88847",n.default=i},182544:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BrainSearchMessageListPaginationQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:r=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"BrainSearchMessageList_PaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrainSearchMessageListPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"BrainSearchMessageNodeConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessage",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"error",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageFeedbackNode",kind:"LinkedField",name:"brainSearchMessageFeedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeConnection",kind:"LinkedField",name:"sources",plural:!1,selections:d=[o],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeConnection",kind:"LinkedField",name:"externalSources",plural:!1,selections:d,storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"BrainSearchMessageList__messages",kind:"LinkedHandle",name:"messages"}],type:"BrainSearch",abstractKey:null}],storageKey:null}]},params:{cacheID:"8d3e951f8ea84d18121a4552382c3e1b",id:null,metadata:{},name:"BrainSearchMessageListPaginationQuery",operationKind:"query",text:"query BrainSearchMessageListPaginationQuery(\n  $after: String\n  $first: Int!\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...BrainSearchMessageList_PaginationFragment_2HEEH6\n    id\n  }\n}\n\nfragment BrainSearchAssistantMessageFragment on BrainSearchMessage {\n  id\n  messageText\n  error\n  ...BrainSearchMessageFeedbackFooterFragment\n  sources {\n    totalCount\n  }\n  externalSources {\n    totalCount\n  }\n}\n\nfragment BrainSearchMessageFeedbackFooterFragment on BrainSearchMessage {\n  id\n  messageText\n  brainSearchMessageFeedback {\n    rating\n  }\n}\n\nfragment BrainSearchMessageList_PaginationFragment_2HEEH6 on BrainSearch {\n  id\n  messages(first: $first, after: $after) {\n    totalCount\n    edges {\n      node {\n        id\n        type\n        ...BrainSearchUserMessageFragment\n        ...BrainSearchAssistantMessageFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n\nfragment BrainSearchUserMessageFragment on BrainSearchMessage {\n  id\n  messageText\n}\n"}};u.hash="cb04439ab3eb8eb675e17edb1aa4568c",n.default=u},562797:function(e,n,a){a.r(n);a(244311);var l,t,r=(t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:l=["messages"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:l},fragmentPathInResult:["node"],operation:a(182544),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"BrainSearchMessageList_PaginationFragment",selections:[t,{alias:"messages",args:null,concreteType:"BrainSearchMessageNodeConnection",kind:"LinkedField",name:"__BrainSearchMessageList__messages_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessage",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchUserMessageFragment"},{args:null,kind:"FragmentSpread",name:"BrainSearchAssistantMessageFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"BrainSearch",abstractKey:null});r.hash="cb04439ab3eb8eb675e17edb1aa4568c",n.default=r},41089:function(e,n,a){a.r(n);a(244311);var l,t,r,i=(l={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:a(808093),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"BrainSearchMessageSourceListFragment",selections:[{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeConnection",kind:"LinkedField",name:"sources",plural:!1,selections:[l,{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageSource",kind:"LinkedField",name:"node",plural:!1,selections:[t,r,{args:null,kind:"FragmentSpread",name:"BrainSearchMessageInternalSourceFragment"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeConnection",kind:"LinkedField",name:"externalSources",plural:!1,selections:[l,{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageExternalSource",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r,{args:null,kind:"FragmentSpread",name:"BrainSearchMessageExternalSourceFragment"}],storageKey:null}],storageKey:null}],storageKey:null},t],type:"BrainSearchMessage",abstractKey:null});i.hash="03e3d183b380ffe48f7e274caacb25a3",n.default=i},17624:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BrainSearchMessageSourceListQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchMessageSourceListFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrainSearchMessageSourceListQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeConnection",kind:"LinkedField",name:"sources",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageSource",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,o={alias:null,args:null,kind:"ScalarField",name:"entity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageSourceDrawerSearchParams",kind:"LinkedField",name:"drawerSearchParams",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"contentId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assetId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"u",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"drawerOccurrenceId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:u=[i,d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"asset",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"TrainingData",kind:"LinkedField",name:"trainingData",plural:!1,selections:[i,d,c={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BotContext",kind:"LinkedField",name:"botContext",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"originalThreadMessageText",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originalThreadMessageUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeConnection",kind:"LinkedField",name:"externalSources",plural:!1,selections:[s,{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageExternalSource",kind:"LinkedField",name:"node",plural:!1,selections:[i,c,r,o,{alias:null,args:null,kind:"ScalarField",name:"owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"BrainSearchMessage",abstractKey:null}],storageKey:null}]},params:{cacheID:"08c08bd606bab98b520a4f3612426db5",id:null,metadata:{},name:"BrainSearchMessageSourceListQuery",operationKind:"query",text:"query BrainSearchMessageSourceListQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    id\n    ...BrainSearchMessageSourceListFragment\n  }\n}\n\nfragment BrainSearchMessageExternalSourceFragment on BrainSearchMessageExternalSource {\n  id\n  entity\n  url\n  owner\n  title\n  score\n}\n\nfragment BrainSearchMessageInternalSourceFragment on BrainSearchMessageSource {\n  id\n  entity\n  entityId\n  drawerSearchParams {\n    contentId\n    assetId\n    postId\n    u\n    drawerOccurrenceId\n  }\n  content {\n    id\n    name\n  }\n  asset {\n    id\n    name\n  }\n  trainingData {\n    id\n    name\n    url\n  }\n  botContext {\n    link\n    platform\n    originalThreadMessageText\n    originalThreadMessageUser {\n      fullName\n      ...ProfileAvatarFragment\n      id\n    }\n    id\n  }\n}\n\nfragment BrainSearchMessageSourceListFragment on BrainSearchMessage {\n  sources {\n    totalCount\n    edges {\n      node {\n        id\n        __typename\n        ...BrainSearchMessageInternalSourceFragment\n      }\n    }\n  }\n  externalSources {\n    totalCount\n    edges {\n      node {\n        id\n        url\n        __typename\n        ...BrainSearchMessageExternalSourceFragment\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n"}};g.hash="239c81553fe01d2a52925f9f5d511cd2",n.default=g},808093:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BrainSearchMessageSourceListRefetchQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BrainSearchMessageSourceListFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrainSearchMessageSourceListRefetchQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeConnection",kind:"LinkedField",name:"sources",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageSource",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,o={alias:null,args:null,kind:"ScalarField",name:"entity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageSourceDrawerSearchParams",kind:"LinkedField",name:"drawerSearchParams",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"contentId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assetId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"u",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"drawerOccurrenceId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:u=[i,d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"asset",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"TrainingData",kind:"LinkedField",name:"trainingData",plural:!1,selections:[i,d,c={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BotContext",kind:"LinkedField",name:"botContext",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"originalThreadMessageText",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originalThreadMessageUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeConnection",kind:"LinkedField",name:"externalSources",plural:!1,selections:[s,{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageExternalSource",kind:"LinkedField",name:"node",plural:!1,selections:[i,c,r,o,{alias:null,args:null,kind:"ScalarField",name:"owner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"BrainSearchMessage",abstractKey:null}],storageKey:null}]},params:{cacheID:"d139c49a56584baa9154c04f8c0ef17a",id:null,metadata:{},name:"BrainSearchMessageSourceListRefetchQuery",operationKind:"query",text:"query BrainSearchMessageSourceListRefetchQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...BrainSearchMessageSourceListFragment\n    id\n  }\n}\n\nfragment BrainSearchMessageExternalSourceFragment on BrainSearchMessageExternalSource {\n  id\n  entity\n  url\n  owner\n  title\n  score\n}\n\nfragment BrainSearchMessageInternalSourceFragment on BrainSearchMessageSource {\n  id\n  entity\n  entityId\n  drawerSearchParams {\n    contentId\n    assetId\n    postId\n    u\n    drawerOccurrenceId\n  }\n  content {\n    id\n    name\n  }\n  asset {\n    id\n    name\n  }\n  trainingData {\n    id\n    name\n    url\n  }\n  botContext {\n    link\n    platform\n    originalThreadMessageText\n    originalThreadMessageUser {\n      fullName\n      ...ProfileAvatarFragment\n      id\n    }\n    id\n  }\n}\n\nfragment BrainSearchMessageSourceListFragment on BrainSearchMessage {\n  sources {\n    totalCount\n    edges {\n      node {\n        id\n        __typename\n        ...BrainSearchMessageInternalSourceFragment\n      }\n    }\n  }\n  externalSources {\n    totalCount\n    edges {\n      node {\n        id\n        url\n        __typename\n        ...BrainSearchMessageExternalSourceFragment\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n"}};g.hash="03e3d183b380ffe48f7e274caacb25a3",n.default=g},374089:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchMoreActionsButtonFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:[l],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"},{args:null,kind:"FragmentSpread",name:"DeleteBrainSearchButtonFragment"},{args:null,kind:"FragmentSpread",name:"BookmarkButtonBrainSearchFragment"}],type:"BrainSearch",abstractKey:null};t.hash="6bbd1ad5a6a603dfcac85a2c0f2a9d3f",n.default=t},196416:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:null,name:"BrainSearchPageContentFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchPageHeaderFragment"},{args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"BrainSearchMessageList_PaginationFragment"},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BrainSearchInput_ContentUsageFragment"}],storageKey:null}],type:"BrainSearch",abstractKey:null,hash:"8491d1db8da0cb2a4dbe866b7bf9b18b"};n.default=l},625637:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"id"},t={defaultValue:null,kind:"LocalArgument",name:"sourceRelatedQuestionId"},r={defaultValue:null,kind:"LocalArgument",name:"userText"}],kind:"Fragment",metadata:null,name:"BrainSearchPageContent__createMessageMutation",selections:d=[{alias:null,args:[{kind:"Variable",name:"brainSearchId",variableName:"id"},{kind:"Variable",name:"sourceRelatedQuestionId",variableName:"sourceRelatedQuestionId"},{kind:"Variable",name:"userText",variableName:"userText"}],concreteType:"CreateBrainSearchMessageResponse",kind:"LinkedField",name:"createBrainSearchMessage",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchMessage",kind:"LinkedField",name:"userMessage",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"messageText",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brainSearchId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessage",kind:"LinkedField",name:"assistantMessage",plural:!1,selections:[i,s,o,{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeConnection",kind:"LinkedField",name:"sources",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessageSource",kind:"LinkedField",name:"node",plural:!1,selections:[i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,r,t],kind:"Operation",name:"BrainSearchPageContent__createMessageMutation",selections:d},params:{cacheID:"d1163d5c420b17672ee4d4d9e9167d74",id:null,metadata:{},name:"BrainSearchPageContent__createMessageMutation",operationKind:"mutation",text:"mutation BrainSearchPageContent__createMessageMutation(\n  $id: ID!\n  $userText: String!\n  $sourceRelatedQuestionId: ID\n) {\n  createBrainSearchMessage(brainSearchId: $id, userText: $userText, sourceRelatedQuestionId: $sourceRelatedQuestionId) {\n    userMessage {\n      id\n      messageText\n      type\n      brainSearchId\n    }\n    assistantMessage {\n      id\n      messageText\n      type\n      sources {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n  }\n}\n"}};u.hash="0a41ade6e484ecc1c7921845a38735b4",n.default=u},101330:function(e,n,a){a.r(n);a(244311);var l,t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchPageHeaderFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchTitleFragment"},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"parentApp",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContentUsageUtils_useContentUsagePathContentUsageFragment"},{args:null,kind:"FragmentSpread",name:"BrainSearchSidePanelToggle_ContentUsageFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchMoreActionsButtonFragment"},{args:null,kind:"FragmentSpread",name:"BookmarkButtonBrainSearchFragment"}],type:"BrainSearch",abstractKey:null};r.hash="bda01832eccc1bfc4f3409b85b2b2e5e",n.default=r},728515:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y,k,f,b,v,S,F={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"brainSearchId"},r={defaultValue:null,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:null,name:"BrainSearchPageQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"id",variableName:"brainSearchId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:d=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"BrainSearchPageContentFragment"}],type:"BrainSearch",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,l],kind:"Operation",name:"BrainSearchPageQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[s,o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:[o,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"parentApp",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},o],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"entity",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"productApp",plural:!1,selections:[g,o],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"module",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentUsageNodeConnection",kind:"LinkedField",name:"usages",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentUsageNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"node",plural:!1,selections:[o,m,p],storageKey:null}],storageKey:null}],storageKey:null},o],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null},{alias:null,args:d,concreteType:"BrainSearchMessageNodeConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchMessage",kind:"LinkedField",name:"node",plural:!1,selections:[o,u,{alias:null,args:null,kind:"ScalarField",name:"messageText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"error",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageFeedbackNode",kind:"LinkedField",name:"brainSearchMessageFeedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageSourceNodeConnection",kind:"LinkedField",name:"sources",plural:!1,selections:y=[h],storageKey:null},{alias:null,args:null,concreteType:"BrainSearchMessageExternalSourceNodeConnection",kind:"LinkedField",name:"externalSources",plural:!1,selections:y,storageKey:null},s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:d,filters:null,handle:"connection",key:"BrainSearchMessageList__messages",kind:"LinkedHandle",name:"messages"},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:f=[k={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},k,b={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:v=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},k,b],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:S=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},k,b],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:S,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:S,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},k,b],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:S,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:S,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:v,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:f,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:f,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],type:"BrainSearch",abstractKey:null}],storageKey:null}]},params:{cacheID:"e009fff96e03760933a4c68a5dfb5499",id:null,metadata:{},name:"BrainSearchPageQuery",operationKind:"query",text:"query BrainSearchPageQuery(\n  $brainSearchId: ID!\n  $first: Int!\n  $after: String\n) {\n  node(id: $brainSearchId) {\n    __typename\n    ... on BrainSearch {\n      __typename\n      id\n      ...BrainSearchPageContentFragment_2HEEH6\n    }\n    id\n  }\n}\n\nfragment BookmarkButtonBrainSearchFragment on BrainSearch {\n  id\n  hasViewerBookmarked\n}\n\nfragment BrainSearchAssistantMessageFragment on BrainSearchMessage {\n  id\n  messageText\n  error\n  ...BrainSearchMessageFeedbackFooterFragment\n  sources {\n    totalCount\n  }\n  externalSources {\n    totalCount\n  }\n}\n\nfragment BrainSearchInput_ContentUsageFragment on ContentUsage {\n  id\n  content {\n    name\n    id\n  }\n}\n\nfragment BrainSearchMessageFeedbackFooterFragment on BrainSearchMessage {\n  id\n  messageText\n  brainSearchMessageFeedback {\n    rating\n  }\n}\n\nfragment BrainSearchMessageList_PaginationFragment_2HEEH6 on BrainSearch {\n  id\n  messages(first: $first, after: $after) {\n    totalCount\n    edges {\n      node {\n        id\n        type\n        ...BrainSearchUserMessageFragment\n        ...BrainSearchAssistantMessageFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n\nfragment BrainSearchMoreActionsButtonFragment on BrainSearch {\n  id\n  hasViewerBookmarked\n  contentUsage {\n    id\n  }\n  ...usePermissionsFragment\n  ...DeleteBrainSearchButtonFragment\n  ...BookmarkButtonBrainSearchFragment\n}\n\nfragment BrainSearchPageContentFragment_2HEEH6 on BrainSearch {\n  id\n  ...BrainSearchPageHeaderFragment\n  ...BrainSearchMessageList_PaginationFragment_2HEEH6\n  contentUsage {\n    ...BrainSearchInput_ContentUsageFragment\n    id\n  }\n}\n\nfragment BrainSearchPageHeaderFragment on BrainSearch {\n  id\n  ...BrainSearchTitleFragment\n  contentUsage {\n    id\n    content {\n      type\n      name\n      id\n    }\n    product {\n      name\n      slug\n      id\n    }\n    parentApp {\n      kind\n      customAppTitle\n      id\n    }\n    ...ContentUsageUtils_useContentUsagePathContentUsageFragment\n    ...BrainSearchSidePanelToggle_ContentUsageFragment\n  }\n  ...BrainSearchMoreActionsButtonFragment\n  ...BookmarkButtonBrainSearchFragment\n}\n\nfragment BrainSearchSidePanelToggle_ContentUsageFragment on ContentUsage {\n  id\n  content {\n    type\n    id\n  }\n}\n\nfragment BrainSearchTitleFragment on BrainSearch {\n  id\n  title\n}\n\nfragment BrainSearchUserMessageFragment on BrainSearchMessage {\n  id\n  messageText\n}\n\nfragment ContentUsageUtils_useContentUsagePathContentUsageFragment on ContentUsage {\n  id\n  entity\n  entityId\n  product {\n    slug\n    id\n  }\n  productApp {\n    kind\n    id\n  }\n  module {\n    usages {\n      edges {\n        node {\n          id\n          entity\n          entityId\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment DeleteBrainSearchButtonFragment on BrainSearch {\n  id\n  organizationId\n  contentUsage {\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};F.hash="38e84186561b686294daf82f83f151f8",n.default=F},125499:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchRelatedQuestionListFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"BrainSearchRelatedQuestionNodeConnection",kind:"LinkedField",name:"brainSearchRelatedQuestions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchRelatedQuestionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchRelatedQuestion",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"brainSearchRelatedQuestions(first:3)"}],type:"BrainSearchMessage",abstractKey:null};t.hash="9a5f25cb2a045c37f74cbb5b9b820781",n.default=t},572370:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BrainSearchRelatedQuestionListQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchRelatedQuestionListFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrainSearchRelatedQuestionListQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,i,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"BrainSearchRelatedQuestionNodeConnection",kind:"LinkedField",name:"brainSearchRelatedQuestions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"BrainSearchRelatedQuestionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearchRelatedQuestion",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"brainSearchRelatedQuestions(first:3)"}],type:"BrainSearchMessage",abstractKey:null}],storageKey:null}]},params:{cacheID:"0880625b1ce3b646bcbf25a140f8905c",id:null,metadata:{},name:"BrainSearchRelatedQuestionListQuery",operationKind:"query",text:"query BrainSearchRelatedQuestionListQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    id\n    ...BrainSearchRelatedQuestionListFragment\n  }\n}\n\nfragment BrainSearchRelatedQuestionListFragment on BrainSearchMessage {\n  id\n  brainSearchRelatedQuestions(first: 3) {\n    totalCount\n    edges {\n      node {\n        id\n        text\n      }\n    }\n  }\n}\n"}};s.hash="f399b8258fa51ff39c34f584a405d7f0",n.default=s},971958:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BrainSearchSidebarListPaginationQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:r=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"BrainSearchSidebarList_PaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrainSearchSidebarListPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"BrainSearchNodeConnection",kind:"LinkedField",name:"brainSearches",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearch",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:[s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null},i,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},o,u={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:c=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},o,u],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:g=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},o,u],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},o,u],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:g,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:c,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:d,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:d,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"BrainSearchSidebarList__brainSearches",kind:"LinkedHandle",name:"brainSearches"}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}]},params:{cacheID:"cf4bf1920f1de7dfd067b7f157b06793",id:null,metadata:{},name:"BrainSearchSidebarListPaginationQuery",operationKind:"query",text:"query BrainSearchSidebarListPaginationQuery(\n  $after: String\n  $first: Int\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...BrainSearchSidebarList_PaginationFragment_2HEEH6\n    id\n  }\n}\n\nfragment BookmarkButtonBrainSearchFragment on BrainSearch {\n  id\n  hasViewerBookmarked\n}\n\nfragment BrainSearchMoreActionsButtonFragment on BrainSearch {\n  id\n  hasViewerBookmarked\n  contentUsage {\n    id\n  }\n  ...usePermissionsFragment\n  ...DeleteBrainSearchButtonFragment\n  ...BookmarkButtonBrainSearchFragment\n}\n\nfragment BrainSearchSidebarList_PaginationFragment_2HEEH6 on OrganizationMembership {\n  id\n  brainSearches(first: $first, after: $after) {\n    edges {\n      node {\n        ...BrainSearchTitleFragment\n        id\n        createdAt\n        ...BrainSearchMoreActionsButtonFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n\nfragment BrainSearchTitleFragment on BrainSearch {\n  id\n  title\n}\n\nfragment DeleteBrainSearchButtonFragment on BrainSearch {\n  id\n  organizationId\n  contentUsage {\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};m.hash="c37ab1fe9777119e77c1ba9ef4e5bfc3",n.default=m},611901:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BrainSearchSidebarListQuery",selections:[{alias:"membership",args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:s=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"BrainSearchSidebarList_PaginationFragment"}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,t,l],kind:"Operation",name:"BrainSearchSidebarListQuery",selections:[{alias:"membership",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"BrainSearchNodeConnection",kind:"LinkedField",name:"brainSearches",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearch",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerBookmarked",storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:[d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null},o,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:c=[u={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},u,g={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:m=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},u,g],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:p=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},u,g],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},u,g],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:p,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:m,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:c,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:c,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"BrainSearchSidebarList__brainSearches",kind:"LinkedHandle",name:"brainSearches"}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}]},params:{cacheID:"c6418f83633d9f5ebe57a3b63764f55a",id:null,metadata:{},name:"BrainSearchSidebarListQuery",operationKind:"query",text:"query BrainSearchSidebarListQuery(\n  $id: ID!\n  $first: Int\n  $after: String\n) {\n  membership: node(id: $id) {\n    __typename\n    ... on OrganizationMembership {\n      ...BrainSearchSidebarList_PaginationFragment_2HEEH6\n    }\n    id\n  }\n}\n\nfragment BookmarkButtonBrainSearchFragment on BrainSearch {\n  id\n  hasViewerBookmarked\n}\n\nfragment BrainSearchMoreActionsButtonFragment on BrainSearch {\n  id\n  hasViewerBookmarked\n  contentUsage {\n    id\n  }\n  ...usePermissionsFragment\n  ...DeleteBrainSearchButtonFragment\n  ...BookmarkButtonBrainSearchFragment\n}\n\nfragment BrainSearchSidebarList_PaginationFragment_2HEEH6 on OrganizationMembership {\n  id\n  brainSearches(first: $first, after: $after) {\n    edges {\n      node {\n        ...BrainSearchTitleFragment\n        id\n        createdAt\n        ...BrainSearchMoreActionsButtonFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n\nfragment BrainSearchTitleFragment on BrainSearch {\n  id\n  title\n}\n\nfragment DeleteBrainSearchButtonFragment on BrainSearch {\n  id\n  organizationId\n  contentUsage {\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};h.hash="e535dd98125612639700ec62380e1d3d",n.default=h},756344:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchSidebarList_ItemFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchTitleFragment"},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchMoreActionsButtonFragment"}],type:"BrainSearch",abstractKey:null,hash:"f8b9ce4359a1dd1efbbeb6cf67c1778e"};n.default=l},524737:function(e,n,a){a.r(n);a(244311);var l,t,r=(t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:l=["brainSearches"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:l},fragmentPathInResult:["node"],operation:a(971958),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"BrainSearchSidebarList_PaginationFragment",selections:[t,{alias:"brainSearches",args:null,concreteType:"BrainSearchNodeConnection",kind:"LinkedField",name:"__BrainSearchSidebarList__brainSearches_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearch",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BrainSearchTitleFragment"},t,{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{args:null,kind:"FragmentSpread",name:"BrainSearchMoreActionsButtonFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"OrganizationMembership",abstractKey:null});r.hash="c37ab1fe9777119e77c1ba9ef4e5bfc3",n.default=r},523490:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:a(139703),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"BrainSearchTitleFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"BrainSearch",abstractKey:null,hash:"b5953ae6fad884f9b9f00e9c22977b88"};n.default=l},139703:function(e,n,a){a.r(n);a(244311);var l,t,r={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BrainSearchTitleRefetchQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BrainSearchTitleFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrainSearchTitleRefetchQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"BrainSearch",abstractKey:null}],storageKey:null}]},params:{cacheID:"177bec36be3bd5bfcb438b365347b90e",id:null,metadata:{},name:"BrainSearchTitleRefetchQuery",operationKind:"query",text:"query BrainSearchTitleRefetchQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...BrainSearchTitleFragment\n    id\n  }\n}\n\nfragment BrainSearchTitleFragment on BrainSearch {\n  id\n  title\n}\n"}};r.hash="b5953ae6fad884f9b9f00e9c22977b88",n.default=r},15837:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchUserMessageFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageText",storageKey:null}],type:"BrainSearchMessage",abstractKey:null,hash:"a039adf02c3eadec405b6dc03b79c192"};n.default=l},630503:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeleteBrainSearchButtonFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:[l],storageKey:null}],type:"BrainSearch",abstractKey:null};t.hash="bb1064ee40b784eceeddd002061b8548",n.default=t},779900:function(e,n,a){a.r(n);a(244311);var l,t,r,i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"DeleteBrainSearchButtonMutation",selections:[{alias:"response",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:"DeleteBrainSearchResponse",kind:"LinkedField",name:"deleteBrainSearch",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"deletedBrainSearchId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"DeleteBrainSearchButtonMutation",selections:[{alias:"response",args:t,concreteType:"DeleteBrainSearchResponse",kind:"LinkedField",name:"deleteBrainSearch",plural:!1,selections:[r,{alias:null,args:null,filters:null,handle:"deleteRecord",key:"",kind:"ScalarHandle",name:"deletedBrainSearchId"}],storageKey:null}]},params:{cacheID:"f5312844cb4491549f16740db6fd9bfa",id:null,metadata:{},name:"DeleteBrainSearchButtonMutation",operationKind:"mutation",text:"mutation DeleteBrainSearchButtonMutation(\n  $id: ID!\n) {\n  response: deleteBrainSearch(id: $id) {\n    deletedBrainSearchId\n  }\n}\n"}};i.hash="c9ad8bb71bf9db01da4f0857745f1c5c",n.default=i},913838:function(e,n,a){a.r(n);a(244311);var l,t,r=(t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"before"},{defaultValue:3,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:{connection:[{count:"last",cursor:"before",direction:"backward",path:l=["viewerBrainSearches"]}],refetch:{connection:{forward:null,backward:{count:"last",cursor:"before"},path:l},fragmentPathInResult:["node"],operation:a(655229),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"PastUserBrainSearchesContentUsageFragment",selections:[t,{alias:"viewerBrainSearches",args:null,concreteType:"BrainSearchNodeConnection",kind:"LinkedField",name:"__PastUserBrainSearches__viewerBrainSearches_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearch",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"ContentUsage",abstractKey:null});r.hash="c902d4420da15f800c7dc7bb01b11c87",n.default=r},655229:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"before"},t={defaultValue:null,kind:"LocalArgument",name:"id"},r={defaultValue:3,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:null,name:"PastUserBrainSearchesContentUsageFragmentRefetchQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:s=[{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"last",variableName:"last"}],kind:"FragmentSpread",name:"PastUserBrainSearchesContentUsageFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,r,t],kind:"Operation",name:"PastUserBrainSearchesContentUsageFragmentRefetchQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"BrainSearchNodeConnection",kind:"LinkedField",name:"viewerBrainSearches",plural:!1,selections:[{alias:null,args:null,concreteType:"BrainSearchNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BrainSearch",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"PastUserBrainSearches__viewerBrainSearches",kind:"LinkedHandle",name:"viewerBrainSearches"}],type:"ContentUsage",abstractKey:null}],storageKey:null}]},params:{cacheID:"08ec4dc74322f5503c25cc279ea7a535",id:null,metadata:{},name:"PastUserBrainSearchesContentUsageFragmentRefetchQuery",operationKind:"query",text:"query PastUserBrainSearchesContentUsageFragmentRefetchQuery(\n  $before: String\n  $last: Int = 3\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...PastUserBrainSearchesContentUsageFragment_SKUZh\n    id\n  }\n}\n\nfragment PastUserBrainSearchesContentUsageFragment_SKUZh on ContentUsage {\n  id\n  viewerBrainSearches(last: $last, before: $before) {\n    edges {\n      node {\n        id\n        title\n        createdAt\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      hasPreviousPage\n      startCursor\n    }\n  }\n}\n"}};u.hash="c902d4420da15f800c7dc7bb01b11c87",n.default=u},558433:function(e,n,a){var l=a(120666),t=a(753688),r=a(810863),i=a(541321),s=a(868112),o=a(785893),d=(0,s.Z)((function(){return Promise.resolve().then(a.bind(a,58044))}));var u=(0,r.Z)({drawer:{padding:0,display:"flex",overflow:"hidden"}});n.Z=function(){var e=(0,t.P)("brainSearch"),n=u();return(0,l.Z)()?(0,o.jsx)(i.ds,{open:e.isOpen,fullScreen:!0,onClose:e.close,containerClasses:{drawerContainer:n.drawer},children:e.isOpen&&(0,o.jsx)(d,{})}):null}},58044:function(e,n,a){a.r(n),a.d(n,{default:function(){return ka}});var l,t,r,i=a(204942),s=a(386854),o=a(120666),d=a(158078),u=a(167183),c=a(694905),g=(a(630503),a(779900),a(445033)),m=a(509645),p=a(611797),h=a(667294),y=a(422578),k=a(244311),f=a(407176),b=a(295791),v=a(785893),S=a(425108),F=function(e){var n=e.children,r=e.brainSearchKey,i=e.onDelete,o=(0,h.useState)(!1),d=(0,s.Z)(o,2),u=d[0],c=d[1],F=(0,y.useFragment)((void 0!==l||(l=a(630503)).hash&&"bb1064ee40b784eceeddd002061b8548"!==l.hash&&S.error("The definition of 'DeleteBrainSearchButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),r),C=(0,y.useMutation)((void 0!==t||(t=a(779900)).hash&&"c9ad8bb71bf9db01da4f0857745f1c5c"!==t.hash&&S.error("The definition of 'DeleteBrainSearchButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t)),x=(0,s.Z)(C,2),P=x[0],K=x[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m.p,{onClick:function(){c(!0)},children:n}),(0,v.jsx)(p.Z,{testid:"DeleteBrainSearchConfirmationModal",isOpen:u,onClose:function(){return c(!1)},title:"Are you sure you want to permanently delete this conversation?",description:"This action is irreversible. You will not be able to recover this conversation or its message history.",confirmationButtonProps:{onClick:function(){i(),P({variables:{id:F.id},onCompleted:function(){(0,k.commitLocalUpdate)(f.Z,(function(e){var n,a=null===(n=F.contentUsage)||void 0===n?void 0:n.id;if(a){var l=e.get(a);l&&b.Z.getConnections(l,"PastUserBrainSearches__viewerBrainSearches").forEach((function(e){return e.invalidateRecord()}))}})),(0,g.Km)({message:"Successfully deleted"}),c(!1)},onError:function(){(0,g.p)("An error occurred while trying to delete conversation.")}})},shouldDisplaySpinner:K,children:"Yes, delete this conversation"},modalContentLabel:"Delete Conversation Dialog"})]})},C=(a(374089),a(826909),a(143341)),x=a(201470),P=a(753688),K=a(384714),I=(a(681355),a(10165)),T=a(810863),L=a(541321),w=a(425108);function B(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function j(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?B(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var N=(0,T.Z)((function(e){return{goToButton:{marginRight:e.spacing(1)}}})),_=function(e){var n=e.testid,l=void 0===n?"BrainSearchSidePanelToggle":n,t=e.contentUsageKey,i=(0,o.Z)(),s=(0,P.P)("brainSearch"),d=N(),u=(0,y.useFragment)((void 0!==r||(r=a(826909)).hash&&"b3be3bdd343242d83b990ff92e9f1de1"!==r.hash&&w.error("The definition of 'BrainSearchSidePanelToggle_ContentUsageFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),t||null),c=x.ZP.useDefaultContentLabel(null==u?void 0:u.content.type),g=A({contentUsageId:null==u?void 0:u.id}),m=Boolean(s.params.drawerAsk);return m||u?m||s.params.sourceId?(0,v.jsx)(L.I4,{testid:l,onClick:g,tooltip:"".concat(i.name," in full view"),width:40,height:40,svgStyles:{width:20,height:20},children:(0,v.jsx)(L.De,{icon:m?"expand":"reduce"})}):(0,v.jsx)(L.v2,{testid:l,variant:"outlined",color:"grey",className:d.goToButton,onClick:g,children:"Go to ".concat(c)}):null};function A(e){var n=(e||{}).contentUsageId,a=(0,P.P)("brainSearch"),l=(0,K.yM)().handleLeave,t=(0,C._)(),r=Boolean(a.params.drawerAsk);return(0,h.useCallback)((function(){r?l({onLeave:function(){t.swap(j(j({},a.params),{},{drawerAsk:void 0,ask:"1"}))}}):n&&a.swap(j(j({},a.params),{},{ask:void 0,u:I.Z.fromGlobalId(n).id,drawerAsk:"1"}))}),[a,t,l,r,n])}var M=a(251941);function D(){var e=(0,M.d)(),n=(0,P.P)("brainSearch"),a=Boolean(n.params.drawerAsk);return{isMobile:e,isSidePanel:a,isWide:!e&&!a}}var O,Z=a(162083),U=a(422923),R=a(571596),E=a(294184),V=a.n(E),Q=a(425108);function z(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function H(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?z(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function $(e){var n,l,t=e.brainSearchKey,r=e.inHeader,i=void 0!==r&&r,s=G(),o=(0,P.P)("brainSearch"),d=D(),u=d.isWide,g=d.isMobile,m=(0,y.useFragment)((void 0!==O||(O=a(374089)).hash&&"6bbd1ad5a6a603dfcac85a2c0f2a9d3f"!==O.hash&&Q.error("The definition of 'BrainSearchMoreActionsButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),O),t||null),p=A({contentUsageId:null==m||null===(n=m.contentUsage)||void 0===n?void 0:n.id}),h=(0,R.Z)(m).has("brain_search.manage");return m&&!h?null:(0,v.jsx)(U.Z,{moreActionsButtonClassName:V()(s.moreActionsButton,i&&s.headerButton),testid:"more-actions",rotateIcon:!0,children:(l=m&&(0,v.jsx)(F,{brainSearchKey:m,onDelete:k,children:function(e){return(0,v.jsx)(Z.Z,H(H({},e),{},{icon:"trash",title:"Delete"}))}}),!i||u?l:(0,v.jsxs)(v.Fragment,{children:[m&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Z.Z,{icon:"edit",title:"New Conversation",onClick:f}),(0,v.jsx)(L.o$,{marginTop:.5,marginBottom:.5}),(0,v.jsx)(c.Z,{kind:"brain_search",brainSearchKey:m,variant:"dropdown-item"})]}),(0,v.jsx)(Z.Z,{icon:"time",title:"View History",onClick:b}),l&&(0,v.jsx)(L.o$,{marginTop:.5,marginBottom:.5}),l]}))});function k(){m&&o.params.convId===m.id&&o.setParams({convId:void 0})}function f(){var e;o.setParams({convId:void 0,sourceId:null==m||null===(e=m.contentUsage)||void 0===e?void 0:e.id})}function b(){g?o.setParams({drawerView:"history",convId:void 0}):p()}}var q,G=(0,T.Z)((function(e){return{moreActionsButton:{"&.Mui-selected":{"& svg":{color:e.palette.common.black},"& $rightContent":{"& svg":{color:e.palette.common.black,"&:hover":{color:e.palette.common.black}}}},"&.Mui-selected:hover":{"& svg":{color:e.palette.common.black}},"&:hover":{background:"rgba(0,0,0,.1)"}},headerButton:{width:40,height:40}}})),W=(a(523490),a(139703),a(425108));var Y,J=I.Z.withSkeleton({component:function(e){var n=e.brainSearchKey,l=(0,y.useRefetchableFragment)((void 0!==q||(q=a(523490)).hash&&"b5953ae6fad884f9b9f00e9c22977b88"!==q.hash&&W.error("The definition of 'BrainSearchTitleFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),q),n),t=(0,s.Z)(l,2),r=t[0],i=t[1];return(0,y.useSubscribeToInvalidationState)([r.id],(function(){i({},{fetchPolicy:"network-only"})})),(0,v.jsx)(v.Fragment,{children:r.title})},skeleton:function(e){var n=e.skeleton;return(0,v.jsx)(v.Fragment,{children:n||(0,v.jsx)(L.Ju,{variant:"body-sm-500",width:120})})}}),X=(a(101330),a(51256)),ee=a(986199),ne=a(669187),ae=a(92839),le=a(558365),te=a(616550),re=a(425108);function ie(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}var se=(0,T.Z)((function(e){return{header:function(n){var a=n.isSidePanel,l=n.headerHeight;return function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}((0,i.Z)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0,gap:e.spacing(2),position:"sticky",top:0,zIndex:e.zIndex.raise1,padding:e.spacing(2,2,2,3),backgroundColor:e.palette.background.paper,height:e.mixins.toolbar.minHeight,flexShrink:0,borderBottom:e.palette.constants.borderSmall},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2)}),(0,ae.Z)(a,{paddingLeft:e.spacing(2),height:l}))},lhsHeader:{display:"flex",alignItems:"center",gap:e.spacing(1.5),minWidth:0},titleContainer:{display:"flex",flexDirection:"column",gap:e.spacing(.5),minWidth:0},iconContainer:{display:"flex",padding:e.spacing(1),backgroundColor:"dark"===e.palette.type?e.palette.groovy.onDark[400]:e.palette.groovy.neutral[200],borderRadius:e.measure.borderRadius.medium},rhsHeader:{display:"flex",flexDirection:"row",alignItems:"center"}}}));function oe(){var e=(0,P.P)("brainSearch"),n=(0,ee.gc)(),a=Boolean(e.params.drawerAsk),l=se({isSidePanel:a,headerHeight:n.headerHeight}),t=(0,M.d)(),r=!t&&!a;return(0,v.jsxs)("div",{className:l.header,children:[(0,v.jsx)("div",{className:l.lhsHeader,children:r?(0,v.jsxs)("div",{className:l.titleContainer,children:[(0,v.jsx)(L.Ju,{variant:"body-lg-600",width:"600px"}),(0,v.jsx)(L.Ju,{variant:"body-xs-500",width:"400px"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:l.iconContainer,children:(0,v.jsx)(le.Z,{variant:"circle",width:24,height:24})}),(0,v.jsx)(L.Ju,{variant:"body-lg-600",width:"120px"})]})}),(0,v.jsxs)("div",{className:l.rhsHeader,children:[!t&&(0,v.jsx)(le.Z,{variant:"circle",width:32,height:32,style:{marginRight:"8px"}}),(0,v.jsx)(le.Z,{variant:"circle",width:32,height:32,style:{marginRight:"8px"}}),(0,v.jsx)(le.Z,{variant:"circle",width:32,height:32})]})]})}var de=I.Z.withSkeleton({component:function(e){var n,l,t=e.testid,r=void 0===t?"BrainSearchPageHeader":t,i=e.brainSearchKey,s=(0,P.P)("brainSearch"),d=(0,ee.gc)(),u=D(),g=u.isMobile,m=u.isSidePanel,p=u.isWide,k=se({isSidePanel:m,headerHeight:d.headerHeight}),f=(0,o.Z)(),b=(0,y.useFragment)((void 0!==Y||(Y=a(101330)).hash&&"bda01832eccc1bfc4f3409b85b2b2e5e"!==Y.hash&&re.error("The definition of 'BrainSearchPageHeaderFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Y),i||null),S=x.ZP.useDefaultContentLabel(null==b||null===(n=b.contentUsage)||void 0===n||null===(l=n.content)||void 0===l?void 0:l.type),F=X.p.useContentUsagePath(null==b?void 0:b.contentUsage);return(0,v.jsxs)("div",{className:k.header,children:[(0,v.jsx)("div",{className:k.lhsHeader,children:p&&b?(0,v.jsxs)("div",{className:k.titleContainer,children:[(0,v.jsx)(L.U4,{variant:"body-md-600",truncateText:1,children:(0,v.jsx)(J,{brainSearchKey:b,skeleton:(0,v.jsx)(L.Ju,{variant:"body-md-600",width:200})})}),b.contentUsage&&(0,v.jsxs)(L.U4,{variant:"body-xs-500",color:"text.secondary",truncateText:1,children:["in ",function(){var e=b.contentUsage,n=e.product,a=e.parentApp,l=[];n&&l.push({name:n.name,path:(0,te.Gn)(ne.ZP.PRODUCT.ROOT,{productSlug:n.slug})});"collection"===(null==a?void 0:a.kind)&&l.push({name:a.customAppTitle||"Collection",path:F});return l.map((function(e){var n=e.name,a=e.path;return(0,v.jsxs)(h.Fragment,{children:[(0,v.jsx)(L.Xn,{textVariant:"body-xs-500",to:a,children:n}),"  "]},a)}))}(),"".concat(S,": "),(0,v.jsx)(L.Xn,{textVariant:"body-xs-500",to:{pathname:F,search:"u=".concat(I.Z.fromGlobalId(b.contentUsage.id).id)},children:b.contentUsage.content.name})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:k.iconContainer,children:(0,v.jsx)(L.De,{icon:"stars",active:!0})}),(0,v.jsx)(L.U4,{variant:"body-lg-600",children:f.name})]})}),(0,v.jsxs)("div",{className:k.rhsHeader,children:[!g&&(0,v.jsx)(_,{contentUsageKey:null==b?void 0:b.contentUsage}),b&&p&&(0,v.jsx)(c.Z,{kind:"brain_search",brainSearchKey:b,inHeader:!0}),(b||!p)&&(0,v.jsx)($,{brainSearchKey:b,inHeader:!0}),(0,v.jsx)(L.I4,{onClick:s.close,testid:"".concat(r,".close-button"),width:40,height:40,svgStyles:{width:20,height:20},children:(0,v.jsx)(L.De,{icon:"close"})})]})]})},skeleton:oe});var ue=(0,T.Z)((function(e){return{wrapper:{margin:e.spacing(4,2)},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(1)}}})),ce=function(e){var n=e.className,a=ue(),l=(0,o.Z)();return(0,v.jsxs)(L.W0,{groovyDepths:"insideCard",className:"".concat(a.wrapper," ").concat(n||""),children:[(0,v.jsxs)("div",{className:a.header,children:[(0,v.jsx)(L.U4,{variant:"body-md-700",color:"text.primary",children:"Processing media assets..."}),(0,v.jsx)(L.aH,{label:"Visible to Admin Only",color:"yellow"})]}),(0,v.jsx)(L.U4,{variant:"body-sm",color:"text.secondary",children:"Media assets such as videos or PDF attachments are still being processed and aren't yet available to ".concat(l.name,". This usually takes a few minutes. Anything else in the lesson description can be used by ").concat(l.name," right away.")})]})},ge=a(963114);var me,pe=function(){var e=(0,o.Z)(),n=(0,ge.bE)(),a=he(),l=(0,te.k6)(),t=(0,h.useState)(!1),r=(0,s.Z)(t,2),i=r[0],d=r[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{"data-testid":"BrainSearchPreviewHeader",className:a.toolbarRoot,children:[(0,v.jsxs)("div",{className:a.lhsContainer,children:[(0,v.jsx)(L.De,{className:a.icon,icon:"iconsax.custom-info"}),(0,v.jsx)(L.U4,{color:"common.white",children:"You're viewing a preview of ".concat(e.name,". ").concat(n.organization_member.plural," will not see this page until you enable ").concat(e.name," in the settings.")})]}),(0,v.jsx)(L.v2,{testid:"BrainSearchPreviewHeader.turn-off-button",color:"grey",onClick:function(){d(!0)},children:"Exit Preview"})]}),(0,v.jsx)(L.SH,{isOpen:i,onClose:u,hideCloseIcon:!0,testid:"BrainSearchPreviewHeader.exit-preview-modal",modalContentLabel:"Leave ".concat(e.name," Preview"),maxWidth:"480px",body:(0,v.jsxs)("div",{className:a.modalTextContainer,children:[(0,v.jsx)(L.U4,{variant:"body-lg-700",children:"Leave ".concat(e.name," Preview")}),(0,v.jsx)(L.U4,{children:"Are you sure you want to stop previewing ".concat(e.name,"?")})]}),fullWidthButtons:!0,buttons:(0,v.jsxs)("div",{className:a.modalButtonContainer,children:[(0,v.jsx)(L.v2,{testid:"BrainSearchPreviewHeader.exit-preview-modal.cancel-button",color:"grey",variant:"outlined",width:"100%",onClick:u,children:"Cancel"},"cancel-button"),(0,v.jsx)(L.v2,{testid:"BrainSearchPreviewHeader.exit-preview-modal.exit-button",color:"primary",width:"100%",onClick:function(){u(),l.push({pathname:ne.ZP.ADMIN.AI.ROOT,search:"?openAskSettings=1"})},children:"Yes, leave now"},"exit-button")]})})]});function u(){d(!1)}},he=(0,T.Z)((function(e){return{toolbarRoot:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:e.spacing(2),gap:e.spacing(1),minHeight:e.mixins.toolbar.minHeight,background:e.palette.aiGradient.bluePurple03},lhsContainer:{display:"flex",alignItems:"center",gap:e.spacing(1)},icon:{color:e.palette.common.white},modalTextContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2),textAlign:"center"},modalButtonContainer:{display:"flex",alignItems:"center",gap:e.spacing(1),width:"100%"}}})),ye=(a(913838),a(655229),a(311242)),ke=a(323402),fe=a(269865),be=a(850429),ve=a(923450),Se=a.n(ve),Fe=a(425108);var Ce,xe=(0,T.Z)((function(e){return{wrapper:{display:"flex",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch",width:"100%",border:"1px solid ".concat(e.palette.divider),borderRadius:e.measure.borderRadius.large,backgroundColor:e.palette.background.paper,boxShadow:e.palette.groovyDepths.xs,margin:e.spacing(1,0)},header:{display:"flex",alignItems:"center",width:"100%",padding:e.spacing(1.5,2)},leftTitleGroup:{display:"flex",alignItems:"center",gap:e.spacing(1)},textColumn:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:e.spacing(.25)},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:e.measure.borderRadius.medium,backgroundColor:e.palette.groovy.neutral[300]},conversationsBoxContent:{width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start",maxHeight:"300px",overflowY:"auto"},conversationWrapper:{width:"100%",padding:e.spacing(1),borderTop:"1px solid ".concat(e.palette.divider)},conversationItem:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:e.spacing(1.5),borderRadius:e.measure.borderRadius.medium,cursor:"pointer",transition:"background-color 0.2s ease","&:hover":{backgroundColor:e.palette.action.hover}},conversationContent:{display:"flex",flexDirection:"column",gap:e.spacing(.5),flex:1,minWidth:0},conversationTitle:{color:e.palette.text.primary,lineHeight:1.4},conversationMeta:{display:"flex",alignItems:"center",gap:e.spacing(.5)},chevronIcon:{display:"none",color:e.palette.text.secondary,width:"16px",height:"16px",flexShrink:0,opacity:.6,"$conversationItem:hover &":{display:"inline-flex"}}}})),Pe=function(e){var n,l=e.testid,t=void 0===l?"PastUserBrainSearches":l,r=e.contentUsageKey,i=(0,o.Z)(),d=xe(),u=(0,P.P)("brainSearch"),c=(0,ye.Z)(),g=(0,y.useRefetchableFragment)((void 0!==me||(me=a(913838)).hash&&"c902d4420da15f800c7dc7bb01b11c87"!==me.hash&&Fe.error("The definition of 'PastUserBrainSearchesContentUsageFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),me),r||null),m=(0,s.Z)(g,2),p=m[0],h=m[1];(0,y.useSubscribeToInvalidationState)(null!=p&&null!==(n=p.viewerBrainSearches)&&void 0!==n&&n.__id?[p.viewerBrainSearches.__id]:[],(function(){r&&h({last:3},{fetchPolicy:"store-and-network"})}));var k=I.Z.connectionToArray(null==p?void 0:p.viewerBrainSearches);return k&&0!==k.length&&i?(0,v.jsxs)("div",{className:d.wrapper,"data-testid":t,children:[(0,v.jsx)("div",{className:d.header,children:(0,v.jsxs)("div",{className:d.leftTitleGroup,children:[(0,v.jsx)("div",{className:d.iconContainer,children:(0,v.jsx)(L.De,{icon:"time",width:20,height:20,active:!0})}),(0,v.jsxs)("div",{className:d.textColumn,children:[(0,v.jsx)(L.U4,{variant:"body-sm-700",children:"Your ".concat(Se()("previous conversation",k.length)," with ").concat(i.name)}),(0,v.jsx)(L.U4,{variant:"body-xs",color:"text.secondary",children:"".concat(k.length," most recent ").concat(Se()("conversation",k.length))})]})]})}),(0,v.jsx)("div",{className:d.conversationsBoxContent,children:k.map((function(e){return(0,v.jsx)("div",{className:d.conversationWrapper,children:(0,v.jsxs)(fe.Z,{className:d.conversationItem,onClick:function(){return n=e.id,void u.setParams({convId:n});var n},children:[(0,v.jsxs)("div",{className:d.conversationContent,children:[(0,v.jsx)(L.U4,{variant:"body-sm-500",className:d.conversationTitle,truncateText:2,children:e.title}),(0,v.jsx)("div",{className:d.conversationMeta,children:(0,v.jsx)(L.U4,{variant:"body-xs",color:"text.secondary",children:(0,ke.eP)({timeZone:c,format:be.zT.DEFAULT})(new Date(e.createdAt))})})]}),(0,v.jsx)(L.De,{icon:"arrow-stem-right",className:d.chevronIcon})]})},e.id)}))})]}):null},Ke=(a(164198),a(922261)),Ie=a(425108);function Te(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function Le(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Te(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var we,Be=(0,T.Z)((function(e){return{topButtons:{position:"absolute",top:e.spacing(1.5),right:e.spacing(1.5),display:"flex",alignItems:"center"},root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:e.palette.background.paper},container:function(n){return{display:"flex",flexDirection:"column",alignItems:n.isSidePanel?"flex-start":"center",justifyContent:"center",gap:e.spacing(3),height:"100%",width:"100%",maxWidth:"1400px"}},subHeader:{fontWeight:400},inputContainer:function(n){var a=n.isWide;return Le({width:"100%",maxWidth:"689px",display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(3.5)},(0,ae.Z)(!a,{borderTop:e.palette.constants.borderSmall,padding:e.spacing(2),maxWidth:"none"}))},headerContainer:function(n){var a=n.isSidePanel,l=n.isWide;return Le(Le({display:"flex",flexDirection:"column",gap:e.spacing(.5),textAlign:a?"left":"center",padding:e.spacing(0,2),justifyContent:a?"flex-end":"center"},(0,ae.Z)(!l,{flexGrow:1})),(0,ae.Z)(a,{width:"100%",alignItems:"stretch"}))},fadeIn:{animation:"$fadeIn 0.5s"},"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}}})),je=I.Z.withSkeleton({component:function(){var e=(0,Ke.f)().authUser,n=(0,P.P)("brainSearch"),l=D(),t=l.isSidePanel,r=l.isWide,i=Be({isSidePanel:t,isWide:r}),c=(0,o.Z)(),g=I.Z.useSkippableLazyLoadQuery((void 0!==Ce||(Ce=a(164198)).hash&&"46e48334b1b721bdca5a90a6112e08d4"!==Ce.hash&&Ie.error("The definition of 'BrainSearchLandingPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Ce),{id:n.params.sourceId||""},{skip:!n.params.sourceId}).node,m=I.Z.narrowNodeType(g,"ContentUsage"),p=(0,R.Z)(m).has("content.manage"),h=(0,d.Z)({isSidePanel:t,contentUsageId:null==m?void 0:m.id}),y=(0,s.Z)(h,2),k=y[0],f=y[1];return(0,v.jsxs)(v.Fragment,{children:["paused"===c.status?(0,v.jsx)(pe,{}):r?(0,v.jsxs)("div",{className:i.topButtons,children:[(0,v.jsx)(_,{contentUsageKey:m}),(0,v.jsx)(L.I4,{onClick:n.close,testid:"BrainSearchPageHeader.close-button",children:(0,v.jsx)(L.De,{icon:"close"})})]}):(0,v.jsx)(de,{}),(0,v.jsx)("div",{className:V()(i.root,i.fadeIn),children:(0,v.jsxs)("div",{className:i.container,children:[p&&(null==m?void 0:m.content.hasUnprocessedMediaAssets)&&(0,v.jsx)(ce,{}),(0,v.jsx)("div",{className:i.headerContainer,children:t&&m?(0,v.jsx)(Pe,{contentUsageKey:m}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(L.U4,{variant:"heading-md-700",color:"text.primary",children:null!=e&&e.firstName?"Hello, ".concat(null==e?void 0:e.firstName,"."):"Hello."}),(0,v.jsx)(L.U4,{variant:"body-md",color:"text.secondary",marginBottom:t?0:2,className:i.subHeader,children:"What would you like to learn today?"})]})}),(0,v.jsx)("div",{className:i.inputContainer,children:(0,v.jsx)(u.Z,{placeholder:"Ask a question...",onChange:function(e){k.state.title=e},onSubmit:f,clearOnSubmit:!1,variant:r?"raised":"flat",contentUsageKey:m,enableSuggestions:!0,suggestionsPosition:r?"below":"above",isSidePanel:t,autoFocus:!0})})]})})]})},skeleton:function(){return(0,v.jsx)(L.Zy,{size:"lg",absoluteCenter:!0})}}),Ne=a(241451),_e=(a(454875),a(697798)),Ae=a(285245),Me=a(179153),De=a(346810),Oe=a(999082),Ze=a(276979),Ue=a(240680),Re=a(982879),Ee=a(757336),Ve=a(425108);function Qe(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function ze(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Qe(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var He="192px";var $e=(0,T.Z)((function(e){return{source:function(n){var a=n.isLocked,l=n.isUnavailable;return ze(ze({display:"flex",flexDirection:"column",gap:e.spacing(1),padding:e.spacing(1.5),borderRadius:e.measure.borderRadius.big,backgroundColor:e.palette.groovy.neutral[100],border:"1px solid ".concat(e.palette.groovy.neutral[100]),minWidth:He,minHeight:"96px","&:hover":{borderColor:e.palette.groovy.neutral[300],backgroundColor:e.palette.groovy.neutral[200],boxShadow:"0px 2px 4px 0px rgba(63, 63, 70, 0.04), 0px 6px 18px 0px rgba(63, 63, 70, 0.08)"}},a||l?{cursor:"default",pointerEvents:"none"}:{cursor:"pointer",pointerEvents:"auto"}),l&&{opacity:.5})},topSource:{width:"100%",alignItems:"flex-start",justifyContent:"space-between",flexDirection:"row",display:"flex",flex:1,gap:e.spacing(1)},icon:{right:0,flexShrink:0},certified:{color:e.palette.primary.main},bottomSource:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:e.spacing(1)},sourceContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:e.spacing(1),width:"100%"},badge:{width:"20px",height:"20px",borderRadius:"50%"},fadeIn:{animation:"$fadeIn 1s"},"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}},favIcon:{width:"20px",height:"20px",borderRadius:"50%",background:"radial-gradient(100% 100% at 50% 0%, rgba(255, 255, 255, 0.30) 0%, rgba(255, 255, 255, 0.00) 100%), var(--Colors-blue-600, #4D47DC)"}}}));function qe(){var e=$e();return(0,v.jsxs)(fe.Z,{className:e.source,children:[(0,v.jsx)("div",{className:e.topSource,children:(0,v.jsx)(L.Ju,{width:"100%"})}),(0,v.jsx)("div",{className:e.bottomSource,children:(0,v.jsxs)("div",{className:e.sourceContent,children:[(0,v.jsx)("div",{className:e.badge}),(0,v.jsx)(L.Ju,{width:"50%"})]})})]})}var Ge,We=(0,Ee.Pi)((function(e){var n,l=e.brainSearchMessageSourceKey,t=e.citation,r=(0,y.useFragment)((void 0!==we||(we=a(454875)).hash&&"fd798b6816cf986bc9c238623cf88847"!==we.hash&&Ve.error("The definition of 'BrainSearchMessageInternalSourceFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),we),l),i=function(){if(o)return;switch(r.entity){case"content":case"asset":return function(){var e=r.drawerSearchParams;if(null!=e&&e.contentId)return function(){m.swap({contentId:e.contentId,return:"ask"})};if(null!=e&&e.assetId)return function(){m.swap({assetId:e.assetId,return:"ask"})};if(null!=e&&e.postId)return function(){m.swap({postId:e.postId,return:"ask"})};if(null!=e&&e.u)return function(){m.swap({u:e.u,return:"ask"})};if(null!=e&&e.drawerOccurrenceId)return function(){m.swap({drawerOccurrenceId:e.drawerOccurrenceId,drawerEventTab:"details",return:"ask"})};return}();case"training_data":return function(){var e;if(null!==(e=r.trainingData)&&void 0!==e&&e.url)return function(){return window.open(r.trainingData.url,"_blank")};return}();case"bot_context":return function(){var e;if(null!==(e=r.botContext)&&void 0!==e&&e.link)return function(){return window.open(r.botContext.link,"_blank")};return}();default:return}}(),s=!i,o="content"===r.entity&&!r.content||"asset"===r.entity&&!r.asset||"training_data"===r.entity&&!r.trainingData,d=(0,Ae.vn)(),u=$e({isLocked:s,isUnavailable:o}),c=(0,P.P)("brainSearch"),g=(0,P.P)("contentUsage"),m=g.params.drawerAsk?g:c;return(0,v.jsxs)(fe.Z,{disabled:s||o,tooltip:o?"The source content may have been moved or deleted.":void 0,className:V()(u.source,u.fadeIn),onClick:i,children:[(0,v.jsxs)("div",{className:u.topSource,children:[(0,v.jsx)(L.U4,{variant:"body-xs-700",color:"text.primary",truncateText:2,children:function(){var e,n,a,l,i="";if(o)i="No longer available";else switch(r.entity){case"content":i=(null===(e=r.content)||void 0===e?void 0:e.name)||"Content";break;case"asset":i=(null===(n=r.asset)||void 0===n?void 0:n.name)||"Asset";break;case"training_data":i=(null===(a=r.trainingData)||void 0===a?void 0:a.name)||"Training Data";break;case"bot_context":i=(null===(l=r.botContext)||void 0===l?void 0:l.originalThreadMessageText)||"Chat Thread";break;default:i="Source"}return t?"[".concat(t,"] ").concat(i):i}()}),function(){if(s)return(0,v.jsx)(Me.default,{className:u.icon,width:16,height:16});if(o)return null;return"bot_context"===r.entity?null:(0,v.jsx)(De.default,{className:V()(u.icon,u.certified),width:16,height:16})}()]}),(0,v.jsxs)("div",{className:u.bottomSource,children:[(0,v.jsxs)("div",{className:u.sourceContent,children:[function(){switch(r.entity){case"bot_context":var e;return null!==(e=r.botContext)&&void 0!==e&&e.originalThreadMessageUser?(0,v.jsx)(Ze.Z,{userKey:r.botContext.originalThreadMessageUser,size:20}):(0,v.jsx)(L.De,{width:20,height:20,icon:"iconsax.profile-circle"});case"training_data":var n;return null!==(n=r.trainingData)&&void 0!==n&&n.url?(0,v.jsx)("img",{alt:"",src:(0,Re.mS)(r.trainingData.url),className:u.favIcon}):null;default:return d?(0,v.jsx)(_e.Z,{organizationKey:d,size:20,classes:{badge:u.badge}}):null}}(),function(){switch(r.entity){case"bot_context":var e,n,a;return(0,v.jsx)(L.U4,{variant:"body-xs",color:"text.secondary",truncateText:1,children:(null===(e=r.botContext)||void 0===e||null===(n=e.originalThreadMessageUser)||void 0===n?void 0:n.fullName)||("slack"===(null===(a=r.botContext)||void 0===a?void 0:a.platform)?"Slack User":"Disco User")});case"training_data":var l;return null!==(l=r.trainingData)&&void 0!==l&&l.url?(0,v.jsx)(L.U4,{variant:"body-xs",color:"text.secondary",truncateText:1,children:(0,Ue.TV)((0,Re.jv)(r.trainingData.url)?r.trainingData.url:void 0)||"External Website"}):null;default:return(0,v.jsx)(L.U4,{variant:"body-xs",color:"text.secondary",truncateText:1,children:null==d?void 0:d.name})}}()]}),"bot_context"===r.entity?"slack"===(null===(n=r.botContext)||void 0===n?void 0:n.platform)?(0,v.jsx)(Oe.Z,{width:16,height:16}):(0,v.jsx)(L.De,{width:16,height:16,icon:"iconsax.hashtag-1"}):null]})]},r.id)})),Ye=(a(794251),a(425108));var Je,Xe,en=(0,T.Z)((function(e){return{source:{display:"flex",flexDirection:"column",gap:e.spacing(1),padding:e.spacing(1.5),borderRadius:e.measure.borderRadius.big,backgroundColor:e.palette.groovy.neutral[100],border:"1px solid ".concat(e.palette.groovy.neutral[100]),minWidth:He,minHeight:"96px","&:hover":{borderColor:e.palette.groovy.neutral[300],backgroundColor:e.palette.groovy.neutral[200],boxShadow:"0px 2px 4px 0px rgba(63, 63, 70, 0.04), 0px 6px 18px 0px rgba(63, 63, 70, 0.08)"},cursor:"pointer",pointerEvents:"auto"},topSource:{width:"100%",alignItems:"flex-start",justifyContent:"space-between",flexDirection:"row",display:"flex",flex:1,gap:e.spacing(1)},bottomSource:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center"},sourceContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:e.spacing(1),width:"100%"},favIcon:{width:"20px",height:"20px",borderRadius:"50%",background:"radial-gradient(100% 100% at 50% 0%, rgba(255, 255, 255, 0.30) 0%, rgba(255, 255, 255, 0.00) 100%), var(--Colors-blue-600, #4D47DC)"},fallbackAvatar:{backgroundColor:e.palette.grey[200]},fadeIn:{animation:"$fadeIn 1s"},"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}}})),nn=function(e){var n,l=e.brainSearchMessageExternalSourceKey,t=e.citation,r=en(),i=(0,y.useFragment)((void 0!==Ge||(Ge=a(794251)).hash&&"0005d05b6a0f9a062f25e30d5e3faf64"!==Ge.hash&&Ye.error("The definition of 'BrainSearchMessageExternalSourceFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Ge),l);return i&&i.title&&i.owner?(0,v.jsxs)(fe.Z,{className:V()(r.source,r.fadeIn),onClick:i.url?function(){return e=i.url,void window.open(e,"_blank");var e}:void 0,children:[(0,v.jsx)("div",{className:r.topSource,children:(0,v.jsx)(L.U4,{variant:"body-xs-700",color:"text.primary",truncateText:3,children:t?"[".concat(t,"] ").concat(i.title):i.title})}),(0,v.jsx)("div",{className:r.bottomSource,children:(0,v.jsxs)("div",{className:r.sourceContent,children:[(n=(0,Re.mS)(i.url),n?(0,v.jsx)("img",{alt:"",src:n,className:r.favIcon}):(Ye.error("Invalid URL for External Source: '".concat(i.url,"'")),(0,v.jsx)("div",{className:V()(r.favIcon,r.fallbackAvatar)}))),(0,v.jsx)(L.U4,{variant:"body-xs",color:"text.secondary",truncateText:1,children:i.owner})]})})]},i.id):(0,v.jsx)(qe,{})},an=(a(41089),a(17624),a(808093),a(108920)),ln=a(696672),tn=a(425108);var rn=(0,T.Z)((function(e){return{sources:{display:"flex",flexDirection:"column",gap:e.spacing(1.5),paddingTop:e.spacing(1)},mobileSourcesSection:{display:"flex",flexDirection:"column",gap:e.spacing(1.5)},sourcesTag:{display:"flex",alignItems:"center",gap:e.spacing(1)},sourcesList:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(".concat(He,", 1fr))"),gridAutoRows:"1fr",gap:e.spacing(1.5)},mobileSourcesList:{padding:e.spacing(0,1.5,1.5)},sourceIcon:{width:"16px",height:"16px",borderRadius:"50%",background:"radial-gradient(100% 100% at 50% 0%, rgba(255, 255, 255, 0.30) 0%, rgba(255, 255, 255, 0.00) 100%), var(--Colors-blue-600, #4D47DC)"},textBtn:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(0,1.5),borderRadius:e.measure.borderRadius.big},textBtnExpanded:{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:e.palette.constants.borderSmall},textBtnAdornment:{display:"flex",alignItems:"center",gap:e.spacing(1),"& > svg":{color:e.palette.groovy.neutral[700]}},badge:{borderRadius:"50%"},sourceIcons:{display:"flex",gap:e.spacing(.5)},viewMoreButton:{alignSelf:"flex-start",backgroundColor:"transparent",padding:e.spacing(1),color:e.palette.groovy.neutral[500]},moreSourcesContainer:{maxHeight:0,opacity:0,overflow:"hidden",transition:"max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, margin 0.5s ease-in-out",marginBottom:e.spacing(-1.5)},expanded:{maxHeight:"1500px",opacity:1,marginBottom:0}}}));var sn,on,dn=I.Z.withSkeleton({component:function(e){var n=e.brainSearchMessageId,l=rn(),t=(0,h.useState)(!1),r=(0,s.Z)(t,2),i=r[0],o=r[1],d=(0,M.d)(),u=(0,Ae.vn)(),c=(0,P.P)("brainSearch"),g=Boolean(c.params.drawerAsk),m=(0,y.useLazyLoadQuery)((void 0!==Je||(Je=a(17624)).hash&&"239c81553fe01d2a52925f9f5d511cd2"!==Je.hash&&tn.error("The definition of 'BrainSearchMessageSourceListQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Je),{id:n},{fetchPolicy:"network-only"}).node,p=(0,y.useRefetchableFragment)((void 0!==Xe||(Xe=a(41089)).hash&&"03e3d183b380ffe48f7e274caacb25a3"!==Xe.hash&&tn.error("The definition of 'BrainSearchMessageSourceListFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Xe),m),k=(0,s.Z)(p,2),f=k[0],b=k[1],S=I.Z.connectionToArray(null==f?void 0:f.externalSources),F=I.Z.connectionToArray(null==f?void 0:f.sources),C=[].concat((0,Ne.Z)(F),(0,Ne.Z)(S));return(0,y.useSubscribeToInvalidationState)([n],(function(){b({id:n},{fetchPolicy:"network-only"})})),null!=C&&C.length?(0,v.jsxs)("div",{className:l.sources,children:[(0,v.jsx)("div",{className:l.sourcesTag,children:(0,v.jsx)(L.U4,{variant:"heading-xs-700",children:"Sources"})}),function(){if(d){var e=(0,v.jsx)("div",{className:l.sourceIcons,children:C.slice(0,6).map((function(e){return"BrainSearchMessageExternalSource"===e.__typename?(0,v.jsx)("img",{alt:"",src:(0,Re.mS)(e.url,16),className:l.sourceIcon},e.id):(0,v.jsx)(_e.Z,{organizationKey:u,size:16,classes:{badge:l.badge}},e.id)}))});return(0,v.jsxs)(L.W0,{className:l.mobileSourcesSection,padding:0,border:!0,children:[(0,v.jsxs)(L.v2,{onClick:K,className:V()(l.textBtn,i&&l.textBtnExpanded),variant:"text",color:"grey",children:[(0,v.jsxs)("div",{className:l.textBtnAdornment,children:[(0,v.jsx)(L.De,{icon:"file",width:16,height:16}),(0,v.jsx)(L.U4,{variant:"body-xs-700",children:"Sources"})]}),(0,v.jsxs)("div",{className:l.textBtnAdornment,children:[e,(0,v.jsx)(L.De,{icon:i?"chevron":"chevron-down",width:16,height:16})]})]}),i&&(0,v.jsx)("div",{className:V()(l.sourcesList,l.mobileSourcesList),children:x(C)})]})}var n=g?2:3,a=C.slice(0,n),t=C.slice(n);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:l.sourcesList,children:x(a)}),t.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:V()(l.sourcesList,l.moreSourcesContainer,i&&l.expanded),children:x(t)}),(0,v.jsx)(L.v2,{onClick:K,className:l.viewMoreButton,color:"grey",size:"small",variant:"text",children:(0,v.jsx)(L.U4,{variant:"body-sm-600",color:"text.secondary",children:i?"View less":"View ".concat(t.length," more")})})]})]})}()]}):null;function x(e){return e.map((function(e){if("BrainSearchMessageExternalSource"===e.__typename){var n=S.findIndex((function(n){return n.id===e.id})),a=n>=0?String(n+1):void 0;return(0,v.jsx)(nn,{brainSearchMessageExternalSourceKey:e,citation:a},e.id)}var l=F.findIndex((function(n){return n.id===e.id})),t=l>=0?String.fromCharCode(65+l):void 0;return(0,v.jsx)(We,{brainSearchMessageSourceKey:e,citation:t},e.id)}))}function K(){o((function(e){return!e}))}},skeleton:function(){var e=rn(),n=(0,an.Z)(),a=(0,M.d)(),l=(0,P.P)("brainSearch");return(0,v.jsxs)("div",{className:e.sources,children:[(0,v.jsx)("div",{className:e.sourcesTag,children:(0,v.jsx)(L.U4,{variant:"heading-xs-700",children:"Sources"})}),function(){if(a)return(0,v.jsx)(le.Z,{variant:"rect",className:e.textBtn,height:40});var t=Boolean(l.params.drawerAsk);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:e.sourcesList,children:(0,ln.w6)(t?2:3).map((function(e){return(0,v.jsx)(le.Z,{variant:"rect",height:96,style:{borderRadius:n.measure.borderRadius.big}},e)}))}),(0,v.jsx)(le.Z,{variant:"rect",className:e.textBtn,width:100,height:32})]})}()]})}}),un=(a(125499),a(572370),a(425108));var cn,gn,mn=(0,T.Z)((function(e){return{wrapper:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:e.spacing(1.5),alignSelf:"stretch",marginTop:e.spacing(2),width:"100%"},titleText:{width:"100%",padding:e.spacing(.5,0),color:e.palette.text.primary},questionsBoxContent:{width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start",padding:e.spacing(1),background:e.palette.background.paper,border:"1px solid ".concat(e.palette.grey[300]),boxShadow:"0px 1px 2px rgba(16, 24, 40, 0.05)",borderRadius:e.spacing(2),gap:e.spacing(.5)},questionItem:{width:"100%",justifyContent:"flex-start",textAlign:"left",padding:e.spacing(1.5),borderRadius:e.spacing(2),"&:hover":{backgroundColor:e.palette.action.hover},"& .MuiButton-label, & .MuiButton-root, & > span":{textAlign:"left",width:"100%",display:"block"}}}})),pn=I.Z.withSkeleton({component:function(e){var n=e.brainSearchMessageId,l=e.onCreateMessage,t=mn(),r=(0,y.useLazyLoadQuery)((void 0!==sn||(sn=a(572370)).hash&&"f399b8258fa51ff39c34f584a405d7f0"!==sn.hash&&un.error("The definition of 'BrainSearchRelatedQuestionListQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),sn),{id:n},{fetchPolicy:"network-only"}).node,i=(0,y.useFragment)((void 0!==on||(on=a(125499)).hash&&"9a5f25cb2a045c37f74cbb5b9b820781"!==on.hash&&un.error("The definition of 'BrainSearchRelatedQuestionListFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),on),r),s=I.Z.connectionToArray(null==i?void 0:i.brainSearchRelatedQuestions);return i&&0!==s.length?(0,v.jsxs)("div",{className:t.wrapper,children:[(0,v.jsx)(L.U4,{variant:"heading-xs-700",className:t.titleText,children:"Related Questions"}),(0,v.jsx)("div",{className:t.questionsBoxContent,children:s.map((function(e){return(0,v.jsx)(L.GY,{onClick:function(){return l(e.text,e.id)},color:"text.secondary",textVariant:"body-sm",className:t.questionItem,children:e.text},e.id)}))})]}):null},skeleton:function(){return null}}),hn=(a(528731),a(710694)),yn=a(188191),kn=(a(972367),a(963457)),fn=a(352387),bn=a(579622),vn=(a(377016),a(425108)),Sn=["Not helpful","Out of date","Too long","Too short","Inaccurate","Poor quality"];function Fn(e){var n,l,t=e.brainSearchMessageKey,r=xn(),i=(0,an.Z)(),o=(0,bn.m9)(),d=(0,kn.Z)(i.breakpoints.down("xs")),u=(0,h.useState)(!1),c=(0,s.Z)(u,2),m=c[0],p=c[1],k=(0,h.useState)(""),f=(0,s.Z)(k,2),b=f[0],S=f[1],F=(0,h.useState)(null),C=(0,s.Z)(F,2),x=C[0],P=C[1],K=(0,y.useFragment)((void 0!==cn||(cn=a(972367)).hash&&"0d031f205bdc7a0c6a568d99d0f1cebc"!==cn.hash&&vn.error("The definition of 'BrainSearchMessageFeedbackFooterFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),cn),t),I=(0,y.useMutation)((void 0!==gn||(gn=a(377016)).hash&&"9a90fba530bceb6ec467120edd76ffb6"!==gn.hash&&vn.error("The definition of 'BrainSearchMessageFeedbackFooter__RateReponseMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),gn)),T=(0,s.Z)(I,2),w=T[0],B=T[1],j=1===(null===(n=K.brainSearchMessageFeedback)||void 0===n?void 0:n.rating)||!1,N=-1===(null===(l=K.brainSearchMessageFeedback)||void 0===l?void 0:l.rating)||!1;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:r.messageFeedback,children:[!N&&(0,v.jsx)(L.t2,{content:"Helpful",children:(0,v.jsx)(L.I4,{width:32,height:32,disabled:B||j,onClick:function(){return A(1)},className:r.iconButton,hoverColor:i.palette.groovy.neutral[500],children:(0,v.jsx)(L.De,{icon:"iconsax.like",active:j})})}),!j&&(0,v.jsx)(L.t2,{content:"Not Helpful",children:(0,v.jsx)(L.I4,{width:32,height:32,disabled:B||N,onClick:function(e){P(e.currentTarget)},className:r.iconButton,hoverColor:i.palette.groovy.neutral[500],children:(0,v.jsx)(L.De,{icon:"iconsax.dislike",active:N})})}),K.messageText&&(0,v.jsx)(L.t2,{content:"Copy Response",children:(0,v.jsx)(L.I4,{width:32,height:32,onClick:function(){return o(K.messageText)},className:r.iconButton,hoverColor:i.palette.groovy.neutral[500],children:(0,v.jsx)(L.De,{icon:"copy"})})})]}),(0,v.jsx)(fn.ZP,{anchorEl:x,open:Boolean(x),onClose:_,anchorOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{classes:{root:r.popover}},children:function(){if(m)return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(L.U4,{variant:"heading-xs-700",children:"Tell Us More"}),(0,v.jsx)(L.z6,{inputProps:{maxLength:100},size:"large",placeholder:"Write more about your feedback here...",multiline:!0,rows:4,onChange:function(e){return S(e.target.value)}}),(0,v.jsx)(L.U4,{color:"groovy.neutral.500",align:"right",children:"".concat(b.length,"/100")}),(0,v.jsx)(L.v2,{onClick:function(){return A(-1,b)},children:"Share"})]});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(L.U4,{variant:"heading-xs-700",children:"What didn't you like about this response?"}),(0,v.jsxs)("div",{className:r.messages,children:[Sn.map((function(e){return(0,v.jsx)(L.GY,{textVariant:d?"body-xs":"body-sm",className:r.responseMessage,variant:"currentColor",onClick:function(){return A(-1,e)},children:e},e)})),(0,v.jsx)(L.GY,{textVariant:d?"body-xs":"body-sm",className:r.responseMessage,variant:"currentColor",onClick:function(){return p(!0)},children:"Other"},"Other")]})]})}()})]});function _(){P(null),S(""),p(!1)}function A(e,n){w({variables:{input:{brainSearchMessageId:K.id,rating:e,comment:n}},onError:function(e){(0,g.p)(e)},onCompleted:function(){_()}})}}var Cn,xn=(0,T.Z)((function(e){return{messageFeedback:{display:"flex",alignItems:"center",gap:e.spacing(.5)},popover:{padding:e.spacing(2.5),display:"flex",flexDirection:"column",gap:e.spacing(3),borderRadius:e.measure.borderRadius.large,maxWidth:"450px",width:"calc(100% - ".concat(e.spacing(2),"px)")},messages:(0,i.Z)({display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:e.spacing(1)},e.breakpoints.down("xs"),{gridTemplateColumns:"repeat(3, 1fr)"}),responseMessage:{border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.smedium,padding:e.spacing(.5,1.25)},iconButton:{padding:e.spacing(1),color:e.palette.groovy.neutral[600],"& > svg":{color:e.palette.groovy.neutral[600]},"&.Mui-disabled":{color:e.palette.primary.main,"&:not(:hover) svg":{color:e.palette.primary.main}}}}})),Pn=a(425108);var Kn,In=(0,T.Z)((function(e){return{message:{width:"100%",textAlign:"left",display:"flex",flexDirection:"column",gap:e.spacing(2)},editor:{padding:e.spacing(1,0),borderRadius:e.measure.borderRadius.big,background:"none","& .editor-table":{maxWidth:"100%"}},fadeIn:{animation:"$fadeIn 0.5s"},"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}},webSearchInfoTag:{display:"flex",flexDirection:"row",alignItems:"center",gap:e.spacing(1),padding:e.spacing(1,0)}}})),Tn=function(e){var n,l,t,r,i=e.brainSearchMessageKey,s=e.generatingMessageId,o=e.isLatestAssistantMessage,d=void 0!==o&&o,u=e.onCreateMessage,c=e.hasInternalSources,g=In(),m=(0,yn.Z)().brainSearchFollowup,p=(0,ge.NP)("organization"),h=(0,y.useFragment)((void 0!==Cn||(Cn=a(528731)).hash&&"c37474e0960166001cf37126ef034b39"!==Cn.hash&&Pn.error("The definition of 'BrainSearchAssistantMessageFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Cn),i);if(!h)return null;var k=s===h.id,f=0===(null!==(n=null===(l=h.sources)||void 0===l?void 0:l.totalCount)&&void 0!==n?n:0),b=(null!==(t=null===(r=h.externalSources)||void 0===r?void 0:r.totalCount)&&void 0!==t?t:0)>0,S=(k&&void 0!==c?!c:f)&&(k||b);return(0,v.jsxs)("div",{className:V()(g.message,g.fadeIn),children:[S&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:g.webSearchInfoTag,children:[(0,v.jsx)(L.De,{icon:"stars",width:16,height:16,active:!0}),(0,v.jsx)(L.U4,{variant:"body-sm",color:"text.secondary",children:"No information was found in the ".concat(p.singularLowercase,", the answer below is based on web search.")})]}),(0,v.jsx)(L.o$,{marginTop:0,marginBottom:0})]}),h.error?(0,v.jsx)(L.kz,{severity:"error",message:"Something went wrong Please try again later"}):(0,v.jsx)(hn.Z,{readOnly:!0,disableGutter:!0,markdown:h.messageText,fontSize:"16px",disableScroll:!0,className:g.editor},h.messageText),!k&&!h.error&&(0,v.jsx)(Fn,{brainSearchMessageKey:h}),!k&&!h.error&&(0,v.jsx)(dn,{brainSearchMessageId:h.id}),!k&&!h.error&&d&&m&&"Off"!==m&&(0,v.jsx)(pn,{brainSearchMessageId:h.id,onCreateMessage:u})]},h.id)},Ln=(a(15837),a(425108));var wn,Bn=(0,T.Z)((function(e){return{message:{maxWidth:function(e){return e.isWide?"480px":"300px"},padding:e.spacing(1,2),borderRadius:e.measure.borderRadius.big,borderBottomRightRadius:0,backgroundColor:e.palette.groovy.neutral[200]},fadeIn:{animation:"$fadeIn 1s"},"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}}})),jn=function(e){var n=e.brainSearchMessageKey,l=D().isWide,t=Bn({isWide:l}),r=(0,y.useFragment)((void 0!==Kn||(Kn=a(15837)).hash&&"a039adf02c3eadec405b6dc03b79c192"!==Kn.hash&&Ln.error("The definition of 'BrainSearchUserMessageFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Kn),n);return(0,v.jsx)("div",{className:V()(t.message,t.fadeIn),children:(0,v.jsx)(hn.Z,{readOnly:!0,disableGutter:!0,markdown:r.messageText,fontSize:"16px",backgroundColor:"transparent"},r.id)},r.id)},Nn=(a(182544),a(562797),a(494204)),_n=a(425108);var An=(0,T.Z)((function(e){return{container:function(n){var a=n.paddingBottom;return{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%",overflowY:"auto",padding:e.spacing(2,2.5,a,2.5),gap:e.spacing(3)}},messageWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",maxWidth:"720px",gap:e.spacing(3),flexGrow:0},userMessageContainer:{display:"flex",justifyContent:"flex-end",width:"100%"},assistantMessageContainer:{display:"flex",justifyContent:"flex-start",width:"100%"},activeInteractionContainer:{minHeight:"80vh",width:"100%",display:"flex",flexDirection:"column",borderRadius:e.measure.borderRadius.medium},thinkingStateUi:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:e.spacing(1),padding:e.spacing(1,0),width:"100%"},streamingStateUi:{flexGrow:1,display:"flex",flexDirection:"column",width:"100%",paddingTop:e.spacing(2)},userMessageInActiveContainer:{width:"100%",display:"flex",justifyContent:"flex-end",marginBottom:e.spacing(2)},assistantMessageInActiveContainer:{flexGrow:1,width:"100%",display:"flex",flexDirection:"column"},typingAnimation:{display:"inline-flex",alignItems:"center",height:"16px","& span":{width:"4px",height:"4px",margin:"0 1px",backgroundColor:e.palette.text.primary,borderRadius:"50%",display:"inline-block",animation:"$bounce 1.4s infinite ease-in-out both"},"& span:nth-child(1)":{animationDelay:"-0.32s"},"& span:nth-child(2)":{animationDelay:"-0.16s"}},"@keyframes bounce":{"0%, 80%, 100%":{transform:"scale(0)"},"40%":{transform:"scale(1)"}}}}));function Mn(){var e=An({paddingBottom:2});return(0,v.jsx)("div",{className:e.userMessageContainer,children:(0,v.jsx)(le.Z,{variant:"rect",width:"480px",height:80,style:{borderRadius:"12px",borderBottomRightRadius:0}})})}function Dn(){var e=An({paddingBottom:2});return(0,v.jsx)("div",{className:e.assistantMessageContainer,children:(0,v.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"8px"},children:[(0,v.jsx)(L.Ju,{width:"60%",variant:"heading-md"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"60%"}),(0,v.jsx)(L.Ju,{width:"100%",marginTop:1}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"40%"}),(0,v.jsx)(L.Ju,{width:"60%",variant:"heading-md",marginTop:2}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"60%"}),(0,v.jsx)(L.Ju,{width:"100%",marginTop:1}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"100%"}),(0,v.jsx)(L.Ju,{width:"70%"})]})})}function On(e){var n=e.paddingBottom,a=An({paddingBottom:void 0===n?2:n});return(0,v.jsx)("div",{className:a.container,children:(0,v.jsxs)("div",{className:a.messageWrapper,children:[(0,v.jsx)(Mn,{}),(0,v.jsx)(Dn,{})]})})}var Zn,Un,Rn=I.Z.withSkeleton({component:function(e){var n,l,t,r,i,s,o,d,u,c,g=e.brainSearchKey,m=e.isBotThinking,p=e.generatingMessageId,k=e.onCreateMessage,f=e.paddingBottom,b=void 0===f?2:f,S=e.messageInternalSourcesStatus,F=An({paddingBottom:b}),C=(0,h.useRef)(null),x=(0,h.useRef)(),K=(0,h.useRef)(!1),T=(0,h.useRef)(),w=(0,P.P)("brainSearch"),B=w.params.scrollToMessageId,j=(0,y.usePaginationFragment)((void 0!==wn||(wn=a(562797)).hash&&"cb04439ab3eb8eb675e17edb1aa4568c"!==wn.hash&&_n.error("The definition of 'BrainSearchMessageList_PaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),wn),g).data,N=I.Z.connectionToArray(null==j?void 0:j.messages),_=0;if(N.length>0){var A=N[N.length-1];if(1===N.length)u=A,_=1;else{var M=N[N.length-2];"user"===M.type&&"assistant"===A.type?(u=M,c=A,_=2):(u=A,_=1)}}var D=N.slice(0,N.length-_),O="assistant"===(null===(n=c)||void 0===n?void 0:n.type)?null===(l=c)||void 0===l?void 0:l.id:"assistant"===(null===(t=u)||void 0===t?void 0:t.type)?null===(r=u)||void 0===r?void 0:r.id:void 0,Z=null==j?void 0:j.id,U="msg1-".concat(null!==(i=null===(s=u)||void 0===s?void 0:s.id)&&void 0!==i?i:"none","_msg2-").concat(null!==(o=null===(d=c)||void 0===d?void 0:d.id)&&void 0!==o?o:"none");(0,h.useEffect)((function(){m&&p&&O&&p===O&&C.current&&C.current.scrollIntoView({behavior:"smooth",block:"start"})}),[m,p,O]),(0,h.useEffect)((function(){var e=C.current;Z!==x.current&&(K.current=!1,x.current=Z),U!==T.current&&(K.current=!1,T.current=U),!e||p||!u&&!c||!Z||K.current||B||(e.scrollIntoView({behavior:"auto",block:"start"}),K.current=!0)}),[Z,U]);var R=(0,Nn.Z)();return(0,h.useEffect)((function(){if(B&&!p){var e=setTimeout((function(){var e=document.getElementById("message-".concat(B));null==e||e.scrollIntoView({behavior:"smooth",block:"start"}),w.setParams({scrollToMessageId:void 0},"replace")}),R?500:0);return function(){return clearTimeout(e)}}}),[B,p]),(0,v.jsx)("div",{className:F.container,children:(0,v.jsxs)("div",{className:F.messageWrapper,children:[D.map((function(e){return"user"===e.type?E(e,!1):"assistant"===e.type?V(e,!1,!1,{isBotThinking:!1,generatingMessageId:null,onCreateMessage:k}):null})),(u||c)&&(0,v.jsx)("div",{ref:C,className:F.activeInteractionContainer,children:(0,v.jsxs)("div",{className:F.streamingStateUi,children:[u&&"user"===u.type&&E(u,!0),u&&"assistant"===u.type&&V(u,!0,!c,{isBotThinking:m,generatingMessageId:p,onCreateMessage:k}),c&&"user"===c.type&&E(c,!0),c&&"assistant"===c.type&&V(c,!0,!0,{isBotThinking:m,generatingMessageId:p,onCreateMessage:k})]})})]})});function E(e,n){return(0,v.jsx)("div",{id:"message-".concat(e.id),className:n?F.userMessageInActiveContainer:F.userMessageContainer,children:(0,v.jsx)(jn,{brainSearchMessageKey:e})},e.id)}function V(e,n,a,l){var t,r=n?F.assistantMessageInActiveContainer:F.assistantMessageContainer;return n&&null!=l&&l.isBotThinking&&e.id===(null==l?void 0:l.generatingMessageId)?(0,v.jsx)("div",{className:r,children:(0,v.jsxs)("div",{className:F.thinkingStateUi,children:[(0,v.jsx)(L.De,{icon:"stars",width:16,height:16,color:"text.primary",active:!0}),(0,v.jsx)(L.U4,{variant:"heading-xs-700",children:"Generating response"}),(0,v.jsxs)("div",{className:F.typingAnimation,children:[(0,v.jsx)("span",{}),(0,v.jsx)("span",{}),(0,v.jsx)("span",{})]})]})},"".concat(e.id,"-thinking")):(0,v.jsx)("div",{id:"message-".concat(e.id),className:r,children:(0,v.jsx)(Tn,{brainSearchMessageKey:e,generatingMessageId:n&&l&&e.id===l.generatingMessageId?l.generatingMessageId:null,isLatestAssistantMessage:a,onCreateMessage:null!==(t=null==l?void 0:l.onCreateMessage)&&void 0!==t?t:k,hasInternalSources:null==S?void 0:S[e.id]})},e.id)}},skeleton:On}),En=a(115861),Vn=a(887757),Qn=a.n(Vn),zn=(a(196416),a(655979)),Hn=a(628613),$n=(a(625637),a(425108));function qn(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function Gn(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?qn(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qn(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var Wn=(0,T.Z)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden"},container:{display:"flex",flexDirection:"column",height:"100%",width:"100%",overflow:"hidden"},contentContainer:{display:"grid",gridTemplateRows:"1fr",width:"100%",height:"100%",position:"relative",overflow:"hidden"},inputContainer:function(n){var a=n.isWide;return Gn(Gn({display:"flex",padding:a?e.spacing(1.5,1.5,3):e.spacing(2),flexDirection:"column",alignItems:"center"},(0,ae.Z)(a,{position:"absolute",bottom:0,left:0,right:0,zIndex:1})),(0,ae.Z)(!a,{borderTop:e.palette.constants.borderSmall}))},fadeIn:{animation:"$fadeIn 1s"},"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}}}));function Yn(){var e=(0,M.d)(),n=(0,P.P)("brainSearch"),a=Boolean(n.params.drawerAsk),l=!e&&!a,t=Wn({isWide:l});return(0,v.jsx)("div",{className:V()(t.root,t.fadeIn),children:(0,v.jsxs)("div",{className:t.container,children:[(0,v.jsx)(oe,{}),(0,v.jsxs)("div",{className:t.contentContainer,children:[(0,v.jsx)(On,{paddingBottom:l?12:void 0}),(0,v.jsx)("div",{className:t.inputContainer,children:(0,v.jsx)(L.sS,{height:40,style:{width:"100%",maxWidth:"720px"}})})]})]})})}var Jn,Xn=I.Z.withSkeleton({component:(0,Ee.Pi)((function(e){var n=e.brainSearchKey,l=(0,Ae.vn)(),t=(0,P.P)("brainSearch"),r=D().isWide,o=Wn({isWide:r}),d=t.params.prompt,c=(0,h.useRef)(new AbortController),m=(0,h.useState)(null),p=(0,s.Z)(m,2),S=p[0],F=p[1],C=(0,h.useState)(!1),x=(0,s.Z)(C,2),K=x[0],T=x[1],L=(0,h.useState)({}),w=(0,s.Z)(L,2),B=w[0],j=w[1];(0,h.useEffect)((function(){if(d){var e=t.params.relatedQuestionId;O(decodeURIComponent(d),e),t.setParams({prompt:void 0,relatedQuestionId:void 0},"replace")}}),[d]);var N=(0,y.useFragment)((void 0!==Zn||(Zn=a(196416)).hash&&"8491d1db8da0cb2a4dbe866b7bf9b18b"!==Zn.hash&&$n.error("The definition of 'BrainSearchPageContentFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Zn),n),_=I.Z.useAsyncMutation((void 0!==Un||(Un=a(625637)).hash&&"0a41ade6e484ecc1c7921845a38735b4"!==Un.hash&&$n.error("The definition of 'BrainSearchPageContent__createMessageMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Un));return(0,v.jsx)("div",{className:V()(o.root,o.fadeIn),children:(0,v.jsxs)("div",{className:o.container,children:[(0,v.jsx)(de,{brainSearchKey:N}),(0,v.jsxs)("div",{className:o.contentContainer,children:[(0,v.jsx)(Rn,{brainSearchKey:N,isBotThinking:K,generatingMessageId:S,onCreateMessage:O,messageInternalSourcesStatus:B,paddingBottom:r?12:void 0}),(0,v.jsx)("div",{className:o.inputContainer,children:(0,v.jsx)(u.Z,{variant:r?"raised":"flat",placeholder:"Ask a follow-up question...",onSubmit:function(e){return O(e)},isGenerating:null!==S,onAbort:function(){c.current.abort(),A()},contentUsageKey:r?void 0:N.contentUsage})})]})]})});function A(){F(null),T(!1),j({}),c.current=new AbortController}function M(e,n){var a=e.get(n);if(a){var l=b.Z.getConnections(a,"BrainSearchMessageList__messages");if(l.length)return l[0]}}function O(e,n){return Z.apply(this,arguments)}function Z(){return(Z=(0,En.Z)(Qn().mark((function e(n,a){var t,r,i,s,o;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,U(n,a);case 4:return t=e.sent,r=t.userMessage,i=t.assistantMessage,a&&(0,k.commitLocalUpdate)(f.Z,(function(e){var n=e.get(a);if(n){var l=e.get(r.id);l&&n.setLinkedRecord(l,"viewerBrainSearchMessage")}})),e.prev=8,e.next=11,zn.Z.generateBrainSearchResponse({messageText:n,brainSearchId:N.id,assistantMessageId:i.id},c.current);case 11:if(s=e.sent,o=s.response,!Hn.Z.hasError(o)){e.next=18;break}return e.next=17,(0,g.JM)(o);case 17:return e.abrupt("return");case 18:if(o.body){e.next=20;break}return e.abrupt("return");case 20:return T(!1),e.next=23,E(o.body,i.id);case 23:e.next=32;break;case 25:if(e.prev=25,e.t0=e.catch(8),!(e.t0 instanceof Error&&"AbortError"===e.t0.name)){e.next=31;break}A(),e.next=32;break;case 31:throw e.t0;case 32:(0,k.commitLocalUpdate)(f.Z,(function(e){var n=e.get(i.id);if(n){n.invalidateRecord();var a=M(e,N.id);if(a)if(2===a.getValue("totalCount")){var l=e.get(N.id);l&&l.invalidateRecord()}}})),F(null);case 34:case"end":return e.stop()}}),e,null,[[8,25]])})))).apply(this,arguments)}function U(e,n){return R.apply(this,arguments)}function R(){return(R=(0,En.Z)(Qn().mark((function e(n,a){var l,t,r,i;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({id:N.id,userText:n,sourceRelatedQuestionId:null!=a?a:void 0});case 2:return l=e.sent,t=l.createBrainSearchMessage,r=t.userMessage,i=t.assistantMessage,T(!0),F(i.id),(0,k.commitLocalUpdate)(f.Z,(function(e){var l=M(e,N.id);if(l){var t=I.Z.fabricateNode(e,"BrainSearchMessage",{id:I.Z.fromGlobalId(r.id).id,messageText:n,type:"user",brainSearchId:N.id,sourceBrainSearchRelatedQuestionId:a?I.Z.fromGlobalId(a).id:null});I.Z.insertNodeIntoPaginatedConnection(e,l,t);var s=I.Z.fabricateNode(e,"BrainSearchMessage",{id:I.Z.fromGlobalId(i.id).id,messageText:"",type:"assistant"});I.Z.insertNodeIntoPaginatedConnection(e,l,s)}})),e.abrupt("return",{userMessage:r,assistantMessage:i});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,n){return Q.apply(this,arguments)}function Q(){return(Q=(0,En.Z)(Qn().mark((function e(n,a){return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.Z.handleStream(n,(function(e){return K&&T(!1),(0,k.commitLocalUpdate)(f.Z,(function(n){var l,t=n.get(a);if(t){var r=null===(l=t.getValue("messageText"))||void 0===l?void 0:l.toString();I.Z.deepUpdate(n,t,{messageText:r+e})}})),!0}),{abortController:c.current,dataHandlers:{onStart:function(e){void 0!==e.hasInternalSources&&j((function(n){return Gn(Gn({},n),{},(0,i.Z)({},a,e.hasInternalSources))}))}}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),skeleton:Yn}),ea=(a(728515),a(425108));var na=I.Z.withSkeleton({component:function(){var e=(0,P.P)("brainSearch"),n=(0,y.useLazyLoadQuery)((void 0!==Jn||(Jn=a(728515)).hash&&"38e84186561b686294daf82f83f151f8"!==Jn.hash&&ea.error("The definition of 'BrainSearchPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Jn),{brainSearchId:e.params.convId||"",first:100,after:null},{fetchPolicy:"network-only"}).node,l=I.Z.narrowNodeType(n,"BrainSearch");return(0,h.useEffect)((function(){l||e.setParams({convId:void 0})}),[e,l]),l?(0,v.jsx)(Xn,{brainSearchKey:l}):null},skeleton:Yn}),aa=a(330829);function la(e){var n=e.fullView,a=(0,o.Z)(),l=(0,P.P)("brainSearch");return a?(0,v.jsx)(aa.Z,{title:a.name,icon:"stars",actions:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(L.I4,{onClick:function(){return l.setParams({convId:void 0,drawerView:void 0})},width:40,height:40,svgStyles:{width:16,height:16},tooltip:"New Conversation",children:(0,v.jsx)(L.De,{icon:"edit"})}),n&&(0,v.jsx)(L.I4,{onClick:l.close,testid:"BrainSearchPageHeader.close-button",width:40,height:40,svgStyles:{width:20,height:20},children:(0,v.jsx)(L.De,{icon:"close"})})]})}):null}a(971958),a(611901),a(524737);var ta,ra,ia,sa=a(8296),oa=a(425108);function da(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return ua(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ua(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var l=0,t=function(){};return{s:t,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw r}}}}function ua(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,l=new Array(n);a<n;a++)l[a]=e[a];return l}var ca=(0,T.Z)((function(e){return{container:{cursor:"default",backgroundColor:e.palette.background.paper,"&:hover":{"& svg, & p":{color:e.palette.groovy.neutral[500]}}},content:{gridTemplateColumns:"1fr max-content"}}}));var ga=I.Z.withSkeleton({component:(0,Ee.Pi)((function(){var e,n,l=null===(e=(0,Ae.vn)().viewerMembership)||void 0===e?void 0:e.id,t=ca(),r=(0,an.Z)(),i=(0,P.P)("brainSearch"),s=(0,o.Z)(),d=(0,y.useLazyLoadQuery)((void 0!==ta||(ta=a(611901)).hash&&"e535dd98125612639700ec62380e1d3d"!==ta.hash&&oa.error("The definition of 'BrainSearchSidebarListQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),ta),{id:l||"",first:40},{fetchPolicy:"network-only"}).membership,u=(0,y.usePaginationFragment)((void 0!==ra||(ra=a(524737)).hash&&"c37ab1fe9777119e77c1ba9ef4e5bfc3"!==ra.hash&&oa.error("The definition of 'BrainSearchSidebarList_PaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),ra),d),c=u.data,g=u.hasNext,m=u.isLoadingNext,p=u.loadNext,h=u.refetch;(0,y.useSubscribeToInvalidationState)(null!=c&&null!==(n=c.brainSearches)&&void 0!==n&&n.__id?[null==c?void 0:c.brainSearches.__id]:[],(function(){if(!l)return;h({first:40})}));var k=I.Z.connectionToArray(null==c?void 0:c.brainSearches);if(!k.length)return(0,v.jsx)(L.U4,{variant:"body-sm",color:"dark"===r.palette.type?"groovy.onDark.400":"groovy.neutral.300",marginTop:2,children:"No conversations yet."});var f=function(){var e,n={name:"Today",brainSearches:[]},a={name:"Last 7 Days",brainSearches:[]},l={name:"Last 30 Days",brainSearches:[]},t={name:"More Than 30 Days Ago",brainSearches:[]},r=new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),d=new Date(i,s,o),u=new Date(i,s,o-7),c=new Date(i,s,o-30),g=da(k);try{for(g.s();!(e=g.n()).done;){var m=e.value,p=new Date(m.createdAt);p>=d?n.brainSearches.push(m):p>=u?a.brainSearches.push(m):p>=c?l.brainSearches.push(m):t.brainSearches.push(m)}}catch(e){g.e(e)}finally{g.f()}return[n,a,l,t]}();return(0,v.jsxs)(v.Fragment,{children:[f.map((function(e){return e.brainSearches.length?(0,v.jsx)(L.TL,{name:e.name,indentNestedItems:!0,classes:{content:t.container},collapsible:!0,children:e.brainSearches.map((function(e){return(0,v.jsx)(L.TL,{classes:{content:t.content},name:"".concat(null==s?void 0:s.name," Conversation"),nameNode:(0,v.jsx)(L.U4,{variant:"body-sm-500",truncateText:1,children:(0,v.jsx)(J,{brainSearchKey:e,skeleton:(0,v.jsx)(L.Ju,{variant:"body-sm-500",width:120})})}),onClick:function(){return i.setParams({convId:e.id,sourceId:void 0,drawerView:void 0})},selected:i.params.convId===e.id,showOnHoverRightContent:(0,v.jsx)($,{brainSearchKey:e})},e.id)}))},e.name):null})),g&&(0,v.jsx)(sa.Z,{onScrolledIntoView:function(){return p(40)},isLoading:m,skeleton:(0,v.jsx)(L.YA,{})})]})})),skeleton:function(){return(0,v.jsx)(L.YA,{})}}),ma=(void 0!==ia||(ia=a(756344)).hash&&"f8b9ce4359a1dd1efbbeb6cf67c1778e"!==ia.hash&&oa.error("The definition of 'BrainSearchSidebarList_ItemFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a(658555));function pa(e){var n=e.fullView,a=void 0!==n&&n,l=ha(),t=(0,Ae.vn)(),r=(0,R.Z)(t).has("organization_settings.manage");return(0,v.jsx)(L.oi,{classes:a?{paper:l.fullView}:void 0,fullHeight:!0,"data-testid":"BrainSearchSidebar",header:(0,v.jsx)(la,{fullView:a}),items:(0,v.jsx)("div",{children:(0,v.jsx)(ma.Z,{classes:{scrollContainer:l.itemsContainer},children:(0,v.jsx)(ga,{})})}),adminActions:r?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(L.TL,{leftIcon:(0,v.jsx)(L.De,{icon:"graduation-cap"}),name:"Manage Sources",to:{pathname:ne.ZP.ADMIN.AI.ROOT,search:"?openAskSettings=1&brainSearchBotSettingsTab=sources"},selected:!1}),(0,v.jsx)(L.TL,{leftIcon:(0,v.jsx)(L.De,{icon:"settings"}),name:"Settings",to:{pathname:ne.ZP.ADMIN.AI.ROOT,search:"?openAskSettings=1"},selected:!1})]}):void 0})}var ha=(0,T.Z)((function(e){return{fullView:{width:"100%",maxWidth:"100%"},itemsContainer:{flex:"auto",display:"inline-flex",flexFlow:"column",flexShrink:0,minHeight:"100%",alignItems:"center",width:"100%",padding:e.spacing(2)}}}));var ya=(0,T.Z)((function(e){return{container:{width:"100%",height:"100%",display:"flex",flexDirection:"row",overflow:"hidden"},main:{height:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1,flexShrink:1,minWidth:0},bordered:{borderLeft:"1px solid ".concat(e.palette.divider),borderTopLeftRadius:e.measure.borderRadius.large,borderBottomLeftRadius:e.measure.borderRadius.large,boxShadow:e.palette.groovyDepths.boxShadow}}})),ka=function(e){var n=e.testid,a=void 0===n?"BrainSearchDrawerContent":n,l=ya(),t=(0,P.P)("brainSearch"),r=D().isWide;return(0,v.jsxs)("div",{className:l.container,children:[r&&(0,v.jsx)(pa,{}),(0,v.jsx)("div",{className:V()(l.main,(0,i.Z)({},l.bordered,r)),"data-testid":a,children:"history"===t.params.drawerView?(0,v.jsx)(pa,{fullView:!0}):t.params.convId?(0,v.jsx)(na,{},t.params.convId):(0,v.jsx)(je,{})})]})}},826909:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BrainSearchSidePanelToggle_ContentUsageFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"ContentUsage",abstractKey:null,hash:"b3be3bdd343242d83b990ff92e9f1de1"};n.default=l},394179:function(e,n,a){a.d(n,{Z:function(){return m}});var l=a(204942),t=a(753688),r=a(384714),i=a(810863),s=a(541321),o=a(868112),d=a(785893);function u(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?u(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var g=(0,o.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(9553)]).then(a.bind(a,34691))}));function m(){var e=(0,t.P)("certificates"),n=p(),a=(0,r.Su)();return(0,d.jsx)(s.ds,{open:e.isOpen,size:"xl",fullScreen:!0,onClose:e.close,containerClasses:e.params.certificateDrawerTab||e.params.certificateId?{drawerContainer:n.drawer}:{drawerContainer:n.drawerList},children:(0,d.jsx)(r.ZP,c(c({},a),{},{children:e.params.drawerCertificatesProductId&&(0,d.jsx)(g,{productId:e.params.drawerCertificatesProductId})}))})}var p=(0,i.Z)((function(e){return{drawerList:{padding:0,backgroundColor:e.palette.background.default},drawer:(0,l.Z)({padding:0,display:"flex"},e.breakpoints.down("sm"),{width:"100%",display:"block"})}}))},712825:function(e,n,a){a.d(n,{Z:function(){return h}});var l=a(285245),t=a(820965),r=a(669187),i=a(189777),s=a(330940),o=a(868112),d=a(616550),u=a(785893),c=(0,o.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(9905)]).then(a.bind(a,227251))})),g=(0,o.Z)((function(){return Promise.resolve().then(a.bind(a,180349))})),m=(0,o.Z)((function(){return Promise.resolve().then(a.bind(a,921927))})),p=(0,o.Z)((function(){return a.e(7458).then(a.bind(a,731696))}));function h(){var e=(0,l.vn)(),n=(0,s.Z)();return"active"!==n?(0,u.jsx)(g,{standing:n}):(0,u.jsx)(i.Z,{metaDetailsForSharing:{title:e.name,url:window.location.href,description:e.description||"",coverPhoto:e.cover||""},metaTitle:e.name,children:(0,u.jsxs)(d.rs,{children:[(0,u.jsx)(t.Z,{path:r.ZP.CHAT.CHANNEL.ROOT,exact:!0,children:(0,u.jsx)(p,{state:"channels"})},"routes:=".concat(r.ZP.CHAT.CHANNEL.ROOT)),(0,u.jsx)(t.Z,{path:r.ZP.CHAT.CHANNEL.DETAIL_EMPTY,exact:!0,children:(0,u.jsx)(m,{state:"channels"})},"routes:=".concat(r.ZP.CHAT.CHANNEL.DETAIL_EMPTY)),(0,u.jsx)(t.Z,{path:r.ZP.CHAT.CHANNEL.DETAIL,children:(0,u.jsx)(c,{})},"routes:=".concat(r.ZP.CHAT.CHANNEL.DETAIL)),(0,u.jsx)(d.l_,{to:r.ZP.COMMUNITY.HOME.ROOT})]})})}},446683:function(e,n,a){a.d(n,{$d:function(){return k},LZ:function(){return b},hP:function(){return v},ht:function(){return f}});var l,t,r=a(386854),i=(a(838493),a(188815),a(681355),a(10165)),s=a(12303),o=a(850429),d=a(667294),u=a(422578),c=(a(244311),a(387029)),g=a(321707),m=a(785893),p=a(425108),h=30*o.NO,y=(0,d.createContext)({botContextKey:null,openThread:null,setOpenThread:function(){},selectedSuggestion:null,setSelectedSuggestion:function(){}});function k(e){var n=e.children,t=e.chatChannelId,o=e.isPollingEnabled,u=void 0!==o&&o,c=(0,d.useState)(null),g=(0,r.Z)(c,2),k=g[0],f=g[1],b=(0,d.useState)(null),v=(0,r.Z)(b,2),S=v[0],F=v[1],C=i.Z.useRefetchableQuery((void 0!==l||(l=a(188815)).hash&&"13436ac3453593b4e0da43244372b96b"!==l.hash&&p.error("The definition of 'BotSuggestionsContextQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{id:t||""},{refetchInBackground:!0}),x=(0,r.Z)(C,2),P=x[0].node,K=x[1];(0,s.Z)((function(){u&&I()}),h);var I=(0,d.useCallback)((function(){t&&K({id:t},{inBackground:!0})}),[t]);return(0,m.jsx)(y.Provider,{value:{botContextKey:null==P?void 0:P.botMessages,openThread:k,setOpenThread:f,selectedSuggestion:S,setSelectedSuggestion:F},children:n})}function f(){return(0,d.useContext)(y)}function b(e){var n=f(),a=n.openThread,l=n.setOpenThread,t=n.setSelectedSuggestion,r=(0,c.JN)(),i=(0,g.Nc)().setText;(0,d.useEffect)((function(){var n;if(e.threadId&&!e.disabled&&e.threadId===(null===(n=r.thread)||void 0===n?void 0:n.id)&&e.threadId!==(null==a?void 0:a.id))return l({id:e.threadId,setText:i}),function(){l(null),t(null)}}),[])}function v(e){var n=f(),l=n.botContextKey,r=n.openThread,s=n.setSelectedSuggestion,o=(0,u.useFragment)((void 0!==t||(t=a(838493)).hash&&"de22a5cbd214014ba92ca9fc1ffdc3fd"!==t.hash&&p.error("The definition of 'BotSuggestionsContextFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),l||null),d=function(){if(e.disabled)return null;var n=i.Z.connectionToArray(o);return e.threadId&&n.find((function(n){return n.messageThreadTs===e.threadId}))||null}();return{botSuggestion:d,selectSuggestion:function(){if(null==d||!d.suggestedMessage||!e.threadId)return;var n=(a=d.suggestedMessage,l=/<ChatChannelUserMarkdown streamUserId=".*?" name="(.*?)" \/>/g,a.replace(l,"@$1"));var a,l;r&&r.setText(n);s({threadId:e.threadId,suggestion:d})}}}},838493:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotSuggestionsContextFragment",selections:[{alias:null,args:null,concreteType:"BotQueuedMessageNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BotQueuedMessage",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageChannel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageThreadTs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestedMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestedMentionedPlatformUserIds",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatChannelBotSuggestedMessageFragment"}],storageKey:null}],storageKey:null}],type:"BotQueuedMessageNodeConnection",abstractKey:null,hash:"de22a5cbd214014ba92ca9fc1ffdc3fd"};n.default=l},188815:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"BotSuggestionsContextQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:r=[{kind:"Literal",name:"first",value:25}],concreteType:"BotQueuedMessageNodeConnection",kind:"LinkedField",name:"botMessages",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BotSuggestionsContextFragment"}],storageKey:"botMessages(first:25)"}],type:"ChatChannel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BotSuggestionsContextQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"BotQueuedMessageNodeConnection",kind:"LinkedField",name:"botMessages",plural:!1,selections:[{alias:null,args:null,concreteType:"BotQueuedMessageNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BotQueuedMessage",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageChannel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageThreadTs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestedMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestedMentionedPlatformUserIds",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"botMessages(first:25)"}],type:"ChatChannel",abstractKey:null},i],storageKey:null}]},params:{cacheID:"7e21b47e6337edb1e3ffb908019ae966",id:null,metadata:{},name:"BotSuggestionsContextQuery",operationKind:"query",text:"query BotSuggestionsContextQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ... on ChatChannel {\n      botMessages(first: 25) {\n        ...BotSuggestionsContextFragment\n      }\n    }\n    id\n  }\n}\n\nfragment BotSuggestionsContextFragment on BotQueuedMessageNodeConnection {\n  edges {\n    node {\n      id\n      messageChannel\n      messageThreadTs\n      messageTs\n      suggestedMessage\n      suggestedMentionedPlatformUserIds\n      ...ChatChannelBotSuggestedMessageFragment\n    }\n  }\n}\n\nfragment ChatChannelBotSuggestedMessageFragment on BotQueuedMessage {\n  id\n  suggestedMessage\n}\n"}};s.hash="13436ac3453593b4e0da43244372b96b",n.default=s},288394:function(e,n,a){var l,t,r=a(204942),i=a(655496),s=(a(265091),a(933539),a(669187)),o=a(175256),d=a(10165),u=a(810863),c=a(8839),g=a(608126),m=a(116741),p=a(164344),h=a(666086),y=a(141411),k=a(541321),f=a(366963),b=a(108920),v=a(667294),S=a(422578),F=a(616550),C=(a(244311),a(145154)),x=a(785893),P=a(425108);function K(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function I(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?K(Object(a),!0).forEach((function(n){(0,r.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var T=["mute","edit","quote","reply","delete","react"];var L=(0,u.Z)((function(e){return{headerTitle:{display:"flex",flexDirection:"column",justifyContent:"space-between"},channelHeader:{marginBottom:e.spacing(1)},channelHeaderText:{display:"flex",alignItems:"center",gap:e.spacing(1)},channelBadge:{backgroundColor:"transparent"},fullPageBadge:{backgroundColor:e.palette.background.default},productLink:{fontSize:"inherit"}}}));n.Z=function(e){var n=e.threadKey,r=e.testid,u=void 0===r?"ChatChannelMainThread":r,K=e.fullPage,w=void 0!==K&&K,B=L(),j=(0,b.Z)(),N=(0,S.useFragment)((void 0!==l||(l=a(265091)).hash&&"f2cb0fc8af526f938df24bbc90a146d7"!==l.hash&&P.error("The definition of 'ChatChannelMainThreadFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),n),_=(0,v.useCallback)((function(){return(0,x.jsx)(h.Z,{chatChannelId:N.chatChannel.id,forThread:!0})}),[N.chatChannel.id]),A=N.chatChannel,M=N.messageId,D=N.viewerThreadMember,O=(0,y.Z)().refetchUnreadThreadCount,Z=d.Z.useAsyncMutation((void 0!==t||(t=a(933539)).hash&&"a7c9dceda7991d9605bac6aed841491b"!==t.hash&&P.error("The definition of 'ChatChannelMainThreadMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t));(0,v.useEffect)((function(){!w||null!=D&&D.readAt||Z({input:{threadId:N.id}}).then(O)}),[N.id]);var U,R,E,V,Q=(0,x.jsx)(C.j,{virtualized:!0,Input:_,messageActions:T,additionalMessageListProps:{messageActions:T,noGroupByUser:!0},autoFocus:!1,Message:function(e){return(0,x.jsx)(p.Z,I(I({firstOfGroup:!0},e),{},{chatChannelKey:N.chatChannel}))}});return(0,x.jsxs)(c.Z,{mainThread:!0,testid:"ChatChannelMainThread.channel",chatChannelKey:N.chatChannel,children:[(0,x.jsx)(g.Z,{messageId:M}),(V="direct_message"===A.kind?(0,x.jsx)(k.Xn,{"data-testid":"".concat(u,".channel-link"),to:{pathname:(0,F.Gn)(s.ZP.COMMUNITY.DIRECT_MESSAGES.DETAIL,{channelId:A.id}),search:"streamMsgId=".concat(M,"&openThread=true")},children:(0,x.jsx)(m.Z,{channelKey:A,textColor:"text.primary",textVariant:"body-sm",avatarSize:24})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:B.channelHeaderText,children:[!w&&(null===(U=A.app)||void 0===U?void 0:U.badge)&&(0,x.jsx)(i.Z,{badgeKey:A.app.badge,className:B.channelBadge,size:24}),(0,x.jsx)(k.Xn,{"data-testid":"".concat(u,".channel-link"),to:{pathname:A.product?(0,F.Gn)(s.ZP.PRODUCT.CHAT.CHANNEL,{channelId:A.id,productSlug:A.product.slug}):(0,F.Gn)(s.ZP.COMMUNITY.CHAT.CHANNEL,{channelId:A.id}),search:"streamMsgId=".concat(M,"&openThread=true")},children:(0,x.jsx)(k.U4,{noWrap:!0,variant:"body-md-500",color:"text.primary",children:null===(R=A.app)||void 0===R?void 0:R.customAppTitle})})]}),A.product&&(0,x.jsxs)(k.U4,{noWrap:!0,variant:"body-sm",color:"text.secondary",children:["in ",(0,x.jsx)(k.Xn,{to:(0,F.Gn)(s.ZP.PRODUCT.DASHBOARD,{productSlug:A.product.slug}),className:B.productLink,children:A.product.name})]})]}),w?(0,x.jsx)(o.Z,{leftIcon:(null===(E=A.app)||void 0===E?void 0:E.badge)&&(0,x.jsx)(i.Z,{badgeKey:A.app.badge,className:B.fullPageBadge,size:40}),title:(0,x.jsx)("div",{className:B.headerTitle,children:V}),rightOptions:"private"===A.visibility&&(0,x.jsx)(f.Z,{testid:"".concat(u,".private-channel"),name:"Private",backgroundColor:j.palette.groovy.neutral[100]})}):(0,x.jsx)("div",{className:B.channelHeader,children:V})),w?Q:(0,x.jsx)(k.W0,{padding:1,children:Q})]},A.externalChannelId)}},349096:function(e,n,a){a.r(n),a.d(n,{ThreadPageContentSkeleton:function(){return I}});var l,t=a(115861),r=a(386854),i=a(887757),s=a.n(i),o=a(288394),d=(a(545378),a(620822)),u=a(574584),c=a(175256),g=(a(681355),a(10165)),m=a(6584),p=a(810863),h=a(666086),y=a(541321),k=a(108920),f=a(558365),b=a(696672),v=a(667294),S=a(422578),F=a(616550),C=a(983156),x=a(785893),P=a(425108);var K=(0,p.Z)((function(e){return{main:{overflow:"hidden",backgroundColor:e.palette.background.paper},pageContainer:{height:"100%",overflow:"hidden",margin:0},pageContent:{margin:0,maxWidth:"unset"},skeletonContainer:{height:"100%",display:"flex",flexDirection:"column"},skeletonMessages:{padding:e.spacing(2),flexGrow:1,display:"flex",flexDirection:"column",gap:e.spacing(2),overflowY:"auto","& > div":{display:"flex",gap:e.spacing(2),alignItems:"flex-start","& > :last-child":{flexGrow:1}}}}}));function I(){var e=K(),n=(0,k.Z)();return(0,x.jsxs)(u.Z,{classes:{main:e.main,container:e.pageContainer},children:[(0,x.jsx)(c.Z,{leftIcon:(0,x.jsx)(f.Z,{variant:"rect",width:40,height:40,style:{borderRadius:n.measure.borderRadius.medium}}),title:(0,x.jsx)(y.Ju,{width:"200px"})}),(0,x.jsxs)("div",{className:e.skeletonContainer,children:[(0,x.jsx)("div",{className:e.skeletonMessages,children:(0,b.w6)(6).map((function(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(m.u,{stackSize:1,avatarSize:32}),(0,x.jsxs)("div",{children:[(0,x.jsx)(y.Ju,{width:150}),(0,x.jsx)(y.Ju,{width:"100%"}),(0,x.jsx)(y.Ju,{width:"50%"})]})]},e)}))}),(0,x.jsx)(h.c,{})]})]})}n.default=g.Z.withSkeleton({component:function(){var e=(0,F.UO)().threadId,n=K(),i=(0,C.mx)().client,c=(0,v.useState)(!0),g=(0,r.Z)(c,2),m=g[0],p=g[1],h=(0,v.useState)(!0),y=(0,r.Z)(h,2),k=y[0],f=y[1],b=(0,S.useLazyLoadQuery)((void 0!==l||(l=a(545378)).hash&&"8ab6b849fd0b70eb6bda6b949b63a4e3"!==l.hash&&P.error("The definition of 'ThreadPageContentQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{id:e}).thread;return(0,v.useEffect)((function(){(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=b&&b.messageId){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,f(!0),e.next=6,i.getMessage(b.messageId);case 6:if(n=e.sent,n.message){e.next=10;break}return e.abrupt("return");case 10:p(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),P.error(e.t0);case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))()}),[i,null==b?void 0:b.messageId]),k?(0,x.jsx)(I,{}):!b||m?(0,x.jsx)(d.Z,{}):(0,x.jsx)(u.Z,{classes:{main:n.main,container:n.pageContainer,content:n.pageContent},children:(0,x.jsx)(o.Z,{threadKey:b,fullPage:!0},b.id)})},skeleton:I})},265091:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatChannelMainThreadFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[{alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BadgeFragment"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DirectMessageHeaderFragment"},{args:null,kind:"FragmentSpread",name:"ChatChannelMessageFragment"},{args:null,kind:"FragmentSpread",name:"ChatChannelFragment"}],storageKey:null},{alias:null,args:null,concreteType:"ThreadMember",kind:"LinkedField",name:"viewerThreadMember",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"readAt",storageKey:null}],storageKey:null}],type:"Thread",abstractKey:null};t.hash="f2cb0fc8af526f938df24bbc90a146d7",n.default=t},933539:function(e,n,a){a.r(n);a(244311);var l,t,r={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"ChatChannelMainThreadMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"MarkThreadAsReadResponse",kind:"LinkedField",name:"markThreadAsRead",plural:!1,selections:[{alias:null,args:null,concreteType:"ThreadMember",kind:"LinkedField",name:"threadMember",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"readAt",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ChatChannelMainThreadMutation",selections:t},params:{cacheID:"cd74e74fa1f0917e72d3a0dd060dbf92",id:null,metadata:{},name:"ChatChannelMainThreadMutation",operationKind:"mutation",text:"mutation ChatChannelMainThreadMutation(\n  $input: MarkThreadAsReadInput!\n) {\n  response: markThreadAsRead(input: $input) {\n    threadMember {\n      id\n      readAt\n    }\n  }\n}\n"}};r.hash="a7c9dceda7991d9605bac6aed841491b",n.default=r},545378:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ThreadPageContentQuery",selections:[{alias:"thread",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatChannelMainThreadFragment"}],type:"Thread",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ThreadPageContentQuery",selections:[{alias:"thread",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[{alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"customAppDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"excludeViewer",value:!0},{kind:"Literal",name:"first",value:5}],concreteType:"ChatChannelMemberNodeConnection",kind:"LinkedField",name:"chatChannelMembers",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatChannelMemberNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ChatChannelMember",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"chatChannelMembers(excludeViewer:true,first:5)"},{kind:"InlineFragment",selections:[s,{kind:"InlineFragment",selections:u=[d={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},d,c={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:g=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},d,c],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:m=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},d,c],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:m,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:m,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},d,c],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:m,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:m,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:g,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:u,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:u,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:"ThreadMember",kind:"LinkedField",name:"viewerThreadMember",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"readAt",storageKey:null},r],storageKey:null}],type:"Thread",abstractKey:null}],storageKey:null}]},params:{cacheID:"721c03dcb6214107e2b38b034da2d38d",id:null,metadata:{},name:"ThreadPageContentQuery",operationKind:"query",text:"query ThreadPageContentQuery(\n  $id: ID!\n) {\n  thread: node(id: $id) {\n    __typename\n    ... on Thread {\n      id\n      messageId\n      ...ChatChannelMainThreadFragment\n    }\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment ChatChannelEditMessageFragment on ChatChannel {\n  id\n  ...ChatChannelMessageOptionsFragment\n}\n\nfragment ChatChannelFragment on ChatChannel {\n  externalChannelId\n  ...ChatChannel_EmptyStateIndicatorFragment\n  ...ChatChannelMessageFragment\n  ...ChatChannelEditMessageFragment\n}\n\nfragment ChatChannelMainThreadFragment on Thread {\n  id\n  messageId\n  chatChannel {\n    id\n    externalChannelId\n    kind\n    visibility\n    product {\n      name\n      slug\n      id\n    }\n    app {\n      badge {\n        ...BadgeFragment\n        id\n      }\n      customAppTitle\n      id\n    }\n    ...DirectMessageHeaderFragment\n    ...ChatChannelMessageFragment\n    ...ChatChannelFragment\n  }\n  viewerThreadMember {\n    readAt\n    id\n  }\n}\n\nfragment ChatChannelMessageActionsFragment on ChatChannel {\n  id\n  ...usePermissionsFragment\n}\n\nfragment ChatChannelMessageFragment on ChatChannel {\n  id\n  ...ChatChannelMessageOptionsFragment\n}\n\nfragment ChatChannelMessageOptionsFragment on ChatChannel {\n  id\n  ...usePermissionsFragment\n  ...ChatChannelMessageActionsFragment\n}\n\nfragment ChatChannelSettingsModalButtonFragment on ProductApp {\n  id\n  productId\n}\n\nfragment ChatChannel_EmptyStateIndicatorFragment on ChatChannel {\n  id\n  externalChannelId\n  app {\n    id\n    customAppDescription\n    ...ChatChannelSettingsModalButtonFragment\n  }\n}\n\nfragment DirectMessageHeaderFragment on ChatChannel {\n  id\n  chatChannelMembers(first: 5, excludeViewer: true) {\n    edges {\n      node {\n        id\n        user {\n          fullName\n          id\n          firstName\n          lastName\n          ...ProfileAvatarFragment\n          ...ProfileListModalListItemFragment\n        }\n      }\n    }\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileListModalListItemFragment on User {\n  id\n  firstName\n  lastName\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};p.hash="8ab6b849fd0b70eb6bda6b949b63a4e3",n.default=p},952563:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"useStartDirectMessageMutation",selections:[{alias:"response",args:t=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"StartDirectMessageResponse",kind:"LinkedField",name:"startDirectMessage",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StreamChatContext_ChannelsFragment"}],storageKey:null}],storageKey:null},s={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"useStartDirectMessageMutation",selections:[{alias:"response",args:t,concreteType:"StartDirectMessageResponse",kind:"LinkedField",name:"startDirectMessage",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"node",plural:!1,selections:[r,i,{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"includeProductLevel",value:!0},{kind:"Literal",name:"kinds",value:["default","custom","direct_message"]},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"last_message_sent_at"}}],concreteType:"ChatChannelNodeConnection",kind:"LinkedField",name:"chatChannels",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatChannelNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"appId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"navSectionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[o,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'chatChannels(includeProductLevel:true,kinds:["default","custom","direct_message"],orderBy:{"direction":"DESC","field":"last_message_sent_at"})'},r],storageKey:null}],storageKey:null},s],storageKey:null}]},params:{cacheID:"b75b58c2dd98244c894de360a78e3963",id:null,metadata:{},name:"useStartDirectMessageMutation",operationKind:"mutation",text:'mutation useStartDirectMessageMutation(\n  $input: StartDirectMessageInput!\n) {\n  response: startDirectMessage(input: $input) {\n    node {\n      id\n      externalChannelId\n      organization {\n        ...StreamChatContext_ChannelsFragment\n        id\n      }\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n\nfragment StreamChatContext_ChannelsFragment on Organization {\n  chatChannels(kinds: [default, custom, direct_message], includeProductLevel: true, orderBy: {field: "last_message_sent_at", direction: DESC}) {\n    edges {\n      node {\n        id\n        productId\n        externalChannelId\n        kind\n        appId\n        product {\n          navSectionId\n          status\n          viewerMembership {\n            id\n            role\n          }\n          id\n        }\n        app {\n          navSectionId\n          id\n        }\n      }\n    }\n  }\n}\n'}};d.hash="73cfe5930bcd3762ba14560b4ee3652b",n.default=d},691394:function(e,n,a){a.d(n,{Z:function(){return v},o:function(){return S}});var l,t=a(241451),r=a(115861),i=a(386854),s=a(887757),o=a.n(s),d=(a(952563),a(285245)),u=a(963114),c=a(470609),g=a(669187),m=(a(681355),a(10165)),p=a(445033),h=a(251941),y=a(982879),k=a(667294),f=a(616550),b=(a(244311),a(425108));function v(){var e,n=(0,c.vW)(),s=m.Z.useAsyncMutation((void 0!==l||(l=a(952563)).hash&&"73cfe5930bcd3762ba14560b4ee3652b"!==l.hash&&b.error("The definition of 'useStartDirectMessageMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l)),y=(0,k.useState)(!1),v=(0,i.Z)(y,2),S=v[0],F=v[1],C=(0,f.k6)(),x=(0,d.vn)(),P=(0,h.d)(),K=(0,u.NP)("organization_member"),I=(0,u.NP)("organization"),T=(0,k.useCallback)(function(){var e=(0,r.Z)(o().mark((function e(a){var l,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=x&&null!==(l=x.viewerMembership)&&void 0!==l&&l.id){e.next=3;break}return(0,p.p)({message:"You must be a ".concat(K.singular," of the ").concat(I.singularLowercase," to start a Private Message.")}),e.abrupt("return",!1);case 3:return F(!0),e.prev=4,e.next=7,s({input:{organizationMembershipIds:[x.viewerMembership.id].concat((0,t.Z)(a))}});case 7:if(r=e.sent,i=r.response,F(!1),!i.errors||!i.errors[0]){e.next=13;break}return(0,p.p)(i.errors[0]),e.abrupt("return",!1);case 13:if(i.node){e.next=15;break}return e.abrupt("return",!1);case 15:return e.next=17,n(i.node.externalChannelId,!0);case 17:return C.push((0,f.Gn)(g.ZP.COMMUNITY.DIRECT_MESSAGES.DETAIL,{channelId:i.node.id})),e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(4),F(!1),(0,p.p)(e.t0),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(n){return e.apply(this,arguments)}}(),[s,F,null==x||null===(e=x.viewerMembership)||void 0===e?void 0:e.id,C,P]);return[T,S]}function S(){var e=(0,y.Kx)().openDM,n=v(),a=(0,i.Z)(n,1)[0];(0,k.useEffect)((function(){var n=e?e.split(","):[];n.length>=1&&a(n)}),[e,a])}},908700:function(e,n,a){a.d(n,{Z:function(){return qe}});var l,t,r=a(241451),i=a(204942),s=(a(146055),a(232795),a(762917),a(879389),a(702772)),o=a(46916),d=a(10165),u=a(810863),c=a(541321),g=a(8296),m=a(696672),p=a(188191),h=a(422578),y=a(785893),k=a(425108),f=10;function b(e){var n=e.topLevelKey,r=e.navSectionKey,i=e.testid,u=void 0===i?"ChannelsAppsSidebarList":i,b=S(),v=(0,p.Z)().virtualizeProductsSidebar,F=(0,h.usePaginationFragment)((void 0!==l||(l=a(762917)).hash&&"efc9cbe0d698cce21d520536cc803f86"!==l.hash&&k.error("The definition of 'ChannelsAppsSidebarList_OrganizationPaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),n||null),C=null==F?void 0:F.data,x=(0,h.usePaginationFragment)((void 0!==t||(t=a(146055)).hash&&"a7dce9396460422ae24f2231a6f53c7e"!==t.hash&&k.error("The definition of 'ChannelsAppsSidebarList_NavSectionPaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),r||null),P=null==x?void 0:x.data,K=C?F:x,I=K.loadNext,T=K.hasNext,L=K.isLoadingNext,w=C?d.Z.connectionToArray(C.topLevelApps):d.Z.connectionToArray(null==P?void 0:P.apps);return w.length?(0,y.jsxs)("div",{className:b.list,"data-testid":u,children:[w.map((function(e){var n=(0,y.jsx)(s.Z,{testid:"ChannelsSidebar.community-top-level-channels",appKey:e,isChannelsSidebar:!0},e.id);return v?(0,y.jsx)(o.Z,{children:n},e.id):n})),T&&(0,y.jsx)(g.Z,{onScrolledIntoView:function(){return I(f)},isLoading:L,skeleton:(0,y.jsx)(y.Fragment,{children:(0,m.w6)(f).map((function(e){return(0,y.jsx)(c.YA,{},e)}))})})]}):null}var v,S=(0,u.Z)((function(e){return{list:{padding:e.spacing(0,2)}}})),F=(a(552451),a(394542),a(413147),a(568502),a(606588)),C=(a(143575),a(669187)),x=a(506203),P=a(619871),K=a(447912),I={menuItem:"G8ftTn28EI6HqLRe3iE5uA=="},T=a(425108);function L(e){var n=e.productKey,l=e.testid,t=void 0===l?"ChannelsSidebarProduct":l,r=(0,h.useFragment)((void 0!==v||(v=a(143575)).hash&&"1f767b491caecfed59d3222865ee06b8"!==v.hash&&T.error("The definition of 'ChannelsSidebarProductFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),v),n),i=d.Z.connectionToArray(r.productApps).filter((function(e){var n;return"chat_channel"===e.kind||(null===(n=e.productApps)||void 0===n?void 0:n.edges.length)}));return(0,y.jsx)(P.Z,{testid:t,menuItemClasses:{root:I.menuItem},name:r.name,leftIcon:(0,y.jsx)(x.Z,{productKey:r}),showItemsRoute:C.ZP.CHAT.ROOT,rightContent:"draft"===r.status&&(0,y.jsx)(K.Z,{status:r.status,testid:t}),indentNestedItems:!0,children:i.map((function(e){if("nav_folder"===e.kind){var n=d.Z.connectionToArray(e.productApps),a="".concat(t,".").concat(e.customAppTitle);return(0,y.jsx)(F.Z,{appKey:e,testid:a,notificationConfig:{streamChannelIds:n.map((function(e){return e.chatChannel.externalChannelId}))},name:e.customAppTitle||"",collapsible:!0,indentNestedItems:!0,hideLeftIcon:!0,children:n.map((function(e){return(0,y.jsx)(s.Z,{testid:a,appKey:e,isChannelsSidebar:!0},e.id)}))},e.id)}return(0,y.jsx)(s.Z,{testid:t,appKey:e,isChannelsSidebar:!0},e.id)}))})}var w,B,j=a(425108),N=10;function _(e){var n=e.topLevelKey,l=e.navSectionKey,t=e.testid,r=void 0===t?"ChannelsProductsSidebarList":t,i=M(),s=(0,p.Z)().virtualizeProductsSidebar,u=(0,h.usePaginationFragment)((void 0!==w||(w=a(413147)).hash&&"74d5da4f085bb50dbb884d63af13a2fa"!==w.hash&&j.error("The definition of 'ChannelsProductsSidebarList_OrganizationPaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),w),n||null),k=null==u?void 0:u.data,f=(0,h.usePaginationFragment)((void 0!==B||(B=a(552451)).hash&&"3f65ea859f7fe2e6dc51ce59bb2e5337"!==B.hash&&j.error("The definition of 'ChannelsProductsSidebarList_NavSectionPaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),B),l||null),b=null==f?void 0:f.data,v=k?u:f,S=v.loadNext,F=v.hasNext,C=v.isLoadingNext,x=k?d.Z.connectionToArray(k.topLevelProducts):d.Z.connectionToArray(null==b?void 0:b.products);return x.length?(0,y.jsxs)(y.Fragment,{children:[n&&(0,y.jsx)(c.o$,{marginTop:1.5,marginBottom:1.5}),(0,y.jsxs)("div",{className:i.list,"data-testid":r,children:[x.map((function(e,n){var a=(0,y.jsx)(L,{testid:"".concat(r,".").concat(n),productKey:e},e.id);return s?(0,y.jsx)(o.Z,{children:a},e.id):a})),F&&(0,y.jsx)(g.Z,{onScrolledIntoView:function(){return S(N)},isLoading:C,skeleton:(0,y.jsx)(y.Fragment,{children:(0,m.w6)(N).map((function(e){return(0,y.jsx)(c.YA,{},e)}))})})]})]}):null}var A,M=(0,u.Z)((function(e){return{list:{padding:e.spacing(0,2)}}})),D=(a(648600),a(108920)),O={menuItem:"_06Hul9A78TM5xwSBh-p7rA=="},Z=a(425108);function U(e){var n=e.navSectionKey,l=e.testid,t=void 0===l?"ChannelsNavSection":l,r=(0,D.Z)(),i=(0,h.useFragment)((void 0!==A||(A=a(648600)).hash&&"d497cf6599daaa2686560a927b68ed30"!==A.hash&&Z.error("The definition of 'ChannelsNavSectionFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),A),n),s="products"===i.kind;return(0,y.jsx)(P.Z,{testid:t,menuItemClasses:{root:O.menuItem},name:i.title,collapsible:!0,ignoreLocalStorage:!0,nameNode:(0,y.jsx)(c.U4,{variant:"body-sm-500-uppercase",truncateText:1,color:"dark"===r.palette.type?"groovy.onDark.300":"groovy.neutral.400",children:i.title}),notificationConfig:{streamChannelIds:i.viewerExternalChannelIds},children:(0,y.jsx)("div",{"data-testid":"".concat(t,".children"),children:s?(0,y.jsx)(_,{testid:"".concat(t,".products"),navSectionKey:i}):(0,y.jsx)(b,{navSectionKey:i,testid:t})})})}a(812370);var R,E=a(285245),V=a(667294),Q=a(616550),z=(a(244311),a(425108));var H=(0,u.Z)((function(e){return{outer:{padding:e.spacing(0,0,2)},inner:{padding:e.spacing(0,2)}}}));var $=d.Z.withSkeleton({component:function(){var e=(0,E.vn)(),n=H(),l=(0,h.useLazyLoadQuery)((void 0!==R||(R=a(812370)).hash&&"1ff26ea50d83c55c84df31e8bf1206b3"!==R.hash&&z.error("The definition of 'ChannelsSidebarQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),R),{},{fetchPolicy:"network-only",fetchKey:"channels-side-bar"}),t=l.isViewerInAnyChannels,r=l.channelsSidebarCommunityNavSections,i=l.channelsSidebarProductNavSections;if(!e.isChannelsEnabled)return(0,y.jsx)(Q.l_,{to:C.ZP.COMMUNITY.HOME.ROOT});if(!t)return(0,y.jsx)("div",{className:n.inner,children:(0,y.jsx)(c.U4,{variant:"body-sm",color:"groovy.neutral.400",marginTop:2,align:"center",children:"No channels yet."})});var s=d.Z.connectionToArray(r),o=d.Z.connectionToArray(i);return(0,y.jsxs)("div",{className:n.outer,children:[(0,y.jsx)(b,{topLevelKey:l}),s.map((function(e,n){return(0,y.jsxs)(V.Fragment,{children:[(0,y.jsx)(c.o$,{marginTop:1.5,marginBottom:1.5}),(0,y.jsx)(U,{testid:"CommunityNavSection.".concat(n),navSectionKey:e})]},e.id)})),(0,y.jsx)(_,{testid:"TopLevelProducts",topLevelKey:l}),o.map((function(e,n){return(0,y.jsxs)(V.Fragment,{children:[(0,y.jsx)(c.o$,{marginTop:1.5,marginBottom:1.5}),(0,y.jsx)(U,{testid:"ProductsNavSection.".concat(n),navSectionKey:e})]},e.id)}))]})},skeleton:function(){var e=H();return(0,y.jsxs)("div",{className:e.inner,style:{display:"flex",flexDirection:"column",gap:1},children:[(0,m.w6)(4).map((function(e){return(0,y.jsx)(c.YA,{},e)})),(0,m.w6)(2).map((function(e){return(0,y.jsxs)(V.Fragment,{children:[(0,y.jsx)(c.o$,{}),(0,y.jsx)(c.Ju,{width:"100px"}),(0,y.jsx)(c.YA,{}),(0,y.jsx)(c.YA,{})]},e)}))]})}}),q=a(963114),G=a(482016),W=a(162083),Y=a(330829);function J(){var e=(0,E.vn)(),n=(0,q.NP)("sidebar_chat");return(0,y.jsx)(Y.Z,{title:n.singular,icon:"messages",actions:e.isDmEnabled&&(0,y.jsx)(c.ZX,{menuButton:function(e){var n=e.onClick;return(0,y.jsx)(c.I4,{size:"small",onClick:n,testid:"ChatSidebarHeader.add-button",children:(0,y.jsx)(c.De,{icon:"add"})})},horizontal:"right",transformOrigin:{vertical:"top",horizontal:"right"},children:(0,y.jsx)(G.Z,{stopPropagation:!1,children:function(e){var n=e.onClick;return(0,y.jsx)(W.Z,{testid:"ChatSidebarheader.direct-message",onClick:n,title:"New Direct Message"})}})})})}var X,ee=a(71218),ne=a(386854),ae=a(691394),le=(a(870040),a(276979)),te=a(558365),re=a(425108);var ie=(0,u.Z)((function(e){return{card:{display:"flex",flexDirection:"column",alignItems:"center",border:e.palette.constants.borderSmall,padding:e.spacing(1.5),borderRadius:e.measure.borderRadius.big,boxShadow:e.palette.groovyDepths.insideCard},messageButton:{padding:e.spacing(1)}}}));function se(){var e=ie();return(0,y.jsxs)("div",{className:e.card,children:[(0,y.jsx)(te.Z,{variant:"circle",width:40,height:40}),(0,y.jsx)(c.Ju,{variant:"body-sm-500",marginTop:1.5,marginBottom:2,truncateText:2,width:"100%",align:"center"}),(0,y.jsx)(c.v2,{leftIcon:"message",variant:"outlined",color:"grey",size:"small",className:e.messageButton,children:(0,y.jsx)(c.U4,{variant:"body-sm-500",marginLeft:1,children:"Message"})})]})}var oe,de,ue=d.Z.withSkeleton({component:function(e){var n=e.organizationMembershipKey,l=e.testid,t=void 0===l?"SidebarContactAdminsCarouselItem":l,r=ie(),i=(0,ae.Z)(),s=(0,ne.Z)(i,2),o=s[0],d=s[1],u=(0,h.useFragment)((void 0!==X||(X=a(870040)).hash&&"380fca6b0f8237c8fb0279eca9bb9507"!==X.hash&&re.error("The definition of 'SidebarContactAdminsCarouselItemFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),X),n),g=null==u?void 0:u.member;return g?(0,y.jsxs)("div",{className:r.card,"data-testid":t,children:[(0,y.jsx)(le.Z,{testid:"".concat(t,".ProfileAvatar"),userKey:g,size:48}),(0,y.jsx)(c.U4,{variant:"body-sm-500",testid:"".concat(t,".name"),marginTop:1.5,marginBottom:2,truncateText:2,title:g.fullName,className:"fs-mask",align:"center",children:g.fullName}),(0,y.jsx)(c.v2,{testid:"".concat(t,".message-button"),onClick:function(){if(!u)return;o([u.id])},leftIcon:"message",variant:"outlined",color:"grey",size:"small",className:r.messageButton,disabled:d,shouldDisplaySpinner:d,children:(0,y.jsx)(c.U4,{variant:"body-sm-500",marginLeft:1,children:"Message"})})]}):null},skeleton:se}),ce=(a(364519),a(751197),a(815160),a(466766)),ge=a(425108);var me=(0,u.Z)((function(e){return{carousel:{margin:e.spacing(-1,0,-1.5),padding:0,backgroundColor:e.palette.background.paper}}}));var pe=d.Z.withSkeleton({component:function(){var e,n,l=(0,E.vn)(),t=me(),r=(0,D.Z)(),i=(0,h.useLazyLoadQuery)((void 0!==oe||(oe=a(751197)).hash&&"9a37c7d2f78274f603a655f37022f2a5"!==oe.hash&&ge.error("The definition of 'SidebarContactAdminsCarouselQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),oe),{id:l.id,first:3},{fetchPolicy:"network-only",fetchKey:"sidebar-conact-admins-carousel"}).node,s=(0,h.usePaginationFragment)((void 0!==de||(de=a(815160)).hash&&"9ef835a49abddea92c0c0dad20959e6f"!==de.hash&&ge.error("The definition of 'SidebarContactAdminsCarousel_PaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),de),i),o=s.data,u=s.hasNext,g=s.hasPrevious,m=s.loadNext,p=s.isLoadingNext,k=d.Z.connectionToArray(null==o?void 0:o.organizationMemberships);return null!=o&&null!==(e=o.organizationMemberships)&&void 0!==e&&e.totalCount?(0,y.jsx)(ce.Z,{testid:"SidebarContactAdminsCarousel",header:(0,y.jsx)(c.U4,{variant:"body-sm-500-uppercase",color:"dark"===r.palette.type?"groovy.neutral.600":"groovy.neutral.400",children:"Contact Admins"}),variant:"caret",isDefaultExpanded:!1,mountOnExpand:!1,children:(0,y.jsx)(c.FF,{className:t.carousel,data:k,item:function(e,n){return(0,y.jsx)(ue,{organizationMembershipKey:e,testid:"SidebarContactAdminsCarouselItem.".concat(n)},e.id)},slidesPerView:1.75,totalCount:null==o||null===(n=o.organizationMemberships)||void 0===n?void 0:n.totalCount,refetch:{hasNext:u,hasPrevious:g,loadMore:function(){return m(3)},isLoading:p},itemSkeleton:(0,y.jsx)(se,{})})}):null},skeleton:function(){var e=me(),n=(0,D.Z)();return(0,y.jsx)(ce.Z,{header:(0,y.jsx)(c.U4,{variant:"body-sm-500-uppercase",color:"dark"===n.palette.type?"groovy.neutral.600":"groovy.neutral.400",children:"Contact Admins"}),variant:"caret",isDefaultExpanded:!1,children:(0,y.jsx)(c.Yz,{className:e.carousel,item:(0,y.jsx)(se,{}),slidesPerView:1.75,showHeader:!1})})}});function he(){var e=ye();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:e.contactContainer,children:(0,y.jsx)(pe,{})}),(0,y.jsx)(ee.Z,{})]})}var ye=(0,u.Z)((function(e){return{contactContainer:{padding:e.spacing(0,2,1.5)}}})),ke=a(115861),fe=a(887757),be=a.n(fe),ve=a(343440),Se=a(769689),Fe=a(193106);function Ce(e){var n,a,l,t=e.message,r=e.parentMessage,i=e.isUnread,s=Pe(),o=(0,D.Z)(),d={id:null===(n=t.user)||void 0===n?void 0:n.disco_user_id,avatar:null===(a=t.user)||void 0===a?void 0:a.avatar,fullName:(null===(l=t.user)||void 0===l?void 0:l.name)||ve.Z.getUnknownUserFullName()},u=(0,Fe.$I)(t.created_at),g="dark"===o.palette.type?"groovy.neutral.600":"groovy.neutral.400",m=(0,Se.Z)(t),p=(0,Se.Z)(r);return(0,y.jsxs)("div",{className:s.latestReply,children:[(0,y.jsx)(le.Z,{userKey:null,user:d,size:32}),(0,y.jsxs)("div",{className:s.messageDetails,children:[(0,y.jsxs)("div",{className:s.nameAndTime,children:[(0,y.jsx)(c.U4,{variant:i?"body-sm-700":"body-sm-500",truncateText:1,children:d.fullName}),u&&(0,y.jsx)(c.t2,{content:u.tooltip,children:(0,y.jsx)(c.U4,{variant:i?"body-xs-500":"body-xs",color:g,className:s.date,children:u.display})})]}),(0,y.jsxs)(c.U4,{variant:i?"body-xs-500":"body-xs",color:g,truncateText:1,className:s.message,children:["replied to: ",p]}),(0,y.jsx)(c.U4,{variant:i?"body-sm-600":"body-sm",color:i?"text.primary":"text.secondary",truncateText:2,className:s.message,children:m})]})]})}var xe,Pe=(0,u.Z)((function(e){return{latestReply:{display:"flex",gap:e.spacing(1.5)},messageDetails:{display:"flex",flexDirection:"column",gap:e.spacing(.5),minWidth:0},nameAndTime:{display:"flex",gap:e.spacing(1),alignItems:"center"},date:{whiteSpace:"nowrap"},message:{"& *":{display:"inline !important",fontSize:"inherit !important",lineHeight:"inherit !important",color:"inherit !important",transition:"inherit !important",pointerEvents:"none"}}}})),Ke=(a(708716),a(470609)),Ie=a(269865),Te=a(162329),Le=a(294184),we=a.n(Le),Be=(a(423274),a(983156)),je=a(425108);function Ne(e){var n,l=e.testid,t=void 0===l?"ThreadsSidebarListItem":l,r=e.threadKey,s=e.firstItem,o=(0,Q.k6)(),u=(0,Q.TH)(),g=_e(),m=(0,D.Z)(),p=(0,V.useState)(!0),k=(0,ne.Z)(p,2),f=k[0],b=k[1],v=(0,h.useFragment)((void 0!==xe||(xe=a(708716)).hash&&"a84405647010a0e5c42501762dca9685"!==xe.hash&&je.error("The definition of 'ThreadsSidebarListItemFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),xe),r),S=(0,V.useState)(null),F=(0,ne.Z)(S,2),x=F[0],P=F[1],K=(0,V.useState)(null),I=(0,ne.Z)(K,2),T=I[0],L=I[1],w=(0,Be.mx)().client,B=(0,Ke.xo)(v.chatChannel.externalChannelId);if((0,V.useEffect)((function(){(0,ke.Z)(be().mark((function e(){var n,a,l,t,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,b(!0),e.next=6,w.getMessage(v.messageId);case 6:if(n=e.sent,a=n.message,P(a),a){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,B.getReplies(v.messageId,a.reply_count?{limit:1,offset:a.reply_count-1}:{limit:99});case 13:l=e.sent,t=l.messages,(r=t[t.length-1])&&L(r),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),je.error(e.t0);case 22:return e.prev=22,b(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[2,19,22,25]])})))()}),[w,v.messageId,B]),!B)return null;if(f)return(0,y.jsx)(Ae,{});if(!x||!T)return null;var j=function(){if(v.chatChannel.app)return"#".concat(v.chatChannel.app.customAppTitle);var e=d.Z.connectionToArray(v.chatChannel.chatChannelMembers),n=e.map((function(e){return e.user.fullName})).join(", "),a=v.chatChannel.chatChannelMembers.totalCount;a>e.length&&(n+=" + ".concat(a-e.length," more"));return n}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.o$,{marginTop:s?0:1.5,marginBottom:1.5}),(0,y.jsxs)(Ie.Z,{className:we()(g.container,(0,i.Z)({},g.selected,u.pathname.endsWith(v.id))),onClick:function(){o.push((0,Q.Gn)(C.ZP.COMMUNITY.THREADS.DETAIL,{threadId:v.id}))},testid:t,children:[(0,y.jsxs)(c.U4,{variant:"body-xs",color:"dark"===m.palette.type?"groovy.neutral.600":"groovy.neutral.400",display:"block",marginBottom:1,children:["Thread in ",(0,y.jsx)(c.U4,{component:"span",variant:"body-xs-500",color:"primary.main",title:j,children:j}),v.chatChannel.product&&(0,y.jsxs)(y.Fragment,{children:[" from ",(0,y.jsx)(c.U4,{component:"span",variant:"body-xs-500",color:"primary.main",children:v.chatChannel.product.name})]})]}),(0,y.jsx)(Ce,{message:T,parentMessage:x,isUnread:null===(null===(n=v.viewerThreadMember)||void 0===n?void 0:n.readAt)})]})]})}var _e=(0,u.Z)((function(e){return{container:{padding:e.spacing(1,1.5),margin:e.spacing(0,1.5),borderRadius:e.measure.borderRadius.big,"&:hover":{backgroundColor:e.palette.groovy.neutral[100]}},selected:{"&, &:hover":{backgroundColor:e.palette.primary.main},"& span, & p":{color:e.palette.primary.contrastText}},skeleton:{margin:e.spacing(0,1.5),width:"auto !important"}}}));function Ae(){var e=_e();return(0,y.jsx)(Te.m,{variant:"compact",classes:{card:e.skeleton}})}a(968217),a(457504),a(246024);var Me,De,Oe=a(425108);var Ze=(0,u.Z)((function(e){return{list:{paddingBottom:e.spacing(2)}}}));var Ue=d.Z.withSkeleton({component:function(){var e=(0,E.vn)(),n=Ze(),l=(0,h.useLazyLoadQuery)((void 0!==Me||(Me=a(246024)).hash&&"73b52bef064e23a7991aa0457c38ebae"!==Me.hash&&Oe.error("The definition of 'ThreadsSidebarQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Me),{id:e.id,first:7},{fetchPolicy:"network-only"}).organization,t=(0,h.usePaginationFragment)((void 0!==De||(De=a(968217)).hash&&"1a2ea43843ae0c6c050d4643b60fbcfc"!==De.hash&&Oe.error("The definition of 'ThreadsSidebarPaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),De),l),r=t.data,i=t.loadNext,s=t.hasNext,o=t.isLoadingNext,u=d.Z.connectionToArray(null==r?void 0:r.viewerThreads),m=(0,Q.TH)(),p=(0,Q.k6)(),k="dark"===(0,D.Z)().palette.type;return(0,V.useEffect)((function(){m.pathname===C.ZP.COMMUNITY.THREADS.DETAIL_ROOT&&(u.length?p.replace((0,Q.Gn)(C.ZP.COMMUNITY.THREADS.DETAIL,{threadId:u[0].id})):p.replace(C.ZP.COMMUNITY.THREADS.DETAIL_EMPTY))}),[u,m.pathname,p]),e.isChatEnabled?(0,y.jsx)("div",{className:n.list,children:u.length?(0,y.jsxs)(y.Fragment,{children:[u.map((function(e,n){return(0,y.jsx)(Ne,{threadKey:e,testid:"ThreadsSidebarListItem.".concat(n),firstItem:0===n},e.id)})),s&&(0,y.jsx)(g.Z,{onScrolledIntoView:function(){return i(7)},isLoading:o,skeleton:(0,y.jsx)(Te.m,{variant:"compact"})})]}):(0,y.jsx)(c.U4,{variant:"body-sm",color:k?"groovy.onDark.200":"groovy.neutral.400",marginTop:2,align:"center",children:"No threads yet."})}):(0,y.jsx)(Q.l_,{to:C.ZP.COMMUNITY.HOME.ROOT})},skeleton:function(){var e=Ze();return(0,y.jsx)("div",{className:e.list,children:(0,m.w6)(4).map((function(e){return(0,y.jsxs)(V.Fragment,{children:[(0,y.jsx)(c.o$,{marginTop:0===e?0:1.5,marginBottom:1.5}),(0,y.jsx)(Ae,{})]},e)}))})}}),Re=a(715145),Ee=a(141411),Ve=a(658555),Qe=a(669632);function ze(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function He(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ze(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var $e=(0,u.Z)((function(e){return{menuList:{height:"100%",padding:0},container:{height:"100%",display:"flex",flexDirection:"column"},tabsContainer:{padding:e.spacing(2,1.5,1)}}}));var qe=d.Z.withSkeleton({component:function(e){var n=$e(),a=(0,E.vn)(),l=(0,Ee.Z)().unreadThreadCount,t=(0,Ke.ag)(),i=t.directMessages,s=t.communityChannels,o=t.productMemberChannels,d=s.concat(o);return(0,y.jsx)(c.oi,He(He({},e),{},{fullHeight:!0,"data-testid":"ChatSidebar",header:(0,y.jsx)(J,{}),menuListProps:He(He({},e.menuListProps),{},{className:n.menuList}),ModalProps:{keepMounted:!0},items:(0,y.jsxs)("div",{className:n.container,children:[(0,y.jsx)("div",{className:n.tabsContainer,children:(0,y.jsx)(Qe.Z,{testid:"ChatSidebar.tabs",tabVariant:"grey-track",fullWidth:!0,countBadgeProps:{size:14,fontSize:10},size:"small",routes:[].concat((0,r.Z)(m.BB.spreadIf({testid:"direct-messages",label:"DMs",pathname:C.ZP.COMMUNITY.DIRECT_MESSAGES.DETAIL_ROOT,notificationConfig:{streamChannelIds:i.map((function(e){return e.externalChannelId}))}},a.isDmEnabled)),(0,r.Z)(m.BB.spreadIf({testid:"channels",label:"Channels",pathname:C.ZP.CHAT.CHANNEL.ROOT,notificationConfig:{streamChannelIds:d.map((function(e){return e.externalChannelId}))}},a.isChannelsEnabled)),[{testid:"threads",label:"Threads",pathname:C.ZP.COMMUNITY.THREADS.DETAIL_ROOT,notifications:l}])})}),(0,y.jsxs)(Q.rs,{children:[(0,y.jsx)(Q.AW,{path:C.ZP.COMMUNITY.DIRECT_MESSAGES.DETAIL_ROOT,children:(0,y.jsx)(Ve.Z,{hideScrollbar:!0,children:(0,y.jsx)(he,{})})},"routes:=".concat(C.ZP.COMMUNITY.DIRECT_MESSAGES.DETAIL_ROOT)),(0,y.jsx)(Q.AW,{path:C.ZP.COMMUNITY.THREADS.DETAIL_ROOT,children:(0,y.jsx)(Ve.Z,{hideScrollbar:!0,children:(0,y.jsx)(Ue,{})})},"routes:=".concat(C.ZP.COMMUNITY.THREADS.DETAIL_ROOT)),(0,y.jsx)(Q.AW,{path:C.ZP.CHAT.CHANNEL.ROOT,children:(0,y.jsx)(Ve.Z,{hideScrollbar:!0,children:(0,y.jsx)($,{})})},"routes:=".concat(C.ZP.CHAT.CHANNEL.ROOT))]})]})}))},skeleton:function(){return(0,y.jsx)(Re.Z,{title:"Chat",icon:"messages"})}})},146055:function(e,n,a){a.r(n);a(244311);var l,t,r=(t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:10,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:l=["apps"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:l},fragmentPathInResult:["node"],operation:a(232795),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ChannelsAppsSidebarList_NavSectionPaginationFragment",selections:[t,{alias:"apps",args:null,concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"__ChannelsAppsSidebarList_NavSectionPaginationFragment__apps_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[t,{args:null,kind:"FragmentSpread",name:"ChatChannelSideBarItemFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"NavSection",abstractKey:null});r.hash="a7dce9396460422ae24f2231a6f53c7e",n.default=r},232795:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:10,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ChannelsAppsSidebarList_NavSectionPaginationQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:r=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"ChannelsAppsSidebarList_NavSectionPaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ChannelsAppsSidebarList_NavSectionPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:"apps",args:r,concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"channelsSidebarNavSectionApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},{kind:"InlineFragment",selections:[i,{kind:"InlineFragment",selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},o,u={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:c=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},o,u],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:g=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},o,u],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},o,u],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:g,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:c,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:d,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:d,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:p=[s],storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"navSectionId",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"customAppUrl",storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"Collection",kind:"LinkedField",name:"collection",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"linkProduct",plural:!1,selections:[m,s],storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:"apps",args:r,filters:null,handle:"connection",key:"ChannelsAppsSidebarList_NavSectionPaginationFragment__apps",kind:"LinkedHandle",name:"channelsSidebarNavSectionApps"}],type:"NavSection",abstractKey:null}],storageKey:null}]},params:{cacheID:"1360b04dbe05556bc1fbb66b56d1c120",id:null,metadata:{},name:"ChannelsAppsSidebarList_NavSectionPaginationQuery",operationKind:"query",text:"query ChannelsAppsSidebarList_NavSectionPaginationQuery(\n  $after: String\n  $first: Int = 10\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ChannelsAppsSidebarList_NavSectionPaginationFragment_2HEEH6\n    id\n  }\n}\n\nfragment AppUtils_getLocationFragment on ProductApp {\n  id\n  kind\n  customAppUrl\n  product {\n    slug\n    id\n  }\n  feed {\n    id\n  }\n  chatChannel {\n    id\n  }\n  collection {\n    id\n  }\n  contentUsage {\n    id\n  }\n  linkProduct {\n    slug\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment ChannelsAppsSidebarList_NavSectionPaginationFragment_2HEEH6 on NavSection {\n  id\n  apps: channelsSidebarNavSectionApps(first: $first, after: $after) {\n    edges {\n      node {\n        id\n        ...ChatChannelSideBarItemFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ChatChannelBadgeFragment on ProductApp {\n  badge {\n    ...BadgeFragment\n    id\n  }\n  chatChannel {\n    visibility\n    id\n  }\n}\n\nfragment ChatChannelSettingsModalButtonFragment on ProductApp {\n  id\n  productId\n}\n\nfragment ChatChannelSideBarItemFragment on ProductApp {\n  id\n  customAppTitle\n  chatChannel {\n    id\n    externalChannelId\n    ...usePermissionsFragment\n  }\n  product {\n    slug\n    name\n    viewerMembership {\n      id\n    }\n    id\n  }\n  ...ChatChannelBadgeFragment\n  ...ChatChannelSettingsModalButtonFragment\n  ...DeleteChatChannelAppButtonFragment\n  ...AppUtils_getLocationFragment\n}\n\nfragment DeleteChatChannelAppButtonFragment on ProductApp {\n  id\n  navSectionId\n  product {\n    id\n    slug\n  }\n  chatChannel {\n    id\n    organizationId\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};y.hash="a7dce9396460422ae24f2231a6f53c7e",n.default=y},762917:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:10,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:l=["topLevelApps"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:l},fragmentPathInResult:[],operation:a(879389)}},name:"ChannelsAppsSidebarList_OrganizationPaginationFragment",selections:[{alias:"topLevelApps",args:null,concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"__ChannelsAppsSidebarList_OrganizationPaginationFragment__topLevelApps_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatChannelSideBarItemFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};t.hash="efc9cbe0d698cce21d520536cc803f86",n.default=t},879389:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:10,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:null,name:"ChannelsAppsSidebarList_OrganizationPaginationQuery",selections:[{args:t=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"ChannelsAppsSidebarList_OrganizationPaginationFragment"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ChannelsAppsSidebarList_OrganizationPaginationQuery",selections:[{alias:"topLevelApps",args:t,concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"channelsSidebarTopLevelApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:o=[s={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},s,d={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:u=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},s,d],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:c=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},s,d],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},s,d],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:c,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:u,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:o,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:o,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:m=[r],storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"navSectionId",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"customAppUrl",storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"Collection",kind:"LinkedField",name:"collection",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"linkProduct",plural:!1,selections:[g,r],storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:"topLevelApps",args:t,filters:null,handle:"connection",key:"ChannelsAppsSidebarList_OrganizationPaginationFragment__topLevelApps",kind:"LinkedHandle",name:"channelsSidebarTopLevelApps"}]},params:{cacheID:"450c0ebb3ac29d75d68fb343df6055a0",id:null,metadata:{},name:"ChannelsAppsSidebarList_OrganizationPaginationQuery",operationKind:"query",text:"query ChannelsAppsSidebarList_OrganizationPaginationQuery(\n  $after: String\n  $first: Int = 10\n) {\n  ...ChannelsAppsSidebarList_OrganizationPaginationFragment_2HEEH6\n}\n\nfragment AppUtils_getLocationFragment on ProductApp {\n  id\n  kind\n  customAppUrl\n  product {\n    slug\n    id\n  }\n  feed {\n    id\n  }\n  chatChannel {\n    id\n  }\n  collection {\n    id\n  }\n  contentUsage {\n    id\n  }\n  linkProduct {\n    slug\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment ChannelsAppsSidebarList_OrganizationPaginationFragment_2HEEH6 on Query {\n  topLevelApps: channelsSidebarTopLevelApps(first: $first, after: $after) {\n    edges {\n      node {\n        id\n        ...ChatChannelSideBarItemFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ChatChannelBadgeFragment on ProductApp {\n  badge {\n    ...BadgeFragment\n    id\n  }\n  chatChannel {\n    visibility\n    id\n  }\n}\n\nfragment ChatChannelSettingsModalButtonFragment on ProductApp {\n  id\n  productId\n}\n\nfragment ChatChannelSideBarItemFragment on ProductApp {\n  id\n  customAppTitle\n  chatChannel {\n    id\n    externalChannelId\n    ...usePermissionsFragment\n  }\n  product {\n    slug\n    name\n    viewerMembership {\n      id\n    }\n    id\n  }\n  ...ChatChannelBadgeFragment\n  ...ChatChannelSettingsModalButtonFragment\n  ...DeleteChatChannelAppButtonFragment\n  ...AppUtils_getLocationFragment\n}\n\nfragment DeleteChatChannelAppButtonFragment on ProductApp {\n  id\n  navSectionId\n  product {\n    id\n    slug\n  }\n  chatChannel {\n    id\n    organizationId\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};h.hash="efc9cbe0d698cce21d520536cc803f86",n.default=h},648600:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChannelsNavSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerExternalChannelIds",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChannelsAppsSidebarList_NavSectionPaginationFragment"},{args:null,kind:"FragmentSpread",name:"ChannelsProductsSidebarList_NavSectionPaginationFragment"}],type:"NavSection",abstractKey:null,hash:"d497cf6599daaa2686560a927b68ed30"};n.default=l},552451:function(e,n,a){a.r(n);a(244311);var l,t,r=(t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:10,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:l=["products"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:l},fragmentPathInResult:["node"],operation:a(394542),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ChannelsProductsSidebarList_NavSectionPaginationFragment",selections:[t,{alias:"products",args:null,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"__ChannelsProductsSidebarList_NavSectionPaginationFragment__products_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[t,{args:null,kind:"FragmentSpread",name:"ChannelsSidebarProductFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"NavSection",abstractKey:null});r.hash="3f65ea859f7fe2e6dc51ce59bb2e5337",n.default=r},394542:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y,k,f,b,v,S,F,C,x,P,K,I,T,L,w,B={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:10,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ChannelsProductsSidebarList_NavSectionPaginationQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:r=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"ChannelsProductsSidebarList_NavSectionPaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ChannelsProductsSidebarList_NavSectionPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:"products",args:r,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"channelsSidebarNavSectionProducts",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[s,o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:[{kind:"Literal",name:"kinds",value:["chat_channel","nav_folder"]}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[s,c={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},{alias:null,args:[{kind:"Literal",name:"kinds",value:["chat_channel"]}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},s,b={kind:"InlineFragment",selections:[i,{kind:"InlineFragment",selections:h=[p={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},p,y={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:k=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},p,y],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:f=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},p,y],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},p,y],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:f,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:k,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:h,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:h,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},v={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[d,o,C={alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:F=[s],storageKey:null},s],storageKey:null},x={alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},s],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"navSectionId",storageKey:null},c,I={alias:null,args:null,kind:"ScalarField",name:"customAppUrl",storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:F,storageKey:null},T={alias:null,args:null,concreteType:"Collection",kind:"LinkedField",name:"collection",plural:!1,selections:F,storageKey:null},L={alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:F,storageKey:null},w={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"linkProduct",plural:!1,selections:[d,s],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'productApps(kinds:["chat_channel"])'},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[s,m,b,v,S],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[d,o,C,s,b,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},x,P,K,I,{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[s,o],storageKey:null},T,L,w,u,v,{alias:null,args:null,concreteType:"Dashboard",kind:"LinkedField",name:"forYouDashboard",plural:!1,selections:F,storageKey:null},S],storageKey:null}],storageKey:null}],storageKey:'productApps(kinds:["chat_channel","nav_folder"])'},x,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:"products",args:r,filters:null,handle:"connection",key:"ChannelsProductsSidebarList_NavSectionPaginationFragment__products",kind:"LinkedHandle",name:"channelsSidebarNavSectionProducts"}],type:"NavSection",abstractKey:null}],storageKey:null}]},params:{cacheID:"8529ef307464c465d87aff547b68c260",id:null,metadata:{},name:"ChannelsProductsSidebarList_NavSectionPaginationQuery",operationKind:"query",text:"query ChannelsProductsSidebarList_NavSectionPaginationQuery(\n  $after: String\n  $first: Int = 10\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ChannelsProductsSidebarList_NavSectionPaginationFragment_2HEEH6\n    id\n  }\n}\n\nfragment AppSidebarItemFragment on ProductApp {\n  kind\n  status\n  visibility\n  customAppTitle\n  badge {\n    ...BadgeFragment\n    id\n  }\n  product {\n    ...usePermissionsFragment\n    id\n  }\n  forYouDashboard {\n    id\n  }\n  ...RemoveAppButtonFragment\n  ...ToggleAppStatusButtonFragment\n}\n\nfragment AppUtils_getLocationFragment on ProductApp {\n  id\n  kind\n  customAppUrl\n  product {\n    slug\n    id\n  }\n  feed {\n    id\n  }\n  chatChannel {\n    id\n  }\n  collection {\n    id\n  }\n  contentUsage {\n    id\n  }\n  linkProduct {\n    slug\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment ChannelsProductsSidebarList_NavSectionPaginationFragment_2HEEH6 on NavSection {\n  id\n  products: channelsSidebarNavSectionProducts(first: $first, after: $after) {\n    edges {\n      node {\n        id\n        ...ChannelsSidebarProductFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ChannelsSidebarProductFragment on Product {\n  id\n  name\n  slug\n  status\n  productApps(kinds: [chat_channel, nav_folder]) {\n    edges {\n      node {\n        id\n        kind\n        customAppTitle\n        productApps(kinds: [chat_channel]) {\n          edges {\n            node {\n              id\n              chatChannel {\n                externalChannelId\n                id\n              }\n              ...ChatChannelSideBarItemFragment\n            }\n          }\n        }\n        ...ChatChannelSideBarItemFragment\n        ...AppSidebarItemFragment\n      }\n    }\n  }\n  ...ProductBadgeFragment\n}\n\nfragment ChatChannelBadgeFragment on ProductApp {\n  badge {\n    ...BadgeFragment\n    id\n  }\n  chatChannel {\n    visibility\n    id\n  }\n}\n\nfragment ChatChannelSettingsModalButtonFragment on ProductApp {\n  id\n  productId\n}\n\nfragment ChatChannelSideBarItemFragment on ProductApp {\n  id\n  customAppTitle\n  chatChannel {\n    id\n    externalChannelId\n    ...usePermissionsFragment\n  }\n  product {\n    slug\n    name\n    viewerMembership {\n      id\n    }\n    id\n  }\n  ...ChatChannelBadgeFragment\n  ...ChatChannelSettingsModalButtonFragment\n  ...DeleteChatChannelAppButtonFragment\n  ...AppUtils_getLocationFragment\n}\n\nfragment DeleteChatChannelAppButtonFragment on ProductApp {\n  id\n  navSectionId\n  product {\n    id\n    slug\n  }\n  chatChannel {\n    id\n    organizationId\n  }\n}\n\nfragment ProductBadgeFragment on Product {\n  id\n  badge {\n    ...BadgeFragment\n    id\n  }\n}\n\nfragment RemoveAppButtonFragment on ProductApp {\n  id\n  kind\n  customAppTitle\n  feed {\n    id\n    name\n  }\n  collection {\n    id\n  }\n  productId\n  organizationId\n  navSectionId\n}\n\nfragment ToggleAppStatusButtonFragment on ProductApp {\n  id\n  status\n  kind\n  product {\n    type\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};B.hash="3f65ea859f7fe2e6dc51ce59bb2e5337",n.default=B},413147:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:10,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:l=["topLevelProducts"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:l},fragmentPathInResult:[],operation:a(568502)}},name:"ChannelsProductsSidebarList_OrganizationPaginationFragment",selections:[{alias:"topLevelProducts",args:null,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"__ChannelsProductsSidebarList_OrganizationPaginationFragment__topLevelProducts_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChannelsSidebarProductFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};t.hash="74d5da4f085bb50dbb884d63af13a2fa",n.default=t},568502:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y,k,f,b,v,S,F,C,x,P,K,I,T,L,w={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:10,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:null,name:"ChannelsProductsSidebarList_OrganizationPaginationQuery",selections:[{args:t=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"ChannelsProductsSidebarList_OrganizationPaginationFragment"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ChannelsProductsSidebarList_OrganizationPaginationQuery",selections:[{alias:"topLevelProducts",args:t,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"channelsSidebarTopLevelProducts",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:[{kind:"Literal",name:"kinds",value:["chat_channel","nav_folder"]}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[r,d={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},{alias:null,args:[{kind:"Literal",name:"kinds",value:["chat_channel"]}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},r,f={kind:"InlineFragment",selections:[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:p=[m={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},m,h={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:y=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},m,h],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:k=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},m,h],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:k,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:k,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},m,h],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:k,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:k,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:y,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:p,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:p,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},b={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null}],storageKey:null},u,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[s,i,F={alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:S=[r],storageKey:null},r],storageKey:null},C={alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},r],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"navSectionId",storageKey:null},d,K={alias:null,args:null,kind:"ScalarField",name:"customAppUrl",storageKey:null},{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:S,storageKey:null},I={alias:null,args:null,concreteType:"Collection",kind:"LinkedField",name:"collection",plural:!1,selections:S,storageKey:null},T={alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:S,storageKey:null},L={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"linkProduct",plural:!1,selections:[s,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'productApps(kinds:["chat_channel"])'},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[r,c,f,b,v],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[s,i,F,r,f,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},C,x,P,K,{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[r,i],storageKey:null},I,T,L,o,b,{alias:null,args:null,concreteType:"Dashboard",kind:"LinkedField",name:"forYouDashboard",plural:!1,selections:S,storageKey:null},v],storageKey:null}],storageKey:null}],storageKey:'productApps(kinds:["chat_channel","nav_folder"])'},C,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:"topLevelProducts",args:t,filters:null,handle:"connection",key:"ChannelsProductsSidebarList_OrganizationPaginationFragment__topLevelProducts",kind:"LinkedHandle",name:"channelsSidebarTopLevelProducts"}]},params:{cacheID:"665fd8259cc6863d6aa93648bde3ec40",id:null,metadata:{},name:"ChannelsProductsSidebarList_OrganizationPaginationQuery",operationKind:"query",text:"query ChannelsProductsSidebarList_OrganizationPaginationQuery(\n  $after: String\n  $first: Int = 10\n) {\n  ...ChannelsProductsSidebarList_OrganizationPaginationFragment_2HEEH6\n}\n\nfragment AppSidebarItemFragment on ProductApp {\n  kind\n  status\n  visibility\n  customAppTitle\n  badge {\n    ...BadgeFragment\n    id\n  }\n  product {\n    ...usePermissionsFragment\n    id\n  }\n  forYouDashboard {\n    id\n  }\n  ...RemoveAppButtonFragment\n  ...ToggleAppStatusButtonFragment\n}\n\nfragment AppUtils_getLocationFragment on ProductApp {\n  id\n  kind\n  customAppUrl\n  product {\n    slug\n    id\n  }\n  feed {\n    id\n  }\n  chatChannel {\n    id\n  }\n  collection {\n    id\n  }\n  contentUsage {\n    id\n  }\n  linkProduct {\n    slug\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment ChannelsProductsSidebarList_OrganizationPaginationFragment_2HEEH6 on Query {\n  topLevelProducts: channelsSidebarTopLevelProducts(first: $first, after: $after) {\n    edges {\n      node {\n        id\n        ...ChannelsSidebarProductFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ChannelsSidebarProductFragment on Product {\n  id\n  name\n  slug\n  status\n  productApps(kinds: [chat_channel, nav_folder]) {\n    edges {\n      node {\n        id\n        kind\n        customAppTitle\n        productApps(kinds: [chat_channel]) {\n          edges {\n            node {\n              id\n              chatChannel {\n                externalChannelId\n                id\n              }\n              ...ChatChannelSideBarItemFragment\n            }\n          }\n        }\n        ...ChatChannelSideBarItemFragment\n        ...AppSidebarItemFragment\n      }\n    }\n  }\n  ...ProductBadgeFragment\n}\n\nfragment ChatChannelBadgeFragment on ProductApp {\n  badge {\n    ...BadgeFragment\n    id\n  }\n  chatChannel {\n    visibility\n    id\n  }\n}\n\nfragment ChatChannelSettingsModalButtonFragment on ProductApp {\n  id\n  productId\n}\n\nfragment ChatChannelSideBarItemFragment on ProductApp {\n  id\n  customAppTitle\n  chatChannel {\n    id\n    externalChannelId\n    ...usePermissionsFragment\n  }\n  product {\n    slug\n    name\n    viewerMembership {\n      id\n    }\n    id\n  }\n  ...ChatChannelBadgeFragment\n  ...ChatChannelSettingsModalButtonFragment\n  ...DeleteChatChannelAppButtonFragment\n  ...AppUtils_getLocationFragment\n}\n\nfragment DeleteChatChannelAppButtonFragment on ProductApp {\n  id\n  navSectionId\n  product {\n    id\n    slug\n  }\n  chatChannel {\n    id\n    organizationId\n  }\n}\n\nfragment ProductBadgeFragment on Product {\n  id\n  badge {\n    ...BadgeFragment\n    id\n  }\n}\n\nfragment RemoveAppButtonFragment on ProductApp {\n  id\n  kind\n  customAppTitle\n  feed {\n    id\n    name\n  }\n  collection {\n    id\n  }\n  productId\n  organizationId\n  navSectionId\n}\n\nfragment ToggleAppStatusButtonFragment on ProductApp {\n  id\n  status\n  kind\n  product {\n    type\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};w.hash="74d5da4f085bb50dbb884d63af13a2fa",n.default=w},143575:function(e,n,a){a.r(n);a(244311);var l,t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChannelsSidebarProductFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:[{kind:"Literal",name:"kinds",value:["chat_channel","nav_folder"]}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},{alias:null,args:[{kind:"Literal",name:"kinds",value:["chat_channel"]}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null}],storageKey:null},t={args:null,kind:"FragmentSpread",name:"ChatChannelSideBarItemFragment"}],storageKey:null}],storageKey:null}],storageKey:'productApps(kinds:["chat_channel"])'},t,{args:null,kind:"FragmentSpread",name:"AppSidebarItemFragment"}],storageKey:null}],storageKey:null}],storageKey:'productApps(kinds:["chat_channel","nav_folder"])'},{args:null,kind:"FragmentSpread",name:"ProductBadgeFragment"}],type:"Product",abstractKey:null};r.hash="1f767b491caecfed59d3222865ee06b8",n.default=r},812370:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y,k,f,b,v,S,F,C,x,P,K,I,T,L,w,B,j,N,_,A,M,D,O,Z={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChannelsSidebarQuery",selections:[l={alias:null,args:null,kind:"ScalarField",name:"isViewerInAnyChannels",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChannelsAppsSidebarList_OrganizationPaginationFragment"},{alias:null,args:null,concreteType:"NavSectionNodeConnection",kind:"LinkedField",name:"channelsSidebarCommunityNavSections",plural:!1,selections:i=[{alias:null,args:null,concreteType:"NavSectionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NavSection",kind:"LinkedField",name:"node",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChannelsNavSectionFragment"}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ChannelsProductsSidebarList_OrganizationPaginationFragment"},{alias:null,args:null,concreteType:"NavSectionNodeConnection",kind:"LinkedField",name:"channelsSidebarProductNavSections",plural:!1,selections:i,storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ChannelsSidebarQuery",selections:[l,{alias:"topLevelApps",args:s=[{kind:"Literal",name:"first",value:10}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"channelsSidebarTopLevelApps",plural:!1,selections:A=[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[t,o={alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},b={alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[t,d={alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},y={kind:"InlineFragment",selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:g=[c={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},c,m={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:p=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},c,m],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:h=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},c,m],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},c,m],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:h,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:p,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:g,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:g,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},k={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"organizationId",storageKey:null}],storageKey:null},x={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[v={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},C={alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:F=[t],storageKey:null},t],storageKey:null},P={alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},t],storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"navSectionId",storageKey:null},r,T={alias:null,args:null,kind:"ScalarField",name:"customAppUrl",storageKey:null},L={alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:F,storageKey:null},w={alias:null,args:null,concreteType:"Collection",kind:"LinkedField",name:"collection",plural:!1,selections:F,storageKey:null},B={alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:F,storageKey:null},j={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"linkProduct",plural:!1,selections:[v,t],storageKey:null},u],storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},_={alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"channelsSidebarTopLevelApps(first:10)"},{alias:"topLevelApps",args:s,filters:null,handle:"connection",key:"ChannelsAppsSidebarList_OrganizationPaginationFragment__topLevelApps",kind:"LinkedHandle",name:"channelsSidebarTopLevelApps"},{alias:null,args:null,concreteType:"NavSectionNodeConnection",kind:"LinkedField",name:"channelsSidebarCommunityNavSections",plural:!1,selections:O=[{alias:null,args:null,concreteType:"NavSectionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NavSection",kind:"LinkedField",name:"node",plural:!1,selections:[t,r,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerExternalChannelIds",storageKey:null},{alias:"apps",args:s,concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"channelsSidebarNavSectionApps",plural:!1,selections:A,storageKey:"channelsSidebarNavSectionApps(first:10)"},{alias:"apps",args:s,filters:null,handle:"connection",key:"ChannelsAppsSidebarList_NavSectionPaginationFragment__apps",kind:"LinkedHandle",name:"channelsSidebarNavSectionApps"},{alias:"products",args:s,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"channelsSidebarNavSectionProducts",plural:!1,selections:D=[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[t,S,v,M={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:[{kind:"Literal",name:"kinds",value:["chat_channel","nav_folder"]}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[t,r,o,{alias:null,args:[{kind:"Literal",name:"kinds",value:["chat_channel"]}],concreteType:"ProductAppNodeConnection",kind:"LinkedField",name:"productApps",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductAppNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[d,t,y,k,f],storageKey:null},o,x,P,K,I,r,T,L,w,B,j],storageKey:null}],storageKey:null}],storageKey:'productApps(kinds:["chat_channel"])'},b,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[v,S,C,t,y,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},P,K,I,T,{alias:null,args:null,concreteType:"Feed",kind:"LinkedField",name:"feed",plural:!1,selections:[t,S],storageKey:null},w,B,j,M,k,{alias:null,args:null,concreteType:"Dashboard",kind:"LinkedField",name:"forYouDashboard",plural:!1,selections:F,storageKey:null},f],storageKey:null}],storageKey:null}],storageKey:'productApps(kinds:["chat_channel","nav_folder"])'},P,u],storageKey:null},N],storageKey:null},_],storageKey:"channelsSidebarNavSectionProducts(first:10)"},{alias:"products",args:s,filters:null,handle:"connection",key:"ChannelsProductsSidebarList_NavSectionPaginationFragment__products",kind:"LinkedHandle",name:"channelsSidebarNavSectionProducts"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"topLevelProducts",args:s,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"channelsSidebarTopLevelProducts",plural:!1,selections:D,storageKey:"channelsSidebarTopLevelProducts(first:10)"},{alias:"topLevelProducts",args:s,filters:null,handle:"connection",key:"ChannelsProductsSidebarList_OrganizationPaginationFragment__topLevelProducts",kind:"LinkedHandle",name:"channelsSidebarTopLevelProducts"},{alias:null,args:null,concreteType:"NavSectionNodeConnection",kind:"LinkedField",name:"channelsSidebarProductNavSections",plural:!1,selections:O,storageKey:null}]},params:{cacheID:"81e6dd07496bfce770c18989807d39d4",id:null,metadata:{},name:"ChannelsSidebarQuery",operationKind:"query",text:"query ChannelsSidebarQuery {\n  isViewerInAnyChannels\n  ...ChannelsAppsSidebarList_OrganizationPaginationFragment\n  channelsSidebarCommunityNavSections {\n    edges {\n      node {\n        id\n        kind\n        ...ChannelsNavSectionFragment\n      }\n    }\n  }\n  ...ChannelsProductsSidebarList_OrganizationPaginationFragment\n  channelsSidebarProductNavSections {\n    edges {\n      node {\n        id\n        kind\n        ...ChannelsNavSectionFragment\n      }\n    }\n  }\n}\n\nfragment AppSidebarItemFragment on ProductApp {\n  kind\n  status\n  visibility\n  customAppTitle\n  badge {\n    ...BadgeFragment\n    id\n  }\n  product {\n    ...usePermissionsFragment\n    id\n  }\n  forYouDashboard {\n    id\n  }\n  ...RemoveAppButtonFragment\n  ...ToggleAppStatusButtonFragment\n}\n\nfragment AppUtils_getLocationFragment on ProductApp {\n  id\n  kind\n  customAppUrl\n  product {\n    slug\n    id\n  }\n  feed {\n    id\n  }\n  chatChannel {\n    id\n  }\n  collection {\n    id\n  }\n  contentUsage {\n    id\n  }\n  linkProduct {\n    slug\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment ChannelsAppsSidebarList_NavSectionPaginationFragment on NavSection {\n  id\n  apps: channelsSidebarNavSectionApps(first: 10) {\n    edges {\n      node {\n        id\n        ...ChatChannelSideBarItemFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ChannelsAppsSidebarList_OrganizationPaginationFragment on Query {\n  topLevelApps: channelsSidebarTopLevelApps(first: 10) {\n    edges {\n      node {\n        id\n        ...ChatChannelSideBarItemFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ChannelsNavSectionFragment on NavSection {\n  id\n  kind\n  title\n  viewerExternalChannelIds\n  ...ChannelsAppsSidebarList_NavSectionPaginationFragment\n  ...ChannelsProductsSidebarList_NavSectionPaginationFragment\n}\n\nfragment ChannelsProductsSidebarList_NavSectionPaginationFragment on NavSection {\n  id\n  products: channelsSidebarNavSectionProducts(first: 10) {\n    edges {\n      node {\n        id\n        ...ChannelsSidebarProductFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ChannelsProductsSidebarList_OrganizationPaginationFragment on Query {\n  topLevelProducts: channelsSidebarTopLevelProducts(first: 10) {\n    edges {\n      node {\n        id\n        ...ChannelsSidebarProductFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ChannelsSidebarProductFragment on Product {\n  id\n  name\n  slug\n  status\n  productApps(kinds: [chat_channel, nav_folder]) {\n    edges {\n      node {\n        id\n        kind\n        customAppTitle\n        productApps(kinds: [chat_channel]) {\n          edges {\n            node {\n              id\n              chatChannel {\n                externalChannelId\n                id\n              }\n              ...ChatChannelSideBarItemFragment\n            }\n          }\n        }\n        ...ChatChannelSideBarItemFragment\n        ...AppSidebarItemFragment\n      }\n    }\n  }\n  ...ProductBadgeFragment\n}\n\nfragment ChatChannelBadgeFragment on ProductApp {\n  badge {\n    ...BadgeFragment\n    id\n  }\n  chatChannel {\n    visibility\n    id\n  }\n}\n\nfragment ChatChannelSettingsModalButtonFragment on ProductApp {\n  id\n  productId\n}\n\nfragment ChatChannelSideBarItemFragment on ProductApp {\n  id\n  customAppTitle\n  chatChannel {\n    id\n    externalChannelId\n    ...usePermissionsFragment\n  }\n  product {\n    slug\n    name\n    viewerMembership {\n      id\n    }\n    id\n  }\n  ...ChatChannelBadgeFragment\n  ...ChatChannelSettingsModalButtonFragment\n  ...DeleteChatChannelAppButtonFragment\n  ...AppUtils_getLocationFragment\n}\n\nfragment DeleteChatChannelAppButtonFragment on ProductApp {\n  id\n  navSectionId\n  product {\n    id\n    slug\n  }\n  chatChannel {\n    id\n    organizationId\n  }\n}\n\nfragment ProductBadgeFragment on Product {\n  id\n  badge {\n    ...BadgeFragment\n    id\n  }\n}\n\nfragment RemoveAppButtonFragment on ProductApp {\n  id\n  kind\n  customAppTitle\n  feed {\n    id\n    name\n  }\n  collection {\n    id\n  }\n  productId\n  organizationId\n  navSectionId\n}\n\nfragment ToggleAppStatusButtonFragment on ProductApp {\n  id\n  status\n  kind\n  product {\n    type\n    id\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};Z.hash="1ff26ea50d83c55c84df31e8bf1206b3",n.default=Z},870040:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SidebarContactAdminsCarouselItemFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileAvatarFragment"}],storageKey:null}],type:"OrganizationMembership",abstractKey:null};t.hash="380fca6b0f8237c8fb0279eca9bb9507",n.default=t},364519:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"before"},r={defaultValue:null,kind:"LocalArgument",name:"first"},i={defaultValue:null,kind:"LocalArgument",name:"id"},s={defaultValue:null,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:null,name:"SidebarContactAdminsCarouselPaginationQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[d={kind:"Variable",name:"after",variableName:"after"},u={kind:"Variable",name:"before",variableName:"before"},c={kind:"Variable",name:"first",variableName:"first"},g={kind:"Variable",name:"last",variableName:"last"}],kind:"FragmentSpread",name:"SidebarContactAdminsCarousel_PaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t,r,s,i],kind:"Operation",name:"SidebarContactAdminsCarouselPaginationQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:h=[d,u,{kind:"Literal",name:"direction",value:"ASC"},{kind:"Literal",name:"excludeViewer",value:!0},c,g,{kind:"Literal",name:"orderBy",value:"member_name"},{kind:"Literal",name:"roles",value:["owner","admin"]}],concreteType:"OrganizationMembershipNodeConnection",kind:"LinkedField",name:"organizationMemberships",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"OrganizationMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"OrganizationMembership",kind:"LinkedField",name:"node",plural:!1,selections:[p,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:h,filters:["roles","excludeViewer","orderBy","direction"],handle:"connection",key:"SidebarContactAdminsCarousel_organizationMemberships",kind:"LinkedHandle",name:"organizationMemberships"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"b9fb11b91e813c0d979d924385223360",id:null,metadata:{},name:"SidebarContactAdminsCarouselPaginationQuery",operationKind:"query",text:"query SidebarContactAdminsCarouselPaginationQuery(\n  $after: String\n  $before: String\n  $first: Int\n  $last: Int\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...SidebarContactAdminsCarousel_PaginationFragment_pbnwq\n    id\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment SidebarContactAdminsCarouselItemFragment on OrganizationMembership {\n  id\n  member {\n    id\n    fullName\n    ...ProfileAvatarFragment\n  }\n}\n\nfragment SidebarContactAdminsCarousel_PaginationFragment_pbnwq on Organization {\n  organizationMemberships(first: $first, after: $after, last: $last, before: $before, roles: [owner, admin], excludeViewer: true, orderBy: member_name, direction: ASC) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        ...SidebarContactAdminsCarouselItemFragment\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      startCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n"}};y.hash="9ef835a49abddea92c0c0dad20959e6f",n.default=y},751197:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"before"},r={defaultValue:null,kind:"LocalArgument",name:"first"},i={defaultValue:null,kind:"LocalArgument",name:"id"},s={defaultValue:null,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:null,name:"SidebarContactAdminsCarouselQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:[d={kind:"Variable",name:"after",variableName:"after"},u={kind:"Variable",name:"before",variableName:"before"},c={kind:"Variable",name:"first",variableName:"first"},g={kind:"Variable",name:"last",variableName:"last"}],kind:"FragmentSpread",name:"SidebarContactAdminsCarousel_PaginationFragment"}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,r,l,s,t],kind:"Operation",name:"SidebarContactAdminsCarouselQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:h=[d,u,{kind:"Literal",name:"direction",value:"ASC"},{kind:"Literal",name:"excludeViewer",value:!0},c,g,{kind:"Literal",name:"orderBy",value:"member_name"},{kind:"Literal",name:"roles",value:["owner","admin"]}],concreteType:"OrganizationMembershipNodeConnection",kind:"LinkedField",name:"organizationMemberships",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"OrganizationMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"OrganizationMembership",kind:"LinkedField",name:"node",plural:!1,selections:[p,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:h,filters:["roles","excludeViewer","orderBy","direction"],handle:"connection",key:"SidebarContactAdminsCarousel_organizationMemberships",kind:"LinkedHandle",name:"organizationMemberships"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"a68b007d32b709177f13cac3f3620e32",id:null,metadata:{},name:"SidebarContactAdminsCarouselQuery",operationKind:"query",text:"query SidebarContactAdminsCarouselQuery(\n  $id: ID!\n  $first: Int\n  $after: String\n  $last: Int\n  $before: String\n) {\n  node(id: $id) {\n    __typename\n    ... on Organization {\n      ...SidebarContactAdminsCarousel_PaginationFragment_pbnwq\n    }\n    id\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment SidebarContactAdminsCarouselItemFragment on OrganizationMembership {\n  id\n  member {\n    id\n    fullName\n    ...ProfileAvatarFragment\n  }\n}\n\nfragment SidebarContactAdminsCarousel_PaginationFragment_pbnwq on Organization {\n  organizationMemberships(first: $first, after: $after, last: $last, before: $before, roles: [owner, admin], excludeViewer: true, orderBy: member_name, direction: ASC) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        ...SidebarContactAdminsCarouselItemFragment\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      startCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n"}};y.hash="9a37c7d2f78274f603a655f37022f2a5",n.default=y},815160:function(e,n,a){a.r(n);a(244311);var l,t,r=(t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"before"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"last"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:l=["organizationMemberships"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:l},fragmentPathInResult:["node"],operation:a(364519),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"SidebarContactAdminsCarousel_PaginationFragment",selections:[{alias:"organizationMemberships",args:[{kind:"Literal",name:"direction",value:"ASC"},{kind:"Literal",name:"excludeViewer",value:!0},{kind:"Literal",name:"orderBy",value:"member_name"},{kind:"Literal",name:"roles",value:["owner","admin"]}],concreteType:"OrganizationMembershipNodeConnection",kind:"LinkedField",name:"__SidebarContactAdminsCarousel_organizationMemberships_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"OrganizationMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"OrganizationMembership",kind:"LinkedField",name:"node",plural:!1,selections:[t,{args:null,kind:"FragmentSpread",name:"SidebarContactAdminsCarouselItemFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:'__SidebarContactAdminsCarousel_organizationMemberships_connection(direction:"ASC",excludeViewer:true,orderBy:"member_name",roles:["owner","admin"])'},t],type:"Organization",abstractKey:null});r.hash="9ef835a49abddea92c0c0dad20959e6f",n.default=r},708716:function(e,n,a){a.r(n);a(244311);var l,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ThreadsSidebarListItemFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"excludeViewer",value:!0},{kind:"Literal",name:"first",value:3}],concreteType:"ChatChannelMemberNodeConnection",kind:"LinkedField",name:"chatChannelMembers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ChatChannelMemberNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ChatChannelMember",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"chatChannelMembers(excludeViewer:true,first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"ThreadMember",kind:"LinkedField",name:"viewerThreadMember",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"readAt",storageKey:null}],storageKey:null}],type:"Thread",abstractKey:null};t.hash="a84405647010a0e5c42501762dca9685",n.default=t},968217:function(e,n,a){a.r(n);a(244311);var l,t,r=(t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:l=["viewerThreads"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:l},fragmentPathInResult:["node"],operation:a(457504),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ThreadsSidebarPaginationFragment",selections:[{alias:"viewerThreads",args:null,concreteType:"ThreadNodeConnection",kind:"LinkedField",name:"__ThreadsSidebar__viewerThreads_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ThreadNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Thread",kind:"LinkedField",name:"node",plural:!1,selections:[t,{args:null,kind:"FragmentSpread",name:"ThreadsSidebarListItemFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null},t],type:"Organization",abstractKey:null});r.hash="1a2ea43843ae0c6c050d4643b60fbcfc",n.default=r},457504:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ThreadsSidebarPaginationQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:r=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"ThreadsSidebarPaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ThreadsSidebarPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"ThreadNodeConnection",kind:"LinkedField",name:"viewerThreads",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ThreadNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Thread",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},s],storageKey:null},{alias:null,args:[{kind:"Literal",name:"excludeViewer",value:!0},{kind:"Literal",name:"first",value:3}],concreteType:"ChatChannelMemberNodeConnection",kind:"LinkedField",name:"chatChannelMembers",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ChatChannelMemberNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ChatChannelMember",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"chatChannelMembers(excludeViewer:true,first:3)"},s],storageKey:null},{alias:null,args:null,concreteType:"ThreadMember",kind:"LinkedField",name:"viewerThreadMember",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"readAt",storageKey:null},s],storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"ThreadsSidebar__viewerThreads",kind:"LinkedHandle",name:"viewerThreads"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"11abbc785d23aa2fa5da3e935ad8cb4b",id:null,metadata:{},name:"ThreadsSidebarPaginationQuery",operationKind:"query",text:"query ThreadsSidebarPaginationQuery(\n  $after: String\n  $first: Int!\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ThreadsSidebarPaginationFragment_2HEEH6\n    id\n  }\n}\n\nfragment ThreadsSidebarListItemFragment on Thread {\n  id\n  messageId\n  chatChannel {\n    externalChannelId\n    product {\n      name\n      id\n    }\n    app {\n      customAppTitle\n      id\n    }\n    chatChannelMembers(first: 3, excludeViewer: true) {\n      totalCount\n      edges {\n        node {\n          id\n          user {\n            id\n            fullName\n          }\n        }\n      }\n    }\n    id\n  }\n  viewerThreadMember {\n    readAt\n    id\n  }\n}\n\nfragment ThreadsSidebarPaginationFragment_2HEEH6 on Organization {\n  viewerThreads(first: $first, after: $after) {\n    totalCount\n    edges {\n      node {\n        id\n        ...ThreadsSidebarListItemFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n"}};d.hash="1a2ea43843ae0c6c050d4643b60fbcfc",n.default=d},246024:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ThreadsSidebarQuery",selections:[{alias:"organization",args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:s=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"ThreadsSidebarPaginationFragment"}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,t,l],kind:"Operation",name:"ThreadsSidebarQuery",selections:[{alias:"organization",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"ThreadNodeConnection",kind:"LinkedField",name:"viewerThreads",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ThreadNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Thread",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{alias:null,args:null,concreteType:"ChatChannel",kind:"LinkedField",name:"chatChannel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"externalChannelId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null},d],storageKey:null},{alias:null,args:[{kind:"Literal",name:"excludeViewer",value:!0},{kind:"Literal",name:"first",value:3}],concreteType:"ChatChannelMemberNodeConnection",kind:"LinkedField",name:"chatChannelMembers",plural:!1,selections:[u,{alias:null,args:null,concreteType:"ChatChannelMemberNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ChatChannelMember",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"chatChannelMembers(excludeViewer:true,first:3)"},d],storageKey:null},{alias:null,args:null,concreteType:"ThreadMember",kind:"LinkedField",name:"viewerThreadMember",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"readAt",storageKey:null},d],storageKey:null},o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"ThreadsSidebar__viewerThreads",kind:"LinkedHandle",name:"viewerThreads"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"bd918a69f625d023e73a1b0a4c9cb01a",id:null,metadata:{},name:"ThreadsSidebarQuery",operationKind:"query",text:"query ThreadsSidebarQuery(\n  $id: ID!\n  $first: Int!\n  $after: String\n) {\n  organization: node(id: $id) {\n    __typename\n    ... on Organization {\n      ...ThreadsSidebarPaginationFragment_2HEEH6\n    }\n    id\n  }\n}\n\nfragment ThreadsSidebarListItemFragment on Thread {\n  id\n  messageId\n  chatChannel {\n    externalChannelId\n    product {\n      name\n      id\n    }\n    app {\n      customAppTitle\n      id\n    }\n    chatChannelMembers(first: 3, excludeViewer: true) {\n      totalCount\n      edges {\n        node {\n          id\n          user {\n            id\n            fullName\n          }\n        }\n      }\n    }\n    id\n  }\n  viewerThreadMember {\n    readAt\n    id\n  }\n}\n\nfragment ThreadsSidebarPaginationFragment_2HEEH6 on Organization {\n  viewerThreads(first: $first, after: $after) {\n    totalCount\n    edges {\n      node {\n        id\n        ...ThreadsSidebarListItemFragment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n"}};c.hash="73b52bef064e23a7991aa0457c38ebae",n.default=c},259346:function(e,n,a){var l,t=a(204942),r=(a(638738),a(618326)),i=a(858914),s=a(676400),o=a(952047),d=a(922261),u=a(753688),c=a(963114),g=a(669187),m=a(742415),p=(a(681355),a(10165)),h=a(810863),y=a(541321),k=a(696672),f=a(923450),b=a.n(f),v=a(667294),S=a(422578),F=a(616550),C=(a(244311),a(785893)),x=a(425108);var P=(0,h.Z)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:e.spacing(2.5)},content:(0,t.Z)({display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"750px",gap:e.spacing(1),justifyContent:"flex-start",height:"75%"},e.breakpoints.down("xs"),{height:"100%"}),pricings:{display:"flex",flexDirection:"column",gap:e.spacing(1.5),width:"100%",margin:e.spacing(5,0)}}}));n.Z=p.Z.withSkeleton({component:function(e){var n=e.testid,t=void 0===n?"CheckoutComplete":n,s=e.validCheckoutId,h=P(),f=(0,d.f)().authUser,K=(0,F.k6)(),I=(0,u.P)("checkout"),T=(0,c.NP)("organization"),L=(0,c.NP)("experience"),w=(0,c.NP)("pathway"),B=(0,S.useLazyLoadQuery)((void 0!==l||(l=a(638738)).hash&&"7e309933c958eb9b41d2788df4372b29"!==l.hash&&x.error("The definition of 'CheckoutCompleteQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{id:s}).validCheckout,j=p.Z.connectionToArray(null==B?void 0:B.pricings),N=k.BB.mapBy(j,"id"),_=(0,m.Z)(B);return(0,v.useEffect)((function(){"processed"===(null==B?void 0:B.status)&&(null==_||_())}),[]),B&&"processed"===B.status?(0,C.jsx)("div",{"data-testid":t,className:h.container,children:(0,C.jsxs)("div",{className:h.content,children:[(0,C.jsx)(y.U4,{color:"primary.main",variant:"body-xs-600-uppercase",children:"Confirmation"}),(0,C.jsx)(y.U4,{variant:"heading-md-700",align:"center",children:null!=f&&f.firstName?"Thank you, ".concat(f.firstName,"!"):"Thank you!"}),(0,C.jsx)(y.U4,{variant:"body-md",color:"text.secondary",align:"center",children:"You've successfully registered for the ".concat(b()("items",j.length)," listed below:")}),(0,C.jsx)("div",{className:h.pricings,children:j.map((function(e){var n,a=(null===(n=e.membershipBenefit)||void 0===n?void 0:n.product)||e.membershipPlan;return a?(0,C.jsx)(r.Z,{testid:"".concat(t,".item.").concat(a.slug),pricingKey:e,onSelect:A},e.id):null}))}),function(){var e,n=j.length>1,a=j.some((function(e){return e.membershipPlan}));if(n||a)return(0,C.jsx)(y.v2,{testid:"".concat(t,".button.community"),onClick:M,children:"Continue to ".concat(T.singular)});var l=j[0],r=null===(e=l.membershipBenefit)||void 0===e?void 0:e.product,i="pathway"===(null==r?void 0:r.type)?w:L;return(0,C.jsx)(y.v2,{testid:"".concat(t,".button.").concat(null==r?void 0:r.slug),onClick:function(){return A(l.id)},children:"Continue to ".concat(i.singular)})}()]})}):(0,C.jsx)(i.Z,{cta:(0,C.jsx)(y.v2,{onClick:function(){var e=null!=B&&B.cart?JSON.parse(B.cart):{items:[]},n=o._g.encodeCart(e);I.isOpen?I.setParams({cart:n,checkoutStep:"summary"}):K.push((0,F.Gn)(g.ZP.CHECKOUT.SUMMARY,{cart:n}))},children:"Return to Checkout"})});function A(e){var n,a=N[e],l=null!==(n=a.membershipBenefit)&&void 0!==n&&n.product?(0,F.Gn)(g.ZP.PRODUCT.DASHBOARD,{productSlug:a.membershipBenefit.product.slug}):g.ZP.COMMUNITY.HOME.ROOT;I.isOpen?K.push(l):window.open(l,"_self")}function M(){var e=g.ZP.COMMUNITY.HOME.ROOT;I.isOpen?K.push(e):window.open(e,"_self")}},skeleton:function(){return(0,C.jsx)(s.H,{})}})},15853:function(e,n,a){var l=a(259346),t=a(117440),r=(a(681355),a(810863)),i=a(676779),s=a(616550),o=a(785893);var d=(0,r.Z)((function(e){return{root:{margin:0,backgroundColor:e.palette.background.paper}}}));n.Z=function(){var e=(0,s.UO)().validCheckoutId,n=d();return(0,o.jsx)(i.Z,{headerContent:(0,o.jsx)(t.Z,{step:"complete",hideBack:!0}),classes:{container:n.root},children:(0,o.jsx)(l.Z,{validCheckoutId:e})})}},638738:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"CheckoutCompleteQuery",selections:[{alias:"validCheckout",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"cart",storageKey:null},{alias:null,args:null,concreteType:"PricingNodeConnection",kind:"LinkedField",name:"pricings",plural:!1,selections:[{alias:null,args:null,concreteType:"PricingNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"membershipBenefit",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[o,d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CheckoutEntityListItem_PricingFragment"}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PurchaseTracking_ValidCheckoutFragment"}],type:"ValidCheckout",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"CheckoutCompleteQuery",selections:[{alias:"validCheckout",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{kind:"InlineFragment",selections:[i,s,{alias:null,args:null,concreteType:"PricingNodeConnection",kind:"LinkedField",name:"pricings",plural:!1,selections:[{alias:null,args:null,concreteType:"PricingNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[o,r,u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},{alias:null,args:[{kind:"Literal",name:"hideDrafts",value:!0},{kind:"Literal",name:"hideNonPublic",value:!0}],concreteType:"MembershipBenefitNodeConnection",kind:"LinkedField",name:"membershipBenefits",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:"membershipBenefits(hideDrafts:true,hideNonPublic:true)"}],storageKey:null},{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"membershipBenefit",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[o,d,r,u,c,{alias:null,args:null,kind:"ScalarField",name:"startsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endsAt",storageKey:null}],storageKey:null},r,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[u,r],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amountCents",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Order",kind:"LinkedField",name:"order",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"totalPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null}],storageKey:null}],type:"ValidCheckout",abstractKey:null}],storageKey:null}]},params:{cacheID:"81f40756cdd760ae12f694025ac95cfa",id:null,metadata:{},name:"CheckoutCompleteQuery",operationKind:"query",text:"query CheckoutCompleteQuery(\n  $id: ID!\n) {\n  validCheckout: node(id: $id) {\n    __typename\n    ... on ValidCheckout {\n      id\n      status\n      cart\n      pricings {\n        edges {\n          node {\n            id\n            membershipPlan {\n              slug\n              id\n            }\n            membershipBenefit {\n              product {\n                slug\n                type\n                id\n              }\n              id\n            }\n            ...CheckoutEntityListItem_PricingFragment\n          }\n        }\n      }\n      ...PurchaseTracking_ValidCheckoutFragment\n    }\n    id\n  }\n}\n\nfragment CheckoutEntityListItem_PricingFragment on Pricing {\n  id\n  amountCents\n  frequency\n  kind\n  membershipPlan {\n    id\n    name\n    cover\n    membershipBenefits(hideNonPublic: true, hideDrafts: true) {\n      totalCount\n    }\n  }\n  membershipBenefit {\n    id\n    membershipPlan {\n      name\n      id\n    }\n    product {\n      id\n      name\n      cover\n      startsAt\n      endsAt\n      type\n    }\n  }\n}\n\nfragment PurchaseTracking_ValidCheckoutFragment on ValidCheckout {\n  id\n  cart\n  order {\n    id\n    totalPrice\n    currency\n  }\n}\n"}};g.hash="7e309933c958eb9b41d2788df4372b29",n.default=g},618326:function(e,n,a){a.d(n,{n:function(){return f}});a(43993);var l,t=a(967479),r=(a(537793),a(963114)),i=(a(479159),a(428647)),s=a(842583),o=(a(681355),a(10165)),d=(a(541321),a(963457)),u=a(850429),c=a(323402),g=a(757336),m=a(923450),p=a.n(m),h=a(422578),y=(a(244311),a(785893)),k=a(425108);function f(){return(0,y.jsx)(t.I,{})}n.Z=o.Z.withSkeleton({component:(0,g.Pi)((function(e){var n,o,g=e.testid,m=void 0===g?"CheckoutEntityListItem":g,f=e.pricingKey,b=e.validateForm,v=e.onRemove,S=e.onSelect,F=e.buttons,C=(0,r.NP)("experience"),x=(0,r.NP)("pathway"),P=(0,d.Z)((function(e){return e.breakpoints.down("sm")})),K=(0,h.useFragment)((void 0!==l||(l=a(43993)).hash&&"23781691c658046dfdc405ef6a055150"!==l.hash&&k.error("The definition of 'CheckoutEntityListItem_PricingFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),f);if(!K)return null;var I=K.membershipPlan,T=K.membershipBenefit,L=(null==I?void 0:I.name)||(null==T||null===(n=T.product)||void 0===n?void 0:n.name)||"",w=(null==I?void 0:I.cover)||(null==T||null===(o=T.product)||void 0===o?void 0:o.cover),B=null==b?void 0:b.errorsByField[I?I.id:T?T.id:K.id];return(0,y.jsx)(t.Z,{id:K.id,testid:m,name:L,pricing:K,pricingDetails:K?"free"===K.kind?"":(0,i.kW)(K.kind,K.frequency,{short:P}):"",details:function(){var e,n;if(I)return"Includes access to ".concat(p()(C.plural,null===(e=I.membershipBenefits)||void 0===e?void 0:e.totalCount,!0),". Access starts immediately");if(null==T||null===(n=T.product)||void 0===n||!n.startsAt)return"";var a=new Date(T.product.startsAt);return"Starts ".concat((0,c.eP)({format:u.zT.DEFAULT})(a),"  ").concat(s.Z.displayDuration(T.product))}(),chipLabel:function(){if(I)return"Membership";if(T){var e,n;if("course"===(null===(e=T.product)||void 0===e?void 0:e.type))return C.singular;if("pathway"===(null===(n=T.product)||void 0===n?void 0:n.type))return x.singular}return"Product"}(),chipColor:function(){if(I)return"blue";if(T){var e,n;if("course"===(null===(e=T.product)||void 0===e?void 0:e.type))return"yellow";if("pathway"===(null===(n=T.product)||void 0===n?void 0:n.type))return"purple"}return"yellow"}(),cover:w,pricingErrors:B,onRemove:v,onSelect:S,buttons:F})})),skeleton:f})},967479:function(e,n,a){a.d(n,{I:function(){return F}});var l=a(671002),t=a(204942),r=a(285245),i=a(584218),s=a(428647),o=(a(681355),a(10165)),d=a(810863),u=a(163102),c=a(722135),g=a(541321),m=a(108920),p=a(963457),h=a(558365),y=a(294184),k=a.n(y),f=a(757336),b=a(667294),v=a(785893);var S=(0,d.Z)((function(e){return{container:{display:"flex",flexDirection:"column",gap:e.spacing(1.5),width:"100%",borderRadius:e.measure.borderRadius.big,border:e.palette.constants.borderSmall,boxShadow:e.palette.groovyDepths.xs},content:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:e.spacing(1.5),width:"100%"},coverWrapper:(0,t.Z)({width:150,flexShrink:0},e.breakpoints.down("xs"),{width:"100%",marginBottom:e.spacing(2)}),cover:{borderRadius:e.measure.borderRadius.default},details:{display:"flex",flexDirection:"column",gap:e.spacing(1)},title:{display:"flex",flexDirection:"row",gap:e.spacing(1),alignItems:"center"},lhs:(0,t.Z)({display:"flex",flexDirection:"row",gap:e.spacing(1.5),alignItems:"center"},e.breakpoints.down("xs"),{display:"block",width:"100%"}),rhs:{display:"flex",flexDirection:"column",gap:e.spacing(1.5),alignItems:"center"},pricing:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:e.spacing(1.5),width:"100%"},prices:(0,t.Z)({display:"flex",flexDirection:"column",gap:e.spacing(1),alignItems:"flex-end"},e.breakpoints.down("sm"),{flexDirection:"row"}),pricingDetails:{display:"flex",alignItems:"center",gap:e.spacing(1),textAlign:"end",width:"max-content"},selectButton:{"&:hover":{cursor:"pointer",border:"1px solid ".concat(e.palette.primary.main)}},buttons:{display:"flex",justifyContent:"space-between",position:"absolute",gap:e.spacing(1),top:e.spacing(1),right:e.spacing(1)},skeleton:{width:"100%",flex:"none"}}}));function F(){var e=S();return(0,v.jsx)(g.W0,{groovyDepths:"insideCard",padding:1.5,className:e.container,children:(0,v.jsx)("div",{className:e.pricing,children:(0,v.jsxs)("div",{className:e.lhs,children:[(0,v.jsx)("div",{className:e.coverWrapper,children:(0,v.jsx)(h.Z,{variant:"rect",height:75,width:150,className:e.cover})}),(0,v.jsxs)("div",{className:k()(e.details,e.skeleton),children:[(0,v.jsx)("div",{className:e.title,children:(0,v.jsx)(g.Ju,{width:"100%"})}),(0,v.jsx)(g.Ju,{width:"75%"})]})]})})})}n.Z=o.Z.withSkeleton({component:(0,f.Pi)((function(e){var n=e.testid,a=void 0===n?"CheckoutListItemTemplate":n,o=e.id,d=e.name,h=e.pricing,y=e.details,f=e.pricingDetails,F=e.chipLabel,C=e.chipColor,x=void 0===C?"blue":C,P=e.pricingErrors,K=e.cover,I=e.onRemove,T=e.onSelect,L=e.buttons,w=S(),B=(0,m.Z)(),j=(0,u.Z)(),N=(0,r.vn)(),_=(0,p.Z)((function(){return B.breakpoints.down("sm")})),A=(0,p.Z)((function(){return B.breakpoints.down("xs")}));return(0,v.jsxs)(g.Z0,{testid:a,error:Boolean(P),errorMessages:P,marginBottom:0,hideErrors:!0,className:j.hoverable,onClick:T?function(){return T(o)}:void 0,children:[(0,v.jsxs)(g.W0,{groovyDepths:"insideCard",padding:1.5,className:k()(w.container,(0,t.Z)({},w.selectButton,Boolean(T))),children:[(0,v.jsxs)("div",{className:w.content,children:[(0,v.jsxs)("div",{className:w.lhs,children:[!A&&(0,v.jsx)("div",{className:w.coverWrapper,children:(0,v.jsx)(c.Z,{coverPhoto:K||i.Z,customClassName:w.cover})}),(0,v.jsxs)("div",{className:w.details,children:[A&&(0,v.jsx)("div",{className:w.coverWrapper,children:(0,v.jsx)(c.Z,{coverPhoto:K||i.Z,customClassName:w.cover})}),(0,v.jsxs)("div",{className:w.title,children:[(0,v.jsx)(g.U4,{testid:"".concat(a,".name"),variant:"body-md-600",children:d}),F?(0,v.jsx)(g.aH,{label:F,color:x,borderRadius:4}):null]}),y&&(0,v.jsx)(g.U4,{variant:"body-sm",color:"text.secondary",children:y}),_&&(0,v.jsx)("div",{className:w.prices,children:(0,v.jsx)(g.U4,{testid:"".concat(a,".pricing"),variant:"body-sm-600",children:"string"==typeof h?h:(0,s.ZF)(h,null==N?void 0:N.currency)})})]})]}),!_&&(0,v.jsx)("div",{className:w.rhs,children:(0,v.jsxs)("div",{className:w.prices,children:[(0,v.jsx)(g.U4,{testid:"".concat(a,".pricing"),variant:"body-md-600",children:"string"==typeof h?h:(0,s.ZF)(h,null==N?void 0:N.currency,_?"short":"full")}),f&&(0,v.jsxs)(g.U4,{variant:"body-sm",color:"text.secondary",className:w.pricingDetails,children:["object"===(0,l.Z)(h)&&"recurring"===(null==h?void 0:h.kind)&&(0,v.jsx)(g.De,{icon:"repeat-credit-card",color:B.palette.text.secondary}),f]})]})})]}),null==P?void 0:P.map((function(e){return(0,v.jsx)(g.kz,{"data-testid":"".concat(a,".error.").concat(e),severity:"error",message:e,cta:(0,v.jsx)(g.GY,{textVariant:"body-sm-600",color:B.palette.groovy.red[700],onClick:function(){return null==I?void 0:I(o)},children:"Remove"})},e)}))]}),(0,v.jsx)("div",{className:k()(w.buttons,j.showable),children:null==L?void 0:L.map((function(e){return(0,v.jsx)(b.Fragment,{children:e},null==e?void 0:e.toString())}))})]},o)})),skeleton:F})},117440:function(e,n,a){var l=a(204942),t=a(952047),r=a(888586),i=a(810863),s=a(92839),o=a(541321),d=a(757336),u=a(616550),c=a(785893);function g(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}var m=(0,i.Z)((function(e){return{header:function(n){var a=n.hideBorder;return function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?g(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}({display:"flex",flexDirection:"column",width:"100%",height:"100%",maxHeight:"88px",alignItems:"center",justifyContent:"center",padding:e.spacing(2.5),position:"sticky",top:0,backgroundColor:e.palette.background.paper,zIndex:e.zIndex.pageHeader},(0,s.Z)(!a,{borderBottom:"1px solid ".concat(e.palette.constants.divider)}))},headerContent:{maxWidth:e.measure.page.contentMaxWidth,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},lhs:{display:"flex",flexDirection:"row",alignItems:"center",gap:e.spacing(1)},backButton:{"& svg":{color:e.palette.groovy.neutral[700]}}}}));n.Z=(0,d.Pi)((function(e){var n=e.testid,a=void 0===n?"CheckoutPageHeader":n,l=e.step,i=e.hideBack,s=void 0!==i&&i,d=e.hideBorder,g=m({hideBorder:void 0!==d&&d}),p=(0,u.k6)(),h=(0,r.v)().length>1;return(0,c.jsx)("div",{"data-testid":a,className:g.header,children:(0,c.jsx)("div",{className:g.headerContent,children:(0,c.jsxs)("div",{className:g.lhs,children:[h&&!s&&(0,c.jsx)(o.I4,{onClick:p.goBack,className:g.backButton,children:(0,c.jsx)(o.De,{icon:"arrow-stem-left"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)(o.U4,{variant:"body-xs-600-uppercase",color:"primary.main",children:"Registration"}),(0,c.jsx)(o.U4,{testid:"".concat(a,".step"),variant:"body-lg-600",children:t.Dn[l]})]})]})})})}))},43993:function(e,n,a){a.r(n);a(244311);var l,t,r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CheckoutEntityListItem_PricingFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amountCents",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[l,t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},{alias:null,args:[{kind:"Literal",name:"hideDrafts",value:!0},{kind:"Literal",name:"hideNonPublic",value:!0}],concreteType:"MembershipBenefitNodeConnection",kind:"LinkedField",name:"membershipBenefits",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:"membershipBenefits(hideDrafts:true,hideNonPublic:true)"}],storageKey:null},{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"membershipBenefit",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[l,t,r,{alias:null,args:null,kind:"ScalarField",name:"startsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pricing",abstractKey:null};i.hash="23781691c658046dfdc405ef6a055150",n.default=i},100014:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"CheckoutProductListItemQuery",selections:[{alias:"product",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"startsAt",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"endsAt",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},g={alias:null,args:[{kind:"Literal",name:"hideDrafts",value:!0}],concreteType:"MembershipBenefitNodeConnection",kind:"LinkedField",name:"includedInBenefits",plural:!1,selections:[{alias:null,args:null,concreteType:"MembershipBenefitNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"membershipPlanId",storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"amountCents",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"includedInBenefits(hideDrafts:true)"}],type:"Product",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"CheckoutProductListItemQuery",selections:[{alias:"product",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{kind:"InlineFragment",selections:[i,s,o,d,u,c,g],type:"Product",abstractKey:null}],storageKey:null}]},params:{cacheID:"5c1822eb7cf148a197f425162e26b319",id:null,metadata:{},name:"CheckoutProductListItemQuery",operationKind:"query",text:"query CheckoutProductListItemQuery(\n  $id: ID!\n) {\n  product: node(id: $id) {\n    __typename\n    ... on Product {\n      id\n      name\n      cover\n      startsAt\n      endsAt\n      type\n      slug\n      includedInBenefits(hideDrafts: true) {\n        edges {\n          node {\n            id\n            membershipPlanId\n            pricing {\n              id\n              amountCents\n              frequency\n              kind\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n}\n"}};m.hash="20c45fabf94960283c41607e38766038",n.default=m},806365:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"id"},t={defaultValue:null,kind:"LocalArgument",name:"ignoreActivePlan"},r={defaultValue:null,kind:"LocalArgument",name:"productIds"}],kind:"Fragment",metadata:null,name:"CheckoutSummaryPlanSelectionQuery",selections:[{alias:"organization",args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:o=[{kind:"Variable",name:"ignoreActivePlan",variableName:"ignoreActivePlan"},s={kind:"Variable",name:"productIds",variableName:"productIds"}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"plansInclusiveOfProducts",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"CheckoutEntityListItem_PricingFragment"}],storageKey:null},m={alias:null,args:[g={kind:"Literal",name:"hideDrafts",value:!0},s],concreteType:"MembershipBenefitNodeConnection",kind:"LinkedField",name:"membershipBenefits",plural:!1,selections:[{alias:null,args:null,concreteType:"MembershipBenefitNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,r,t],kind:"Operation",name:"CheckoutSummaryPlanSelectionQuery",selections:[{alias:"organization",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:o,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"plansInclusiveOfProducts",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[d,u,c,{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"amountCents",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[d,u,p={alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},{alias:null,args:[g,{kind:"Literal",name:"hideNonPublic",value:!0}],concreteType:"MembershipBenefitNodeConnection",kind:"LinkedField",name:"membershipBenefits",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:"membershipBenefits(hideDrafts:true,hideNonPublic:true)"}],storageKey:null},{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"membershipBenefit",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[u,d],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[d,u,p,{alias:null,args:null,kind:"ScalarField",name:"startsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},m],storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null},d],storageKey:null}]},params:{cacheID:"c60ef0e658f43fe4f0d03d4ed165c128",id:null,metadata:{},name:"CheckoutSummaryPlanSelectionQuery",operationKind:"query",text:"query CheckoutSummaryPlanSelectionQuery(\n  $id: ID!\n  $productIds: [ID!]!\n  $ignoreActivePlan: Boolean!\n) {\n  organization: node(id: $id) {\n    __typename\n    ... on Organization {\n      plansInclusiveOfProducts(productIds: $productIds, ignoreActivePlan: $ignoreActivePlan) {\n        edges {\n          node {\n            id\n            name\n            slug\n            pricing {\n              id\n              ...CheckoutEntityListItem_PricingFragment\n            }\n            membershipBenefits(productIds: $productIds, hideDrafts: true) {\n              edges {\n                node {\n                  id\n                  productId\n                  pricing {\n                    id\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment CheckoutEntityListItem_PricingFragment on Pricing {\n  id\n  amountCents\n  frequency\n  kind\n  membershipPlan {\n    id\n    name\n    cover\n    membershipBenefits(hideNonPublic: true, hideDrafts: true) {\n      totalCount\n    }\n  }\n  membershipBenefit {\n    id\n    membershipPlan {\n      name\n      id\n    }\n    product {\n      id\n      name\n      cover\n      startsAt\n      endsAt\n      type\n    }\n  }\n}\n"}};h.hash="5721244ac997c86455b57f37ca6b965f",n.default=h},624076:function(e,n,a){a.d(n,{Z:function(){return d}});var l=a(753688),t=a(810863),r=a(541321),i=a(868112),s=a(785893),o=(0,i.Z)((function(){return a.e(4932).then(a.bind(a,900539))}));function d(e){var n=e.testid,a=void 0===n?"CheckoutDrawer":n,t=(0,l.P)("checkout"),i=u(),d=t.params,c=d.cart,g=d.validCheckoutId,m=d.checkoutStep,p=Boolean(c||g||m);return(0,s.jsx)(r.ds,{testid:a,open:t.isOpen,size:"xl",containerClasses:{drawerContainer:i.drawerContainer},children:p&&(0,s.jsx)(o,{})})}var u=(0,t.Z)({drawerContainer:{padding:0}})},858914:function(e,n,a){var l=a(810863),t=a(541321),r=a(785893);var i=(0,l.Z)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},content:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"750px",gap:e.spacing(1),justifyContent:"center",height:"100%",marginBottom:"40%",padding:e.spacing(10,0)}}}));n.Z=function(e){var n=e.testid,a=void 0===n?"CheckoutError":n,l=e.errorMessages,s=e.cta,o=i(),d=null!=l&&l.length?l:["Something went wrong. Please try again."];return(0,r.jsx)("div",{"data-testid":a,className:o.container,children:(0,r.jsxs)("div",{className:o.content,children:[(0,r.jsx)(t.U4,{variant:"heading-md-700",children:"Oops!"}),d.map((function(e){return(0,r.jsx)(t.U4,{"data-testid":"".concat(a,".message.").concat(e),variant:"body-md",marginBottom:2,children:e},e)})),s]})})}},605065:function(e,n,a){var l,t=a(204942),r=a(115861),i=a(887757),s=a.n(i),o=(a(30265),a(952047),a(681355),a(10165)),d=a(11917),u=a(810863),c=a(886664),g=(a(244311),a(785893)),m=a(425108);var p=(0,u.Z)((function(e){return{container:(0,t.Z)({width:"100%"},e.breakpoints.up("sm"),{"& > div":{height:"100vh","& > iframe":{height:"100% !important"}}})}}));n.Z=function(e){var n=e.validCheckoutId,t=e.onPayment,i=p(),u=d.Z.useLoadStripe();return(0,g.jsx)("div",{className:i.container,children:(0,g.jsx)(c.EmbeddedCheckoutProvider,{stripe:u,options:{fetchClientSecret:function(){return h.apply(this,arguments)},onComplete:function(){t({validCheckoutId:n,nextStep:"process"})}},children:(0,g.jsx)(c.EmbeddedCheckout,{})})});function h(){return(h=(0,r.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.runQuery((void 0!==l||(l=a(30265)).hash&&"330cde3c45a68a0482d7be2fac72fbd3"!==l.hash&&m.error("The definition of 'CheckoutPaymentQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{id:n},{fetchPolicy:"network-only"});case 2:if(null!=(r=e.sent)&&null!==(t=r.validCheckout)&&void 0!==t&&t.stripeCheckoutClientSecret){e.next=5;break}return e.abrupt("return","");case 5:return e.abrupt("return",r.validCheckout.stripeCheckoutClientSecret);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},836121:function(e,n,a){var l=a(117440),t=a(605065),r=a(669187),i=(a(681355),a(810863)),s=a(676779),o=a(616550),d=a(785893);var u=(0,i.Z)((function(e){return{root:{margin:0,backgroundColor:e.palette.background.paper},content:{maxWidth:"none"}}}));n.Z=function(){var e=(0,o.UO)().validCheckoutId,n=(0,o.k6)(),a=u();return(0,d.jsx)(s.Z,{headerContent:(0,d.jsx)(l.Z,{step:"payment",hideBorder:!0}),classes:{container:a.root,content:a.content},children:(0,d.jsx)(t.Z,{validCheckoutId:e,onPayment:function(e){n.replace((0,o.Gn)(r.ZP.CHECKOUT.PROCESS,{validCheckoutId:e.validCheckoutId}))}})})}},30265:function(e,n,a){a.r(n);a(244311);var l,t,r,i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"CheckoutPaymentQuery",selections:[{alias:"validCheckout",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stripeCheckoutClientSecret",storageKey:null}],type:"ValidCheckout",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"CheckoutPaymentQuery",selections:[{alias:"validCheckout",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"675173e17ba58abf43c3a325be51aa79",id:null,metadata:{},name:"CheckoutPaymentQuery",operationKind:"query",text:"query CheckoutPaymentQuery(\n  $id: ID!\n) {\n  validCheckout: node(id: $id) {\n    __typename\n    ... on ValidCheckout {\n      stripeCheckoutClientSecret\n    }\n    id\n  }\n}\n"}};i.hash="330cde3c45a68a0482d7be2fac72fbd3",n.default=i},676400:function(e,n,a){a.d(n,{H:function(){return b}});var l,t=a(386854),r=a(115861),i=a(887757),s=a.n(i),o=a(858914),d=(a(650959),a(952047),a(479159)),u=(a(681355),a(826413)),c=a(810863),g=a(541321),m=a(757336),p=a(667294),h=a(616550),y=(a(244311),a(785893)),k=a(425108);var f=(0,c.Z)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},content:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"750px",gap:e.spacing(1),justifyContent:"center",height:"100%",marginBottom:"40%",padding:e.spacing(10,0)}}}));function b(){var e=f();return(0,y.jsx)("div",{className:e.container,children:(0,y.jsxs)("div",{className:e.content,children:[(0,y.jsx)(u.Z,{}),(0,y.jsx)(g.U4,{variant:"heading-md",marginTop:2,children:"Completing Registration..."}),(0,y.jsx)(g.U4,{variant:"body-md",marginTop:1,color:"text.secondary",children:"This could take a moment."})]})})}n.Z=(0,m.Pi)((function(e){var n=e.testid,i=void 0===n?"CheckoutProcess":n,c=e.validCheckoutId,m=e.onProcessed,b=f(),v=(0,h.k6)(),S=(0,d.V)((void 0!==l||(l=a(650959)).hash&&"a18de65d77776176376fd673d7d1d910"!==l.hash&&k.error("The definition of 'CheckoutProcessMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{validCheckoutId:c},{showErrorToast:!1});if((0,p.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),S.errors.length){var F=S.errors.map((function(e){return e.message}));return(0,y.jsx)(o.Z,{errorMessages:F,cta:(0,y.jsx)(g.v2,{onClick:v.goBack,children:"Go Back"})})}return(0,y.jsx)("div",{"data-testid":i,className:b.container,children:(0,y.jsxs)("div",{className:b.content,children:[(0,y.jsx)(u.Z,{}),(0,y.jsx)(g.U4,{variant:"heading-md",marginTop:2,children:"Completing Registration..."}),(0,y.jsx)(g.U4,{variant:"body-md",marginTop:1,color:"text.secondary",children:"This could take a moment."})]})});function C(){return(C=(0,r.Z)(s().mark((function e(){var n,a,l,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all([S.submit({validCheckoutId:c}),new Promise((function(e){return setTimeout(e,2e3)}))]);case 4:if(n=e.sent,a=(0,t.Z)(n,1),l=a[0],r=l.didSave,i=l.response,r&&i){e.next=11;break}return e.abrupt("return");case 11:m({validCheckoutId:c,nextStep:"complete"});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}))},539735:function(e,n,a){var l=a(117440),t=a(676400),r=a(669187),i=(a(681355),a(810863)),s=a(676779),o=a(616550),d=a(785893);var u=(0,i.Z)((function(e){return{root:{margin:0,backgroundColor:e.palette.background.paper}}}));n.Z=function(){var e=(0,o.UO)().validCheckoutId,n=(0,o.k6)(),a=u();return(0,d.jsx)(s.Z,{headerContent:(0,d.jsx)(l.Z,{step:"process",hideBack:!0}),classes:{container:a.root},children:(0,d.jsx)(t.Z,{validCheckoutId:e,onProcessed:function(e){n.replace((0,o.Gn)(r.ZP.CHECKOUT.COMPLETE,{validCheckoutId:e.validCheckoutId}))}})})}},650959:function(e,n,a){a.r(n);a(244311);var l,t,r={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"CheckoutProcessMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"ProcessCheckoutResponse",kind:"LinkedField",name:"processCheckout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"CheckoutProcessMutation",selections:t},params:{cacheID:"e80e9e955379a5539db7b343139df5d5",id:null,metadata:{},name:"CheckoutProcessMutation",operationKind:"mutation",text:"mutation CheckoutProcessMutation(\n  $input: ProcessCheckoutInput!\n) {\n  response: processCheckout(input: $input) {\n    success\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};r.hash="a18de65d77776176376fd673d7d1d910",n.default=r},637288:function(e,n,a){a.d(n,{Z:function(){return G}});var l,t=a(115861),r=a(241451),i=a(204942),s=a(887757),o=a.n(s),d=a(618326),u=a(967479),c=(a(100014),a(963114)),g=a(669187),m=(a(428647),a(842583)),p=(a(681355),a(10165)),h=a(810863),y=a(541321),k=a(696672),f=a(850429),b=a(323402),v=a(757336),S=a(422578),F=a(616550),C=(a(244311),a(785893)),x=a(425108);var P=(0,h.Z)((function(e){return{button:{backgroundColor:e.palette.background.paper,width:"28px",height:"28px",padding:e.spacing(.5),border:e.palette.constants.borderSmall}}}));var K,I=p.Z.withSkeleton({component:(0,v.Pi)((function(e){var n=e.testid,t=void 0===n?"CheckoutProductListItem":n,r=e.productId,i=e.planId,s=e.onRemove,o=(0,c.NP)("experience"),d=(0,c.NP)("pathway"),h=P(),v=(0,S.useLazyLoadQuery)((void 0!==l||(l=a(100014)).hash&&"20c45fabf94960283c41607e38766038"!==l.hash&&x.error("The definition of 'CheckoutProductListItemQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{id:r}).product;if(!v)return null;var K,I=p.Z.connectionToArray(v.includedInBenefits),T=k.BB.mapBy(I,"membershipPlanId"),L=I.every((function(e){return e.pricing.amountCents===I[0].pricing.amountCents&&e.pricing.frequency===I[0].pricing.frequency}));return(0,C.jsx)(u.Z,{id:r,testid:t,name:null!=v&&v.name?v.name:"course"===(null==v?void 0:v.type)?o.singular:"pathway"===(null==v?void 0:v.type)?d.singular:"Product",pricing:L?I[0].pricing:i?null===(K=T[i])||void 0===K?void 0:K.pricing:"--",details:function(){if(null==v||!v.startsAt)return"";var e=new Date(v.startsAt);return"Starts ".concat((0,b.eP)({format:f.zT.DEFAULT})(e),"  ").concat(m.Z.displayDuration(v))}(),chipLabel:w(),chipColor:"pathway"===(null==v?void 0:v.type)?"purple":"yellow",cover:v.cover,onRemove:s,buttons:[(0,C.jsx)(y.I4,{className:h.button,onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){if(null==v||!v.slug)return;window.open((0,F.Gn)(g.ZP.PRODUCT.REGISTRATION.ROOT,{productSlug:v.slug}),"_blank")}()},tooltip:"View ".concat(w()),children:(0,C.jsx)(y.De,{icon:"external-link"})},"view-product-".concat(r)),(0,C.jsx)(y.I4,{className:h.button,onClick:function(e){e.preventDefault(),e.stopPropagation(),null==s||s(r)},tooltip:"Remove",children:(0,C.jsx)(y.De,{icon:"close"})},"remove-product-".concat(r))]});function w(){return"course"===(null==v?void 0:v.type)?o.singular:"pathway"===(null==v?void 0:v.type)?d.singular:"Product"}})),skeleton:function(){return(0,C.jsx)(u.I,{})}}),T=(a(806365),a(537793),a(952047)),L=a(285245),w=a(753688),B=a(479159),j=a(658555),N=a(168949),_=a(425108);function A(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(!e)return;if("string"==typeof e)return M(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return M(e,n)}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var l=0,t=function(){};return{s:t,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw r}}}}function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,l=new Array(n);a<n;a++)l[a]=e[a];return l}var D=(0,h.Z)((function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%",borderRadius:e.measure.borderRadius.big,border:e.palette.constants.borderSmall,boxShadow:e.palette.groovyDepths.xs},header:{backgroundColor:e.palette.groovy.neutral[100],borderBottom:e.palette.constants.borderSmall,padding:e.spacing(1.5),borderTopLeftRadius:e.measure.borderRadius.big,borderTopRightRadius:e.measure.borderRadius.big},list:(0,i.Z)({display:"flex",flexDirection:"column",width:"100%",padding:e.spacing(1.5)},e.breakpoints.down("xs"),{height:"500px"}),listItem:{paddingBottom:e.spacing(1.5)},button:{backgroundColor:e.palette.background.paper,width:"28px",height:"28px",padding:e.spacing(.5),border:e.palette.constants.borderSmall}}}));function O(){var e=D();return(0,C.jsxs)(y.W0,{groovyDepths:"insideCard",className:e.container,padding:0,children:[(0,C.jsxs)("div",{className:e.header,children:[(0,C.jsx)(y.U4,{variant:"body-md-600",children:"Select a Membership"}),(0,C.jsx)(y.U4,{variant:"body-sm",color:"text.secondary",children:"You must select a membership plan that includes everything in your cart."})]}),(0,C.jsx)("div",{className:e.list,children:(0,C.jsx)(d.n,{})})]})}var Z,U,R,E=p.Z.withSkeleton({component:(0,v.Pi)((function(e){var n,l=e.testid,r=void 0===l?"CheckoutSummaryPlanSelection":l,i=e.validateForm,s=e.validateCheckout,u=(0,L.vn)(),c=D(),m=(0,w.P)("checkout"),h=(0,F.k6)(),f=(0,S.useLazyLoadQuery)((void 0!==K||(K=a(806365)).hash&&"5721244ac997c86455b57f37ca6b965f"!==K.hash&&_.error("The definition of 'CheckoutSummaryPlanSelectionQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),K),{id:(null==u?void 0:u.id)||"",productIds:(null===(n=i.state.cart.orphanedProductIds)||void 0===n?void 0:n.map((function(e){return p.Z.toGlobalId("Product",e)})))||[],ignoreActivePlan:Boolean(i.state.cart.forcePlanSelection)}).organization,b=p.Z.connectionToArray(null==f?void 0:f.plansInclusiveOfProducts),v=k.BB.mapBy(b,"id");return b.length?1!==b.length||i.state.cart.forcePlanSelection?(0,C.jsxs)(y.W0,{testid:r,groovyDepths:"insideCard",className:c.container,padding:0,children:[(0,C.jsxs)("div",{className:c.header,children:[(0,C.jsx)(y.U4,{variant:"body-md-600",children:"Select a Membership"}),(0,C.jsx)(y.U4,{variant:"body-sm",color:"text.secondary",children:"You must select a membership plan that includes everything in your cart."})]}),(0,C.jsx)(j.Z,{children:(0,C.jsx)("div",{className:c.list,children:b.map((function(e){return e.pricing?(0,C.jsx)("span",{onMouseEnter:function(){return i.state.hoveredPlanId=e.id},onMouseLeave:function(){return i.state.hoveredPlanId=void 0},className:c.listItem,children:(0,C.jsx)(d.Z,{testid:"".concat(r,".item.").concat(e.slug),pricingKey:e.pricing,onSelect:function(){return x(e.id)},buttons:[(0,C.jsx)(y.I4,{className:c.button,onClick:function(n){var a;n.preventDefault(),n.stopPropagation(),a=e.id,window.open((0,F.Gn)(g.ZP.PRODUCT.REGISTRATION.ROOT,{productSlug:v[a].slug}),"_blank")},tooltip:"View Membership Plan",children:(0,C.jsx)(y.De,{icon:"external-link"})},"view-plan-".concat(e.id))]})},e.id):null}))})})]}):(x(b[0].id),null):(0,C.jsx)(y.kz,{severity:"error",message:"Cart is not compatible with any membership plans. Please remove items."});function x(e){(0,N.z)((0,t.Z)(o().mark((function n(){var a,l,t,r,d,u,c,y,f;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=(a=v[e])&&a.pricing){n.next=3;break}return n.abrupt("return");case 3:l=p.Z.connectionToArray(a.membershipBenefits),t=k.BB.mapBy(l,"productId"),r=A(i.state.cart.orphanedProductIds||[]);try{for(r.s();!(d=r.n()).done;)c=d.value,y=p.Z.toGlobalId("Product",c),null===(u=i.state.cart.orphanedProductIds)||void 0===u||u.remove(c),i.state.cart.items.push({pricingId:p.Z.rawId(t[y].pricing.id)})}catch(e){r.e(e)}finally{r.f()}return i.state.cart.items.push({pricingId:p.Z.rawId(a.pricing.id)}),i.state.selectedPlanPricingId=a.pricing.id,i.state.cart.forcePlanSelection=!1,f=T._g.encodeCart(i.state.cart),m.isOpen?m.setParams({cart:f}):h.replace((0,F.Gn)(g.ZP.CHECKOUT.SUMMARY,{cart:f})),n.next=14,s();case 14:case"end":return n.stop()}}),n)}))))}})),skeleton:O}),V=(a(393374),a(613460),a(846425)),Q=a(963457),z=a(667294),H=a(425108);function $(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}var q=(0,h.Z)((function(e){var n;return{container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%",maxWidth:e.measure.page.contentMaxWidth},content:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%",overflow:"hidden"},lhsContent:(0,i.Z)({display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%",height:"100%",padding:e.spacing(2.5),overflowY:"auto"},e.breakpoints.down("sm"),{paddingBottom:"".concat(225,"px")}),rhsContent:(n={display:"flex",flexDirection:"column",justifyContent:"flex-start",gap:e.spacing(1),alignItems:"center",height:"100%",borderLeft:"1px solid ".concat(e.palette.constants.divider),padding:e.spacing(2.5),flexShrink:0,width:"400px"},(0,i.Z)(n,e.breakpoints.down("md"),{width:"350px"}),(0,i.Z)(n,e.breakpoints.down("sm"),{borderLeft:"none",height:"".concat(225,"px"),width:"100%",bottom:0,position:"fixed"}),n),list:{display:"flex",flexDirection:"column",gap:e.spacing(1.5),width:"100%"},totalContainer:(0,i.Z)({display:"flex",flexDirection:"column",justifyContent:"space-between",gap:e.spacing(1.5),width:"100%",borderRadius:e.measure.borderRadius.big,border:e.palette.constants.borderSmall},e.breakpoints.down("xs"),{gap:e.spacing(1),padding:e.spacing(2),boxShadow:e.palette.groovyDepths.raisedBoxShadow}),lineItem:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:e.spacing(.5)},button:{backgroundColor:e.palette.background.paper,width:"28px",height:"28px",padding:e.spacing(.5),border:e.palette.constants.borderSmall},alert:(0,i.Z)({},e.breakpoints.down("xs"),{padding:e.spacing(1)})}}));var G=p.Z.withSkeleton({component:(0,v.Pi)((function(e){var n,l,s=e.testid,u=void 0===s?"CheckoutSummary":s,m=e.cart,h=e.onCheckout,f=q(),b=(0,L.vn)(),v=(0,w.P)("checkout"),x=(0,F.k6)(),P=(0,z.useRef)(m),K=(0,c.NP)("experience"),j=(0,Q.Z)((function(e){return e.breakpoints.down("sm")})),_=(0,S.useLazyLoadQuery)((void 0!==Z||(Z=a(613460)).hash&&"41c6696c50ecf569a1c35fc4d146aecc"!==Z.hash&&H.error("The definition of 'CheckoutSummaryQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Z),{id:(null==b?void 0:b.id)||"",pricingIds:m.items.map((function(e){return p.Z.toGlobalId("Pricing",e.pricingId)}))}).organization,A=p.Z.connectionToArray(null==_?void 0:_.pricings),M=k.BB.mapBy(A,"id"),D=m.items.map((function(e){return M[p.Z.toGlobalId("Pricing",e.pricingId)]})),O=A.map((function(e){var n;return function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?$(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}({pricingId:e.id},e.membershipPlan||(null===(n=e.membershipBenefit)||void 0===n?void 0:n.product))})),G=k.BB.mapBy(O,"pricingId"),W=k.BB.mapBy(O,"id"),Y=(0,B.V)((void 0!==U||(U=a(537793)).hash&&"f00a1b150eeb7144a33dd69a92499a0e"!==U.hash&&H.error("The definition of 'CheckoutSummary_ValidateCheckoutMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),U),{cart:m,selectedPlanPricingId:null,hoveredPlanId:null},{showErrorToast:!1}),J=(0,B.V)((void 0!==R||(R=a(393374)).hash&&"81aeb6d8d23bb835c027fbf8464cb6ab"!==R.hash&&H.error("The definition of 'CheckoutSummary_StartCheckoutMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),R),{validCheckoutId:"",versionKey:""});if((0,z.useEffect)((function(){var e;null!==(e=m.orphanedProductIds)&&void 0!==e&&e.length||le()}),[]),"stripe_acacia"!==(null==b?void 0:b.checkoutVersion))return null;var X=[].concat((0,r.Z)(Y.errors),(0,r.Z)(J.errors)).filter((function(e){return"*"===e.field})).map((function(e){return e.message}));return(0,C.jsx)("div",{"data-testid":u,className:f.container,children:(0,C.jsxs)("div",{className:f.content,children:[(0,C.jsx)("div",{className:f.lhsContent,children:(0,C.jsxs)("div",{className:f.list,children:[null==X?void 0:X.map((function(e){return(0,C.jsx)(y.kz,{severity:"error",message:e},e)})),Boolean((null===(n=Y.state.cart.orphanedProductIds)||void 0===n?void 0:n.length)||Y.state.cart.forcePlanSelection)&&(0,C.jsx)(E,{testid:"".concat(u,".planSelection"),validateForm:Y,validateCheckout:le}),null===(l=Y.state.cart.orphanedProductIds)||void 0===l?void 0:l.map((function(e){var n=p.Z.toGlobalId("Product",e),a=W[n];return(0,C.jsx)(I,{testid:"".concat(u,".orphanedProducts.item.").concat(null==a?void 0:a.slug),productId:n,planId:Y.state.hoveredPlanId,onRemove:ne},n)})),Y.state.cart.items.map((function(e){var n=e.pricingId,a=p.Z.toGlobalId("Pricing",n),l=M[a],t=G[a],r=function(e){var n,a=_||{},l=a.defaultMembershipPlan,t=a.membershipPlans,r=e.id===(null==l||null===(n=l.pricing)||void 0===n?void 0:n.id),i=Y.state.selectedPlanPricingId===e.id,s=1===Y.state.cart.items.length,o=((null==t?void 0:t.totalCount)||0)<=1;return r&&!s&&o&&i}(l);return r?null:(0,C.jsx)(d.Z,{testid:"".concat(u,".item.").concat(null==t?void 0:t.slug),pricingKey:l,validateForm:Y,onRemove:ae,buttons:[(0,C.jsx)(y.I4,{className:f.button,onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e){var n,a=M[e],l=a.membershipPlan||(null===(n=a.membershipBenefit)||void 0===n?void 0:n.product);if(!l)return;window.open((0,F.Gn)(g.ZP.PRODUCT.REGISTRATION.ROOT,{productSlug:l.slug}),"_blank")}(l.id)},tooltip:"View ".concat(l.membershipPlan?"Membership Plan":K.singular),children:(0,C.jsx)(y.De,{icon:"external-link"})},"view-pricing-".concat(l.id)),(0,C.jsx)(y.I4,{className:f.button,onClick:function(e){e.preventDefault(),e.stopPropagation(),ae(l.id)},tooltip:"Remove",children:(0,C.jsx)(y.De,{icon:"close"})},"remove-pricing-".concat(l.id))]},l.id)}))]})}),(0,C.jsx)("div",{className:f.rhsContent,children:(0,C.jsxs)(y.W0,{padding:3,className:f.totalContainer,children:[(0,C.jsxs)("div",{children:[!j&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:f.lineItem,children:[(0,C.jsx)(y.U4,{children:"Subtotal:"}),(0,C.jsx)(y.U4,{children:ee()})]}),(0,C.jsxs)("div",{className:f.lineItem,children:[(0,C.jsx)(y.U4,{children:"Taxes:"}),(0,C.jsx)(y.U4,{children:"--"})]})]}),(0,C.jsxs)("div",{className:f.lineItem,children:[(0,C.jsx)(y.U4,{variant:"body-md-600",marginTop:1,children:"Total:"}),(0,C.jsx)(y.U4,{variant:"body-md-600",children:j?ee():"--"})]})]}),(0,C.jsx)(y.kz,{severity:"default",message:"Taxes and total amount will be calculated at checkout. Discount code can also be applied.",classes:{root:f.alert}}),(0,C.jsx)(y.v2,{testid:"".concat(u,".checkoutButton"),onClick:function(){return re.apply(this,arguments)},width:"100%",shouldDisplaySpinner:J.isSubmitting||Y.isSubmitting,disabled:!!(Y.isSubmitting||Y.errors.length||!Y.state.cart.items.length||J.isSubmitting||J.errors.length||!J.state.validCheckoutId),children:"Checkout"})]})})]})});function ee(){var e;if(null!==(e=Y.state.cart.orphanedProductIds)&&void 0!==e&&e.length)return"--";var n=T._g.sumTotal(D);return V.Z.asCurrency(n,{currency:null==b?void 0:b.currency})}function ne(e){if(Y.state.cart.orphanedProductIds){var n=p.Z.rawId(e),a=Y.state.cart.orphanedProductIds.findIndex((function(e){return e===n}));-1!==a&&(0,N.z)((0,t.Z)(o().mark((function e(){var n,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=Y.state.cart.orphanedProductIds)||void 0===n||n.splice(a,1),l=T._g.encodeCart(Y.state.cart),v.isOpen?v.setParams({cart:l}):x.replace((0,F.Gn)(g.ZP.CHECKOUT.SUMMARY,{cart:l})),e.next=5,le();case 5:case"end":return e.stop()}}),e)}))))}}function ae(e){var n=p.Z.rawId(e),a=m.items.findIndex((function(e){return e.pricingId===n}));-1!==a&&(0,N.z)((0,t.Z)(o().mark((function n(){var l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Y.state.cart.items.splice(a,1),Y.state.selectedPlanPricingId===e&&(Y.state={selectedPlanPricingId:null,cart:{items:N.LO.array(P.current.items),orphanedProductIds:N.LO.array(P.current.orphanedProductIds||[]),forcePlanSelection:Boolean(P.current.forcePlanSelection)}}),l=T._g.encodeCart(Y.state.cart),v.isOpen?v.setParams({cart:l}):x.replace((0,F.Gn)(g.ZP.CHECKOUT.SUMMARY,{cart:l})),n.next=6,le();case 6:case"end":return n.stop()}}),n)}))))}function le(){return te.apply(this,arguments)}function te(){return(te=(0,t.Z)(o().mark((function e(){var n,a,l,t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.submit({cart:Y.state.cart});case 2:if(l=e.sent,t=l.didSave,r=l.response,t&&r){e.next=7;break}return e.abrupt("return");case 7:if(null===(n=r.errors)||void 0===n||!n.length){e.next=9;break}return e.abrupt("return");case 9:if(null!==(a=r.node)&&void 0!==a&&a.id){e.next=11;break}return e.abrupt("return");case 11:J.state.validCheckoutId=r.node.id,J.state.versionKey=r.node.versionKey;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=(0,t.Z)(o().mark((function e(){var n,a,l,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return e.next=4,J.submit(J.state);case 4:if(a=e.sent,l=a.didSave,t=a.response,l&&(null==t||null===(n=t.errors)||void 0===n||!n.length)&&null!=t&&t.node){e.next=9;break}return e.abrupt("return");case 9:h({validCheckoutId:J.state.validCheckoutId,nextStep:t.node.stripeCheckoutSessionId?"payment":"process"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),skeleton:function(e){var n,a,l=e.cart,t=q();return(0,C.jsx)("div",{className:t.container,children:(0,C.jsxs)("div",{className:t.content,children:[(0,C.jsx)("div",{className:t.lhsContent,children:(0,C.jsxs)("div",{className:t.list,children:[Boolean(null===(n=l.orphanedProductIds)||void 0===n?void 0:n.length)&&(0,C.jsx)(O,{}),null===(a=l.orphanedProductIds)||void 0===a?void 0:a.map((function(e){return(0,C.jsx)(u.I,{},e)})),l.items.map((function(e){return(0,C.jsx)(u.I,{},e.pricingId)}))]})}),(0,C.jsx)("div",{className:t.rhsContent,children:(0,C.jsxs)(y.W0,{padding:3,className:t.totalContainer,children:[(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:t.lineItem,children:[(0,C.jsx)(y.U4,{children:"Subtotal:"}),(0,C.jsx)(y.U4,{children:"--"})]}),(0,C.jsxs)("div",{className:t.lineItem,children:[(0,C.jsx)(y.U4,{children:"Taxes:"}),(0,C.jsx)(y.U4,{children:"--"})]}),(0,C.jsxs)("div",{className:t.lineItem,children:[(0,C.jsx)(y.U4,{variant:"body-md-600",marginTop:1,children:"Total:"}),(0,C.jsx)(y.U4,{variant:"body-md-600",children:"--"})]})]}),(0,C.jsx)(y.kz,{severity:"info",message:"Taxes and total will be calculated at final checkout."}),(0,C.jsx)(y.Zi,{width:"100%"})]})})]})})}})},829489:function(e,n,a){var l=a(117440),t=a(637288),r=a(952047),i=a(669187),s=(a(681355),a(810863)),o=a(676779),d=a(616550),u=a(785893);var c=(0,s.Z)((function(e){return{root:{margin:0,backgroundColor:e.palette.background.paper}}}));n.Z=function(e){var n=e.testid,a=void 0===n?"CheckoutSummaryPage":n,s=(0,d.UO)().cart,g=r._g.decodeCart(s),m=(0,d.k6)(),p=c();return(0,u.jsx)(o.Z,{"data-testid":a,headerContent:(0,u.jsx)(l.Z,{step:"summary"}),classes:{container:p.root},children:(0,u.jsx)(t.Z,{cart:g,onCheckout:function(e){var n=e.validCheckoutId,a=e.nextStep,l=i.ZP.CHECKOUT["payment"===a?"PAYMENT":"PROCESS"];m.push({pathname:(0,d.Gn)(l,{validCheckoutId:n})})}})})}},613460:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y,k,f,b={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"pricingIds"}],kind:"Fragment",metadata:null,name:"CheckoutSummaryQuery",selections:[{alias:"organization",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"defaultMembershipPlan",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[r],storageKey:null}],storageKey:null},u={alias:"membershipPlans",args:[s={kind:"Literal",name:"hideDrafts",value:!0},o={kind:"Literal",name:"hideNonPublic",value:!0},{kind:"Literal",name:"type",value:"membership_plan"}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"products",plural:!1,selections:d=[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:'products(hideDrafts:true,hideNonPublic:true,type:"membership_plan")'},{alias:null,args:c=[{kind:"Variable",name:"pricingIds",variableName:"pricingIds"}],concreteType:"PricingNodeConnection",kind:"LinkedField",name:"pricings",plural:!1,selections:[{alias:null,args:null,concreteType:"PricingNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"node",plural:!1,selections:[r,g={alias:null,args:null,kind:"ScalarField",name:"amountCents",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:y=[r,h={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"membershipBenefit",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:y,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CheckoutEntityListItem_PricingFragment"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"CheckoutSummaryQuery",selections:[{alias:"organization",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[i,u,{alias:null,args:c,concreteType:"PricingNodeConnection",kind:"LinkedField",name:"pricings",plural:!1,selections:[{alias:null,args:null,concreteType:"PricingNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"node",plural:!1,selections:[r,g,m,p,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[r,h,k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},{alias:null,args:[s,o],concreteType:"MembershipBenefitNodeConnection",kind:"LinkedField",name:"membershipBenefits",plural:!1,selections:d,storageKey:"membershipBenefits(hideDrafts:true,hideNonPublic:true)"}],storageKey:null},{alias:null,args:null,concreteType:"MembershipBenefit",kind:"LinkedField",name:"membershipBenefit",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[r,h,k,f,{alias:null,args:null,kind:"ScalarField",name:"startsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},r,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"membershipPlan",plural:!1,selections:[k,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Organization",abstractKey:null},r],storageKey:null}]},params:{cacheID:"cfeb5cdd1e4bb5f7888b785964b02be7",id:null,metadata:{},name:"CheckoutSummaryQuery",operationKind:"query",text:'query CheckoutSummaryQuery(\n  $id: ID!\n  $pricingIds: [ID!]!\n) {\n  organization: node(id: $id) {\n    __typename\n    ... on Organization {\n      defaultMembershipPlan {\n        id\n        pricing {\n          id\n        }\n      }\n      membershipPlans: products(type: "membership_plan", hideDrafts: true, hideNonPublic: true) {\n        totalCount\n      }\n      pricings(pricingIds: $pricingIds) {\n        edges {\n          node {\n            id\n            amountCents\n            frequency\n            kind\n            membershipPlan {\n              id\n              slug\n            }\n            membershipBenefit {\n              product {\n                id\n                slug\n              }\n              id\n            }\n            ...CheckoutEntityListItem_PricingFragment\n          }\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment CheckoutEntityListItem_PricingFragment on Pricing {\n  id\n  amountCents\n  frequency\n  kind\n  membershipPlan {\n    id\n    name\n    cover\n    membershipBenefits(hideNonPublic: true, hideDrafts: true) {\n      totalCount\n    }\n  }\n  membershipBenefit {\n    id\n    membershipPlan {\n      name\n      id\n    }\n    product {\n      id\n      name\n      cover\n      startsAt\n      endsAt\n      type\n    }\n  }\n}\n'}};b.hash="41c6696c50ecf569a1c35fc4d146aecc",n.default=b},393374:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"CheckoutSummary_StartCheckoutMutation",selections:[{alias:"response",args:t=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"StartCheckoutResponse",kind:"LinkedField",name:"startCheckout",plural:!1,selections:[{alias:null,args:null,concreteType:"ValidCheckout",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"stripeCheckoutSessionId",storageKey:null}],storageKey:null},i={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"CheckoutSummary_StartCheckoutMutation",selections:[{alias:"response",args:t,concreteType:"StartCheckoutResponse",kind:"LinkedField",name:"startCheckout",plural:!1,selections:[{alias:null,args:null,concreteType:"ValidCheckout",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},i],storageKey:null}]},params:{cacheID:"0641448fc0d24eb105b52520a00f9d1d",id:null,metadata:{},name:"CheckoutSummary_StartCheckoutMutation",operationKind:"mutation",text:"mutation CheckoutSummary_StartCheckoutMutation(\n  $input: StartCheckoutInput!\n) {\n  response: startCheckout(input: $input) {\n    node {\n      stripeCheckoutSessionId\n      id\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};s.hash="81aeb6d8d23bb835c027fbf8464cb6ab",n.default=s},537793:function(e,n,a){a.r(n);a(244311);var l,t,r={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"CheckoutSummary_ValidateCheckoutMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"ValidateCheckoutResponse",kind:"LinkedField",name:"validateCheckout",plural:!1,selections:[{alias:null,args:null,concreteType:"ValidCheckout",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"versionKey",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"CheckoutSummary_ValidateCheckoutMutation",selections:t},params:{cacheID:"4989ef7d60b0cb11b4663371a459f8fb",id:null,metadata:{},name:"CheckoutSummary_ValidateCheckoutMutation",operationKind:"mutation",text:"mutation CheckoutSummary_ValidateCheckoutMutation(\n  $input: ValidateCheckoutInput!\n) {\n  response: validateCheckout(input: $input) {\n    node {\n      id\n      versionKey\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};r.hash="f00a1b150eeb7144a33dd69a92499a0e",n.default=r},952047:function(e,n,a){a.d(n,{Dn:function(){return g},_g:function(){return t},nF:function(){return p},nP:function(){return h}});a(413534),a(390235);var l,t,r,i=a(285245),s=a(753688),o=(a(169115),a(669187)),d=(a(147906),a(681355),a(10165)),u=a(616550),c=(a(244311),a(425108)),g={summary:"Summary",payment:"Payment",process:"Processing",complete:"Complete"},m={stripe:["course","membership_plan","community_event","pathway"],stripe_acacia:["course","membership_plan","pathway"],"%future added value":[]};function p(e){var n=e.checkoutVersion,a=e.productType;return!(!n||!a)&&m[n].includes(a)}function h(e){var n=e.product,r=e.activePlanId,g=(0,i.vn)(),m=(0,s.P)("registration"),h=(0,s.P)("profileSettings"),y=(0,u.k6)(),k=(null==n?void 0:n.id)||"",f=Boolean("course"===(null==n?void 0:n.type)||"pathway"===(null==n?void 0:n.type)),b="membership_plan"===(null==n?void 0:n.type),v=d.Z.useSkippableLazyLoadQuery((void 0!==l||(l=a(390235)).hash&&"f8b0ce9d84fc2b61faa667ed9b416b80"!==l.hash&&c.error("The definition of 'CheckoutUtils_GetBenefitOnPlanQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),{planId:b?k:r||"",productId:f?k:"",fetchBenefit:f},{skip:"stripe_acacia"!==(null==g?void 0:g.checkoutVersion)||!p({checkoutVersion:null==g?void 0:g.checkoutVersion,productType:null==n?void 0:n.type})}).plan;return{startEntityCheckout:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={items:[],orphanedProductIds:[]},l=f?null==v||null===(e=v.membershipBenefit)||void 0===e?void 0:e.pricing:null,r=f?null:null==v?void 0:v.pricing;if(l)a.items.push({pricingId:d.Z.rawId(l.id)});else if(r)a.items.push({pricingId:d.Z.rawId(r.id)});else{var i;null===(i=a.orphanedProductIds)||void 0===i||i.push(d.Z.rawId(k))}null!=n&&n.forcePlanSelection&&(a.forcePlanSelection=!0);var s=t.encodeCart(a);m.isOpen?m.swap({cart:s}):h.isOpen?h.swap({cart:s}):y.push((0,u.Gn)(o.ZP.CHECKOUT.SUMMARY,{cart:s}))}}}(r=t||(t={})).encodeCart=function(e){return btoa(JSON.stringify(e))},r.decodeCart=function(e){return JSON.parse(atob(e))},r.sumTotal=function(e){return e.reduce((function(e,n){return e+n.amountCents}),0)/100}},390235:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"fetchBenefit"},t={defaultValue:null,kind:"LocalArgument",name:"planId"},r={defaultValue:null,kind:"LocalArgument",name:"productId"}],kind:"Fragment",metadata:null,name:"CheckoutUtils_GetBenefitOnPlanQuery",selections:[{alias:"plan",args:i=[{kind:"Variable",name:"id",variableName:"planId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={condition:"fetchBenefit",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"productId",variableName:"productId"}],concreteType:"MembershipBenefit",kind:"LinkedField",name:"membershipBenefit",plural:!1,selections:[s,o={alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[s],storageKey:null}],storageKey:null}]},o],type:"Product",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,l],kind:"Operation",name:"CheckoutUtils_GetBenefitOnPlanQuery",selections:[{alias:"plan",args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s,{kind:"InlineFragment",selections:[o,d],type:"Product",abstractKey:null}],storageKey:null}]},params:{cacheID:"28c3da7c68bed4f33fb2713b0b07dc49",id:null,metadata:{},name:"CheckoutUtils_GetBenefitOnPlanQuery",operationKind:"query",text:"query CheckoutUtils_GetBenefitOnPlanQuery(\n  $planId: ID!\n  $productId: ID!\n  $fetchBenefit: Boolean!\n) {\n  plan: node(id: $planId) {\n    __typename\n    ... on Product {\n      id\n      membershipBenefit(productId: $productId) @include(if: $fetchBenefit) {\n        id\n        pricing {\n          id\n        }\n      }\n      pricing {\n        id\n      }\n    }\n    id\n  }\n}\n"}};u.hash="f8b0ce9d84fc2b61faa667ed9b416b80",n.default=u},744656:function(e,n,a){a.r(n);a(244311);var l,t,r,i,s,o,d,u,c,g,m,p,h,y,k,f,b,v,S,F,C,x,P,K,I,T,L,w,B,j,N,_,A,M,D,O,Z={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"id"},i={defaultValue:null,kind:"LocalArgument",name:"orderBy"}],kind:"Fragment",metadata:null,name:"CommentsSectionContentPaginationQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:o=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"orderBy",variableName:"orderBy"}],kind:"FragmentSpread",name:"CommentsSection_ContentPaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t,i,r],kind:"Operation",name:"CommentsSectionContentPaginationQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:o,concreteType:"CommentNodeConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"CommentNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[u,{alias:null,args:null,concreteType:"CommentNodeConnection",kind:"LinkedField",name:"replies",plural:!1,selections:[c,{alias:null,args:null,concreteType:"CommentNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[u,g={alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"contentId",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"creationDatetime",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"parentCommentId",storageKey:null},{kind:"InlineFragment",selections:[d,f={kind:"InlineFragment",selections:k=[y={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},v={kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},y,b={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},F={kind:"InlineFragment",selections:S=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},y,b],type:"Event",abstractKey:null},x={kind:"InlineFragment",selections:C=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},y,b],type:"Comment",abstractKey:null},P={kind:"InlineFragment",selections:C,type:"Feed",abstractKey:null},K={kind:"InlineFragment",selections:C,type:"Post",abstractKey:null},I={kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},y,b],type:"ContentUsage",abstractKey:null},T={kind:"InlineFragment",selections:C,type:"ChatChannel",abstractKey:null},L={kind:"InlineFragment",selections:C,type:"Dashboard",abstractKey:null},w={kind:"InlineFragment",selections:S,type:"AssignmentSubmission",abstractKey:null},B={kind:"InlineFragment",selections:k,type:"PathwayGroup",abstractKey:null},j={kind:"InlineFragment",selections:k,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},_={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[u,N={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},O={alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"richEditorDescriptionContent",storageKey:null},u,{alias:null,args:null,concreteType:"ContentMentionNodeConnection",kind:"LinkedField",name:"mentions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentMentionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentMention",kind:"LinkedField",name:"node",plural:!1,selections:[u,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[u,N],storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[u,A={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"mentionedProduct",plural:!1,selections:M=[u,A],storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"mentionedContentUsage",plural:!1,selections:[u,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:M,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"mentionedOccurrence",plural:!1,selections:[u,A,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[A,u],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},D={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"ContentLikeNodeConnection",kind:"LinkedField",name:"likes",plural:!1,selections:[c],storageKey:null},{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"hasViewerReacted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiAlias",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCount",storageKey:null}],storageKey:null}],storageKey:null},D],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},p,m,{alias:null,args:null,kind:"ScalarField",name:"contentUsageId",storageKey:null},h,g,_,O,d,{kind:"InlineFragment",selections:[f,v,F,x,P,K,I,T,L,w,B,j],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:o,filters:["orderBy"],handle:"connection",key:"CommentsSection__comments",kind:"LinkedHandle",name:"comments"}],type:"Content",abstractKey:null}],storageKey:null}]},params:{cacheID:"dfb2a1b013f63b03638b5623f6d3fc10",id:null,metadata:{},name:"CommentsSectionContentPaginationQuery",operationKind:"query",text:"query CommentsSectionContentPaginationQuery(\n  $after: String\n  $first: Int!\n  $orderBy: ContentCommentsOrderByInput\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...CommentsSection_ContentPaginationFragment_2IJuIk\n    id\n  }\n}\n\nfragment CommentMoreActionsDropdownFragment on Comment {\n  id\n  contentId\n  parentCommentId\n  productId\n  ...usePermissionsFragment\n}\n\nfragment CommentsListItem_comment on Comment {\n  id\n  creationDatetime\n  contentId\n  contentUsageId\n  parentCommentId\n  productId\n  ...CommentMoreActionsDropdownFragment\n  user {\n    id\n    fullName\n    ...ProfileAvatarWithDetailsFragment\n  }\n  content {\n    richEditorDescriptionContent\n    ...DiscoEditorMentionsFragment\n    ...ContentReactionButton_ContentFragment\n    id\n  }\n  replies {\n    edges {\n      node {\n        id\n        ...CommentsListReplyItem_comment\n      }\n    }\n  }\n}\n\nfragment CommentsListReplyItem_comment on Comment {\n  id\n  productId\n  contentId\n  creationDatetime\n  ...CommentMoreActionsDropdownFragment\n  user {\n    id\n    fullName\n    ...ProfileAvatarWithDetailsFragment\n  }\n  content {\n    richEditorDescriptionContent\n    ...DiscoEditorMentionsFragment\n    ...ContentReactionButton_ContentFragment\n    id\n  }\n}\n\nfragment CommentsSection_ContentPaginationFragment_2IJuIk on Content {\n  comments(first: $first, after: $after, orderBy: $orderBy) {\n    totalCount\n    edges {\n      node {\n        id\n        replies {\n          totalCount\n        }\n        ...CommentsListItem_comment\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n\nfragment ContentReactionButton_ContentFragment on Content {\n  id\n  likes {\n    totalCount\n  }\n  uniqueReactions {\n    edges {\n      node {\n        id\n        hasViewerReacted\n        emojiCode\n        emojiAlias\n        emojiCount\n      }\n    }\n  }\n}\n\nfragment DiscoEditorMentionsFragment on Content {\n  id\n  ...EditorMentionsProviderFragment\n}\n\nfragment EditorMentionsProviderFragment on Content {\n  id\n  mentions {\n    edges {\n      node {\n        id\n        user {\n          id\n          fullName\n        }\n        memberGroup {\n          id\n          name\n          kind\n          role\n        }\n        mentionedProduct {\n          id\n          name\n        }\n        mentionedContentUsage {\n          id\n          content {\n            id\n            name\n          }\n        }\n        mentionedOccurrence {\n          id\n          name\n          content {\n            name\n            id\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};Z.hash="2f9a19d75b5511995fbde1dba657422f",n.default=Z},343440:function(e,n,a){a(860451),a(106903),a(681355);var l,t,r,i,s=a(422578),o=(a(244311),a(425108));(i=r||(r={})).getUnknownUserFullName=function(){return"Unknown User"},i.useTotalCommentsCount=function(e,n){var r=(0,s.useFragment)((void 0!==l||(l=a(860451)).hash&&"1c2faa4d3af4930fcdc500f8a2ba276a"!==l.hash&&o.error("The definition of 'CommentUtils_useTotalCommentsCount' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),e),i=(0,s.useFragment)((void 0!==t||(t=a(106903)).hash&&"cd8eaf527e730db845596a088d5b1e1a"!==t.hash&&o.error("The definition of 'CommentUtils_useTotalCommentsOnUsageCount' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),n||null);return(null==r?void 0:r.totalComments)||(null==i?void 0:i.totalComments)||0},i.scrollToNewComment=function(e){setTimeout((function(){var n=document.getElementById(e);null==n||n.scrollIntoView({behavior:"smooth"})}),100)},n.Z=r},860451:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentUtils_useTotalCommentsCount",selections:[{alias:null,args:null,kind:"ScalarField",name:"totalComments",storageKey:null}],type:"Content",abstractKey:null,hash:"1c2faa4d3af4930fcdc500f8a2ba276a"};n.default=l},106903:function(e,n,a){a.r(n);a(244311);var l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentUtils_useTotalCommentsOnUsageCount",selections:[{alias:null,args:null,kind:"ScalarField",name:"totalComments",storageKey:null}],type:"ContentUsage",abstractKey:null,hash:"cd8eaf527e730db845596a088d5b1e1a"};n.default=l},655979:function(e,n,a){var l,t=a(115861),r=a(887757),i=a.n(r),s=a(628613),o=a(187351),d=a(966007),u=a(407176);a(681355);!function(e){function n(e,n,l){return a.apply(this,arguments)}function a(){return(a=(0,t.Z)(i().mark((function e(n,a,l){var t,r,c,g,m,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.eX)(window.location.host)?"https://graphql.production.services.disco.co/":"/",r=l||new AbortController,c={Accept:"application/json, text/plain, */*","Content-Type":"application/json"},window.discoUlKey&&(c["X-UL-Key"]=window.discoUlKey),e.next=6,fetch("".concat(t).concat(n),{method:"post",credentials:"include",headers:c,body:JSON.stringify(a),signal:r.signal});case 6:if(g=e.sent,m=g.clone(),!s.Z.hasError(m)){e.next=14;break}return e.next=11,m.json();case 11:p=e.sent,p.error===u.I&&(0,d.ln)();case 14:return e.abrupt("return",{response:g,abortController:r});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.request=n,e.generateBrainSearchResponse=function(e,a){return n("ai/generate/brain-search",{brainSearchId:e.brainSearchId,messageText:e.messageText,assistantMessageId:e.assistantMessageId},a)},e.generateText=function(e){return n("ai/generate/text",e)},e.generatePost=function(e){return n("ai/generate/post",e)},e.generateMessage=function(e){return n("ai/generate/message",e)},e.generateSuggestedPrompts=function(e){return n("ai/generate/suggested-prompts",e||{})}}(l||(l={})),n.Z=l}}]);
//# sourceMappingURL=chunk-7bcda8a0-8f2340e0ccfafb83.bundle.js.map