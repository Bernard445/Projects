!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="77e00e68-5b44-4b16-b33a-b9ebe1e3626e",e._sentryDebugIdIdentifier="sentry-dbid-77e00e68-5b44-4b16-b33a-b9ebe1e3626e")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"99773da04a1c0e06f56296724a5306c9a6b5ca8f"},(self.webpackChunkdisco=self.webpackChunkdisco||[]).push([[6078],{595640:function(e,n,a){a.d(n,{Z:function(){return U}});var r=a(204942),t=a(241451),l=a(898540),i=a(285245),o=a(69722),s=a(620822),u=a(501067),d=a(669187),c=a(831248),m=a(868112),p=a(616550),g=a(785893),h=(0,m.Z)((function(){return a.e(6004).then(a.bind(a,559198))})),b=(0,m.Z)((function(){return a.e(8045).then(a.bind(a,198290))}));var f=function(){var e=(0,o.R6)();return(0,g.jsxs)(p.rs,{children:[[(0,g.jsx)(u.Z,{path:d.ZP.PRODUCT.FEED.POSTS.DETAIL,exact:!0,entityKey:e,permission:"posts.read",metaTitle:"".concat(e.name," - Post"),children:(0,g.jsx)(h,{})},d.ZP.PRODUCT.FEED.POSTS.DETAIL)],(0,g.jsx)(u.Z,{path:"".concat(d.ZP.PRODUCT.ROOT,"/*"),permission:"curriculum.read",entityKey:e,metaTitle:"".concat(e.name," - Waiting Room"),children:(0,g.jsx)(b,{})})]})},y=a(142323),k=a(942952),v=a(696672),P=a(982879),F=a(667294);function x(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?x(Object(a),!0).forEach((function(n){(0,r.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var j=(0,m.Z)((function(){return a.e(2697).then(a.bind(a,966417))})),M=(0,m.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(802)]).then(a.bind(a,30595))})),K=(0,m.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(2033)]).then(a.bind(a,81719))})),T=(0,m.Z)((function(){return a.e(9370).then(a.bind(a,505906))})),C=(0,m.Z)((function(){return a.e(4742).then(a.bind(a,828672))})),w=(0,m.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(4565),a.e(1593)]).then(a.bind(a,684400))})),O=(0,m.Z)((function(){return a.e(141).then(a.bind(a,129235))})),R=(0,m.Z)((function(){return a.e(8461).then(a.bind(a,569468))})),L=(0,m.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(963),a.e(5909),a.e(9164)]).then(a.bind(a,896493))})),Z=(0,m.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(2453)]).then(a.bind(a,740383))})),I=(0,m.Z)((function(){return a.e(8314).then(a.bind(a,949161))})),N=(0,m.Z)((function(){return a.e(9569).then(a.bind(a,793915))})),D=(0,m.Z)((function(){return a.e(1720).then(a.bind(a,833904))})),E=(0,m.Z)((function(){return Promise.resolve().then(a.bind(a,483730))})),A=(0,m.Z)((function(){return Promise.resolve().then(a.bind(a,29355))})),_=(0,m.Z)((function(){return a.e(25).then(a.bind(a,38315))}));var U=function(){var e=(0,o.R6)(),n=(0,p.TH)(),a=(0,p.UO)().productSlug,r=(0,k.Z)().isWaitingRoomEnabled,m=(0,l.Z)().connectedApps,h=m.has("curriculum"),b=m.has("events"),x=m.has("posts"),U=m.has("collection"),B=m.has("group_directory"),G=m.has("member_directory");return function(){var e=(0,i.vn)(),n=(0,o.R6)(),a=(0,p.TH)(),r=a.pathname,t=a.search,l=(0,p.k6)();(0,F.useEffect)((function(){var a;null!=e&&null!==(a=e.viewerMembership)&&void 0!==a&&a.id&&("community_event"===(null==n?void 0:n.type)&&(t.includes("registrationStep")||-1!==r.indexOf("/p/".concat(n.slug,"/"))&&l.replace({pathname:d.ZP.COMMUNITY.EVENTS_CALENDAR.ROOT,search:(0,P.tr)(t,{drawerEventSlug:n.slug})})))}),[r,t,l])}(),(0,g.jsxs)(p.rs,{children:[e?[(0,g.jsx)(p.AW,{path:[d.ZP.PRODUCT.REGISTRATION.ROOT,d.ZP.PRODUCT.EVENTS.REGISTRATION.ROOT],children:(0,g.jsx)(Z,{})},"route:=".concat(d.ZP.PRODUCT.REGISTRATION.ROOT)),(0,g.jsx)(p.AW,{path:[d.ZP.PRODUCT.COMPLETE_APPLICATION],children:(0,g.jsx)(I,{})},"route:=".concat(d.ZP.PRODUCT.COMPLETE_APPLICATION)),(0,g.jsx)(p.AW,{path:[d.ZP.PRODUCT.LANDING_PAGE.EDIT,d.ZP.PRODUCT.LANDING_PAGE.PREVIEW,d.ZP.PRODUCT.LANDING_PAGE.SITE],exact:!0,children:(0,g.jsx)(w,{})},"route:=".concat(d.ZP.PRODUCT.LANDING_PAGE.EDIT))]:[],(0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.ROOT,children:r?(0,g.jsx)(f,{}):(0,g.jsx)(y.Z,{children:(0,g.jsxs)(p.rs,{children:[e&&[].concat((0,t.Z)(V()),(0,t.Z)("course"===e.type?[(0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.DASHBOARD,children:(0,g.jsx)(j,{})},"route:=".concat(d.ZP.PRODUCT.DASHBOARD))].concat((0,t.Z)(v.BB.spreadIf((0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.FEED.ROOT,children:(0,g.jsx)(R,{})},"route:=".concat(d.ZP.PRODUCT.FEED.ROOT)),x)),(0,t.Z)(v.BB.spreadIf((0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.COLLECTION.ROOT,children:(0,g.jsx)(K,{})},"route:=".concat(d.ZP.PRODUCT.COLLECTION.ROOT)),U)),(0,t.Z)(v.BB.spreadIf((0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.GROUP_DIRECTORY.DETAIL,children:(0,g.jsx)(_,{})},"route:=".concat(d.ZP.PRODUCT.GROUP_DIRECTORY.DETAIL)),B)),(0,t.Z)(v.BB.spreadIf((0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.MEMBER_DIRECTORY,children:(0,g.jsx)(O,{})},"route:=".concat(d.ZP.PRODUCT.MEMBER_DIRECTORY)),G)),(0,t.Z)(v.BB.spreadIf((0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.EVENTS.LIST.ROOT,children:(0,g.jsx)(C,{})},"route:=".concat(d.ZP.PRODUCT.EVENTS.LIST.ROOT)),b)),[(0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.SHARE.OCCURRENCE.ROOT,children:(0,g.jsx)(N,{})},"route:=".concat(d.ZP.PRODUCT.SHARE.OCCURRENCE.ROOT))],(0,t.Z)(v.BB.spreadIf((0,g.jsx)(p.AW,{path:[d.ZP.PRODUCT.CURRICULUM.OVERVIEW,d.ZP.PRODUCT.CURRICULUM.ROOT],children:(0,g.jsx)(T,{})},"route:=".concat(d.ZP.PRODUCT.CURRICULUM.ROOT)),h)),[(0,g.jsx)(p.AW,{path:[d.ZP.PRODUCT.REPORTS.PROGRESS.ROOT,d.ZP.PRODUCT.REPORTS.ROOT],children:(0,g.jsx)(L,{})},"route:=".concat(d.ZP.PRODUCT.REPORTS.ROOT)),(0,g.jsx)(p.AW,{path:[d.ZP.PRODUCT.CHAT.LIST,d.ZP.PRODUCT.CHAT.DIRECT_MESSAGE],children:(0,g.jsx)(M,{})},"route:=".concat(d.ZP.PRODUCT.CHAT.LIST))],(0,t.Z)([(0,g.jsx)(p.l_,{from:"/p/:productSlug/checkout",to:S(S({},n),{},{pathname:n.pathname.replace("/checkout","/register")})},"route:=CheckoutRemovalRedirects"),(0,g.jsx)(p.l_,{from:"/p/:productSlug/admin",to:S(S({},n),{},{pathname:n.pathname.replace("/admin","")})},"route:=AdminRemovalRedirect"),(0,g.jsx)(p.l_,{from:"/p/:productSlug/home",to:S(S({},n),{},{pathname:n.pathname.replace("home","dashboard")})},"route:=HomeToDashboardRdirect"),(0,g.jsx)(p.l_,{from:"/p/:productSlug/lessons",to:S(S({},n),{},{pathname:n.pathname.replace("/p/".concat(a),"/p/".concat(a,"/curriculum"))})},"route:=CurriculumNavChangeLessonRedirect"),(0,g.jsx)(p.l_,{from:"/p/:productSlug/assignments",to:S(S({},n),{},{pathname:n.pathname.replace("/p/".concat(a),"/p/".concat(a,"/curriculum"))})},"route:=CurriculumNavChangeAssignmentRedirect"),(0,g.jsx)(p.l_,{from:"/p/:productSlug/custom-contents",to:S(S({},n),{},{pathname:n.pathname.replace("/p/".concat(a),"/p/".concat(a,"/curriculum"))})},"route:=CurriculumNavChangeCustomContentsRedirect"),(0,g.jsx)(p.l_,{from:"/p/:productSlug/posts",to:S(S({},n),{},{pathname:(0,p.Gn)(d.ZP.PRODUCT.DASHBOARD,{productSlug:a})})},"route:=RedesignPostsAndFeedsRedirect")])):[]),(0,t.Z)("pathway"===e.type?z():[]),(0,t.Z)($())),(0,g.jsx)(p.l_,{from:"/p/:productSlug/admin",to:n.pathname.replace("/p/".concat(a,"/admin"),"/p/".concat(a))}),(0,g.jsx)(p.AW,{path:d.ZP.PRODUCT.NOT_FOUND,component:s.Z})]})})})]});function V(){return e?[(0,g.jsx)(u.Z,{path:[d.ZP.PRODUCT.MEMBERS.INVITES,d.ZP.PRODUCT.MEMBERS.APPLICATIONS,d.ZP.PRODUCT.MEMBERS.ROOT],permission:"members.read",entityKey:e,children:(0,g.jsx)(O,{})},"route:=".concat(d.ZP.PRODUCT.MEMBERS.ROOT))]:[]}function z(){return e?[(0,g.jsx)(u.Z,{path:d.ZP.PRODUCT.DASHBOARD,metaTitle:"".concat(e.name," - Dashboard"),permission:"dashboard.read",entityKey:e,children:(0,g.jsx)(c.Z,{})},"route:=".concat(d.ZP.PRODUCT.DASHBOARD))]:[]}function $(){return e?[(0,g.jsx)(u.Z,{path:d.ZP.PRODUCT.WEBVIEW.BOOKMARKS,permission:"content.read",entityKey:e,children:(0,g.jsx)(D,{type:"bookmarks"})},"route:=".concat(d.ZP.PRODUCT.WEBVIEW.BOOKMARKS)),(0,g.jsx)(u.Z,{path:d.ZP.PRODUCT.WEBVIEW.PROFILE,permission:"members.read",entityKey:e,children:(0,g.jsx)(D,{type:"profileSettings"})},"route:=".concat(d.ZP.PRODUCT.WEBVIEW.PROFILE)),(0,g.jsx)(u.Z,{path:d.ZP.PRODUCT.WEBVIEW.QUIZ,permission:"web_forms.read",entityKey:e,children:(0,g.jsx)(D,{type:"quiz"})},"route:=".concat(d.ZP.PRODUCT.WEBVIEW.QUIZ)),(0,g.jsx)(u.Z,{path:d.ZP.PRODUCT.WEBVIEW.CONTENT.SYSTEM_TASK.ADD_EVENTS_TO_CALENDER,permission:"content.read",entityKey:e,children:(0,g.jsx)(E,{})},"route:=".concat(d.ZP.PRODUCT.WEBVIEW.CONTENT.SYSTEM_TASK.ADD_EVENTS_TO_CALENDER)),(0,g.jsx)(u.Z,{path:d.ZP.PRODUCT.WEBVIEW.CONTENT.SYSTEM_TASK.COMPLETE_PROFILE,permission:"content.read",entityKey:e,children:(0,g.jsx)(A,{productId:e.id})},"route:=".concat(d.ZP.PRODUCT.WEBVIEW.CONTENT.SYSTEM_TASK.COMPLETE_PROFILE))]:[]}}},142323:function(e,n,a){var r=a(69722),t=a(189777),l=(a(667294),a(785893));n.Z=function(e){var n=e.metaTitle,a=e.children,i=(0,r.R6)();return(0,l.jsx)(t.Z,{metaTitle:n||(null==i?void 0:i.name),metaDetailsForSharing:{title:null==i?void 0:i.name,url:window.location.href,description:(null==i?void 0:i.description)||"",coverPhoto:(null==i?void 0:i.cover)||""},children:a})}},738195:function(e,n,a){var r,t,l=a(115861),i=a(386854),o=a(887757),s=a.n(o),u=a(391376),d=a(479159),c=a(669187),m=(a(208234),a(50072),a(958952)),p=a(842583),g=a(445033),h=a(541321),b=a(509645),f=a(611797),y=a(667294),k=a(422578),v=a(616550),P=(a(244311),a(785893)),F=a(425108);n.Z=function(e){var n,o=e.productKey,x=e.children,S=(0,y.useState)(!1),j=(0,i.Z)(S,2),M=j[0],K=j[1],T=(0,v.TH)(),C=(0,v.k6)(),w=(0,u.n)().removeProductMembershipFromState,O=p.Z.useInvalidateSidebar(),R=(0,k.useFragment)((void 0!==r||(r=a(208234)).hash&&"5c1680fd5a9ea1f0d68a0ebc840096a5"!==r.hash&&F.error("The definition of 'LeaveProductButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),o),L=(0,m.lU)(R.type),Z=(0,d.V)((void 0!==t||(t=a(313608)).hash&&"a2e8fecebc7b1b8f93bef7a510e2e471"!==t.hash&&F.error("The definition of 'LeaveProductButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),{productMembershipId:(null===(n=R.viewerMembership)||void 0===n?void 0:n.id)||""});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(b.p,{onClick:function(){return K(!0)},children:x}),(0,P.jsx)(f.Z,{testid:"LeaveProductButton.unenroll-member-warning-modal",isOpen:M,onClose:function(){return K(!1)},title:"Are you sure you want to leave the ".concat(L.singular,"?"),description:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(h.U4,{children:"You will no longer be able to access the ".concat(L.singular,": ").concat(R.name,".")})}),confirmationButtonProps:{onClick:function(){return I.apply(this,arguments)},shouldDisplaySpinner:Z.isSubmitting,children:"Leave the ".concat(L.singular)},modalContentLabel:"Leave the ".concat(L.singular)})]});function I(){return(I=(0,l.Z)(s().mark((function e(){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.submit({productMembershipId:Z.state.productMembershipId},{updater:function(e){return O(e)}});case 2:if(n=e.sent,n.didSave){e.next=6;break}return e.abrupt("return");case 6:a=T.pathname.startsWith((0,v.Gn)(c.ZP.PRODUCT.ROOT,{productSlug:R.slug})),w(Z.state.productMembershipId),(0,g.Km)({message:"Left ".concat(R.name),testid:"LeaveProductButton"}),K(!1),a&&C.push(c.ZP.COMMUNITY.HOME.ROOT);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},35272:function(e,n,a){var r,t,l=a(115861),i=a(204942),o=a(386854),s=a(887757),u=a.n(s),d=a(397207),c=a(963114),m=a(479159),p=(a(293542),a(50072),a(407176)),g=a(10165),h=a(461875),b=a(445033),f=a(541321),y=a(509645),k=a(611797),v=a(667294),P=a(422578),F=a(295791),x=a(244311),S=a(785893),j=a(425108);function M(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function K(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?M(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=function(e){var n,i=e.productMembershipKey,s=e.membershipConnectionId,M=e.children,T=(0,v.useState)(!1),C=(0,o.Z)(T,2),w=C[0],O=C[1],R=(0,P.useFragment)((void 0!==r||(r=a(293542)).hash&&"ec06283bfe18a4eb611df3412356f16d"!==r.hash&&j.error("The definition of 'UnenrollProductMemberButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),i),L=(0,m.V)((void 0!==t||(t=a(50072)).hash&&"aedea6c96909fb108a28d9985f8a2194"!==t.hash&&j.error("The definition of 'UnenrollProductMemberButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),{productMembershipId:R.id}),Z=(0,h.w)(R.role),I=(0,c.NP)("experience"),N="manager"===R.role||"instructor"===R.role;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.p,K(K({onClick:function(){return O(!0)}},e),{},{children:M})),(0,S.jsx)(k.Z,{testid:"UnenrollProductMemberButton.unenroll-member-warning-modal",isOpen:w,onClose:function(){return O(!1)},title:"Are you sure you want to unenroll ".concat(R.member.fullName||"this ".concat(Z.singular),"?"),description:N?"Are you sure you want to remove this ".concat(Z.singular,"?"):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.U4,{children:"They will no longer be able to access the ".concat(I.singular,".")}),(null===(n=R.product)||void 0===n?void 0:n.organization.stripeDashboardURL)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.U4,{children:"If you would like to issue a refund, please do so from your "}),(0,S.jsx)(f.GY,{"data-testid":"PayoutSettings.stripe-link",target:"_blank",href:R.product.organization.stripeDashboardURL,children:"Stripe Dashboard"})]})]}),confirmationButtonProps:{onClick:function(){return D.apply(this,arguments)},shouldDisplaySpinner:L.isSubmitting,children:"Yes, unenroll ".concat(Z.singular)},modalContentLabel:"Unenroll member dialog"})]});function D(){return(D=(0,l.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.submit({productMembershipId:L.state.productMembershipId},{updater:function(e){if(s){var n=e.get(s);n&&g.Z.deleteNodeFromConnection(n,R.id)}}});case 2:if(n=e.sent,n.didSave){e.next=6;break}return e.abrupt("return");case 6:(0,x.commitLocalUpdate)(p.Z,(function(e){var n=e.get(R.productId);if(n){F.Z.getConnections(n,"ProductMembersList__productMemberships").forEach((function(e){return e.invalidateRecord()}));var a=n.getLinkedRecord("productMemberships");a&&g.Z.deleteNodeFromConnection(a,R.id),F.Z.getConnections(n,"ExperienceAdminsList__productMemberships").forEach((function(e){return e.invalidateRecord()})),F.Z.getConnections(n,"ProductMembershipsTable__productMemberships").forEach((function(e){var n=Number(e.getValue("totalCount"));e.setValue(n-1,"totalCount")}))}(0,d.Y)(e,R.product.organization.id)})),(0,b.HE)({message:"Successfully unenrolled ".concat(Z.singular),testid:"UnenrollProductMemberButton.success-toast"}),O(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},208234:function(e,n,a){a.r(n);a(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LeaveProductButtonFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organizationMembershipId",storageKey:null}],storageKey:null}],type:"Product",abstractKey:null,hash:"5c1680fd5a9ea1f0d68a0ebc840096a5"};n.default=r},313608:function(e,n,a){a.r(n);a(244311);var r,t,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"LeaveProductButtonMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnenrollProductMemberResponse",kind:"LinkedField",name:"unenrollProductMember",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"productMembership",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"LeaveProductButtonMutation",selections:t},params:{cacheID:"fd25fedb2ce65b54e6842a4d92dbb03c",id:null,metadata:{},name:"LeaveProductButtonMutation",operationKind:"mutation",text:"mutation LeaveProductButtonMutation(\n  $input: UnenrollProductMemberInput!\n) {\n  response: unenrollProductMember(input: $input) {\n    productMembership {\n      id\n      status\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};l.hash="a2e8fecebc7b1b8f93bef7a510e2e471",n.default=l},293542:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnenrollProductMemberButtonFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"memberId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"stripeDashboardURL",storageKey:null}],storageKey:null}],storageKey:null}],type:"ProductMembership",abstractKey:null};t.hash="ec06283bfe18a4eb611df3412356f16d",n.default=t},50072:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"UnenrollProductMemberButtonMutation",selections:[{alias:"response",args:t=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnenrollProductMemberResponse",kind:"LinkedField",name:"unenrollProductMember",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"productMembership",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"UnenrollProductMemberButtonMutation",selections:[{alias:"response",args:t,concreteType:"UnenrollProductMemberResponse",kind:"LinkedField",name:"unenrollProductMember",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"productMembership",plural:!1,selections:[l,{alias:null,args:null,filters:null,handle:"deleteRecord",key:"",kind:"ScalarHandle",name:"id"},i],storageKey:null},o],storageKey:null}]},params:{cacheID:"a5855145f009868faf39d0503a41a86c",id:null,metadata:{},name:"UnenrollProductMemberButtonMutation",operationKind:"mutation",text:"mutation UnenrollProductMemberButtonMutation(\n  $input: UnenrollProductMemberInput!\n) {\n  response: unenrollProductMember(input: $input) {\n    productMembership {\n      id\n      status\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};s.hash="aedea6c96909fb108a28d9985f8a2194",n.default=s},923317:function(e,n,a){var r=a(422923),t=(a(667294),a(785893));n.Z=function(e){var n=e.content,a=e.testid;return(0,t.jsx)(r.Z,{testid:"".concat(a,".UserCardAdminDropdown"),children:n})}},219195:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MakeProductTeacherButtonFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"ProductMembership",abstractKey:null};t.hash="5b61b1d40f3bf1a75fe295e985bdc0c6",n.default=t},777453:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s,u,d,c,m,p,g,h,b,f,y={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ManageProductMemberGroupsButtonModalPreloadedQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[i,o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileAvatarFragment"}],storageKey:null},u={alias:null,args:[{kind:"Literal",name:"groupKinds",value:["custom"]}],concreteType:"MemberGroupMembershipNodeConnection",kind:"LinkedField",name:"memberGroupMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroupMembership",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:s=[i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'memberGroupMemberships(groupKinds:["custom"])'},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"defaultMemberGroup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CreateMemberGroupButtonFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MemberGroupsMultiSelect_ProductFragment"}],storageKey:null}],type:"ProductMembership",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ManageProductMemberGroupsButtonModalPreloadedQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[i,o,{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},u,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"defaultMemberGroup",plural:!1,selections:s,storageKey:null},i,{alias:null,args:[{kind:"Literal",name:"kind",value:"custom"}],concreteType:"MemberGroupNodeConnection",kind:"LinkedField",name:"memberGroups",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"node",plural:!1,selections:[i,d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"viewerIsMember",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"isSystem",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"parentMemberGroupId",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[i,d,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,concreteType:"MemberGroupNodeConnection",kind:"LinkedField",name:"childrenGroups",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"MemberGroupNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"node",plural:!1,selections:[i,d,c,m,p,h,b,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[i,d],storageKey:null},f,g],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'memberGroups(kind:"custom")'}],storageKey:null}],type:"ProductMembership",abstractKey:null}],storageKey:null}]},params:{cacheID:"899592dc2c3596c5312a3a8a87bf86d7",id:null,metadata:{},name:"ManageProductMemberGroupsButtonModalPreloadedQuery",operationKind:"query",text:"query ManageProductMemberGroupsButtonModalPreloadedQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ... on ProductMembership {\n      id\n      member {\n        id\n        fullName\n        ...ProfileAvatarFragment\n      }\n      memberGroupMemberships(groupKinds: [custom]) {\n        edges {\n          node {\n            id\n            memberGroup {\n              id\n            }\n          }\n        }\n      }\n      product {\n        defaultMemberGroup {\n          ...CreateMemberGroupButtonFragment\n          id\n        }\n        ...MemberGroupsMultiSelect_ProductFragment\n        id\n      }\n    }\n    id\n  }\n}\n\nfragment CreateMemberGroupButtonFragment on MemberGroup {\n  ...CreateMemberGroupModalFragment\n}\n\nfragment CreateMemberGroupModalFragment on MemberGroup {\n  id\n}\n\nfragment MemberGroupTagFragment on MemberGroup {\n  id\n  name\n  kind\n  color\n  role\n  isSystem\n  product {\n    id\n    name\n  }\n}\n\nfragment MemberGroupsMultiSelect_ProductFragment on Product {\n  id\n  memberGroups(kind: custom) {\n    edges {\n      node {\n        id\n        name\n        color\n        viewerIsMember\n        kind\n        isSystem\n        parentMemberGroupId\n        visibility\n        product {\n          id\n          name\n          type\n        }\n        ...MemberGroupTagFragment\n        childrenGroups {\n          totalCount\n          edges {\n            node {\n              id\n              name\n              color\n              viewerIsMember\n              kind\n              parentMemberGroupId\n              visibility\n              product {\n                id\n                name\n              }\n              ...MemberGroupTagFragment\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n"}};y.hash="a8555b9224634c8946acc6bb6169cd94",n.default=y},657163:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ManageProductMemberGroupsModalFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileAvatarFragment"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"groupKinds",value:["custom"]}],concreteType:"MemberGroupMembershipNodeConnection",kind:"LinkedField",name:"memberGroupMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroupMembership",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'memberGroupMemberships(groupKinds:["custom"])'},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"defaultMemberGroup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CreateMemberGroupButtonFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MemberGroupsMultiSelect_ProductFragment"}],storageKey:null}],type:"ProductMembership",abstractKey:null};t.hash="175ce511cee83905849a84b98dbf5b8a",n.default=t},246556:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s,u={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"ManageProductMemberGroupsModalMutation",selections:[{alias:"response",args:t=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"EditGroupMembershipsResponse",kind:"LinkedField",name:"editGroupMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useMemberGroupTagsList_ProductMembershipFragment"}],storageKey:null},i={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ManageProductMemberGroupsModalMutation",selections:[{alias:"response",args:t,concreteType:"EditGroupMembershipsResponse",kind:"LinkedField",name:"editGroupMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:o=[{kind:"Literal",name:"groupKinds",value:["custom"]}],concreteType:"MemberGroupMembershipNodeConnection",kind:"LinkedField",name:"memberGroupMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroupMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"parentMemberGroupId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystem",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[l,s],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'memberGroupMemberships(groupKinds:["custom"])'},{alias:null,args:o,filters:["groupKinds"],handle:"connection",key:"useMemberGroupTagsList_ProductMembershipFragment_memberGroupMemberships",kind:"LinkedHandle",name:"memberGroupMemberships"}],storageKey:null},i],storageKey:null}]},params:{cacheID:"8140a17a103138c44a02b220385f8e6f",id:null,metadata:{},name:"ManageProductMemberGroupsModalMutation",operationKind:"mutation",text:"mutation ManageProductMemberGroupsModalMutation(\n  $input: EditGroupMembershipsInput!\n) {\n  response: editGroupMemberships(input: $input) {\n    node {\n      id\n      ...useMemberGroupTagsList_ProductMembershipFragment\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n\nfragment MemberGroupTagFragment on MemberGroup {\n  id\n  name\n  kind\n  color\n  role\n  isSystem\n  product {\n    id\n    name\n  }\n}\n\nfragment useMemberGroupTagsList_ProductMembershipFragment on ProductMembership {\n  id\n  memberGroupMemberships(groupKinds: [custom]) {\n    edges {\n      node {\n        id\n        productId\n        memberGroup {\n          id\n          parentMemberGroupId\n          visibility\n          ...MemberGroupTagFragment\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n"}};u.hash="f8110b536001b711ffb30fa19562cc06",n.default=u},923297:function(e,n,a){var r,t,l=a(115861),i=a(887757),o=a.n(i),s=a(285245),u=a(922261),d=a(963114),c=a(479159),m=a(669187),p=a(187351),g=(a(970607),a(576926),a(10165)),h=a(445033),b=a(509645),f=a(304550),y=a(724104),k=a(757336),v=a(422578),P=a(616550),F=a(295791),x=(a(244311),a(785893)),S=a(425108);n.Z=(0,k.Pi)((function(e){var n=e.children,i=e.organizationMembershipKey,k=e.testid,j=void 0===k?"RemoveCommunityMemberButton":k,M=(0,s.vn)(),K=(0,y.Z)(),T=K.onOpen,C=K.onClose,w=K.isOpen,O=(0,u.f)({required:!0}).authUser,R=(0,d.NP)("admin_member"),L=(0,d.NP)("organization"),Z=(0,P.k6)(),I=(0,v.useFragment)((void 0!==r||(r=a(970607)).hash&&"8c2df381128e42b639e270d3591969c4"!==r.hash&&S.error("The definition of 'RemoveCommunityMemberButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),i),N=(0,c.V)((void 0!==t||(t=a(576926)).hash&&"3945cf44c1f78a2ac6b7e16938af2cd3"!==t.hash&&S.error("The definition of 'RemoveCommunityMemberButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),{organizationMembershipId:I.id}),D=O.id===I.member.id;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b.p,{testid:j,onClick:T,children:n}),(0,x.jsx)(f.Z,{testid:"RemoveCommunityMemberButtonModal",isOpen:w,onClose:C,modalContentLabel:D?"Delete Membership":"Remove ".concat(L.singular," ").concat(R.singular),title:D?"Delete Membership":"Remove ".concat(L.singular," ").concat(R.singular),description:D?"Are you sure you want to leave the ".concat(L.singularLowercase,"? This action will restrict you from accessing the ").concat(L.singularLowercase," as well as erase all your existing data related to this ").concat(L.singularLowercase,"."):"Are you sure you want to remove this ".concat(R.singular," from the ").concat(L.singularLowercase,"? This action is permanent and all this ").concat(R.singular,"'s data will be removed along with their access to this ").concat(L.singularLowercase,"."),typeToConfirmText:"Delete Membership",confirmButtonProps:{onClick:function(){return E.apply(this,arguments)},shouldDisplaySpinner:N.isSubmitting,children:D?"Yes, delete":"Yes, remove them"}})]});function E(){return(E=(0,l.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.submit(N.state,{updater:function(e,n){var a=n.response;if(!D){var r=e.get(M.id);if(null!=a&&a.node){if(r){var t=[a.node.id].concat((null==a?void 0:a.deletedTestMembershipIds)||[]);F.Z.getConnections(r,"CommunityMembersListPage__organizationMemberships").forEach((function(e){t.forEach((function(n){F.Z.deleteNode(e,n)}))})),F.Z.getConnections(r,"CommunityPeopleReportTable__organizationMemberships").forEach((function(e){t.forEach((function(n){F.Z.deleteNode(e,n)}))}))}var l=e.get(M.viewerMembership.id);l&&F.Z.getConnections(l,"TestUserDropdownItem__mainUserLinks").forEach((function(e){return e.invalidateRecord()}))}}}});case 2:if(n=e.sent,n.didSave){e.next=6;break}return e.abrupt("return");case 6:D?A():(0,h.Km)({message:"".concat(R.singular," removed from the ").concat(L.singularLowercase),testid:j}),C();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){if(M.slug===I.organization.slug){var e=g.Z.connectionToArray(I.member.organizationMemberships).map((function(e){return e.organization})).find((function(e){return e.slug!==I.organization.slug}));e?(0,p.XV)(e,M,m.ZP.COMMUNITY.HOME.ROOT):Z.replace(m.ZP.NO_COMMUNITY_MEMBERSHIP)}}}))},970607:function(e,n,a){a.r(n);a(244311);var r,t,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RemoveCommunityMemberButtonFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[r,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"OrganizationMembershipNodeConnection",kind:"LinkedField",name:"organizationMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"OrganizationMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"OrganizationMembership",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primaryDomain",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"organizationMemberships(first:2)"}],storageKey:null},{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[r,t],storageKey:null}],type:"OrganizationMembership",abstractKey:null};l.hash="8c2df381128e42b639e270d3591969c4",n.default=l},576926:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s,u,d,c={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"RemoveCommunityMemberButtonMutation",selections:[{alias:"response",args:t=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteOrganizationMemberResponse",kind:"LinkedField",name:"deleteOrganizationMembership",plural:!1,selections:[{alias:null,args:null,concreteType:"OrganizationMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"membersCount",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"adminsCount",storageKey:null},s={alias:null,args:null,concreteType:"OrganizationMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"deletedTestMembershipIds",storageKey:null},d={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"RemoveCommunityMemberButtonMutation",selections:[{alias:"response",args:t,concreteType:"DeleteOrganizationMemberResponse",kind:"LinkedField",name:"deleteOrganizationMembership",plural:!1,selections:[{alias:null,args:null,concreteType:"OrganizationMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[i,o,s,l],storageKey:null}],storageKey:null},u,d],storageKey:null}]},params:{cacheID:"4e5cbfee8a0682578710c324e84af079",id:null,metadata:{},name:"RemoveCommunityMemberButtonMutation",operationKind:"mutation",text:"mutation RemoveCommunityMemberButtonMutation(\n  $input: DeleteOrganizationMembershipInput!\n) {\n  response: deleteOrganizationMembership(input: $input) {\n    node {\n      id\n      organization {\n        membersCount\n        adminsCount\n        viewerMembership {\n          id\n          role\n        }\n        id\n      }\n    }\n    deletedTestMembershipIds\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};c.hash="3945cf44c1f78a2ac6b7e16938af2cd3",n.default=c},42986:function(e,n,a){var r,t=a(204942),l=a(963114),i=(a(82966),a(681355),a(10165)),o=a(155789),s=a(541321),u=a(782004),d=a(366963),c=a(696672),m=a(422578),p=a(785893),g=a(425108);function h(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?h(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=i.Z.withSkeleton({component:function(e){var n=e.testid,t=void 0===n?"ProductMemberMultiSelect":n,s=e.placeholder,h=e.productId,f=e.values,y=e.onChange,k=(0,m.useLazyLoadQuery)((void 0!==r||(r=a(82966)).hash&&"69a498cc265c373a6d6e1a2c0d58e012"!==r.hash&&g.error("The definition of 'ProductMemberMultiSelectQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{id:h}).product,v=i.Z.connectionToArray(null==k?void 0:k.productMemberships),P=c.BB.mapBy(v,"id"),F=new Set(e.hideUserIds),x=F.size>0?v.filter((function(e){return!F.has(e.member.id)})):v,S=(0,l.bE)();return(0,p.jsx)(u.Z,{testid:t,placeholder:s||S.product_member.plural,values:f,onChange:function(e){y(e.filter((function(e){return P[e]})).map((function(e){return{id:P[e].id,memberId:P[e].member.id}})))},renderOption:function(e){var n=P[e.value];return n?(0,p.jsx)(o.Z,{testid:"".concat(t,".option.").concat(e.title),userKey:n.member,privateUserKey:n}):(0,p.jsx)(p.Fragment,{})},renderTags:function(e,n){return e.map((function(e,a){return(0,p.jsx)(d.Z,b(b({testid:"".concat(t,".option.remove.").concat(e.title)},n({index:a})),{},{name:e.title}),e.value)}))},options:x.map((function(e){return{key:e.id,value:e.id,title:e.member.fullName,searchable:[e.member.fullName,e.email]}})),additionalSubmitKeys:[","],filterOptions:{maxVisible:100}})},skeleton:function(){return(0,p.jsx)(s.sS,{})}})},82966:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ProductMemberMultiSelectQuery",selections:[{alias:"product",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{args:null,kind:"FragmentSpread",name:"UserDropdownItemPrivateFragment"},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[l,o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"UserDropdownItemFragment"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Product",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductMemberMultiSelectQuery",selections:[{alias:"product",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l,i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[l,o,{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isPrivateUser"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Product",abstractKey:null}],storageKey:null}]},params:{cacheID:"656802ca163dc92929576ad156e6bad5",id:null,metadata:{},name:"ProductMemberMultiSelectQuery",operationKind:"query",text:"query ProductMemberMultiSelectQuery(\n  $id: ID!\n) {\n  product: node(id: $id) {\n    __typename\n    ... on Product {\n      productMemberships {\n        edges {\n          node {\n            id\n            email\n            ...UserDropdownItemPrivateFragment\n            member {\n              id\n              fullName\n              ...UserDropdownItemFragment\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment UserDropdownItemFragment on User {\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment UserDropdownItemPrivateFragment on PrivateUser {\n  __isPrivateUser: __typename\n  email\n}\n"}};s.hash="69a498cc265c373a6d6e1a2c0d58e012",n.default=s},671199:function(e,n,a){a.d(n,{Z:function(){return q}});var r,t=a(204942),l=a(922261),i=a(753688),o=a(35272),s=a(923317),u=a(115861),d=a(386854),c=a(887757),m=a.n(c),p=a(285245),g=a(545719),h=(a(732739),a(219195),a(461875)),b=a(445033),f=a(509645),y=a(611797),k=a(240680),v=a(667294),P=a(422578),F=(a(244311),a(785893)),x=a(425108);var S,j,M=function(e){var n=e.productMembershipKey,t=e.children,i=e.productRole,o=(0,v.useState)(!1),s=(0,d.Z)(o,2),c=s[0],S=s[1],j=(0,l.f)({required:!0}).authUser,M=(0,p.vn)(),K=(0,P.useFragment)((void 0!==r||(r=a(219195)).hash&&"5b61b1d40f3bf1a75fe295e985bdc0c6"!==r.hash&&x.error("The definition of 'MakeProductTeacherButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),n),T=(0,g.s)({productId:K.product.id,message:function(){if(!C)return"";var e=j.fullName;return"Hi! ".concat(e," from ").concat(M.name," has invited you to ").concat(C.name,", as ").concat(R," ").concat(O.singular,".")}(),users:[{email:K.email}],productRole:i}),C=K.product,w=K.member,O=(0,h.w)(i),R=(0,k.A8)(O.singular)?"an":"a";return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(f.p,{onClick:function(){S(!0)},children:t}),(0,F.jsx)(y.Z,{testid:"ProductMemberCard.make-teacher-warning-modal",variant:"primary",icon:"user",isOpen:c,onClose:Z,title:"Change role to ".concat(O.singular,"?"),confirmationButtonProps:{onClick:function(){return L.apply(this,arguments)},shouldDisplaySpinner:T.isSubmitting,children:"Yes, make ".concat(O.singular)},description:"Are you sure you want to make ".concat(w.fullName," ").concat(R," ").concat(O.singular,"?"),modalContentLabel:"Make ".concat(O.singular," dialog")})]});function L(){return(L=(0,u.Z)(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.submit({productId:T.state.productId,organizationId:T.state.organizationId,message:T.state.message,productRole:T.state.productRole,users:T.state.users},{connections:[],updater:function(e){var n=e.get(K.id);n&&n.setValue(i,"role")}});case 2:if(n=e.sent,n.didSave){e.next=6;break}return e.abrupt("return");case 6:Z(),(0,b.HE)({message:"Role changed to ".concat(O.singular,"!"),testid:"AdminCardDropdown.success-message"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){S(!1)}},K=(a(777453),a(10165)),T=a(541321),C=a(724104),w=a(479159),O=a(46800),R=a(650039),L=(a(246556),a(681355),a(276979)),Z=a(810863),I=a(696672),N=a(425108);var D=(0,Z.Z)((function(e){return{selectedMembershipListItem:{display:"flex",borderRadius:e.measure.borderRadius.big,boxShadow:e.palette.groovyDepths.insideCard,padding:e.spacing(1.5),margin:e.spacing(1.25,.5,2.5,.5)},avatar:{marginRight:e.spacing(1.5)},newGroup:{marginRight:"auto"}}})),E=function(e){var n=e.isOpen,r=e.onClose,t=e.productMembershipQueryRef,l=e.refetchMemberships,i=e.testid,o=void 0===i?"ManageProductMemberGroupsModal":i,s=D(),c=(0,P.usePreloadedQuery)(U,t).node,p=(0,v.useState)([]),g=(0,d.Z)(p,2),h=g[0],f=g[1],y=K.Z.narrowNodeType(c,"ProductMembership"),k=(0,w.V)((void 0!==S||(S=a(246556)).hash&&"f8110b536001b711ffb30fa19562cc06"!==S.hash&&N.error("The definition of 'ManageProductMemberGroupsModalMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),S),{productMembershipId:(null==y?void 0:y.id)||""}),x=K.Z.connectionToArray(null==y?void 0:y.memberGroupMemberships).map((function(e){return e.memberGroup}));return(0,v.useEffect)((function(){f(x.map((function(e){return e.id})))}),[x.length]),y?(0,F.jsx)(T.SH,{testid:o,modalContentLabel:"Manage Groups",isOpen:n,onClose:r,title:"Manage Groups",subtitle:"Add and remove group tags to manage the groups for:",body:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:s.selectedMembershipListItem,children:[(0,F.jsx)(L.Z,{testid:"".concat(o,".UserAvatar"),className:s.avatar,placeholderClassName:s.avatar,userKey:y.member,size:24}),(0,F.jsx)(T.U4,{color:"text.secondary",children:y.member.fullName})]}),(0,F.jsx)(R.Z,{productKey:y.product,selectedGroupIds:h,setSelectedGroupIds:f,allowGroupSelection:["custom"]})]}),fullWidthButtons:!0,buttons:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(O.Z,{groupKey:y.product.defaultMemberGroup,isCreatingSubGroup:!0,selectedMembershipIds:[y.id],onCreate:r,children:function(e){var n=e.onClick;return(0,F.jsx)(T.GY,{"data-testid":"".concat(o,".create-group-button"),leftIcon:"add",onClick:n,className:s.newGroup,children:"New Group"})}}),(0,F.jsx)(T.v2,{color:"grey",variant:"outlined",onClick:r,children:"Cancel"}),(0,F.jsx)(T.v2,{onClick:function(){return j.apply(this,arguments)},disabled:k.isSubmitting,"data-testid":"MemberGroupFormFields.submit",children:"Save Changes"})]})}):null;function j(){return(j=(0,u.Z)(m().mark((function e(){var n,a,t,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=I.BB.diff(x.map((function(e){return e.id})),h),a=n.added,t=n.removed,e.next=4,k.submit({productMembershipId:y.id,addToGroups:a,removeFromGroups:t});case 4:if(i=e.sent,!i.didSave){e.next=11;break}return e.next=9,l();case 9:(0,b.HE)({message:"Groups updated!",testid:"MemberGroupForm.success-toast"}),r();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),(0,b.M$)(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}};void 0!==j||(j=a(657163)).hash&&"175ce511cee83905849a84b98dbf5b8a"!==j.hash&&N.error("The definition of 'ManageProductMemberGroupsModalFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");var A,_=a(425108),U=(void 0!==A||(A=a(777453)).hash&&"a8555b9224634c8946acc6bb6169cd94"!==A.hash&&_.error("The definition of 'ManageProductMemberGroupsButtonModalPreloadedQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),A);var B,G=K.Z.withSkeleton({component:function(e){var n=e.refetchMemberships,a=e.productMembershipId,r=e.children,t=(0,C.Z)(),l=t.isOpen,i=t.onOpen,o=t.onClose,s=(0,P.useQueryLoader)(U),u=(0,d.Z)(s,2),c=u[0],m=u[1];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(f.p,{onClick:function(){m({id:a}),i()},children:r}),c&&(0,F.jsx)(E,{isOpen:l,onClose:o,refetchMemberships:n,productMembershipQueryRef:c})]})},skeleton:function(){return(0,F.jsx)(T.Zi,{})}}),V=(a(445639),a(162083)),z=a(571596),$=a(425108);function Q(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function W(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var q=function(e){var n=e.testid,r=e.productMembershipKey,t=e.refetchMemberships,u=(0,P.useFragment)((void 0!==B||(B=a(445639)).hash&&"f3d2965528bb290f0105c32ef387fdcc"!==B.hash&&$.error("The definition of 'ProductMemberOverflowDropdownFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),B),r),d=(0,i.P)("experienceSettings"),c=(0,l.f)({required:!0}).authUser,m=(0,z.Z)(u.product),p=(0,h.CZ)(u.product,u.role||null),g=(0,h.hJ)(),b="pathway"===u.product.type,f=m.has("member_groups.manage"),y=c.id===K.Z.fromGlobalId(u.member.id).id,k=m.has("experience_settings.manage"),v=!b&&m.has("product_managers.manage"),x=!b&&m.has("product_instructors.manage");if(!(f||v||x||p||k))return null;var S=g[u.role];return(0,F.jsx)(s.Z,{testid:n,content:(0,F.jsxs)(F.Fragment,{children:[f&&(0,F.jsx)(G,{refetchMemberships:t,productMembershipId:u.id,children:function(e){return(0,F.jsx)(V.Z,W(W({},e),{},{title:"Manage Groups",testid:"".concat(n,".ManageGroupsButton")}))}}),"member"===u.role?(0,F.jsxs)(F.Fragment,{children:[v&&(0,F.jsx)(M,{productMembershipKey:u,productRole:"manager",children:function(e){return(0,F.jsx)(V.Z,W(W({},e),{},{title:"Make ".concat(g.manager.singular),testid:"".concat(n,".MakeManagerButton")}))}}),x&&(0,F.jsx)(M,{productMembershipKey:u,productRole:"instructor",children:function(e){return(0,F.jsx)(V.Z,W(W({},e),{},{title:"Make ".concat(g.instructor.singular),testid:"".concat(n,".MakeInstructorButton")}))}}),p&&(0,F.jsx)(o.Z,{productMembershipKey:u,children:function(e){return(0,F.jsx)(V.Z,W(W({},e),{},{title:"Unenroll ".concat(S.singular),testid:"".concat(n,".UnenrollMemberButton")}))}})]}):(0,F.jsxs)(F.Fragment,{children:[!y&&p&&(0,F.jsx)(o.Z,{productMembershipKey:u,children:function(e){return(0,F.jsx)(V.Z,W(W({},e),{},{title:"Unenroll ".concat(S.singular),testid:"".concat(n,".RemoveTeacherButton")}))}}),k&&(0,F.jsx)(V.Z,{title:"Manage Role",testid:"".concat(n,".ManageRoleButton"),onClick:function(){return d.open({drawerExperienceId:u.product.id,experienceSettingsTab:"team"})}})]})]})})}},88375:function(e,n,a){a.d(n,{U:function(){return k}});var r,t=a(204942),l=a(753688),i=a(810863),o=(a(497434),a(276979)),s=a(541321),u=a(3848),d=a(366963),c=a(558365),m=a(294184),p=a.n(m),g=(a(667294),a(422578)),h=(a(244311),a(785893)),b=a(425108);var f=(0,i.Z)((function(e){return{cardButton:function(n){var a,r=n.groovyDepths;return a={position:"relative",padding:e.spacing(4,3),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:e.palette.background.paper,borderRadius:e.measure.borderRadius.big,border:e.palette.constants.borderSmall,width:"100%",height:"100%",boxShadow:r?e.palette.groovyDepths[r]:void 0,transition:"box-shadow 0.4s ease"},(0,t.Z)(a,e.breakpoints.down("xs"),{width:"100%"}),(0,t.Z)(a,"&:hover",{transition:e.transitions.create(["boxShadow","cursor"],{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeInOut}),cursor:"pointer",boxShadow:e.palette.groovyDepths.insideCard,backgroundColor:e.palette.background.paper}),a},selectContainer:{position:"absolute",top:0,left:e.spacing(1)},dropdownContainer:{position:"absolute",top:e.spacing(1),right:e.spacing(1)},avatarContainer:{marginBottom:e.spacing(2),display:"inline-flex"},nameContainer:{marginBottom:e.spacing(1)},bioContainer:{textAlign:"center",color:e.palette.groovy.grey[400],maxHeight:"46px"},bio:{wordBreak:"break-word"},userTagsContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start",gap:e.spacing(1),overflow:"hidden",maxHeight:"64px",marginTop:e.spacing(1.5)}}})),y=(0,i.Z)((function(e){return{skeletonCard:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.background.paper,borderRadius:e.measure.borderRadius.big,width:"100%",height:300,border:"none",transition:"box-shadow 0.4s ease"}}})),k=function(){var e=y();return(0,h.jsxs)("div",{className:e.skeletonCard,children:[(0,h.jsx)(c.Z,{variant:"circle",width:96,height:96}),(0,h.jsx)(s.Ju,{marginTop:4,variant:"body-lg-600",width:150}),(0,h.jsx)(s.Ju,{width:120}),(0,h.jsx)(s.Ju,{width:130})]})};n.Z=function(e){var n=e.tags,t=e.checkbox,i=e.dropdown,c=e.testid,m=e.userKey,y=e.groovyDepths,k=e.className,v=(0,g.useFragment)((void 0!==r||(r=a(497434)).hash&&"6489e50ec0848146e55d9262289c8bc8"!==r.hash&&b.error("The definition of 'UserCardFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),m),P=(0,l.P)("profileSettings"),F=f({groovyDepths:y});return(0,h.jsx)(u.Z,{onClick:function(){P.open({drawerProfileId:v.id,profileSettingsTab:"profile"})},"data-testid":"UserCard.view-profile-button",className:p()(F.cardButton,k),children:(0,h.jsxs)("div",{"data-testid":c,children:[t&&(0,h.jsx)("div",{className:F.selectContainer,onClick:function(e){return e.stopPropagation()},children:t}),i&&(0,h.jsx)("div",{className:F.dropdownContainer,children:i}),(0,h.jsx)("div",{className:F.avatarContainer,children:(0,h.jsx)(o.Z,{userKey:v,size:96,showTestUserTag:!0})}),(0,h.jsx)("div",{className:F.nameContainer,children:(0,h.jsx)(s.U4,{variant:"body-lg-600","data-testid":"ProductMemberCard.name",truncateText:3,className:"fs-mask",children:v.fullName})}),v.bio&&(0,h.jsx)("div",{className:F.bioContainer,children:(0,h.jsx)(s.U4,{variant:"body-sm",color:"text.secondary",truncateText:2,className:p()(F.bio,"fs-mask"),children:v.bio})}),n&&n.length>0&&(0,h.jsx)("div",{className:F.userTagsContainer,children:n.length<=4?n:(0,h.jsxs)(h.Fragment,{children:[n.slice(0,3),(0,h.jsx)(d.Z,{name:"+ ".concat(n.length-3," more")})]})})]})})}},804302:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"canMakeTeacher"},{defaultValue:null,kind:"LocalArgument",name:"canUnenroll"}],kind:"Fragment",metadata:null,name:"ProductMemberCardFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[r,{args:null,kind:"FragmentSpread",name:"UserCardFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useMemberGroupTagsList_ProductMembershipFragment"},{args:[{kind:"Variable",name:"canMakeTeacher",variableName:"canMakeTeacher"},{kind:"Variable",name:"canUnenroll",variableName:"canUnenroll"}],kind:"FragmentSpread",name:"ProductMemberOverflowDropdownFragment"}],type:"ProductMembership",abstractKey:null};t.hash="1ef020290ce3b3454d4bf53cbf1c8078",n.default=t},445639:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"canMakeTeacher"},{defaultValue:null,kind:"LocalArgument",name:"canUnenroll"}],kind:"Fragment",metadata:null,name:"ProductMemberOverflowDropdownFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{condition:"canMakeTeacher",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"MakeProductTeacherButtonFragment"}]},{condition:"canUnenroll",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"UnenrollProductMemberButtonFragment"}]},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],storageKey:null}],type:"ProductMembership",abstractKey:null};t.hash="f3d2965528bb290f0105c32ef387fdcc",n.default=t},497434:function(e,n,a){a.r(n);a(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserCardFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileAvatarFragment"}],type:"User",abstractKey:null,hash:"6489e50ec0848146e55d9262289c8bc8"};n.default=r},824561:function(e,n,a){a.d(n,{Z:function(){return I}});var r,t=a(241451),l=a(386854),i=(a(503843),a(69722)),o=a(963114),s=a(810863),u=a(204942),d=a(847071),c=a(671199),m=(a(804302),a(681355),a(27306)),p=a(163102),g=a(541321),h=a(571596),b=a(294184),f=a.n(b),y=a(422578),k=(a(244311),a(88375)),v=a(785893),P=a(425108);var F,x,S,j=function(e){var n=e.testid,l=e.isSelected,o=void 0!==l&&l,s=e.handleSelectMember,b=e.refetchMemberships,F=e.productMembershipKey,x=e.groovyDepths,S=e.className,j=(0,y.useFragment)((void 0!==r||(r=a(804302)).hash&&"1ef020290ce3b3454d4bf53cbf1c8078"!==r.hash&&P.error("The definition of 'ProductMemberCardFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),F),M=(0,i.R6)(),K=(0,h.Z)(M),T=(0,d.Z)({productMembershipKey:j}).everyoneTags,C=(0,p.Z)();if(!j)return null;var w=K.has("emails.manage"),O=K.has("member_groups.manage");return(0,v.jsx)(k.Z,{testid:n,className:f()(S,C.hoverable),userKey:j.member,groovyDepths:x,checkbox:(w||O)&&(0,v.jsx)(g.Af,{className:f()((0,u.Z)({},C.showable,!o)),testid:"ProductMemberCard.select-button",label:null,onChange:function(){return s(j.id,j.member.id)},checked:o}),tags:[(0,v.jsx)(m.Z,{productRole:j.role},"role")].concat((0,t.Z)(T)),dropdown:(0,v.jsx)(c.Z,{testid:n,productMembershipKey:j,refetchMemberships:b})})},M=a(115046),K=a(318215),T=a(431575),C=(a(791815),a(447061),a(860595),a(454702)),w=(a(920805),a(10165)),O=a(583353),R=a(667294),L=(a(855989),a(425108));var Z=(0,s.Z)((function(e){return{gridContainer:{display:"grid",gap:e.spacing(1)},card:{height:"300px"},selectContainer:{display:"flex",alignItems:"center",paddingTop:"0 !important"},selectMoreContainer:{display:"flex",alignItems:"center",gap:e.spacing(1)}}})),I=w.Z.withSkeleton({component:function(e){var n,r,s=e.toolbarState,u=e.hideSelectAll,d=e.groovyDepths,c=e.appId,m=(0,R.useState)([]),p=(0,l.Z)(m,2),h=p[0],b=p[1],f=(0,R.useState)(!1),k=(0,l.Z)(f,2),P=k[0],T=k[1],I=Z(),N=(0,i.R6)(),D=N.viewerPermissions,E=D.has("emails.manage"),A=D.has("member_groups.manage"),_=D.has("invitations.manage"),U=D.has("members.manage"),B=(0,y.useLazyLoadQuery)((void 0!==F||(F=a(855989)).hash&&"e1e7a4bd2b4c509fc6dc27f894a1b2e3"!==F.hash&&L.error("The definition of 'ProductMembersList__membersDirectoryFiltersQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),F),{id:c||""}).app,G=w.Z.connectionToArray(null==B?void 0:B.membersDirectoryFilters).filter((function(e){var n;return e.memberGroupId&&(null===(n=e.memberGroupId)||void 0===n?void 0:n.length)>0})).map((function(e){return e.memberGroupId})),V=(0,y.useLazyLoadQuery)((void 0!==x||(x=a(447061)).hash&&"d713ef6ca68f6ae586a1c21bc4b353d7"!==x.hash&&L.error("The definition of 'ProductMembersListQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),x),{id:N.id,canMakeTeacher:_,canUnenroll:U,productRoles:null!==(n=s.selectedRole)&&void 0!==n&&n.value?[s.selectedRole.value]:null,first:12,memberGroupFilterInput:(0,C.mo)(s),profileFields:(0,C._L)(s),search:s.search,groupIds:G,orderBy:{field:(0,C.OO)(s.sort.order.field),direction:s.direction}},{fetchPolicy:"network-only"}).node,z=(0,y.usePaginationFragment)((void 0!==S||(S=a(860595)).hash&&"6cc4e610ff4e7c6dcd9ae3dc188d0d5f"!==S.hash&&L.error("The definition of 'ProductMembersList_PaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),S),V),$=z.data,Q=z.loadNext,W=z.hasNext,q=z.isLoadingNext,H=z.refetch;(0,y.useSubscribeToInvalidationState)(null!=$&&null!==(r=$.productMemberships)&&void 0!==r&&r.__id?[$.productMemberships.__id]:[],ae),(0,R.useEffect)((function(){X()}),[s]);var Y=(0,o.NP)("product_member");if(!V||!$)return null;var J=_?w.Z.connectionToArray($.productMemberships):w.Z.connectionToArray($.productMemberships).filter((function(e){return e.member.firstName}));return(0,v.jsxs)("div",{className:I.gridContainer,children:[(0,v.jsx)("div",{className:I.selectContainer,children:(E||A)&&J.length>0&&!u&&(0,v.jsx)(g.Af,{testid:"ProductMembersList.select-all",label:"Select All",onChange:ee,checked:P||h.length===J.length})}),h.length===J.length&&h.length<$.productMemberships.totalCount&&J.length>0&&(0,v.jsx)(g.kz,{"data-testid":"ProductMembersList.total-selected-alert-banner",message:P?(0,v.jsxs)("div",{className:I.selectMoreContainer,children:[(0,v.jsx)(g.U4,{children:"All ".concat($.productMemberships.totalCount," ").concat(Y.plural," are selected.")}),(0,v.jsx)(g.GY,{onClick:ee,children:"Clear selection"})]}):(0,v.jsxs)("div",{className:I.selectMoreContainer,children:[(0,v.jsx)(g.U4,{children:"Only ".concat(h.length," ").concat(Y.plural," are selected.")}),(0,v.jsx)(g.GY,{onClick:function(){T((function(e){return!e}))},children:"Select all ".concat($.productMemberships.totalCount," ").concat(Y.plural)})]}),color:"warning"}),J.length?(0,v.jsx)(O.Z,{data:J,item:function(e,n){var a=n[e];return(0,v.jsx)(j,{testid:"ProductMemberCard-".concat(e),className:I.card,isSelected:re(a.id),handleSelectMember:ne,refetchMemberships:ae,productMembershipKey:a,groovyDepths:d},a.id)},refetch:{isLoading:q,hasNext:W,loadMore:function(){return Q(12)}}}):(0,v.jsx)(K.Z,{title:"No ".concat(Y.plural," Found")}),(0,v.jsx)(M.Z,{memberships:P?void 0:h,allSelected:P?{isAllSelected:P,totalCount:$.productMemberships.totalCount}:void 0,onClose:X,selectedGroupFilter:"all"===s.selectedGroup.value?void 0:s.selectedGroup.value})]});function X(){b([]),T(!1)}function ee(){P||h.length>=J.length?X():b(J.map((function(e){return{id:e.id,memberId:e.member.id}})))}function ne(e,n){var a;re(e)?P?(T(!1),a=J.filter((function(n){return n.id!==e})).map((function(e){return{id:e.id,memberId:e.member.id}}))):a=h.filter((function(n){return n.id!==e})):a=[].concat((0,t.Z)(h),[{id:e,memberId:n}]),b(a)}function ae(){H({memberGroupFilterInput:(0,C.mo)(s)},{fetchPolicy:"network-only"})}function re(e){return!!P||h.map((function(e){return e.id})).includes(e)}},skeleton:T.Z})},791815:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s,u,d,c,m,p,g,h,b,f,y,k,v,P,F,x,S,j,M,K,T,C,w,O,R,L,Z,I,N,D={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"canMakeTeacher"},l={defaultValue:null,kind:"LocalArgument",name:"canUnenroll"},i={defaultValue:null,kind:"LocalArgument",name:"first"},o={defaultValue:null,kind:"LocalArgument",name:"groupIds"},s={defaultValue:null,kind:"LocalArgument",name:"id"},u={defaultValue:null,kind:"LocalArgument",name:"memberGroupFilterInput"},d={defaultValue:null,kind:"LocalArgument",name:"orderBy"},c={defaultValue:null,kind:"LocalArgument",name:"productRoles"},m={defaultValue:null,kind:"LocalArgument",name:"profileFields"},p={defaultValue:null,kind:"LocalArgument",name:"search"}],kind:"Fragment",metadata:null,name:"ProductMembersListPaginationQuery",selections:[{alias:null,args:g=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[h={kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"canMakeTeacher",variableName:"canMakeTeacher"},{kind:"Variable",name:"canUnenroll",variableName:"canUnenroll"},b={kind:"Variable",name:"first",variableName:"first"},f={kind:"Variable",name:"groupIds",variableName:"groupIds"},y={kind:"Variable",name:"memberGroupFilterInput",variableName:"memberGroupFilterInput"},k={kind:"Variable",name:"orderBy",variableName:"orderBy"},{kind:"Variable",name:"productRoles",variableName:"productRoles"},v={kind:"Variable",name:"profileFields",variableName:"profileFields"},P={kind:"Variable",name:"search",variableName:"search"}],kind:"FragmentSpread",name:"ProductMembersList_PaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,t,l,i,o,u,d,c,m,p,s],kind:"Operation",name:"ProductMembersListPaginationQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[F={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:S=[h,b,f,y,k,v,{kind:"Variable",name:"roles",variableName:"productRoles"},P],concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ProductMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[x,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:M=[{kind:"Literal",name:"groupKinds",value:["custom"]}],concreteType:"MemberGroupMembershipNodeConnection",kind:"LinkedField",name:"memberGroupMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroupMembership",kind:"LinkedField",name:"node",plural:!1,selections:[x,K={alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"parentMemberGroupId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"isSystem",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[x,T],storageKey:null}],storageKey:null},F],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[w={alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'memberGroupMemberships(groupKinds:["custom"])'},{alias:null,args:M,filters:["groupKinds"],handle:"connection",key:"useMemberGroupTagsList_ProductMembershipFragment_memberGroupMemberships",kind:"LinkedHandle",name:"memberGroupMemberships"},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{kind:"InlineFragment",selections:[F,{kind:"InlineFragment",selections:L=[R={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},R,Z={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:I=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},R,Z],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:N=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},R,Z],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:N,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:N,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},R,Z],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:N,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:N,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:I,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:L,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:L,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},F,{condition:"canMakeTeacher",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[T],storageKey:null}]},{condition:"canUnenroll",kind:"Condition",passingValue:!0,selections:[K,{alias:null,args:null,kind:"ScalarField",name:"memberId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"stripeDashboardURL",storageKey:null}],storageKey:null}],storageKey:null}]}],storageKey:null},C],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},w,O,{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:S,filters:["roles","memberGroupFilterInput","profileFields","groupIds","search","orderBy"],handle:"connection",key:"ProductMembersList__productMemberships",kind:"LinkedHandle",name:"productMemberships"}],type:"Product",abstractKey:null}],storageKey:null}]},params:{cacheID:"22d214036d2c937151026822502172c3",id:null,metadata:{},name:"ProductMembersListPaginationQuery",operationKind:"query",text:"query ProductMembersListPaginationQuery(\n  $after: String\n  $canMakeTeacher: Boolean!\n  $canUnenroll: Boolean!\n  $first: Int!\n  $groupIds: [ID!]\n  $memberGroupFilterInput: MemberGroupFilterInput\n  $orderBy: OrderByInput\n  $productRoles: [ProductRole!]\n  $profileFields: [OrganizationMembershipsProfileFieldFilter!]\n  $search: String\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ProductMembersList_PaginationFragment_IGFjY\n    id\n  }\n}\n\nfragment MakeProductTeacherButtonFragment on ProductMembership {\n  id\n  email\n  member {\n    fullName\n    id\n  }\n  product {\n    id\n    name\n    type\n  }\n}\n\nfragment MemberGroupTagFragment on MemberGroup {\n  id\n  name\n  kind\n  color\n  role\n  isSystem\n  product {\n    id\n    name\n  }\n}\n\nfragment ProductMemberCardFragment_1UH7SA on ProductMembership {\n  id\n  role\n  member {\n    id\n    ...UserCardFragment\n  }\n  ...useMemberGroupTagsList_ProductMembershipFragment\n  ...ProductMemberOverflowDropdownFragment_1UH7SA\n}\n\nfragment ProductMemberOverflowDropdownFragment_1UH7SA on ProductMembership {\n  id\n  role\n  ...MakeProductTeacherButtonFragment @include(if: $canMakeTeacher)\n  ...UnenrollProductMemberButtonFragment @include(if: $canUnenroll)\n  member {\n    id\n  }\n  product {\n    id\n    type\n    ...usePermissionsFragment\n  }\n}\n\nfragment ProductMembersList_PaginationFragment_IGFjY on Product {\n  productMemberships(roles: $productRoles, memberGroupFilterInput: $memberGroupFilterInput, profileFields: $profileFields, groupIds: $groupIds, search: $search, orderBy: $orderBy, first: $first, after: $after) {\n    totalCount\n    edges {\n      node {\n        id\n        member {\n          id\n          firstName\n        }\n        ...ProductMemberCardFragment_1UH7SA\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment UnenrollProductMemberButtonFragment on ProductMembership {\n  id\n  productId\n  role\n  memberId\n  member {\n    fullName\n    id\n  }\n  product {\n    organization {\n      id\n      stripeDashboardURL\n    }\n    id\n  }\n}\n\nfragment UserCardFragment on User {\n  id\n  bio\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment useMemberGroupTagsList_ProductMembershipFragment on ProductMembership {\n  id\n  memberGroupMemberships(groupKinds: [custom]) {\n    edges {\n      node {\n        id\n        productId\n        memberGroup {\n          id\n          parentMemberGroupId\n          visibility\n          ...MemberGroupTagFragment\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};D.hash="6cc4e610ff4e7c6dcd9ae3dc188d0d5f",n.default=D},447061:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s,u,d,c,m,p,g,h,b,f,y,k,v,P,F,x,S,j,M,K,T,C,w,O,R,L,Z,I,N,D={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"canMakeTeacher"},l={defaultValue:null,kind:"LocalArgument",name:"canUnenroll"},i={defaultValue:null,kind:"LocalArgument",name:"first"},o={defaultValue:null,kind:"LocalArgument",name:"groupIds"},s={defaultValue:null,kind:"LocalArgument",name:"id"},u={defaultValue:null,kind:"LocalArgument",name:"memberGroupFilterInput"},d={defaultValue:null,kind:"LocalArgument",name:"orderBy"},c={defaultValue:null,kind:"LocalArgument",name:"productRoles"},m={defaultValue:null,kind:"LocalArgument",name:"profileFields"},p={defaultValue:null,kind:"LocalArgument",name:"search"}],kind:"Fragment",metadata:null,name:"ProductMembersListQuery",selections:[{alias:null,args:g=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:[b={kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"canMakeTeacher",variableName:"canMakeTeacher"},{kind:"Variable",name:"canUnenroll",variableName:"canUnenroll"},f={kind:"Variable",name:"first",variableName:"first"},y={kind:"Variable",name:"groupIds",variableName:"groupIds"},k={kind:"Variable",name:"memberGroupFilterInput",variableName:"memberGroupFilterInput"},v={kind:"Variable",name:"orderBy",variableName:"orderBy"},{kind:"Variable",name:"productRoles",variableName:"productRoles"},P={kind:"Variable",name:"profileFields",variableName:"profileFields"},F={kind:"Variable",name:"search",variableName:"search"}],kind:"FragmentSpread",name:"ProductMembersList_PaginationFragment"}],type:"Product",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,t,l,c,u,o,m,p,d,i,r],kind:"Operation",name:"ProductMembersListQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[x={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h,{kind:"InlineFragment",selections:[{alias:null,args:S=[b,f,y,k,v,P,{kind:"Variable",name:"roles",variableName:"productRoles"},F],concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ProductMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:M=[{kind:"Literal",name:"groupKinds",value:["custom"]}],concreteType:"MemberGroupMembershipNodeConnection",kind:"LinkedField",name:"memberGroupMemberships",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroupMembership",kind:"LinkedField",name:"node",plural:!1,selections:[h,K={alias:null,args:null,kind:"ScalarField",name:"productId",storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"parentMemberGroupId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"isSystem",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[h,T],storageKey:null}],storageKey:null},x],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[w={alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'memberGroupMemberships(groupKinds:["custom"])'},{alias:null,args:M,filters:["groupKinds"],handle:"connection",key:"useMemberGroupTagsList_ProductMembershipFragment_memberGroupMemberships",kind:"LinkedHandle",name:"memberGroupMemberships"},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{kind:"InlineFragment",selections:[x,{kind:"InlineFragment",selections:L=[R={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},R,Z={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:I=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},R,Z],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:N=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},R,Z],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:N,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:N,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},R,Z],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:N,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:N,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:I,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:L,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:L,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},x,{condition:"canMakeTeacher",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[T],storageKey:null}]},{condition:"canUnenroll",kind:"Condition",passingValue:!0,selections:[K,{alias:null,args:null,kind:"ScalarField",name:"memberId",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"stripeDashboardURL",storageKey:null}],storageKey:null}],storageKey:null}]}],storageKey:null},C],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},w,O,{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:S,filters:["roles","memberGroupFilterInput","profileFields","groupIds","search","orderBy"],handle:"connection",key:"ProductMembersList__productMemberships",kind:"LinkedHandle",name:"productMemberships"}],type:"Product",abstractKey:null}],storageKey:null}]},params:{cacheID:"1a32702f1d5c5f3ab9e1c88a7267ee4c",id:null,metadata:{},name:"ProductMembersListQuery",operationKind:"query",text:"query ProductMembersListQuery(\n  $id: ID!\n  $canMakeTeacher: Boolean!\n  $canUnenroll: Boolean!\n  $productRoles: [ProductRole!]\n  $memberGroupFilterInput: MemberGroupFilterInput\n  $groupIds: [ID!]\n  $profileFields: [OrganizationMembershipsProfileFieldFilter!]\n  $search: String\n  $orderBy: OrderByInput\n  $first: Int!\n  $after: String\n) {\n  node(id: $id) {\n    __typename\n    ... on Product {\n      id\n      ...ProductMembersList_PaginationFragment_IGFjY\n    }\n    id\n  }\n}\n\nfragment MakeProductTeacherButtonFragment on ProductMembership {\n  id\n  email\n  member {\n    fullName\n    id\n  }\n  product {\n    id\n    name\n    type\n  }\n}\n\nfragment MemberGroupTagFragment on MemberGroup {\n  id\n  name\n  kind\n  color\n  role\n  isSystem\n  product {\n    id\n    name\n  }\n}\n\nfragment ProductMemberCardFragment_1UH7SA on ProductMembership {\n  id\n  role\n  member {\n    id\n    ...UserCardFragment\n  }\n  ...useMemberGroupTagsList_ProductMembershipFragment\n  ...ProductMemberOverflowDropdownFragment_1UH7SA\n}\n\nfragment ProductMemberOverflowDropdownFragment_1UH7SA on ProductMembership {\n  id\n  role\n  ...MakeProductTeacherButtonFragment @include(if: $canMakeTeacher)\n  ...UnenrollProductMemberButtonFragment @include(if: $canUnenroll)\n  member {\n    id\n  }\n  product {\n    id\n    type\n    ...usePermissionsFragment\n  }\n}\n\nfragment ProductMembersList_PaginationFragment_IGFjY on Product {\n  productMemberships(roles: $productRoles, memberGroupFilterInput: $memberGroupFilterInput, profileFields: $profileFields, groupIds: $groupIds, search: $search, orderBy: $orderBy, first: $first, after: $after) {\n    totalCount\n    edges {\n      node {\n        id\n        member {\n          id\n          firstName\n        }\n        ...ProductMemberCardFragment_1UH7SA\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      startCursor\n      endCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n  id\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment UnenrollProductMemberButtonFragment on ProductMembership {\n  id\n  productId\n  role\n  memberId\n  member {\n    fullName\n    id\n  }\n  product {\n    organization {\n      id\n      stripeDashboardURL\n    }\n    id\n  }\n}\n\nfragment UserCardFragment on User {\n  id\n  bio\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment useMemberGroupTagsList_ProductMembershipFragment on ProductMembership {\n  id\n  memberGroupMemberships(groupKinds: [custom]) {\n    edges {\n      node {\n        id\n        productId\n        memberGroup {\n          id\n          parentMemberGroupId\n          visibility\n          ...MemberGroupTagFragment\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};D.hash="d713ef6ca68f6ae586a1c21bc4b353d7",n.default=D},860595:function(e,n,a){a.r(n);a(244311);var r,t,l=(t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:null,kind:"LocalArgument",name:"canMakeTeacher"},{defaultValue:null,kind:"LocalArgument",name:"canUnenroll"},{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"groupIds"},{defaultValue:null,kind:"LocalArgument",name:"memberGroupFilterInput"},{defaultValue:null,kind:"LocalArgument",name:"orderBy"},{defaultValue:null,kind:"LocalArgument",name:"productRoles"},{defaultValue:null,kind:"LocalArgument",name:"profileFields"},{defaultValue:null,kind:"LocalArgument",name:"search"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:r=["productMemberships"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:r},fragmentPathInResult:["node"],operation:a(791815),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ProductMembersList_PaginationFragment",selections:[{alias:"productMemberships",args:[{kind:"Variable",name:"groupIds",variableName:"groupIds"},{kind:"Variable",name:"memberGroupFilterInput",variableName:"memberGroupFilterInput"},{kind:"Variable",name:"orderBy",variableName:"orderBy"},{kind:"Variable",name:"profileFields",variableName:"profileFields"},{kind:"Variable",name:"roles",variableName:"productRoles"},{kind:"Variable",name:"search",variableName:"search"}],concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"__ProductMembersList__productMemberships_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ProductMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"canMakeTeacher",variableName:"canMakeTeacher"},{kind:"Variable",name:"canUnenroll",variableName:"canUnenroll"}],kind:"FragmentSpread",name:"ProductMemberCardFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},t],type:"Product",abstractKey:null});l.hash="6cc4e610ff4e7c6dcd9ae3dc188d0d5f",n.default=l},855989:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ProductMembersList__membersDirectoryFiltersQuery",selections:[{alias:"app",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AppDirectoryItemNodeConnection",kind:"LinkedField",name:"membersDirectoryFilters",plural:!1,selections:[{alias:null,args:null,concreteType:"AppDirectoryItemNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"AppDirectoryItem",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"memberGroupId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"ProductApp",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductMembersList__membersDirectoryFiltersQuery",selections:[{alias:"app",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,l],storageKey:null}]},params:{cacheID:"dc88a8e0a0bbf50c60116a7b551d3a7e",id:null,metadata:{},name:"ProductMembersList__membersDirectoryFiltersQuery",operationKind:"query",text:"query ProductMembersList__membersDirectoryFiltersQuery(\n  $id: ID!\n) {\n  app: node(id: $id) {\n    __typename\n    ... on ProductApp {\n      membersDirectoryFilters {\n        edges {\n          node {\n            id\n            memberGroupId\n          }\n        }\n      }\n    }\n    id\n  }\n}\n"}};o.hash="e1e7a4bd2b4c509fc6dc27f894a1b2e3",n.default=o},115046:function(e,n,a){var r=a(204942),t=a(145987),l=a(963114),i=a(815166),o=a(810863),s=a(423417),u=a(413801),d=a(816780),c=a(532888),m=a(990119),p=(a(681355),a(541321)),g=a(254845),h=a(251941),b=a(188191),f=a(785893),y=["variant"];function k(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?k(Object(a),!0).forEach((function(n){(0,r.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var P=(0,o.Z)((function(e){var n;return{innerContent:(n={},(0,r.Z)(n,e.breakpoints.down("md"),{flexWrap:"nowrap"}),(0,r.Z)(n,e.breakpoints.down("xs"),{gap:0}),(0,r.Z)(n,"alignItems","center"),n),contentButtons:{alignItems:"center"},sendEmailButton:(0,r.Z)({width:"155px",color:e.palette.common.white,padding:e.spacing(1.125,1.5),marginRight:e.spacing(1),flexShrink:0},e.breakpoints.down("xs"),{width:"115px",marginRight:0})}}));n.Z=function(e){var n=e.memberships,a=e.allSelected,r=e.selectedGroupFilter,o=e.onClose,k=e.hideGroupsButton,F=void 0!==k&&k,x=P(),S=(0,h.d)(),j=(0,l.NP)("admin_member"),M=function(){if(null!=a&&a.isAllSelected)return a.totalCount;if(null!=n&&n.length)return n.length;return 0}(),K=(0,b.Z)().assignPrograms,T=null==a?void 0:a.isAllSelected;return(0,f.jsx)(g.Z,{belowModals:!0,open:M>0,onClose:o,icon:(0,f.jsx)(i.Z,{width:24,height:24}),contentClasses:{innerContent:x.innerContent,contentButtons:x.contentButtons},content:"".concat(M," ").concat(1===M?j.singular:j.plural," selected"),buttons:(0,f.jsxs)(f.Fragment,{children:[(!F||K)&&(0,f.jsxs)(p.ZX,{menuButton:function(e){e.variant;var n=(0,t.Z)(e,y);return(0,f.jsx)(p.I4,v(v({},n),{},{tooltip:T?"This action is not available when all ".concat(j.plural," are selected. Try selecting fewer ").concat(j.plural,"."):"Add to",testid:"ProductMembersListFloatingBar.other-actions",disabled:T,children:(0,f.jsx)(p.De,{icon:"widget-add"})}))},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:[!F&&(0,f.jsx)(m.Z,{memberships:n||[],handleCloseFloatingBar:o,children:function(e){return(0,f.jsx)(d.Z,v({location:"product"},e))}}),K&&(0,f.jsx)(s.Z,{startingProductMembershipIds:(null==n?void 0:n.map((function(e){return e.id})))||[],onSubmit:o,children:function(e){return(0,f.jsx)(c.Z,v({location:"community"},e))}})]}),(0,f.jsx)(u.Z,{memberships:n,isAllSelected:null==a?void 0:a.isAllSelected,onMessage:o,selectedGroupFilter:r,className:x.sendEmailButton,children:function(e){return(0,f.jsx)(p.v2,v(v({},e),{},{children:"".concat(S?"":"Compose ","Email")}))}})]})})}},318215:function(e,n,a){var r=a(541321),t=(a(667294),a(785893));n.Z=function(e){var n=e.title,a=e.button;return(0,t.jsx)(r.MJ,{testid:"ProductMemberListContainer",icon:(0,t.jsx)(r.De,{icon:"user"}),title:n,subtitle:"If using filters, try removing some to see more.",buttons:a})}},431575:function(e,n,a){var r=a(204942),t=a(810863),l=a(88375),i=a(558365),o=a(785893);var s=(0,t.Z)((function(e){return{container:(0,r.Z)({marginTop:e.spacing(1.5),display:"flex",gap:e.spacing(2)},e.breakpoints.down("sm"),{flexDirection:"column"})}}));n.Z=function(){var e=s();return(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Z,{width:150,height:40}),(0,o.jsxs)("div",{className:e.container,children:[(0,o.jsx)(l.U,{}),(0,o.jsx)(l.U,{}),(0,o.jsx)(l.U,{})]})]})}},454702:function(e,n,a){a.d(n,{tm:function(){return Q},ZP:function(){return W},OO:function(){return B},mo:function(){return V},_L:function(){return G}});var r,t,l=a(204942),i=a(145987),o=(a(103944),a(285245)),s=(a(116612),a(364065)),u=(a(824561),a(405654)),d=a(549675),c=a(115861),m=a(386854),p=a(887757),g=a.n(p),h=(a(920805),a(193015),a(142648),a(10165)),b=a(445033),f=a(541321),y=a(667294),k=a(422578),v=(a(244311),a(785893)),P=a(425108);var F=function(e){var n=e.productKey,l=e.toolbarState,i=e.includeRoleField,o=(0,y.useState)(!1),s=(0,m.Z)(o,2),u=s[0],d=s[1],p=(0,k.useFragment)((void 0!==r||(r=a(193015)).hash&&"cd25923c9e6424c4dd4337c7800910d6"!==r.hash&&P.error("The definition of 'ProductMembershipsExportCsvButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),n),F=h.Z.useAsyncMutation((void 0!==t||(t=a(142648)).hash&&"6c3b388e929c48e954441ac5dbde265d"!==t.hash&&P.error("The definition of 'ProductMembershipsExportCsvButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t));return(0,v.jsx)(f.v2,{color:"grey",variant:"outlined",onClick:function(){return x.apply(this,arguments)},shouldDisplaySpinner:u,children:"Export CSV"});function x(){return(x=(0,c.Z)(g().mark((function e(){var n,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,r=void 0,F({input:{productId:p.id,search:l.search,roles:null!==(r=l.selectedRole)&&void 0!==r&&r.value?[l.selectedRole.value]:null,memberGroupFilterInput:V(l),profileFields:G(l),orderBy:{field:B(l.sort.order.field),direction:l.direction},includeRoleField:i}});case 4:n=e.sent,(a=n.response).downloadCSVLink&&(window.location.href=a.downloadCSVLink),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,b.p)(e.t0);case 12:d(!1);case 13:case"end":return e.stop()}var r}),e,null,[[0,9]])})))).apply(this,arguments)}},x=a(662759),S=a(366963);function j(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?j(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var K,T=function(e){var n=e.toolbarState,a=e.setToolbarState,r=n.profileFields,t=n.selectedRole,i=n.selectedGroup,o=r?Object.values(r).filter((function(e){return Boolean(e)})):[],s=Boolean(t),u="all"!==i.value,d=o.length>0,c=s||u||d;return(0,v.jsxs)(x.Z,{isVisible:c,children:[s&&(0,v.jsx)(S.Z,{testid:"ProductMembersListPage.filter-tag.role",name:t.title,onDelete:function(){a(M(M({},n),{},{selectedRole:null}))}}),u&&(0,v.jsx)(S.Z,{testid:"ProductMembersListPage.filter-tag.group",name:i.title,onDelete:function(){a(M(M({},n),{},{selectedGroup:{value:"all",title:"All Groups"}}))}}),o.map((function(e){return(0,v.jsx)(S.Z,{name:"".concat(e.fieldTitle,": ").concat(e.title),testid:"ProductMembersListPage.filter-tag.profile-field.".concat(e.fieldTitle),onDelete:function(){a(M(M({},n),{},{profileFields:M(M({},n.profileFields),{},(0,l.Z)({},e.fieldId,null))}))}},e.fieldTitle)}))]})},C=(a(259017),a(494204)),w=a(810863),O=a(749331),R=a(509645),L=a(627694),Z=a(441752),I=a(750297),N=a(108920),D=a(757336),E=a(425108),A=["rightIcon"];function _(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?_(Object(a),!0).forEach((function(n){(0,l.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function B(e){var n={member_name:"name",recently_active:"last_activity_at",joined_on:"creation_datetime",role:"role"}[e];if(!n)throw new Error('[DEV ERROR] Field: "'.concat(e,"\" not mapped to a ProductMembersListOrderByField. Check if it's supported first as an orderByField before adding it here!"));return n}function G(e){for(var n=[],a=0,r=Object.values(e.profileFields);a<r.length;a++){var t=r[a];if(null!=t&&t.value){var l=["responded","not_responded"].includes(t.value);n.push({id:t.fieldId,status:l?t.value:null,optionId:l?null:t.value})}}return n}function V(e){var n={},a=e.selectedGroup;return"unassigned"===a.value?n.unassigned=!0:"all"!==a.value&&(n.memberGroupId=a.value),n}function z(e){return"selectedRole"in e}var $=(0,w.Z)((function(e){return{container:{width:"100%"},toolsContainer:{display:"flex",gap:e.spacing(1.5),flexWrap:"wrap",width:"100%"},lhsHeader:{flexGrow:1,minWidth:"240px"},rhsHeader:{display:"flex",justifyContent:"flex-start",gap:e.spacing(1.5)},filterTagsContainer:{marginTop:e.spacing(1.5)},filterDropdownMenu:{minWidth:"200px"},dropdownButton:{minWidth:"140px",justifyContent:"space-between"}}})),Q=function(){var e=$();return(0,v.jsxs)("div",{className:e.toolsContainer,children:[(0,v.jsx)("div",{className:e.lhsHeader,children:(0,v.jsx)(Z.P,{})}),(0,v.jsxs)("div",{className:e.rhsHeader,children:[(0,v.jsx)(I.fd,{}),(0,v.jsx)(I.fd,{}),(0,v.jsx)(f.Zi,{width:"150px"})]})]})},W=h.Z.withSkeleton({component:(0,D.Pi)((function(e){var n=e.productKey,r=e.toolbarState,t=e.setToolbarState,l=e.filterButtonVariant,c=void 0===l?"default":l,m=e.sortButtonVariant,p=void 0===m?"default":m,g=e.showExportCsvButton,h=e.sortOptions,b=e.includeRoleField,y=(0,N.Z)(),P=$(),x=(0,o.vn)(),S=(0,k.useFragment)((void 0!==K||(K=a(259017)).hash&&"84d4a592c312d404fdd7f8c1ddd7030f"!==K.hash&&E.error("The definition of 'ProductMembersListPageToolbarFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),K),n),j=(0,C.Z)(),M="pathway"===S.type,w=!x.viewerPermissions.has("members.read_private");return(0,v.jsxs)("div",{className:P.container,children:[(0,v.jsxs)("div",{className:P.toolsContainer,children:[(0,v.jsx)("div",{className:P.lhsHeader,children:!j&&(0,v.jsx)(Z.Z,{testid:"ProductMembersListPageToolbar",onChange:function(e){t(U(U({},r),{},{search:e}))},backgroundColor:"dark"===y.palette.type?y.palette.groovy.onDark[600]:void 0,placeholder:"Search"})}),(0,v.jsxs)("div",{className:P.rhsHeader,children:[(0,v.jsxs)(f.ZX,{testid:"ProductMembersListPageToolbar.filter-select",menuClasses:{paper:P.filterDropdownMenu},menuButton:function(e){var n=e.rightIcon,a=(0,i.Z)(e,A),r="ProductMembersListPageToolbar.filter-select.header-button";return"icon"===c?(0,v.jsx)(R.p,U(U({},a),{},{testid:r,width:"40px",noPadding:!0,children:(0,v.jsx)(f.De,{icon:"iconsax.sort",height:24,width:24})})):(0,v.jsx)(f.v2,U(U({},a),{},{rightIcon:n,"data-testid":r,className:P.dropdownButton,children:"Filters"}))},children:[(0,v.jsx)(f.U4,{variant:"body-xs-500",marginTop:.5,marginBottom:.5,children:"Filter by..."}),!M&&z(r)&&(0,v.jsx)(d.Z,{filterState:r,setFilterState:function(e){return t(U(U({},r),e))}}),(0,v.jsx)(L.Z,{testid:"ProductMembersListPageGroupFilter.group-select",title:"Groups",icon:"group-share",content:(0,v.jsx)(u.Z,{filterState:r,setFilterState:function(e){t(U(U({},r),e))}})}),(0,v.jsx)(O.Z,{showDefaultOptions:!1,isPrivate:!w&&null,webFormQuestionTypes:["single_select","multiple_select"],filterState:r,setFilterState:function(e){return t(U(U({},r),e))}})]}),(0,v.jsx)(s.Z,{sortState:r,setSortState:function(e){return t(U(U({},r),e))},buttonVariant:p,options:h}),g&&(0,v.jsx)(F,{productKey:S,toolbarState:r,includeRoleField:b})]})]}),(0,v.jsx)("div",{className:P.filterTagsContainer,children:(0,v.jsx)(T,{toolbarState:r,setToolbarState:t})})]})})),skeleton:Q})},259017:function(e,n,a){a.r(n);a(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductMembersListPageToolbarFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductMembershipsExportCsvButtonFragment"}],type:"Product",abstractKey:null,hash:"84d4a592c312d404fdd7f8c1ddd7030f"};n.default=r},193015:function(e,n,a){a.r(n);a(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductMembershipsExportCsvButtonFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Product",abstractKey:null,hash:"cd25923c9e6424c4dd4337c7800910d6"};n.default=r},142648:function(e,n,a){a.r(n);a(244311);var r,t,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"ProductMembershipsExportCsvButtonMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateProductMembershipsCSVDataResponse",kind:"LinkedField",name:"createProductMembershipsCSVData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"downloadCSVLink",storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductMembershipsExportCsvButtonMutation",selections:t},params:{cacheID:"48013bf9d4675f396c225c4c2939f964",id:null,metadata:{},name:"ProductMembershipsExportCsvButtonMutation",operationKind:"mutation",text:"mutation ProductMembershipsExportCsvButtonMutation(\n  $input: CreateProductMembershipsCSVDataInput!\n) {\n  response: createProductMembershipsCSVData(input: $input) {\n    downloadCSVLink\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};l.hash="6c3b388e929c48e954441ac5dbde265d",n.default=l},405654:function(e,n,a){var r,t=a(241451),l=a(69722),i=a(931724),o=(a(162618),a(450013),a(681355),a(10165)),s=a(541321),u=a(162083),d=a(499875),c=a(696672),m=(a(422578),a(785893)),p=a(425108);n.Z=o.Z.withSkeleton({component:function(e){var n=e.filterState,g=e.setFilterState,h=(0,l.R6)(),b=o.Z.useRefetchablePaginationQuery((void 0!==r||(r=a(450013)).hash&&"eda623cdaa84100c978dc03b918530a3"!==r.hash&&p.error("The definition of 'ProductMembersListPageGroupFilterQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{id:null==h?void 0:h.id,first:10},{connectionName:"product.memberGroups",fetchPolicy:"network-only"}),f=b.data,y=b.pagination,k=null==f?void 0:f.product;if(!k)return null;var v=o.Z.connectionToArray(k.memberGroups),P=null==h?void 0:h.viewerPermissions,F=null==P?void 0:P.has("member_groups.manage"),x=function(){var e=[{value:"all",title:"All Groups"}].concat((0,t.Z)(c.BB.spreadIf({value:"unassigned",title:"Unassigned"},F)));v.length&&e.push.apply(e,(0,t.Z)(v.map((function(e){return{value:e.id,title:e.name,groupKey:e}}))));return e}(),S=new Map(x.map((function(e){return[e.value,e.groupKey?(0,m.jsx)(i.Z,{memberGroupKey:e.groupKey},e.title):e.title]})));return(0,m.jsx)(d.Z,{testid:"ProductMembersListPageGroupFilter.group-select",pagination:y,children:x.map((function(e){var a,r=(null===(a=n.selectedGroup)||void 0===a?void 0:a.value)===e.value||!n.selectedGroup&&!e.value;return(0,m.jsx)(u.Z,{testid:"ProductMembersListPageGroupFilter.group-select.item-".concat(e.title),title:S.get(e.value),onClick:function(){g({selectedGroup:e})},rightButton:r&&(0,m.jsx)(s.De,{icon:"check",marginLeft:1})},e.value)}))})},skeleton:function(){return(0,m.jsx)(d.y,{})}})},549675:function(e,n,a){var r=a(461875),t=(a(355953),a(541321)),l=a(152311),i=a(785893);n.Z=function(e){var n=e.filterState,a=e.setFilterState,o=(0,r.hJ)(),s=o.manager,u=o.instructor,d=o.member,c=[{value:null,title:"All Roles"},{value:"manager",title:s.plural},{value:"instructor",title:u.plural},{value:"member",title:d.plural}];return(0,i.jsx)(l.Z,{testid:"ProductMembersListPage.role-select",isNested:!0,options:c,onOptionSelect:function(e){return a({selectedRole:e})},selectedOption:n.selectedRole,dropdown:{icon:(0,i.jsx)(t.De,{icon:"user"}),label:"Role"}})}},450013:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s,u,d,c,m,p,g,h,b={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"id"},i={defaultValue:null,kind:"LocalArgument",name:"search"}],kind:"Fragment",metadata:null,name:"ProductMembersListPageGroupFilterQuery",selections:[{alias:"product",args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"memberGroups",args:[s={kind:"Literal",name:"kind",value:"custom"},u={kind:"Variable",name:"search",variableName:"search"}],concreteType:"MemberGroupNodeConnection",kind:"LinkedField",name:"__ProductMembersListPageGroupFilter__memberGroups_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"node",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"MemberGroupTagFragment"},m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},g={alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Product",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t,i,r],kind:"Operation",name:"ProductMembersListPageGroupFilterQuery",selections:[{alias:"product",args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:h=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"},s,u],concreteType:"MemberGroupNodeConnection",kind:"LinkedField",name:"memberGroups",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"node",plural:!1,selections:[d,c,{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystem",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[d,c],storageKey:null},m],storageKey:null},p],storageKey:null},g],storageKey:null},{alias:null,args:h,filters:["search","kind"],handle:"connection",key:"ProductMembersListPageGroupFilter__memberGroups",kind:"LinkedHandle",name:"memberGroups"}],type:"Product",abstractKey:null},d],storageKey:null}]},params:{cacheID:"864ed830b7249decf55f655eed9b7c16",id:null,metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["product","memberGroups"]}]},name:"ProductMembersListPageGroupFilterQuery",operationKind:"query",text:"query ProductMembersListPageGroupFilterQuery(\n  $id: ID!\n  $first: Int!\n  $search: String\n  $after: String\n) {\n  product: node(id: $id) {\n    __typename\n    ... on Product {\n      memberGroups(first: $first, after: $after, search: $search, kind: custom) {\n        edges {\n          node {\n            id\n            name\n            ...MemberGroupTagFragment\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          startCursor\n          endCursor\n          hasNextPage\n          hasPreviousPage\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment MemberGroupTagFragment on MemberGroup {\n  id\n  name\n  kind\n  color\n  role\n  isSystem\n  product {\n    id\n    name\n  }\n}\n"}};b.hash="eda623cdaa84100c978dc03b918530a3",n.default=b},920805:function(e,n,a){a.d(n,{Z:function(){return s}});var r=a(204942),t=a(386854),l=(a(405654),a(549675),a(3988),a(750297),a(667294));function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}var o={course:{selectedRole:null,sort:{id:"none",order:{field:"role"},title:"Sort"}},pathway:{sort:{id:"none",order:{field:"member_name"},title:"Sort"}}};function s(e){var n=(0,l.useState)(function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){(0,r.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}({search:"",selectedGroup:{value:"all",title:"All Groups"},profileFields:{},direction:"ASC"},o[e])),a=(0,t.Z)(n,2);return{toolbarState:a[0],setToolbarState:a[1]}}},467028:function(e,n,a){var r,t=a(204942),l=a(386854),i=a(285245),o=a(846425),s=a(428647),u=(a(859462),a(919732)),d=a(245793),c=(a(356512),a(10165)),m=a(810863),p=a(92839),g=a(541321),h=a(982879),b=a(757336),f=a(667294),y=a(422578),k=(a(244311),a(785893)),v=a(425108);function P(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?P(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var x=(0,m.Z)((function(e){return{container:function(n){return F(F((0,t.Z)({width:"360px",padding:e.spacing(3),borderLeft:"1px solid ".concat(e.palette.groovy.neutral[100])},e.breakpoints.down("sm"),{width:"100%"}),(0,p.Z)(n.onPage,{borderRadius:e.measure.borderRadius.big,border:"1px solid ".concat(e.palette.groovy.neutral[100]),height:"fit-content",minWidth:"300px",width:"100%",maxWidth:"600px"})),(0,p.Z)(n.successStep,{gridColumn:"span 2",maxWidth:"unset"}))}}}));n.Z=c.Z.withSkeleton({component:(0,b.Pi)((function(e){var n,t,c=e.membershipPlanKey,m=e.onPage,p=(0,h.Kx)().registrationStep,b=(0,f.useState)(!1),P=(0,l.Z)(b,2),F=P[0],S=P[1],j=(0,h.Kx)().inviteToken,M=(0,i.vn)(),K=(0,y.useFragment)((void 0!==r||(r=a(356512)).hash&&"e343f1ba4ed985d60ba5c7e7df5f5d4a"!==r.hash&&v.error("The definition of 'MembershipPlanRegistrationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),c),T=x({successStep:!("success"!==p||null===(t=K.myCheckout)||void 0===t||!t.id),onPage:m}),C=K.registrationPricing.pricing,w=(0,s.fj)({pricingKey:C,currency:null==M?void 0:M.currency}),O=null!=C&&C.frequency?w:o.Z.asCurrency(null===(n=K.registrationPricing)||void 0===n?void 0:n.basePrice,{currency:null==M?void 0:M.currency});return K?(0,k.jsx)("div",{className:T.container,children:F||j?(0,k.jsx)(u.Z,{testid:"MembershipPlanRegistration"}):(0,k.jsxs)(k.Fragment,{children:[K.registrationPricing&&Boolean(K.registrationPricing.basePrice)&&(0,k.jsx)(g.U4,{variant:"body-md-600",marginBottom:2,children:"Price: ".concat(O)}),(0,k.jsx)(d.Z,{experienceKey:K,setStartRegistration:S,testid:"MembershipPlanRegistration"})]})}):null})),skeleton:function(){var e=x({successStep:!1});return(0,k.jsx)("div",{className:e.container,children:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(g.Ju,{height:"60px",width:"60%"})})})}})},919732:function(e,n,a){a.d(n,{Z:function(){return je}});var r,t=a(134675),l=a(47856),i=a(560980),o=a(859462),s=a(115861),u=a(386854),d=a(887757),c=a.n(d),m=a(285245),p=a(922261),g=a(33162),h=a(14808),b=a(478538),f=(a(58231),a(184874)),y=a(470747),k=(a(661493),a(10165)),v=a(270415),P=a(810863),F=a(445033),x=a(541321),S=a(108920),j=a(558365),M=a(168949),K=a(757336),T=a(667294),C=(a(244311),a(785893)),w=a(425108);var O,R=(0,P.Z)((function(e){return{buttons:{justifyContent:"space-between",display:"flex",alignItems:"center",gap:e.spacing(1)},completedApplication:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e.spacing(2.5),textAlign:"center"},progressIcon:{margin:0,flexShrink:0,width:"40px",height:"40px"}}})),L=k.Z.withSkeleton({component:(0,K.Pi)((function(e){var n,t,l,i=e.store,o=(0,m.vn)(),d=(0,g.M$)(),P=R(),S=(0,y.Z)(i),j=(0,f.Z)(i),K=(0,p.f)().authUser,O=(0,T.useState)(!1),L=(0,u.Z)(O,2),Z=L[0],I=L[1],N=(0,T.useState)(!1),D=(0,u.Z)(N,2),E=D[0],A=D[1],_=k.Z.useAsyncMutation((void 0!==r||(r=a(661493)).hash&&"6be466eb55b53bf8da5abd3c70bdbcdf"!==r.hash&&w.error("The definition of 'ProductRegistrationApplyStep_SubmitApplicationMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r));return d.setFullScreen&&d.setFullScreen(!0),null!==(n=i.checkout)&&void 0!==n&&n.hasApplication||null!==(t=i.checkout)&&void 0!==t&&t.organizationForm?E?(0,C.jsxs)("div",{className:P.completedApplication,children:[(0,C.jsx)(v.Z,{"data-testid":"ContentUsageListItem.completion-icon.complete",className:P.progressIcon}),(0,C.jsx)(x.U4,{variant:"heading-sm-700",children:"Application Submitted"}),(0,C.jsx)(x.U4,{variant:"body-md",color:"text.secondary",children:"Your application has been submitted. You'll receive an email when it's processed."})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.U4,{variant:"body-md-600",marginBottom:2,children:"Application"}),(0,C.jsx)(h.Z,{store:i}),(0,C.jsx)(b.Z,{store:i}),(0,C.jsxs)("div",{className:P.buttons,children:[(0,C.jsx)(x.v2,{color:"grey",variant:"outlined",onClick:function(){i.currentStep="registration"},width:"100%",children:"Back"}),(0,C.jsx)(x.v2,{type:"submit",disabled:!G(),shouldDisplaySpinner:i.isSubmitting,onClick:function(e){return U.apply(this,arguments)},width:"100%",children:"stripe_acacia"===(null==o?void 0:o.checkoutVersion)?"Submit":i.requiresPaymentStep?"Next Step":null!==(l=i.checkout)&&void 0!==l&&l.hasApplication?"Submit":"Complete Registration"})]})]}):null;function U(){return(U=(0,s.Z)(c().mark((function e(n){var a,r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),G()){e.next=3;break}return e.abrupt("return");case 3:if(K){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,B(K),e.next=9,S();case 9:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:if("stripe_acacia"!==(null==o?void 0:o.checkoutVersion)){e.next=22;break}return e.next=15,_({input:{checkoutId:(null===(a=i.checkout)||void 0===a?void 0:a.id)||""}});case 15:if(r=e.sent,(t=r.response).node&&!t.errors){e.next=19;break}return e.abrupt("return");case 19:A(!0),e.next=28;break;case 22:if(!i.requiresPaymentStep){e.next=26;break}i.currentStep="payment",e.next=28;break;case 26:return e.next=28,j();case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(5),(0,F.p)(e.t0);case 33:return e.prev=33,I(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[5,30,33,36]])})))).apply(this,arguments)}function B(e){(0,M.z)((function(){i.profile.userId=k.Z.rawId(e.id),i.profile.email=e.email,i.profile.firstName=e.firstName,i.profile.lastName=e.lastName,i.profile.timezone=e.timezone}))}function G(){return!Z&&(!i.isSubmitting&&!!i.canCompleteRegistrationStep)}})),skeleton:function(e){var n,a,r=e.store,t=(0,S.Z)(),l=R();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Ju,{variant:"body-md-600",width:"45%"}),(0,C.jsx)(x.Ju,{variant:"body-sm",width:"80%"}),(null===(n=r.checkout)||void 0===n?void 0:n.application)&&(0,C.jsx)(j.Z,{width:"100%",height:"200px"}),(null===(a=r.checkout)||void 0===a?void 0:a.organizationForm)&&(0,C.jsx)("div",{style:{paddingBottom:t.spacing(2)},children:(0,C.jsx)(x.Tu,{})}),(0,C.jsx)("div",{style:{paddingBottom:t.spacing(2)},children:(0,C.jsx)(x.Tu,{})}),(0,C.jsxs)("div",{className:l.buttons,children:[(0,C.jsx)(x.Zi,{width:"100%"}),(0,C.jsx)(x.Zi,{width:"100%"})]})]})}}),Z=a(952047),I=a(339949),N=a(263305),D=a(981253),E=(a(378915),a(556905)),A=a(886664),_=a(422578),U=a(425108);var B=(0,P.Z)((function(e){return{futureChargeCheckbox:{marginBottom:e.spacing(4)}}})),G=k.Z.withSkeleton({component:(0,K.Pi)((function(e){var n,r,t=e.store,l=(0,m.vn)(),i=(0,A.useStripe)(),o=(0,A.useElements)(),u=(0,I.AB)().refreshSearch,d=(0,E.Z)(),p=(0,y.Z)(t),g=(0,f.Z)(t),h=B(),b=(0,_.useFragment)((void 0!==O||(O=a(378915)).hash&&"e0bee98f756bde6550cb70ecc30e8fe8"!==O.hash&&U.error("The definition of 'ProductRegistrationPaymentStep_Checkout' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),O),(0,M.ZN)(t.checkout||null)),k=(0,Z.nP)({product:t.product,activePlanId:null==b||null===(n=b.product.organization.viewerActiveMembershipPlan)||void 0===n?void 0:n.id}).startEntityCheckout;return b&&t.product?"stripe_acacia"===(null==l?void 0:l.checkoutVersion)&&(0,Z.nF)({checkoutVersion:null==l?void 0:l.checkoutVersion,productType:t.product.type})?(k(),null):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.U4,{variant:"body-md-600",marginBottom:3,"data-testid":"ProductRegistrationPaymentStep.title",children:"Payment Details"}),t.hasPayment&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(D.Z,{store:t}),(0,C.jsx)(x.o$,{marginTop:3,marginBottom:3}),(null===(r=t.checkout)||void 0===r?void 0:r.hasApplication)&&(0,C.jsx)(x.Af,{name:"accept-future-payment",checked:t.hasAcceptedFutureCharge,onChange:function(e){return t.hasAcceptedFutureCharge=e},className:h.futureChargeCheckbox,label:"If accepted, I acknowledge that I will be charged the amount below."})]}),(0,C.jsx)(N.Z,{testid:"ProductRegistrationPaymentStep",basePrice:b.quote.basePrice,finalPrice:b.quote.finalPrice,discountKey:b.quote.discount,pricingKey:b.product.pricing,showInput:"membership_plan"!==b.product.type,store:t}),(0,C.jsx)(x.o$,{marginTop:3,marginBottom:3}),(0,C.jsx)(x.v2,{type:"submit",disabled:!t.canCompletePaymentStep||t.isSubmitting,shouldDisplaySpinner:t.isSubmitting,width:"100%","data-testid":"ProductRegistrationPaymentStep.complete-button",onClick:function(e){return v.apply(this,arguments)},children:function(){var e;if(t.hasPayment){var n;return null!==(n=t.checkout)&&void 0!==n&&n.hasApplication?"Pre-Authorize and Apply":"Complete Purchase"}if(null!==(e=t.checkout)&&void 0!==e&&e.hasApplication)return"Complete Application";return"Complete Registration"}()})]}):null;function v(){return(v=(0,s.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!t.isSubmitting){e.next=3;break}return e.abrupt("return");case 3:if(t.isSubmitting=!0,e.prev=4,null==b||!b.quote.finalPrice){e.next=8;break}return e.next=8,P();case 8:return e.next=10,g();case 10:null==u||u(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),(0,F.M$)(e.t0);case 16:t.isSubmitting=!1;case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function P(){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(c().mark((function e(){var n,a,r,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payment.newPaymentMethod,a=n.cardHolderName,r=n.postalCode,a){e.next=3;break}throw new Error("Enter a card holder name");case 3:if(r){e.next=5;break}throw new Error("Enter a zip or postal code");case 5:if(t.profile.email){e.next=7;break}throw new Error("No email found");case 7:if(t.checkout){e.next=9;break}throw new Error("No checkout found");case 9:if(t.product){e.next=11;break}throw new Error("No product found");case 11:if(i&&o){e.next=13;break}throw new Error("Missing stripe or elements");case 13:return e.next=15,i.createPaymentMethod({type:"card",card:o.getElement(A.CardNumberElement),billing_details:{name:a,address:{postal_code:r}}});case 15:if(!(l=e.sent).error){e.next=18;break}throw new Error("You must provide a valid credit card for payment.");case 18:return e.next=20,p({paymentMethodId:l.paymentMethod.id});case 20:return e.prev=20,t.isSubmitting=!0,e.next=24,d({paymentMethodId:l.paymentMethod.id},i);case 24:return e.prev=24,t.isSubmitting=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[20,,24,27]])})))).apply(this,arguments)}})),skeleton:function(e){var n,a=e.store,r=(0,S.Z)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Ju,{variant:"body-md-600",marginBottom:3,width:"45%"}),a.hasPayment&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Pd,{variant:"one-column",input:(0,C.jsx)(x.sS,{})}),(0,C.jsx)(x.Pd,{variant:"one-column",input:(0,C.jsx)(x.sS,{})}),(0,C.jsxs)("div",{style:{display:"flex",gap:r.spacing(1)},children:[(0,C.jsx)("div",{style:{width:"50%"},children:(0,C.jsx)(x.Pd,{variant:"one-column",input:(0,C.jsx)(x.sS,{})})}),(0,C.jsx)("div",{style:{width:"50%"},children:(0,C.jsx)(x.Pd,{variant:"one-column",input:(0,C.jsx)(x.sS,{})})})]}),(0,C.jsx)(x.Pd,{variant:"one-column",input:(0,C.jsx)(x.sS,{})}),(0,C.jsx)(x.o$,{marginTop:3,marginBottom:3}),(null===(n=a.checkout)||void 0===n?void 0:n.hasApplication)&&(0,C.jsx)(x.Tu,{})]}),(0,C.jsx)(x.Ju,{width:"60%",height:"50px",marginTop:2}),(0,C.jsxs)("div",{style:{display:"flex",width:"100%",marginTop:r.spacing(2),gap:r.spacing(1)},children:[(0,C.jsx)("div",{style:{width:"75%"},children:(0,C.jsx)(x.sS,{})}),(0,C.jsx)(x.Zi,{width:"25%"})]}),(0,C.jsx)(x.o$,{marginBottom:3,marginTop:3}),(0,C.jsx)(x.Zi,{width:"100%"})]})}});var V,z,$,Q=k.Z.withSkeleton({component:(0,K.Pi)((function(e){var n,a=e.store,r=e.hideTerms,t=void 0!==r&&r,l=e.testid,i=void 0===l?"ProductRegistrationCheckboxes":l,o=e.showErrorMessage,s=e.setShowErrorMessage,u=(0,m.vn)();return null!=u&&null!==(n=u.viewerMembership)&&void 0!==n&&n.id?(a&&(a.isForNewUser=!1),null):(0,C.jsx)(C.Fragment,{children:!t&&(0,C.jsx)(x.Z0,{errorMessages:o?["Please accept the terms and conditions before continuing."]:void 0,error:o,children:(0,C.jsx)(x.Af,{name:"user-accepts-terms-and-privacy",checked:Boolean(!!a&&a.hasAcceptedTerms),onChange:function(e){return function(e){a&&(a.hasAcceptedTerms=e);s&&e&&s(!1)}(e)},"data-testid":"".concat(i,".terms-checkbox"),label:(0,C.jsxs)(x.U4,{variant:"body-sm",color:"text.secondary",children:["I agree to the Disco ",(0,C.jsx)(x.Xn,{to:"https://www.disco.co/terms",target:"_blank",children:(0,C.jsx)(x.U4,{variant:"body-sm",color:"primary.main",component:"span",children:"Terms and Conditions"})})," and ",(0,C.jsx)(x.Xn,{to:"https://www.disco.co/privacy-policy",target:"_blank",children:(0,C.jsx)(x.U4,{variant:"body-sm",color:"primary.main",component:"span",children:"Privacy Policy."})})]})})})})})),skeleton:function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Z0,{children:(0,C.jsx)(x.Tu,{})}),(0,C.jsx)(x.Z0,{children:(0,C.jsx)(x.Tu,{})})]})}}),W=a(827981),q=a(851957),H=a(69722),Y=a(963114),J=a(479159),X=a(669187),ee=a(982961),ne=a(158948),ae=(a(408203),a(99967),a(383382)),re=a(616550),te=(a(952270),a(425108));var le=(0,P.Z)((function(e){return{profileFields:{marginBottom:e.spacing(2)},joinButton:{width:"100%",marginTop:e.spacing(2),display:"flex",gap:e.spacing(3),justifyContent:"flex-end"},backToPreviousButton:{color:e.palette.groovy.grey[300]},container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e.spacing(2)},avatar:{border:e.palette.constants.borderSmall,borderRadius:e.measure.borderRadius.big,padding:e.spacing(2.5),margin:e.spacing(2,0)},signOut:{paddingBottom:e.spacing(.25)}}})),ie=k.Z.withSkeleton({component:(0,K.Pi)((function(e){var n,r,t,l,i,o,d=e.store,g=e.topContent,h=le(),v=(0,y.Z)(d),P=(0,f.Z)(d),j=(0,W.a)(),K=(0,S.Z)(),w=(0,ne.Z)(),O=(0,H.R6)(),R=(0,m.vn)(),L=(0,Y.NP)("organization"),N=(0,p.f)().authUser,D=(0,I.AB)().refreshSearch,E=(0,q.U)(),A=(0,_.useFragment)((void 0!==V||(V=a(408203)).hash&&"d747f5aaaa60c4f6b67dbb3afb04f73a"!==V.hash&&te.error("The definition of 'ProductRegistrationProfileStep_Checkout' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),V),(0,M.ZN)(d.checkout||null)),U=(0,Z.nP)({product:d.product,activePlanId:null==A||null===(n=A.product.organization.viewerActiveMembershipPlan)||void 0===n?void 0:n.id}).startEntityCheckout,B=!!N&&!(null!=N&&N.firstName&&null!=N&&N.lastName),G=k.Z.useAsyncMutation((void 0!==z||(z=a(952270)).hash&&"5d675a612597bc6fc16970867813ff99"!==z.hash&&te.error("The definition of 'ProductRegistrationProfileStepGuestMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),z)),Q=(0,J.V)((void 0!==$||($=a(99967)).hash&&"9fe1d58d86ad93535ac1e8872fbbe013"!==$.hash&&te.error("The definition of 'ProductRegistrationProfileStepMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),$),{id:N?null==N?void 0:N.id:"",firstName:(null==N?void 0:N.firstName)||"",lastName:(null==N?void 0:N.lastName)||""}),ie=(0,T.useState)(!1),oe=(0,u.Z)(ie,2),se=oe[0],ue=oe[1];return(0,C.jsxs)(C.Fragment,{children:[g,(0,C.jsx)(x.U4,{variant:"body-md-600",marginBottom:1.5,children:"Registration"}),!d.isForNewUser&&N&&(0,C.jsxs)("div",{"data-testid":"CheckoutForm.auth-user-section",children:[(0,C.jsx)(x.U4,{variant:"body-md",color:"text.secondary",children:"You're logged in and registering as"}),(0,C.jsx)("div",{className:h.avatar,children:(0,C.jsx)(ae.ZP,{testid:"CheckoutForm",userKey:N,details:N.email,titleVariant:"body-md-500",subtitleVariant:"body-sm",truncateName:2})}),(0,C.jsxs)(x.U4,{variant:"body-md",color:"text.secondary",marginBottom:2,children:["or ",(0,C.jsx)("span",{children:(0,C.jsx)(x.GY,{onClick:j,textVariant:"body-md",color:K.palette.primary.main,className:h.signOut,testid:"CheckoutForm.signout",children:"Sign Out"})})," to register under a different account."]})]}),B?(0,C.jsxs)("div",{children:[(0,C.jsx)(x.z6,{fullWidth:!0,placeholder:"First Name",name:"first-name",value:Q.state.firstName||"",onChange:function(e){return Q.state.firstName=e.target.value},"data-testid":"ProductRegistrationProfileStep.incomplete.first-name",className:h.profileFields}),(0,C.jsx)(x.z6,{fullWidth:!0,placeholder:"Last Name",name:"last-name",value:Q.state.lastName||"",onChange:function(e){return Q.state.lastName=e.target.value},"data-testid":"ProductRegistrationProfileStep.incomplete.last-name",className:h.profileFields})]}):(0,C.jsxs)(C.Fragment,{children:[d.isForNewUser&&(0,C.jsx)(ee.Z,{store:d}),!(null!==(r=d.checkout)&&void 0!==r&&r.hasApplication)&&N&&(0,C.jsx)(b.Z,{store:d})]}),(0,C.jsxs)("div",{className:h.joinButton,children:[d.hasSelectedEmailSignup&&(0,C.jsx)(x.GY,{onClick:function(){d.hasSelectedEmailSignup=!1},className:h.backToPreviousButton,children:"Back"}),N?(0,C.jsx)(C.Fragment,{children:B?(0,C.jsx)(x.v2,{"data-testid":"ProductRegistrationProfileStep.update-profile",disabled:!Q.state.firstName||!Q.state.lastName||Q.isSubmitting,shouldDisplaySpinner:d.isSubmitting||se,onClick:function(){return fe.apply(this,arguments)},width:"100%",children:"Complete Profile"}):null!==(t=d.checkout)&&void 0!==t&&null!==(l=t.occurrence)&&void 0!==l&&l.allowGuestAccess?(0,C.jsxs)("div",{className:h.container,children:[(0,C.jsx)(x.v2,{type:"submit",disabled:!be(),shouldDisplaySpinner:d.isSubmitting,"data-testid":"ProductRegistrationProfileStep.submit-guest-button",onClick:function(){return pe.apply(this,arguments)},width:"100%",children:"Attend as Guest"}),(null===(i=d.checkout)||void 0===i?void 0:i.isOrganizationPublic)&&(0,C.jsx)(x.v2,{type:"submit",disabled:!be(),shouldDisplaySpinner:d.isSubmitting||se,"data-testid":"ProductRegistrationProfileStep.submit-button",onClick:ce,width:"100%",children:N?d.requiresPaymentStep?"Next Step":"Attend & Join ".concat(L.singular):"Sign Up"})]}):(0,C.jsx)(C.Fragment,{children:null!==(o=d.checkout)&&void 0!==o&&o.hasApplication?(0,C.jsx)(x.v2,{"data-testid":"ProductRegistrationProfileStep.start-application",disabled:!Boolean(d.profile.userId||d.profile.firstName&&d.profile.lastName&&d.profile.email&&d.profile.confirmEmail&&!d.isEmailConfirmationWrong),shouldDisplaySpinner:d.isSubmitting||se,onClick:function(){d.currentStep="apply"},width:"100%",children:"Start Application"}):(0,C.jsx)(x.v2,{type:"submit",disabled:!be(),shouldDisplaySpinner:d.isSubmitting||se,"data-testid":"ProductRegistrationProfileStep.submit-button",onClick:ce,width:"100%",children:d.requiresPaymentStep?"Next Step":"Complete Registration"})})}):(0,C.jsx)(x.v2,{type:"submit",disabled:!he(),shouldDisplaySpinner:d.isSubmitting||se,"data-testid":"ProductRegistrationProfileStep.submit-button",onClick:function(e){return de.apply(this,arguments)},width:"100%",children:"Sign Up"})]})]});function de(){return(de=(0,s.Z)(c().mark((function e(n){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),he()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,v();case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,ue(!0),e.next=12,E({checkoutId:(null===(a=d.checkout)||void 0===a?void 0:a.id)||""});case 12:if(!e.sent){e.next=14;break}d.currentStep="verify_email";case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),(0,F.p)(e.t0);case 19:return e.prev=19,ue(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[8,16,19,22]])})))).apply(this,arguments)}function ce(e){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(c().mark((function e(n){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),be()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,v();case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:if(N){e.next=10;break}return e.abrupt("return");case 10:if(e.prev=10,ge(N),"stripe_acacia"!==(null==R?void 0:R.checkoutVersion)||!(0,Z.nF)({checkoutVersion:null==R?void 0:R.checkoutVersion,productType:null===(a=d.product)||void 0===a?void 0:a.type})){e.next=16;break}return e.abrupt("return",U());case 16:if(!d.requiresPaymentStep){e.next=20;break}d.currentStep="payment",e.next=22;break;case 20:return e.next=22,P();case 22:null==D||D(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(10),(0,F.p)(e.t0);case 28:case"end":return e.stop()}}),e,null,[[10,25]])})))).apply(this,arguments)}function pe(){return(pe=(0,s.Z)(c().mark((function e(){var n,a,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=d.checkout)&&void 0!==n&&n.occurrence){e.next=2;break}return e.abrupt("return");case 2:return d.isSubmitting=!0,e.next=5,G({id:d.checkout.id});case 5:if(r=e.sent,null===(a=r.completeGuestCheckout.errors)||void 0===a||!a.length){e.next=9;break}return(0,F.p)(r.completeGuestCheckout.errors[0]),e.abrupt("return");case 9:d.isSubmitting=!1,window.location.href=(0,re.Gn)(X.ZP.COMMUNITY.GUEST.DETAIL,{entityId:d.checkout.occurrence.id});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){(0,M.z)((function(){d.profile.userId=k.Z.rawId(e.id),d.profile.email=e.email,d.profile.firstName=e.firstName,d.profile.lastName=e.lastName,d.profile.timezone=e.timezone}))}function he(){return!se&&(!d.isSubmitting&&(!!d.hasAcceptedTerms&&!(!(d.profile.firstName&&d.profile.lastName&&d.profile.email&&d.profile.confirmEmail)||d.isEmailConfirmationWrong)))}function be(){return!se&&(!d.isSubmitting&&(!!(null!=R&&R.viewerMembership||d.hasAcceptedTerms||N)&&!!d.canCompleteRegistrationStep))}function fe(){return(fe=(0,s.Z)(c().mark((function e(){var n,a,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Q.state.firstName&&Q.state.lastName){e.next=4;break}return Q.addError({field:Q.state.firstName?"lastName":"firstName",message:"First and last name are required"}),e.abrupt("return");case 4:return e.next=6,Q.submit(Q.state);case 6:if(n=e.sent,a=n.didSave,r=n.response,a&&null!=r&&r.node){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,ye();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),(0,F.p)(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function ye(){return ke.apply(this,arguments)}function ke(){return(ke=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({input:{},productId:(null==O?void 0:O.id)||""});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),skeleton:function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Ju,{variant:"body-md-600",marginBottom:2,width:"45%"}),(0,C.jsx)(x.Ju,{variant:"body-sm",marginBottom:2,width:"80%"}),(0,C.jsx)(j.Z,{width:"100%",height:75}),(0,C.jsx)(x.Zi,{width:"100%"})]})}}),oe=a(231958),se=a(177175),ue=a(341694);var de,ce=function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Ju,{variant:"body-md-600",width:"45%"}),(0,C.jsx)(x.Ju,{variant:"body-sm",marginBottom:2,width:"80%"}),(0,C.jsx)(j.Z,{width:"100%",height:75}),(0,C.jsx)(x.Zi,{width:"100%"})]})},me=k.Z.withSkeleton({component:(0,K.Pi)((function(e){var n,a,r,t=e.store,l=e.profileStepTopContent,i=(0,p.f)().authUser,o=(0,m.vn)(),s=(0,T.useState)(!1),d=(0,u.Z)(s,2),c=d[0],g=d[1];return i||t.hasSelectedEmailSignup?(0,C.jsx)(ie,{store:t,topContent:l}):(0,C.jsxs)(C.Fragment,{children:[null!==(n=t.checkout)&&void 0!==n&&n.invitation?(0,C.jsx)(x.o$,{marginTop:2,marginBottom:2}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.U4,{variant:"body-md-600",children:"Registration"}),(0,C.jsx)(x.U4,{variant:"body-md",color:"text.secondary",children:"How would you like to register?"}),(0,C.jsx)(x.o$,{marginTop:3,marginBottom:3})]}),(0,C.jsx)(Q,{testid:"membership_plan"===(null===(a=t.product)||void 0===a?void 0:a.type)?"MembershipPlanRegistrationCheckboxes":"ProductRegistrationCheckboxes",store:t,showErrorMessage:c,setShowErrorMessage:g}),"enabled"===(null==o||null===(r=o.authProvider)||void 0===r?void 0:r.status)?(0,C.jsx)(ue.Z,{labelPrefix:"Continue",width:"100%",loginSource:"registration",redirectDestination:window.location.href,onClick:function(){return!!t.hasAcceptedTerms||(g(!0),!1)}}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(se.ZP,{onClick:function(){return!!t.hasAcceptedTerms||(g(!0),!1)},width:"100%",loginSource:"registration",redirectDestination:window.location.href}),(0,C.jsx)(x.v2,{onClick:function(){t.hasAcceptedTerms?t.hasSelectedEmailSignup=!0:g(!0)},testid:"ProductRegistrationStartStep.continue-with-email-button",width:"100%",children:"Continue with Email"}),(0,C.jsx)(oe.Z,{testid:"ProductRegistrationStartStep.login-link"})]})]})})),skeleton:ce}),pe=a(753688),ge=(a(488272),a(459374)),he=a(982879),be=a(425108);var fe,ye=(0,P.Z)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:e.spacing(3)},cover:{borderRadius:e.measure.borderRadius.big,marginBottom:e.spacing(3),maxWidth:"850px"},text:{textAlign:"center"}}})),ke=k.Z.withSkeleton({component:(0,K.Pi)((function(e){var n,r,t,l,i,o=e.store,s=e.testid,u=void 0===s?"ProductRegistration":s,d=(0,m.vn)(),c=(0,H.R6)(),p=ye(),g=(0,pe.P)("registration"),h=(0,Y.NP)("experience"),b=(0,Y.NP)("pathway"),f=(0,Y.NP)("sidebar_product"),y=(0,he.Kx)(),k=y.membershipPlanSlug,v=y.inviteToken,P=(0,re.UO)().productSlug,F=(0,_.useLazyLoadQuery)((void 0!==de||(de=a(488272)).hash&&"8c1e639bc274b8c5657e06223d5e9d3e"!==de.hash&&be.error("The definition of 'ProductRegistrationSuccessStepQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),de),{id:(null===(n=o.product)||void 0===n?void 0:n.id)||""}).product,S=null==F||null===(r=F.viewerMembership)||void 0===r?void 0:r.organizationMembership,j=!(null!==(t=o.checkout)&&void 0!==t&&t.hasApplication)&&S&&!S.hasSeenOnboarding&&S.viewerShouldCompleteMemberOnboarding;return(0,T.useEffect)((function(){if(j){var e=new URL(window.location.href),n=M();Object.assign(e,n),location.href=e.origin+e.pathname}}),[j]),!F||j?(0,C.jsx)(x.Zy,{}):(0,C.jsxs)("div",{className:p.container,children:[F.cover&&(0,C.jsx)(ge.Z,{src:F.cover,className:p.cover}),(0,C.jsx)(x.U4,{testid:"".concat(u,"SuccessStep.success-title"),variant:"heading-lg",paddingBottom:1,className:p.text,children:null!==(l=o.checkout)&&void 0!==l&&l.hasApplication?"Application Received! Hang tight":"Congratulations!"}),(0,C.jsx)(x.U4,{testid:"".concat(u,"SuccessStep.success-message"),color:"text.secondary",paddingBottom:4,className:p.text,children:function(){var e;if(null!==(e=o.checkout)&&void 0!==e&&e.hasApplication)return"You successfully applied for ".concat(null==F?void 0:F.name,".");switch(null==F?void 0:F.type){case"membership_plan":return"You successfully registered for ".concat(null==F?void 0:F.name,".");case"community_event":return"You successfully registered for ".concat(null==F?void 0:F.name,". You'll now have access to it on the events page.");case"pathway":return"You successfully registered for ".concat(null==F?void 0:F.name,". You'll now have access to it under ").concat(b.plural," in ").concat(f.singular,".");default:return"You successfully registered for ".concat(null==F?void 0:F.name,". You'll now have access to it under ").concat(h.plural," in ").concat(f.singular,".")}}()}),!(null!==(i=o.checkout)&&void 0!==i&&i.hasApplication)&&(0,C.jsx)(x.v2,{testid:"".concat(u,"SuccessStep.cta-link"),to:M(),target:g.isOpen?"_self":"_top",children:function(){switch(null==F?void 0:F.type){case"membership_plan":return"Continue to ".concat(null==d?void 0:d.name);case"community_event":return"Continue to Events";case"pathway":return"Continue to ".concat(b.singular);default:return"Continue to ".concat(h.singular)}}()})]});function M(){return"membership_plan"===(null==F?void 0:F.type)?k&&P&&c?{pathname:X.ZP.COMMUNITY.EXPERIENCES.COURSES.UPCOMING,search:(0,he.tr)("",{drawerRegistrationExperienceId:c.id,inviteToken:v})}:{pathname:X.ZP.COMMUNITY.HOME.ROOT}:{pathname:(0,re.Gn)(X.ZP.PRODUCT.DASHBOARD,{productSlug:F.slug})}}})),skeleton:function(e){var n,a=e.store,r=ye(),t=(0,H.R6)();return(0,C.jsxs)("div",{className:r.container,children:[(null==t?void 0:t.cover)&&(0,C.jsx)("div",{style:{width:"100%"},children:(0,C.jsx)(j.Z,{variant:"rect",width:"100%",height:"350px",className:r.cover})}),(0,C.jsx)(x.Ju,{paddingBottom:1,height:"60px",width:"200px"}),(0,C.jsx)(x.Ju,{width:"100%",height:"200px",paddingBottom:4}),!(null!==(n=a.checkout)&&void 0!==n&&n.hasApplication)&&(0,C.jsx)(x.Zi,{})]})}}),ve=a(11917),Pe=a(52270),Fe=(a(546901),a(425108));var xe=(0,P.Z)((function(e){return{verifyEmailButton:{width:"100%",display:"flex",gap:e.spacing(3),justifyContent:"center"},backToPreviousButton:{color:e.palette.groovy.grey[300]},buttonsContainer:{marginTop:e.spacing(1.5)}}})),Se=k.Z.withSkeleton({component:(0,K.Pi)((function(e){var n,r,t=e.testid,l=e.store,i=xe(),o=(0,p.f)().refreshAuthUser,u=(0,J.V)((void 0!==fe||(fe=a(546901)).hash&&"4ec30d118cf8e74b67f2bbe00bec2fa7"!==fe.hash&&Fe.error("The definition of 'ProductRegistrationVerifyEmailStepMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),fe),{checkoutId:(null===(n=l.checkout)||void 0===n?void 0:n.id)||"",verificationCode:""},{requireChangeToSubmit:!1});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(Pe.Z,{testid:t,classes:{buttonsRoot:i.buttonsContainer},buttons:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.GY,{onClick:function(){l.isSubmitting=!1,l.currentStep="registration"},className:i.backToPreviousButton,children:"Back"}),(0,C.jsx)(Pe.Z.SubmitButton,{name:"verify-email",testid:"VerifyEmailStep.button.verify-email",id:"".concat(t,"VerifyEmailStepForm"),form:u,onClick:function(){return m.apply(this,arguments)},className:i.verifyEmailButton,disabled:u.isSubmitting||!u.state.verificationCode,children:"Verify Email"})]}),children:[(0,C.jsx)(x.U4,{variant:"body-md-600",marginBottom:2,children:"Registration"}),(0,C.jsxs)(x.U4,{variant:"body-sm",children:["A verification code has been sent to ",(0,C.jsx)(x.U4,{variant:"body-sm-600",component:"span",children:null===(r=l.checkout)||void 0===r?void 0:r.profile.email}),". Enter the code below to complete your registration."]}),(0,C.jsx)(x.o$,{marginTop:3,marginBottom:3}),(0,C.jsx)(x.Z0,{errorMessages:u.errorsByField.verificationCode,marginBottom:.5,children:(0,C.jsx)(x.z6,{fullWidth:!0,placeholder:"Verification Code",name:"verification-code",value:u.state.verificationCode||"",onChange:function(e){return u.state.verificationCode=e.target.value},"data-testid":"".concat(t,"VerifyEmailStep.input.verification-code")})})]}),(0,C.jsx)(x.o$,{marginTop:3,marginBottom:2}),(0,C.jsx)(x.U4,{variant:"body-sm",align:"center",children:"If you didn't receive the code, please go back to verify your information and try again."})]});function d(e){(0,M.z)((function(){l.profile.userId=k.Z.rawId(e.id),l.profile.email=e.email,l.profile.firstName=e.firstName,l.profile.lastName=e.lastName,l.profile.timezone=e.timezone}))}function m(){return(m=(0,s.Z)(c().mark((function e(){var n,a,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.state.verificationCode){e.next=3;break}return u.addError({field:"verificationCode",message:"Verification code is required"}),e.abrupt("return");case 3:return l.isSubmitting=!0,e.next=6,u.submit(u.state);case 6:if(n=e.sent,a=n.didSave,r=n.response,a&&null!=r&&r.node){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,o();case 13:d(e.sent),l.hasSelectedEmailSignup=!1,l.isForNewUser=!1,l.currentStep="registration",l.isSubmitting=!1;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),skeleton:function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.Ju,{variant:"body-md-600",marginBottom:2,width:"45%"}),(0,C.jsx)(x.Ju,{variant:"body-sm",marginBottom:2,width:"80%"}),(0,C.jsx)(j.Z,{width:"100%",height:75}),(0,C.jsx)(x.Zi,{width:"100%"})]})}});var je=k.Z.withSkeleton({component:(0,K.Pi)((function(e){var n,a,r,s=e.testid,u=void 0===s?"ProductRegistration":s,d=e.profileStepTopContent,c=(0,o.Z)(),m=c.store,p=c.product,g=ve.Z.useLoadStripe();return(0,i.Z)(m),p?(0,C.jsx)("div",{"data-testid":"ProductRegistration.container",children:(0,C.jsx)("div",{"data-testid":"".concat(u,"Form.form"),children:(0,C.jsx)(A.Elements,{stripe:g,children:(0,C.jsxs)("div",{"data-testid":"".concat(u,"Form.checkout-id"),"data-checkout-id":null===(n=m.checkout)||void 0===n?void 0:n.id,children:["success"===m.currentStep?null:null!==(r=m.checkout)&&void 0!==r&&r.invitation?(0,C.jsx)(t.Z,{store:m}):null,m.startCheckoutError?(0,C.jsx)(l.Z,{errorMessage:m.startCheckoutError.message,title:null!==(a=m.checkout)&&void 0!==a&&a.hasApplication?"Application":"Registration",authUserLabel:"Register as:",productKey:(0,M.ZN)(m.product)}):(0,C.jsx)(C.Fragment,{children:function(){switch(m.currentStep){case"registration":default:return(0,C.jsx)(me,{store:m,profileStepTopContent:d});case"verify_email":return(0,C.jsx)(Se,{store:m,testid:u});case"apply":return(0,C.jsx)(L,{store:m});case"payment":return(0,C.jsx)(G,{store:m});case"success":return(0,C.jsx)(ke,{store:m,testid:u})}}()})]})})})}):(0,C.jsx)(x.kz,{severity:"error",message:"An unexpected error occurred. Please go back and try again."})})),skeleton:function(){return(0,C.jsx)(ce,{})}})},245793:function(e,n,a){a.d(n,{t:function(){return N}});var r,t,l,i=a(204942),o=a(386854),s=a(827981),u=a(952047),d=a(285245),c=a(69722),m=a(922261),p=a(753688),g=a(963114),h=a(669187),b=a(218558),f=a(359091),y=(a(661493),a(881312),a(833197),a(173795),a(147906),a(10165)),k=a(383382),v=a(810863),P=a(541321),F=a(366963),x=a(108920),S=a(251941),j=a(571596),M=a(982879),K=a(667294),T=a(422578),C=a(616550),w=(a(244311),a(752015)),O=a(785893),R=a(425108);function L(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function Z(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?L(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var I=(0,v.Z)((function(e){return{landingPage:{marginTop:e.spacing(1)},avatar:{border:e.palette.constants.borderSmall,borderRadius:e.measure.borderRadius.big,padding:e.spacing(2.5),margin:e.spacing(2,0)},signOut:{paddingBottom:e.spacing(.25)},adminViewButton:{marginTop:e.spacing(1)},planButtons:{display:"flex",flexDirection:"column",gap:e.spacing(1)},currentPlan:{paddingBottom:e.spacing(2)},selectPlan:{border:"none",padding:0,marginTop:0},planSelection:{border:e.palette.constants.borderSmall,borderRadius:e.measure.borderRadius.big,padding:e.spacing(2.5),margin:e.spacing(-3)},selectPlanButton:{width:"100%"},statusButton:{width:"fit-content",borderRadius:e.measure.borderRadius.big,"&.Mui-disabled":{backgroundColor:e.palette.grey[200],opacity:1}}}})),N=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(P.Ju,{width:"75%",height:"40px"}),(0,O.jsx)(P.Ju,{marginBottom:1,width:"100%"}),(0,O.jsx)(P.Zi,{width:"100%"})]})};n.Z=y.Z.withSkeleton({component:function(e){var n,i,v=e.experienceKey,L=e.occurrenceKey,N=e.setStartRegistration,D=e.onPage,E=void 0!==D&&D,A=e.testid,_=void 0===A?"ProductRegistrationSection":A,U=I(),B=(0,x.Z)(),G=(0,d.vn)(),V=(0,c.R6)(),z=(0,C.$B)(),$=(0,p.P)("registration"),Q=$.params.drawerRegistrationOccurrenceId,W=(0,g.NP)("experience"),q=(0,S.d)(),H=!E&&q,Y=(0,m.f)().authUser,J=(0,C.k6)(),X=(0,T.useLazyLoadQuery)((void 0!==r||(r=a(173795)).hash&&"3fb6f83146e3c7c590270d5a56b122a7"!==r.hash&&R.error("The definition of 'ProductRegistrationSectionQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{id:(null==G||null===(n=G.viewerMembership)||void 0===n?void 0:n.id)||""},{fetchPolicy:"network-only"}).membership,ee=(0,T.useFragment)((void 0!==t||(t=a(881312)).hash&&"bfc1bcc269bb509e457c8ffc3a87741c"!==t.hash&&R.error("The definition of 'ProductRegistrationSectionFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),v),ne=(0,j.Z)(ee),ae=(0,g.bE)(),re=(0,u.nP)({product:ee,activePlanId:null===(i=ee.organization.viewerActiveMembershipPlan)||void 0===i?void 0:i.id}).startEntityCheckout,te="community_event"===ee.type,le="pathway"===ee.type,ie="membership_plan"===ee.type,oe="course"===ee.type,se=Boolean(ee.organization.viewerMembershipPlan&&(null==G?void 0:G.viewerMembership)),ue=(0,T.useFragment)((void 0!==l||(l=a(833197)).hash&&"420f3dfd069dcc7aca5436780fb37cd2"!==l.hash&&R.error("The definition of 'ProductRegistrationSectionOccurrenceFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),L||null),de=(null==ue?void 0:ue.id)||z.params.occurrenceId||Q,ce=function(){if(null!=ue&&ue.datetimeRange&&ue.datetimeRange[1]){var e=ue.datetimeRange[1];return new Date>new Date(e)}return!1}(),me=Boolean(null==ue?void 0:ue.atCapacity),pe=ne.has("registration.manage"),ge=Boolean(ee.applicationQuestions.totalCount),he=(0,K.useState)(Fe()),be=(0,o.Z)(he,2),fe=be[0],ye=be[1],ke=y.Z.connectionToArray(null==X?void 0:X.productMemberships),ve=ke.length?ke[0].product:null,Pe=(0,s.a)();return(0,K.useEffect)((function(){ye(Fe())}),[ee,V,G]),ee?(0,O.jsxs)("div",{"data-testid":"ProductRegistration.container",children:[function(){var e=ce||me?(0,O.jsx)(P.v2,{leftIcon:"ticket",color:"grey",testid:ce?"OccurrenceEndedLabel":"AtCapacityLabel",disabled:!0,className:U.statusButton,children:ce?"Event Ended":"At Capacity"}):null;switch(fe){case"anonymous":default:return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(P.U4,{variant:"body-md-600",children:"Registration"}),(0,O.jsx)(P.U4,{variant:"body-md",color:"text.secondary",paddingBottom:2,children:Me(ee.registrationType,ce,me)}),e||(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(P.v2,{"data-testid":"".concat(_,".register-now"),onClick:Ke,width:"100%",children:"Register Now"}),ee.landingPageUrl&&(0,O.jsx)(P.v2,{to:ee.landingPageUrl,width:"100%",color:"grey",variant:"outlined",className:U.landingPage,"data-testid":"".concat(_,".landing-page-link"),children:"Visit Landing Page"})]})]});case"unregistered":var n=function(n){var a=n.disabled;return e||(0,O.jsx)(P.v2,{disabled:a,onClick:Ke,width:"100%","data-testid":"".concat(_,".register-now"),children:ge?"Apply Now":ie&&se?"Switch Plan":"Register Now"})};return(0,O.jsxs)(O.Fragment,{children:[Se(),!H&&(0,O.jsxs)(P.U4,{variant:"body-md",color:"text.secondary",marginBottom:2,children:["or ",(0,O.jsx)("span",{children:(0,O.jsx)(P.GY,{onClick:Pe,textVariant:"body-md",color:B.palette.primary.main,className:U.signOut,testid:"".concat(_,".signout"),children:"Sign Out"})})," to register under a different account."]}),pe?(0,O.jsx)(P.t2,{content:ie?"Admin cannot select membership plans.":le?"Admins can view and operate Pathways without registering.":"Admins can view ".concat(ae.admin_experience.plural," or add themselves as a ").concat(ae.product_admin.singular," or ").concat(ae.product_instructor.singular,"."),children:(0,O.jsx)("span",{children:(0,O.jsx)(n,{disabled:!0})})}):(0,O.jsx)(n,{})]});case"alreadyOnPlan":return ve?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:U.currentPlan,children:[(0,O.jsx)(P.U4,{variant:"body-md",color:"text.secondary",paddingBottom:2,display:"inline",children:"Current plan: "}),(0,O.jsx)(P.U4,{paddingBottom:2,display:"inline",variant:"body-md-700",children:null==ve?void 0:ve.name})]}),X&&X.member&&(0,O.jsx)("div",{className:U.avatar,children:(0,O.jsx)(k.ZP,{userKey:X.member,details:X.email,titleVariant:"body-md-500",subtitleVariant:"body-sm",truncateName:2})}),(0,O.jsxs)("div",{className:U.planButtons,children:[(0,O.jsx)(b.Z,{organizationKey:ee.organization,children:function(e){return(0,O.jsx)(P.v2,Z(Z({},e),{},{color:"grey",variant:"outlined",width:"100%",onClick:Ke,testid:"ProductRegistrationSection.change-plan",children:"Change Plan"}))}}),(0,O.jsx)(w.Z,{membershipPlanKey:ve,children:function(e){return(0,O.jsx)(P.v2,Z(Z({},e),{},{color:"error",width:"100%",children:"Cancel Plan"}))}})]})]}):null;case"registered":return(0,O.jsxs)(O.Fragment,{children:[Se(),"membership_plan"===(null==V?void 0:V.type)||"membership_plan"===(null==ee?void 0:ee.type)?(0,O.jsxs)("div",{className:U.planButtons,children:[(0,O.jsx)(b.Z,{organizationKey:ee.organization,children:function(e){return(0,O.jsx)(P.v2,Z(Z({},e),{},{color:"grey",variant:"outlined",width:"100%",testid:"ProductRegistrationSection.change-plan",children:"Change Plan"}))}}),(0,O.jsx)(w.Z,{membershipPlanKey:ve,children:function(e){return(0,O.jsx)(P.v2,Z(Z({},e),{},{color:"error",width:"100%",children:"Cancel Plan"}))}})]}):(0,O.jsx)(P.v2,{to:Z({pathname:(0,C.Gn)(h.ZP.PRODUCT.DASHBOARD,{productSlug:ee.slug})},de&&{search:(0,M.tr)("",{drawerOccurrenceId:de,drawerEventTab:"details"})}),width:"100%","data-testid":"".concat(_,".overview-link"),target:$.isOpen?"_self":"_top",children:de?"View Event":"View ".concat(oe?W.singular:ae.pathway.singular)})]});case"applied":return(0,O.jsxs)(O.Fragment,{children:[Se(),!H&&(0,O.jsxs)(P.U4,{variant:"body-md",color:"text.secondary",marginBottom:2,children:["or ",(0,O.jsx)("span",{children:(0,O.jsx)(P.GY,{onClick:Pe,textVariant:"body-md",color:B.palette.primary.main,className:U.signOut,testid:"".concat(_,".signout"),children:"Sign Out"})})," to register under a different account."]}),ee.viewerApplication&&je(ee.viewerApplication.status)]});case"waitlist":return(0,O.jsx)(P.v2,{to:ee.waitlistUrl,target:"_blank",width:"100%","data-testid":"".concat(_,".join-the-waitlist"),children:ee.waitlistCtaLabel||"Join Waitlist"});case"unavailableOnPlan":return te?null:"stripe_acacia"===(null==G?void 0:G.checkoutVersion)&&(0,u.nF)({checkoutVersion:G.checkoutVersion,productType:ee.type})?null!=Y&&Y.id?(0,O.jsxs)("div",{className:U.planSelection,children:[(0,O.jsx)(F.Z,{name:"Membership Required",color:B.palette.groovy.blue[400],backgroundColor:B.palette.groovy.blue[100],marginBottom:1.5}),(0,O.jsx)(P.U4,{variant:"body-md-600",marginBottom:.5,children:"Select Membership Plan"}),(0,O.jsx)(P.U4,{variant:"body-md",color:"text.secondary",marginBottom:1.5,children:"You don't currently have access to this ".concat(W.singular,". Select a membership plan to get access.")}),(0,O.jsx)(P.v2,{onClick:function(){return re({forcePlanSelection:!0})},testid:"".concat(_,".register-and-select-plan"),className:U.selectPlanButton,children:"Register & Select Plan"})]}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(P.U4,{variant:"body-md-600",children:"Registration"}),(0,O.jsx)(P.U4,{variant:"body-md",color:"text.secondary",paddingBottom:2,children:Me(ee.registrationType)}),(0,O.jsx)(P.v2,{"data-testid":"".concat(_,".register-now"),onClick:xe,width:"100%",children:"Register Now"})]}):(0,O.jsx)(f.Z,{organizationKey:ee.organization,className:U.selectPlan})}}(),ne.has("registration.manage")?"registered"===fe||ie?null:(0,O.jsx)(P.t2,{content:"As a ".concat(ae.organization.singularLowercase," admin, you can view the ").concat(de?"Event":oe?W.singular:ae.pathway.singular," without having to register."),children:(0,O.jsx)(P.v2,{color:"grey",variant:"outlined",to:Z({pathname:(0,C.Gn)(h.ZP.PRODUCT.DASHBOARD,{productSlug:ee.slug})},de&&{search:(0,M.tr)("",{drawerOccurrenceId:de,drawerEventTab:"details"})}),width:"100%",className:U.adminViewButton,"data-testid":"".concat(_,".admin-view-link"),target:$.isOpen?"_self":"_top",children:de?"View Event":"View ".concat(oe?W.singular:ae.pathway.singular)})}):null]}):null;function Fe(){var e,n,a,r,t,l,i,o=le&&(null==G?void 0:G.isAdminViewingAsMember);return te&&null!=V&&null!==(e=V.viewerMembership)&&void 0!==e&&e.id||o?"registered":te&&null!=G&&null!==(n=G.viewerMembership)&&void 0!==n&&n.id?"unregistered":!te||null!=G&&null!==(a=G.viewerMembership)&&void 0!==a&&a.id?ee.registrationPricing||pe?null!=V&&null!==(r=V.viewerMembership)&&void 0!==r&&r.id&&"membership_plan"!==(null==ee?void 0:ee.type)?"registered":"waitlist"===ee.registrationType&&ee.waitlistUrl?"waitlist":null!==(t=ee.viewerApplication)&&void 0!==t&&t.id?"applied":null!=X&&null!==(l=X.productMemberships)&&void 0!==l&&l.totalCount&&"membership_plan"===(null==V?void 0:V.type)?"alreadyOnPlan":null!=G&&null!==(i=G.viewerMembership)&&void 0!==i&&i.id?"unregistered":"anonymous":"unavailableOnPlan":"anonymous"}function xe(){J.replace({state:{ignorePriceOnPlan:!0}}),N(!0)}function Se(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(P.U4,{variant:"body-md",color:"text.secondary",testid:"ProductRegistrationSection.message",children:"You're logged in and registering as"}),!H&&Y&&(0,O.jsx)("div",{className:U.avatar,children:(0,O.jsx)(k.ZP,{userKey:Y,details:Y.email,titleVariant:"body-md-500",subtitleVariant:"body-sm",truncateName:2})})]})}function je(e){var n,a="",r="primary",t="",l=null,i=!1;switch(e){case"rejected":a="Rejected",r="error",t="".concat(_,".rejected"),i=!0;break;case"pending":a="Under Review",r="warning",l="time",t="".concat(_,".under-review"),i=!0;break;default:a="Register",r="primary",t="".concat(_,".accepted"),n=function(){return re()}}return(0,O.jsx)(P.v2,{leftIcon:l?(0,O.jsx)(P.De,{icon:l}):void 0,color:r,width:"100%","data-testid":t,disabled:i,onClick:n,children:a})}function Me(e,n,a){if(n)return"Event has ended. Registration is unavailable.";if(a)return"Event is full. Registration is unavailable.";switch(e){case"closed":return"Registration is closed";case"waitlist":return"Join the waitlist";default:return"Open for new registrations"}}function Ke(){N(!0)}},skeleton:N})},732459:function(e,n,a){var r=a(204942),t=a(321129),l=a(753688),i=a(384714),o=a(494204),s=a(810863),u=a(541321),d=a(868112),c=a(667294),m=a(785893);function p(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?p(Object(a),!0).forEach((function(n){(0,r.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var h=(0,d.Z)((function(){return Promise.all([a.e(6972),a.e(2138),a.e(98),a.e(4467),a.e(4492),a.e(4989),a.e(6966),a.e(6736),a.e(9496),a.e(3506),a.e(4561),a.e(731),a.e(9658),a.e(5647),a.e(8089),a.e(8126),a.e(8469),a.e(7884),a.e(7791),a.e(4796),a.e(6594),a.e(8790),a.e(624),a.e(2166),a.e(4835),a.e(9777),a.e(5991),a.e(6574),a.e(3479),a.e(4980),a.e(4412),a.e(8991),a.e(6273),a.e(4343),a.e(3365),a.e(2360),a.e(1439),a.e(1748),a.e(7841),a.e(8587),a.e(9657),a.e(5702),a.e(1142),a.e(3971),a.e(6381),a.e(457),a.e(6611),a.e(4137),a.e(4362),a.e(5851),a.e(9761),a.e(2935),a.e(3063),a.e(6387),a.e(5538),a.e(1978),a.e(5341),a.e(8212),a.e(1334),a.e(2654)]).then(a.bind(a,619870))}));var b=(0,s.Z)({drawer:{padding:0}});n.Z=function(){var e=(0,l.P)("registration"),n=(0,i.Su)(),a=b(),r=(0,o.Z)(),s=Boolean(e.params.drawerRegistrationExperienceId||e.params.drawerRegistrationOccurrenceId);return(0,c.useEffect)((function(){s&&(0,t.k8)({type:t.hT.on_registration,frontendPath:window.location.href})}),[location]),e.params.drawerRegistrationExperienceId&&r?null:(0,m.jsx)(i.ZP,g(g({},n),{},{children:(0,m.jsx)(u.ds,{open:e.isOpen,onClose:function(){n.handleLeave({onLeave:e.close})},containerClasses:{drawerContainer:a.drawer},children:s&&(0,m.jsx)(h,{})})}))}},208016:function(e,n,a){var r,t,l,i=a(204942),o=a(115861),s=a(887757),u=a.n(s),d=a(461547),c=a(384714),m=a(479159),p=(a(407477),a(156263),a(111189),a(958952)),g=a(810863),h=a(92839),b=a(710694),f=a(559406),y=a(52270),k=(a(307767),a(658555)),v=a(445033),P=a(541321),F=a(251941),x=a(294184),S=a.n(x),j=a(757336),M=a(667294),K=a(422578),T=(a(244311),a(785893)),C=a(425108);function w(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?w(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var R="80px",L=(0,g.Z)((function(e){return{container:function(n){var a=n.onPage;return O(O({position:"relative"},(0,h.Z)(!a,{overflowY:"auto"})),{},(0,i.Z)({},e.breakpoints.down("sm"),{position:"static"}))},contentContainer:{overflow:"hidden"},formFieldsContainer:{height:"100%"},coverContainer:{width:"100%",display:"flex",flexDirection:"column"},parentContainer:function(n){var a=n.showButtons,r=n.onPage;return O(O({},(0,h.Z)(a&&!r,{paddingBottom:R})),{},(0,i.Z)({},e.breakpoints.down("sm"),{paddingBottom:0}))},scrollContainer:(0,i.Z)({},e.breakpoints.down("sm"),{overflow:"unset"}),buttonsContainer:function(n){var a=n.onPage;return O(O({width:"100%",backgroundColor:e.palette.background.paper,display:"flex",alignItems:"center",justifyContent:"end",padding:e.spacing(0,2.5),gap:e.spacing(1.5)},(0,h.Z)(!a,{borderTop:"1px solid ".concat(e.palette.groovy.neutral[100]),height:R,position:"absolute",bottom:0,zIndex:2})),{},(0,i.Z)({},e.breakpoints.down("sm"),O({padding:e.spacing(0,1.5)},(0,h.Z)(!a,{height:"64px"}))))}}}));n.Z=(0,j.Pi)((function(e){var n=e.productKey,i=e.classes,s=e.onPage,g=(0,c.yM)(),h=g.setUnsavedChanges,x=g.handleLeave,j=(0,K.useFragment)((void 0!==r||(r=a(407477)).hash&&"44bb4e14691f55448fe895ded362a154"!==r.hash&&C.error("The definition of 'RegistrationExperienceDetailsFormFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),n),w={richEditorCheckoutDescription:f.Z.getInitialEditorState(j.richEditorCheckoutDescription),cover:j.cover,coverAssetId:null},R=(0,m.V)((void 0!==t||(t=a(156263)).hash&&"5d0c5fa01eb2fd50da8fda899b05d951"!==t.hash&&C.error("The definition of 'RegistrationExperienceDetailsForm_CourseMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),w),Z=(0,m.V)((void 0!==l||(l=a(111189)).hash&&"46b328b54b98d68892a7d6ae80f6ce96"!==l.hash&&C.error("The definition of 'RegistrationExperienceDetailsForm_PathwayMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),w),I="pathway"===j.type,N=I?Z:R;(0,M.useEffect)((function(){h(N.isChanged)}),[N.isChanged,h]);var D=(0,p.vN)(j.type).singular,E=N.isChanged,A=L({showButtons:E,onPage:s}),_=(0,F.d)();return(0,T.jsxs)(y.Z,{id:"RegistrationExperienceDetailsForm",onSubmit:function(){return U.apply(this,arguments)},customClassName:A.container,classes:{formFieldsContainer:A.formFieldsContainer},children:[(0,T.jsx)(k.Z,{classes:{parentContainer:A.parentContainer,scrollContainer:A.scrollContainer},disableScroll:s||_,children:(0,T.jsxs)("div",{className:S()(A.contentContainer,i.contentContainer),"data-testid":"RegistrationExperienceDetails",children:[N.state.cover&&(0,T.jsx)(d.Z,{coverPhoto:N.state.cover,classes:{coverPhoto:i.coverPhoto,coverContainer:A.coverContainer},handleChangeImage:function(e){N.state.cover=e.url,N.state.coverAssetId=e.id}}),(0,T.jsx)(b.Z,{disableMarginRight:!0,defaultValue:N.state.richEditorCheckoutDescription,onChange:function(e){return N.state.richEditorCheckoutDescription=e},placeholder:"Click here to add a description...",testid:"RegistrationExperienceDetails.editable.description"},N.key)]})}),E&&(0,T.jsxs)("div",{className:A.buttonsContainer,"data-testid":"RegistrationExperienceDetails.buttons",children:[(0,T.jsx)(P.v2,{color:"grey",variant:"outlined",onClick:function(){x({onLeave:function(){return N.reset()}})},testid:"RegistrationExperienceDetails.cancel",children:"Cancel"}),(0,T.jsx)(y.Z.SubmitButton,{id:"RegistrationExperienceDetailsForm",form:N,testid:"RegistrationExperienceDetails.save",children:"Save Changes"})]})]});function U(){return(U=(0,o.Z)(u().mark((function e(){var n,a,r,t,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={didSave:!1},!I){e.next=9;break}return e.next=4,Z.submit(O({productId:j.id},N.changedState));case 4:a=e.sent,r=a.didSave,n.didSave=r,e.next=14;break;case 9:return e.next=11,R.submit(O({id:j.id},N.changedState));case 11:t=e.sent,l=t.didSave,n.didSave=l;case 14:if(n.didSave){e.next=16;break}return e.abrupt("return");case 16:h&&h(!1),(0,v.HE)({message:"".concat(D," updated!"),testid:"RegistrationExperienceDetails.success-toast"});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}))},356512:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MembershipPlanRegistrationFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Checkout",kind:"LinkedField",name:"myCheckout",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"RegistrationPricing",kind:"LinkedField",name:"registrationPricing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"basePrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},{args:null,kind:"FragmentSpread",name:"pricingUtils_usePricingDisplayValue"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductRegistrationSectionFragment"},{args:null,kind:"FragmentSpread",name:"ProductOnboardingInfoSection_Product"}],type:"Product",abstractKey:null};t.hash="e343f1ba4ed985d60ba5c7e7df5f5d4a",n.default=t},881312:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductRegistrationSectionFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registrationType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"registrationAvailability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"landingPageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"waitlistUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"waitlistCtaLabel",storageKey:null},{alias:null,args:null,concreteType:"ProductApplication",kind:"LinkedField",name:"viewerApplication",plural:!1,selections:[r,t],storageKey:null},{alias:null,args:null,concreteType:"QuestionNodeConnection",kind:"LinkedField",name:"applicationQuestions",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionNodeConnection",kind:"LinkedField",name:"questions",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"viewerMembershipPlan",plural:!1,selections:i=[r],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"viewerActiveMembershipPlan",plural:!1,selections:i,storageKey:null},{args:null,kind:"FragmentSpread",name:"MembershipPlanSelectButton_OrganizationFragment"},{args:null,kind:"FragmentSpread",name:"MembershipPlanSelectSection_OrganizationFragment"}],storageKey:null},{alias:null,args:null,concreteType:"RegistrationPricing",kind:"LinkedField",name:"registrationPricing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"basePrice",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],type:"Product",abstractKey:null};o.hash="bfc1bcc269bb509e457c8ffc3a87741c",n.default=o},833197:function(e,n,a){a.r(n);a(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductRegistrationSectionOccurrenceFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"atCapacity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"datetimeRange",storageKey:null}],type:"Occurrence",abstractKey:null,hash:"420f3dfd069dcc7aca5436780fb37cd2"};n.default=r},173795:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s,u,d,c,m={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ProductRegistrationSectionQuery",selections:[{alias:"membership",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[l,o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileAvatarWithDetailsFragment"}],storageKey:null},{alias:null,args:s=[{kind:"Literal",name:"productType",value:"membership_plan"}],concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ProductMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isFreeMembership",storageKey:null},{args:null,kind:"FragmentSpread",name:"CancelMembershipPlanButtonFragment"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'productMemberships(productType:"membership_plan")'}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductRegistrationSectionQuery",selections:[{alias:"membership",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[l,o,{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},{alias:null,args:s,concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[u,{alias:null,args:null,concreteType:"ProductMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[d,c,l,{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},l],storageKey:null},{alias:null,args:null,concreteType:"CancelMembershipPlan",kind:"LinkedField",name:"viewerCanCancelMembershipPlan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'productMemberships(productType:"membership_plan")'}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}]},params:{cacheID:"7329dfbdbb5b2d4b3e9bfa4fbf6e8616",id:null,metadata:{},name:"ProductRegistrationSectionQuery",operationKind:"query",text:'query ProductRegistrationSectionQuery(\n  $id: ID!\n) {\n  membership: node(id: $id) {\n    __typename\n    ... on OrganizationMembership {\n      id\n      email\n      member {\n        id\n        fullName\n        ...ProfileAvatarWithDetailsFragment\n      }\n      productMemberships(productType: "membership_plan") {\n        totalCount\n        edges {\n          node {\n            id\n            product {\n              name\n              isFreeMembership\n              ...CancelMembershipPlanButtonFragment\n              id\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment CancelMembershipPlanButtonFragment on Product {\n  id\n  name\n  isFreeMembership\n  pricing {\n    frequency\n    id\n  }\n  viewerCanCancelMembershipPlan {\n    value\n    message\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n'}};m.hash="3fb6f83146e3c7c590270d5a56b122a7",n.default=m},546901:function(e,n,a){a.r(n);a(244311);var r,t,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"ProductRegistrationVerifyEmailStepMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"RegisterUserResponse",kind:"LinkedField",name:"registerUser",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductRegistrationVerifyEmailStepMutation",selections:t},params:{cacheID:"357edb82c6a4ea694a7bf9516f125fc4",id:null,metadata:{},name:"ProductRegistrationVerifyEmailStepMutation",operationKind:"mutation",text:"mutation ProductRegistrationVerifyEmailStepMutation(\n  $input: RegisterUserInput!\n) {\n  response: registerUser(input: $input) {\n    node {\n      id\n      firstName\n      lastName\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};l.hash="4ec30d118cf8e74b67f2bbe00bec2fa7",n.default=l},407477:function(e,n,a){a.r(n);a(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RegistrationExperienceDetailsFormFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"richEditorCheckoutDescription",storageKey:null}],type:"Product",abstractKey:null,hash:"44bb4e14691f55448fe895ded362a154"};n.default=r},156263:function(e,n,a){a.r(n);a(244311);var r,t,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"RegistrationExperienceDetailsForm_CourseMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"EditExperienceMutationResponse",kind:"LinkedField",name:"editExperience",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"richEditorCheckoutDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"RegistrationExperienceDetailsForm_CourseMutation",selections:t},params:{cacheID:"a83a2539709db37a40b0f436507ee5b6",id:null,metadata:{},name:"RegistrationExperienceDetailsForm_CourseMutation",operationKind:"mutation",text:"mutation RegistrationExperienceDetailsForm_CourseMutation(\n  $input: EditExperienceInput!\n) {\n  response: editExperience(input: $input) {\n    node {\n      id\n      richEditorCheckoutDescription\n      cover\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};l.hash="5d0c5fa01eb2fd50da8fda899b05d951",n.default=l},111189:function(e,n,a){a.r(n);a(244311);var r,t,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"RegistrationExperienceDetailsForm_PathwayMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdatePathwayResponse",kind:"LinkedField",name:"updatePathway",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"richEditorCheckoutDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"RegistrationExperienceDetailsForm_PathwayMutation",selections:t},params:{cacheID:"928f89b15fe1ec8669cdf4ab7edb6001",id:null,metadata:{},name:"RegistrationExperienceDetailsForm_PathwayMutation",operationKind:"mutation",text:"mutation RegistrationExperienceDetailsForm_PathwayMutation(\n  $input: UpdatePathwayInput!\n) {\n  response: updatePathway(input: $input) {\n    node {\n      id\n      richEditorCheckoutDescription\n      cover\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};l.hash="46b328b54b98d68892a7d6ae80f6ce96",n.default=l},661493:function(e,n,a){a.r(n);a(244311);var r,t,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"ProductRegistrationApplyStep_SubmitApplicationMutation",selections:t=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SubmitCheckoutApplicationResponse",kind:"LinkedField",name:"submitCheckoutApplication",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductApplication",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductRegistrationApplyStep_SubmitApplicationMutation",selections:t},params:{cacheID:"b9ea62eaebbceeaebf2433ad925ea6ab",id:null,metadata:{},name:"ProductRegistrationApplyStep_SubmitApplicationMutation",operationKind:"mutation",text:"mutation ProductRegistrationApplyStep_SubmitApplicationMutation(\n  $input: SubmitCheckoutApplicationInput!\n) {\n  response: submitCheckoutApplication(input: $input) {\n    node {\n      id\n      status\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};l.hash="6be466eb55b53bf8da5abd3c70bdbcdf",n.default=l},378915:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductRegistrationPaymentStep_Checkout",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PaymentFormDiscountSection_Pricing"}],storageKey:null},{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"viewerActiveMembershipPlan",plural:!1,selections:[r],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CheckoutQuote",kind:"LinkedField",name:"quote",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"basePrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"finalPrice",storageKey:null},{alias:null,args:null,concreteType:"Discount",kind:"LinkedField",name:"discount",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PaymentFormDiscountSection_Discount"}],storageKey:null}],storageKey:null}],type:"Checkout",abstractKey:null};t.hash="e0bee98f756bde6550cb70ecc30e8fe8",n.default=t},952270:function(e,n,a){a.r(n);a(244311);var r,t,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ProductRegistrationProfileStepGuestMutation",selections:t=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"}],concreteType:"CompleteGuestCheckoutResponse",kind:"LinkedField",name:"completeGuestCheckout",plural:!1,selections:[{alias:null,args:null,concreteType:"UserMembership",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductRegistrationProfileStepGuestMutation",selections:t},params:{cacheID:"7de2ad97690b8cd770a968a369c4ad0c",id:null,metadata:{},name:"ProductRegistrationProfileStepGuestMutation",operationKind:"mutation",text:"mutation ProductRegistrationProfileStepGuestMutation(\n  $id: ID!\n) {\n  completeGuestCheckout(id: $id) {\n    node {\n      id\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};l.hash="5d675a612597bc6fc16970867813ff99",n.default=l},99967:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"ProductRegistrationProfileStepMutation",selections:[{alias:"response",args:t=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateUserProfileResponse",kind:"LinkedField",name:"updateProfile",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"lastName",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductRegistrationProfileStepMutation",selections:[{alias:"response",args:t,concreteType:"UpdateUserProfileResponse",kind:"LinkedField",name:"updateProfile",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[l,i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}]},params:{cacheID:"cc3f6e5e45cdfab31fdd733f7713bdbd",id:null,metadata:{},name:"ProductRegistrationProfileStepMutation",operationKind:"mutation",text:"mutation ProductRegistrationProfileStepMutation(\n  $input: UpdateUserProfileInput!\n) {\n  response: updateProfile(input: $input) {\n    node {\n      firstName\n      lastName\n      id\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};s.hash="9fe1d58d86ad93535ac1e8872fbbe013",n.default=s},408203:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductRegistrationProfileStep_Checkout",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[{alias:null,args:null,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"viewerActiveMembershipPlan",plural:!1,selections:[r],storageKey:null}],storageKey:null}],storageKey:null}],type:"Checkout",abstractKey:null};t.hash="d747f5aaaa60c4f6b67dbb3afb04f73a",n.default=t},488272:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ProductRegistrationSuccessStepQuery",selections:[{alias:"product",args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"viewerMembership",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"OrganizationMembership",kind:"LinkedField",name:"organizationMembership",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"hasSeenOnboarding",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerShouldCompleteMemberOnboarding",storageKey:null}],storageKey:null}],storageKey:null}],type:"Product",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ProductRegistrationSuccessStepQuery",selections:[{alias:"product",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,l],storageKey:null}]},params:{cacheID:"e55ab00f05113311261fa2ba1d7233a2",id:null,metadata:{},name:"ProductRegistrationSuccessStepQuery",operationKind:"query",text:"query ProductRegistrationSuccessStepQuery(\n  $id: ID!\n) {\n  product: node(id: $id) {\n    __typename\n    ... on Product {\n      cover\n      name\n      type\n      slug\n      viewerMembership {\n        id\n        organizationMembership {\n          id\n          hasSeenOnboarding\n          viewerShouldCompleteMemberOnboarding\n        }\n      }\n    }\n    id\n  }\n}\n"}};o.hash="8c1e639bc274b8c5657e06223d5e9d3e",n.default=o},204483:function(e,n,a){var r=a(810863),t=a(541321),l=a(848911),i=a(294184),o=a.n(i),s=(a(667294),a(785893)),u=(0,r.Z)((function(e){return{container:{padding:e.spacing(.5)},legend:{display:"flex",alignItems:"center",gap:e.spacing(1),padding:e.spacing(.25,0)},block:{borderRadius:e.measure.borderRadius.default,width:"12px",height:"12px",backgroundColor:e.palette.groovy.grey[100]},color:function(n){var a=n.color;return{backgroundColor:null!=a?a:e.palette.groovy.green[400]}},bufferColor:function(n){var a=n.bufferColor;return{backgroundColor:null!=a?a:e.palette.groovy.green[100]}}}}));n.Z=function(e){var n=e.progress,a=e.bufferProgress,r=e.variant,i=e.total,d=e.color,c=e.bufferColor,m=u({color:d,bufferColor:c});return(0,s.jsxs)("div",{className:m.container,children:[(0,s.jsxs)("div",{className:m.legend,children:[(0,s.jsx)("div",{className:o()(m.block,m.color)}),(0,s.jsx)(t.U4,{color:"common.white",children:"".concat((0,l.xN)(0)(n),"% ").concat("curriculum"===r?"completed":"attended")})]}),(0,s.jsxs)("div",{className:m.legend,children:[(0,s.jsx)("div",{className:o()(m.block,m.bufferColor)}),(0,s.jsx)(t.U4,{color:"common.white",children:"".concat((0,l.xN)(0)(a),"% ").concat("curriculum"===r?"available":"past")})]}),(0,s.jsxs)("div",{className:m.legend,children:[(0,s.jsx)("div",{className:m.block}),(0,s.jsx)(t.U4,{color:"common.white",children:"".concat((0,l.xN)(0)(i?100-a:0),"% ").concat("curriculum"===r?"unreleased":"upcoming")})]})]})}},382494:function(e,n,a){var r=a(753688),t=a(963114),l=a(541321),i=a(868112),o=a(785893),s=(0,i.Z)((function(){return a.e(1007).then(a.bind(a,265560))}));n.Z=function(){var e,n=(0,t.NP)("product_member"),a=(0,r.P)("memberReport");return null!==(e=a.params.productMembershipId)&&void 0!==e&&e.length?(0,o.jsx)(l.ds,{title:"".concat(n.singular," Report"),open:a.isOpen,onClose:a.close,children:(0,o.jsx)(s,{onClose:a.close})}):null}},584097:function(e,n,a){var r=a(204942),t=(a(898540),a(753688),a(963114),a(810863));a(128032),a(669632),a(696672),a(667294),a(785893);(0,t.Z)((function(e){return{subtabs:(0,r.Z)({textAlign:"center",paddingTop:e.spacing(1.5)},e.breakpoints.down("xs"),{"& a":{fontSize:"13px"}})}}))},423186:function(e,n,a){a.d(n,{c:function(){return P}});var r,t=a(204942),l=a(204483),i=(a(584546),a(10165)),o=a(810863),s=a(92839),u=a(541321),d=a(478181),c=a(558365),m=a(848911),p=a(294184),g=a.n(p),h=(a(667294),a(422578)),b=a(785893),f=a(425108);function y(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?y(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var v=(0,o.Z)((function(e){return{root:function(e){return{width:e.width}},labels:function(n){var a=n.hideLabels;return k({display:"flex",justifyContent:"space-between",alignItems:"center"},(0,s.Z)(!a,{gap:e.spacing(4)}))},progressLabel:function(n){var a=n.hideLabels;return k({},(0,s.Z)(!a,k(k({},e.typography["body-xs"]),e.typography.modifiers.fontWeight[500])))},progressText:function(n){var a=n.hideLabels;return k({},(0,s.Z)(!a,k(k(k({},e.typography["body-xs"]),e.typography.modifiers.fontWeight[600]),{},{color:e.palette.text.secondary,fontWeight:400})))}}})),P=function(){return(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Ju,{variant:"body-sm",width:30}),(0,b.jsx)(c.Z,{variant:"rect",width:72,height:8})]})};n.Z=i.Z.withSkeleton({component:function(e){var n=e.memberKey,t=e.hideLabels,i=void 0===t||t,o=e.labelVariant,s=void 0===o?"percentage":o,c=e.width,p=void 0===c?"72px":c,y=e.className,k=v({hideLabels:i,width:p}),P=(0,h.useFragment)((void 0!==r||(r=a(584546)).hash&&"24bfb94dd63f90cf1430c8376fa9b145"!==r.hash&&f.error("The definition of 'MemberCurriculumProgressBarFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),n);if(!P)return null;var F=P.curriculumReport,x=F.totalModules,S=F.releasedModules,j=F.completedModules,M=x?j/x*100:0,K=x?S/x*100:0;return(0,b.jsxs)("div",{className:g()(k.root,y),children:[(0,b.jsxs)("div",{className:k.labels,children:[!i&&(0,b.jsx)(u.U4,{variant:"body-sm-500",display:"inline",align:"left",color:"groovy.green.400",className:k.progressLabel,"data-testid":"MemberCurriculumProgressBar.percentage",children:"".concat((0,m.xN)(0)(M),"%")}),(0,b.jsx)(u.U4,{"data-testid":"MemberCurriculumProgressBar.modules-completed",variant:"body-sm",color:"text.secondary",display:"inline",align:"right",className:k.progressText,children:function(){switch(s){case"percentage":return"".concat((0,m.xN)(0)(M),"%").concat(i?"":" Complete");case"modules":return"".concat(j,"/").concat(x," Modules Completed")}}()})]}),(0,b.jsx)(u.t2,{content:(0,b.jsx)(l.Z,{progress:M,bufferProgress:K,variant:"curriculum",total:x}),children:(0,b.jsx)("div",{children:(0,b.jsx)(d.Z,{percentage:M,bufferPercentage:K,width:p})})})]})},skeleton:P})},584546:function(e,n,a){a.r(n);a(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MemberCurriculumProgressBarFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ProductMembershipCurriculumReport",kind:"LinkedField",name:"curriculumReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalModules",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"releasedModules",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completedModules",storageKey:null}],storageKey:null}],type:"ProductMembership",abstractKey:null,hash:"24bfb94dd63f90cf1430c8376fa9b145"};n.default=r},411321:function(e,n,a){a.d(n,{O:function(){return S}});var r=a(204942),t=a(386854),l=a(54333),i=a(810863),o=a(204483),s=a(10165),u=a(365031),d=a(776862),c=a(92839),m=a(541321),p=a(478181),g=a(963457),h=a(817812),b=a(666037),f=a(558365),y=a(923450),k=a.n(y),v=a(667294),P=a(785893);function F(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}var x=(0,i.Z)((function(e){return{container:{marginBottom:e.spacing(2.5),padding:e.spacing(2.5),boxShadow:e.palette.groovyDepths.insideCard,borderRadius:e.measure.borderRadius.big},header:{display:"flex",alignItems:"center"},progressContainer:{width:"100%"},icon:{width:"70px",minWidth:"70px",height:"70px",minHeight:"70px",backgroundColor:e.palette.groovy.neutral[100],borderRadius:e.measure.borderRadius.medium,marginRight:e.spacing(1.5),position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},completionText:{display:"flex",justifyContent:"space-between"},buttonContainer:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},expandButton:function(n){var a=n.isExpanded;return function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?F(Object(a),!0).forEach((function(n){(0,r.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}({display:"flex",border:"1px solid ".concat(e.palette.groovy.grey[400]),margin:e.spacing(0,3,0,1),transition:"transform 0.2s ease-in-out",transform:"rotate(90deg)","& path":{color:e.palette.groovy.grey[400]}},(0,c.Z)(a,{transform:"rotate(180deg)"}))},completedItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(1.75,.5)},completedText:{display:"flex",justifyContent:"center",alignItems:"center",gap:e.spacing(1.5)},checkmark:{color:"none","& rect":{color:e.palette.groovy.green[100]}},iconSkeleton:{borderRadius:e.measure.borderRadius.medium,margin:e.spacing(0,1.5),position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}}})),S=function(){var e=(0,g.Z)((function(e){return e.breakpoints.down("xs")})),n=x({isExpanded:!1});return(0,P.jsx)("div",{className:n.container,children:(0,P.jsxs)("div",{className:n.header,children:[!e&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:n.buttonContainer,children:(0,P.jsx)(f.Z,{variant:"circle",width:24,height:24})}),(0,P.jsx)("div",{className:n.iconSkeleton,children:(0,P.jsx)(f.Z,{width:70,height:70})})]}),(0,P.jsxs)("div",{className:n.progressContainer,children:[(0,P.jsx)(m.Ju,{variant:"body-lg-600",width:150}),(0,P.jsxs)("div",{className:n.completionText,children:[(0,P.jsx)(m.Ju,{variant:"body-sm",width:100}),(0,P.jsx)(m.Ju,{variant:"body-sm-700",width:50})]}),(0,P.jsx)(f.Z,{variant:"rect",width:"100%",height:8})]})]})})};n.Z=s.Z.withSkeleton({component:function(e){var n=e.title,a=e.completionLabel,r=e.icon,i=e.color,s=e.total,c=e.bufferColor,f=e.percentage,y=e.items,F=e.emptyState,S=(0,v.useState)(!1),j=(0,t.Z)(S,2),M=j[0],K=j[1],T=x({isExpanded:M}),C=(0,g.Z)((function(e){return e.breakpoints.down("xs")})),w=null==y?void 0:y.filter((function(e){return!e.released})),O=null==y?void 0:y.filter((function(e){return e.released})),R=null!=y&&y.length?(y.length-w.length)/y.length*100:0;return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:T.container,children:[(0,P.jsxs)("div",{className:T.header,children:[!C&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:T.buttonContainer,children:(0,P.jsx)(h.Z,{"data-testid":"CurriculumProgressSection.".concat(n,".chevronButton"),size:"small",className:T.expandButton,onClick:function(){return K(!M)},children:(0,P.jsx)(l.default,{height:24,width:24})})}),(0,P.jsx)("div",{className:T.icon,children:(0,P.jsx)(m.De,{icon:r})})]}),(0,P.jsxs)("div",{className:T.progressContainer,children:[(0,P.jsx)("div",{children:(0,P.jsx)(m.U4,{variant:"body-lg-600",children:n})}),(0,P.jsxs)("div",{className:T.completionText,children:[(0,P.jsx)(m.U4,{variant:"body-sm",color:"text.secondary",children:"Completed"}),(0,P.jsx)(m.U4,{"data-testid":"CurriculumProgressSection.".concat(n,".progress"),variant:"body-sm-700",color:"text.secondary",children:a})]}),(0,P.jsx)(m.t2,{content:(0,P.jsx)(o.Z,{progress:f,bufferProgress:R,variant:"curriculum",color:i,bufferColor:c,total:s}),children:(0,P.jsx)("div",{children:(0,P.jsx)(p.Z,{percentage:f,bufferPercentage:R,height:"6px",color:i,bufferColor:c})})})]})]}),(0,P.jsx)("div",{children:(0,P.jsx)(b.Z,{in:M,children:(0,P.jsxs)("div",{"data-testid":"CurriculumProgressSection.".concat(n,".DropDownItems"),children:[Boolean(null==O?void 0:O.length)&&(0,P.jsx)(m.o$,{marginBottom:3,marginTop:3}),Boolean(null==O?void 0:O.length)||!F?null==O?void 0:O.map((function(e){return(0,P.jsxs)("div",{"data-testid":"CurriculumProgressSection.".concat(n,".DropDownItem"),className:T.completedItem,children:[(0,P.jsx)(m.U4,{variant:"body-lg-600",children:e.name}),(0,P.jsx)("div",{className:T.completedText,children:e.completed?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(u.Z,{width:24,height:24,className:T.checkmark}),(0,P.jsx)(m.U4,{color:"text.secondary",children:"Completed"})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{}),(0,P.jsx)(m.U4,{color:"text.secondary",children:"Incomplete"})]})})]},e.name)})):(0,P.jsx)(P.Fragment,{children:F}),Boolean(null==w?void 0:w.length)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(m.o$,{marginBottom:3,marginTop:2}),(0,P.jsx)(m.U4,{variant:"body-lg-600",color:"text.disabled",children:"".concat(null==w?void 0:w.length," Upcoming ").concat(k()(n,null==w?void 0:w.length))})]})]})})})]})})},skeleton:S})},27693:function(e,n,a){a.d(n,{N:function(){return p}});var r,t=a(204483),l=(a(499774),a(10165)),i=a(541321),o=a(478181),s=a(558365),u=a(933913),d=a(422578),c=a(785893),m=a(425108),p=function(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(i.Ju,{variant:"body-sm",width:30}),(0,c.jsx)(s.Z,{variant:"rect",width:72,height:8})]})};n.Z=l.Z.withSkeleton({component:function(e){var n=e.memberKey,s=(0,d.useFragment)((void 0!==r||(r=a(499774)).hash&&"e1724738188168ef162d0ddf42546bd1"!==r.hash&&m.error("The definition of 'EventAttendanceProgressBarFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),n),p=s.eventOccurrences.totalCount,g=new Set(l.Z.connectionToArray(s.occurrenceAttendances).map((function(e){return e.occurrenceId}))).size,h=l.Z.connectionToArray(s.eventOccurrences).filter((function(e){return(0,u.Z)(new Date(e.datetimeRange[0]))})),b=p?g/p*100:0,f=p?h.length/p*100:0;return(0,c.jsxs)("div",{children:[(0,c.jsx)(i.U4,{"data-testid":"EventAttendanceProgressBar.ratio",variant:"body-sm",color:"text.secondary",children:"".concat(g,"/").concat(p)}),(0,c.jsx)(i.t2,{content:(0,c.jsx)(t.Z,{progress:b,bufferProgress:f,variant:"event",total:p}),children:(0,c.jsx)("div",{children:(0,c.jsx)(o.Z,{percentage:b,bufferPercentage:f,width:"72px"})})})]})},skeleton:p})},499774:function(e,n,a){a.r(n);a(244311);var r,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EventAttendanceProgressBarFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"OccurrenceAttendanceNodeConnection",kind:"LinkedField",name:"occurrenceAttendances",plural:!1,selections:[{alias:null,args:null,concreteType:"OccurrenceAttendanceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"OccurrenceAttendance",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"occurrenceId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"filterEventsToMembershipPeriod",value:!0}],concreteType:"OccurrenceNodeConnection",kind:"LinkedField",name:"eventOccurrences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"OccurrenceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"datetimeRange",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"eventOccurrences(filterEventsToMembershipPeriod:true)"}],type:"ProductMembership",abstractKey:null};t.hash="e1724738188168ef162d0ddf42546bd1",n.default=t},366378:function(e,n,a){a.r(n);a(244311);var r,t,l,i,o,s,u,d,c,m,p,g,h,b,f={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"after"},t={defaultValue:null,kind:"LocalArgument",name:"before"},l={defaultValue:null,kind:"LocalArgument",name:"first"},i={defaultValue:null,kind:"LocalArgument",name:"groupIds"},o={defaultValue:null,kind:"LocalArgument",name:"id"},s={defaultValue:null,kind:"LocalArgument",name:"last"},u={defaultValue:null,kind:"LocalArgument",name:"orderBy"},d={defaultValue:null,kind:"LocalArgument",name:"roles"},c={defaultValue:null,kind:"LocalArgument",name:"search"}],kind:"Fragment",metadata:null,name:"ProgressReportTablePaginationQuery",selections:[{alias:null,args:m=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:p=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"groupIds",variableName:"groupIds"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"orderBy",variableName:"orderBy"},{kind:"Variable",name:"roles",variableName:"roles"},{kind:"Variable",name:"search",variableName:"search"}],kind:"FragmentSpread",name:"ProgressReportTable_PaginationFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,t,l,i,s,u,d,c,o],kind:"Operation",name:"ProgressReportTablePaginationQuery",selections:[{alias:null,args:m,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:"records",args:p,concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[b={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"ProductMembershipNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"ProductMembership",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"memberId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastActivityAt",storageKey:null},{alias:null,args:null,concreteType:"ProductMembershipCurriculumReport",kind:"LinkedField",name:"curriculumReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalModules",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"releasedModules",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completedModules",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OccurrenceAttendanceNodeConnection",kind:"LinkedField",name:"occurrenceAttendances",plural:!1,selections:[{alias:null,args:null,concreteType:"OccurrenceAttendanceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"OccurrenceAttendance",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"occurrenceId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"filterEventsToMembershipPeriod",value:!0}],concreteType:"OccurrenceNodeConnection",kind:"LinkedField",name:"eventOccurrences",plural:!1,selections:[b,{alias:null,args:null,concreteType:"OccurrenceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"datetimeRange",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"eventOccurrences(filterEventsToMembershipPeriod:true)"},{alias:null,args:null,concreteType:"CommentNodeConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"member",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:"records",args:p,filters:["search","orderBy","roles","groupIds"],handle:"connection",key:"ProgressReportTable_records",kind:"LinkedHandle",name:"productMemberships"}],type:"Product",abstractKey:null}],storageKey:null}]},params:{cacheID:"2235e1ab7bb84cbb446c534d2d36ca91",id:null,metadata:{},name:"ProgressReportTablePaginationQuery",operationKind:"query",text:"query ProgressReportTablePaginationQuery(\n  $after: String\n  $before: String\n  $first: Int\n  $groupIds: [ID!]\n  $last: Int\n  $orderBy: OrderByInput\n  $roles: [ProductRole!]\n  $search: String\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ProgressReportTable_PaginationFragment_3c8mu3\n    id\n  }\n}\n\nfragment EventAttendanceProgressBarFragment on ProductMembership {\n  id\n  occurrenceAttendances {\n    edges {\n      node {\n        id\n        occurrenceId\n      }\n    }\n  }\n  eventOccurrences(filterEventsToMembershipPeriod: true) {\n    totalCount\n    edges {\n      node {\n        id\n        datetimeRange\n      }\n    }\n  }\n}\n\nfragment MemberCurriculumProgressBarFragment on ProductMembership {\n  id\n  curriculumReport {\n    totalModules\n    releasedModules\n    completedModules\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n\nfragment ProgressReportListRow_Member on ProductMembership {\n  id\n  email\n  lastActivityAt\n  ...MemberCurriculumProgressBarFragment\n  ...EventAttendanceProgressBarFragment\n  comments {\n    totalCount\n  }\n  member {\n    id\n    fullName\n    ...ProfileAvatarWithDetailsFragment\n  }\n}\n\nfragment ProgressReportTable_PaginationFragment_3c8mu3 on Product {\n  id\n  records: productMemberships(first: $first, after: $after, last: $last, before: $before, search: $search, orderBy: $orderBy, roles: $roles, groupIds: $groupIds) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        memberId\n        ...ProgressReportListRow_Member\n        __typename\n      }\n    }\n    pageInfo {\n      endCursor\n      startCursor\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n}\n"}};f.hash="d712853de1d0bd9ebd2085e43426496d",n.default=f},826524:function(e,n,a){a.d(n,{D:function(){return U},Z:function(){return B}});var r,t=a(241451),l=a(386854),i=a(963114),o=a(204942),s=a(35272),u=(a(937055),a(601278)),d=a(27306),c=a(461875),m=a(288502),p=a(383382),g=a(810863),h=a(541321),b=a(162083),f=a(422923),y=a(212007),k=a(366963),v=a(108920),P=a(963457),F=a(288222),x=a(558365),S=a(571596),j=a(757336),M=a(422578),K=(a(244311),a(785893)),T=a(425108);function C(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?C(Object(a),!0).forEach((function(n){(0,o.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var O,R,L=(0,g.Z)({checkbox:{marginRight:0}}),Z=function(){return(0,K.jsxs)(h.Fj.Row,{children:[(0,K.jsx)(F.Z,{children:(0,K.jsx)(x.Z,{variant:"rect",width:24,height:24})}),(0,K.jsx)(F.Z,{width:"50%",children:(0,K.jsx)(x.Z,{variant:"rect",height:40})}),(0,K.jsx)(F.Z,{children:(0,K.jsx)(k.d,{})}),(0,K.jsx)(F.Z,{children:(0,K.jsx)(k.d,{})}),(0,K.jsx)(F.Z,{children:(0,K.jsx)(h.Ue,{width:30,height:30})})]})},I=(0,j.Pi)((function(e){var n=e.productMembershipKey,t=e.onToggle,l=e.selected,i=e.testid,o=void 0===i?"ExperienceAdminsListItem":i,g=L(),k=(0,v.Z)(),x=(0,P.Z)((function(){return k.breakpoints.down("xs")})),j=(0,M.useFragment)((void 0!==r||(r=a(937055)).hash&&"52ae567dc93360e9c531f5991a68ba09"!==r.hash&&T.error("The definition of 'ExperienceAdminsListItemFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),n),C=(0,S.Z)(j.product),O=(0,c.w)(j.role),R=(0,c.CZ)(j.product,j.role),Z="manager"===j.role?"instructor":"manager",I=(0,c.w)(Z),N=(0,c.CZ)(j.product,Z);return j?(0,K.jsxs)(y.Z,{testid:"".concat(o,".").concat(j.member.fullName),children:[(0,K.jsx)(F.Z,{children:C.has("emails.manage")&&(0,K.jsx)(h.Af,{className:g.checkbox,label:null,onChange:function(){return t({id:j.id,memberId:j.member.id})},checked:l})}),(0,K.jsx)(F.Z,{width:"99%",children:(0,K.jsx)(p.ZP,{userKey:j.member,details:j.organizationMembership.email,hideAvatar:x})}),!x&&(0,K.jsx)(F.Z,{children:(0,K.jsx)(u.Z,{testid:"".concat(o,".organization-role"),organizationRole:j.organizationMembership.role})}),(0,K.jsx)(F.Z,{children:(0,K.jsx)(d.Z,{testid:"".concat(o,".product-role"),productRole:j.role})}),(0,K.jsx)(F.Z,{children:(0,K.jsxs)(f.Z,{testid:"".concat(o,".more-actions"),rotateIcon:!0,children:[(0,K.jsx)(m.Z,{productMembershipKey:j,updateRole:Z,children:function(e){return(0,K.jsx)(b.Z,w(w({},e),{},{testid:"".concat(o,".make-").concat(Z),title:"Change to ".concat(I.singular),disabled:!R||!N}))}}),(0,K.jsx)(s.Z,{productMembershipKey:j,children:function(e){return(0,K.jsx)(b.Z,w(w({},e),{},{testid:"".concat(o,".remove"),title:"Remove ".concat(O.singular),disabled:!R}))}})]})})]}):null})),N=(a(915273),a(687830),a(681355),a(10165)),D=a(696672),E=a(667294),A=a(115046),_=a(425108);var U=function(){var e=(0,i.NP)("admin_experience"),n=(0,i.NP)("organization");return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(h.Bt,{sectionProps:{padding:0},header:[{value:""},{value:"Name"},{value:"".concat(n.singular," Role")},{value:"".concat(e.singular," Role")},{value:"Actions"}],rows:5,row:(0,K.jsx)(Z,{})})})},B=N.Z.withSkeleton({component:(0,j.Pi)((function(e){var n,r=e.productId,o=e.toolbarState,s=(0,E.useState)(1),u=(0,l.Z)(s,2),d=u[0],c=u[1],m=(0,i.NP)("admin_experience"),p=(0,i.NP)("organization"),g=(0,P.Z)((function(e){return e.breakpoints.down("xs")})),b=(0,E.useState)([]),f=(0,l.Z)(b,2),y=f[0],k=f[1],v=(0,M.useLazyLoadQuery)((void 0!==O||(O=a(915273)).hash&&"c50099a54b71761664aa6ec05f235272"!==O.hash&&_.error("The definition of 'ExperienceAdminsListQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),O),{first:5,id:r,search:o.search},{fetchPolicy:"store-and-network"}).product,F=(0,M.usePaginationFragment)((void 0!==R||(R=a(687830)).hash&&"ec47584afbc826519f6d3ced4a512fbe"!==R.hash&&_.error("The definition of 'ExperienceAdminsList_PaginationFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),R),v),x=F.data,S=F.refetch;if((0,M.useSubscribeToInvalidationState)(null!=x&&null!==(n=x.productMemberships)&&void 0!==n&&n.__id?[x.productMemberships.__id]:[],(function(){S({search:o.search,first:5*d},{fetchPolicy:"network-only"})})),!x)return null;var j=N.Z.connectionToArray(x.productMemberships);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(h.Fj,{testid:"ExperienceAdminsList",sectionProps:{padding:0},activePage:d,setActivePage:c,rowsPerPage:5,onPaginate:S,filterDeps:[o],connection:{cursorsList:x.productMemberships.edges.map((function(e){return e.cursor})),totalCount:x.productMemberships.totalCount,pageInfo:{endCursor:x.productMemberships.pageInfo.endCursor,startCursor:x.productMemberships.pageInfo.startCursor}},header:[{value:""},{value:"Name"}].concat((0,t.Z)(D.BB.spreadIf({value:"".concat(p.singular," Role")},!g)),[{value:"".concat(m.singular," Role")},{value:"Actions"}]),rows:j.map((function(e,n){return(0,K.jsx)(I,{testid:"ExperienceAdminsListItem.".concat(n),productMembershipKey:e,selected:T(e.id),onToggle:C},e.id)}))}),(0,K.jsx)(A.Z,{memberships:y,onClose:function(){k([])},hideGroupsButton:!0})]});function T(e){return y.map((function(e){return e.id})).includes(e)}function C(e){if(T(e.id)){var n=y.filter((function(n){return n.id!==e.id}));k(n)}else k([].concat((0,t.Z)(y),[{id:e.id,memberId:e.memberId}]))}})),skeleton:U})}}]);
//# sourceMappingURL=chunk-f1ed07a2-601e7f96b5b4d928.bundle.js.map