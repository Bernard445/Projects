!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c4b2b7fa-fde6-434e-be2e-18d43d6878bb",e._sentryDebugIdIdentifier="sentry-dbid-c4b2b7fa-fde6-434e-be2e-18d43d6878bb")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d67fb810fd48e64eff7e10dfb4c22b62b894efc3"},(self.webpackChunkdisco=self.webpackChunkdisco||[]).push([[8505],{151764:function(e,n,t){var r=t(386854),a=t(810863),i=t(609991),o=t(541321),l=t(162083),s=t(84260),c=t(108920),u=t(496486),d=t(785893);var p=(0,a.Z)((function(e){return{icon:{margin:0},colorIcon:{height:"20px",width:"20px",borderRadius:e.measure.borderRadius.default},chevron:{transform:"rotate(90deg)",marginLeft:e.spacing(3)}}}));n.Z=function(e){var n=e.calloutNode,t=e.classes,a=e.onClose,m=(0,s.useLexicalComposerContext)(),g=(0,r.Z)(m,1)[0],f=p(),h=(0,c.Z)();return(0,d.jsx)(o.ZX,{vertical:"top",transformOrigin:{vertical:"top",horizontal:"left"},menuClasses:{paper:t.popover},menuButton:function(e){var n=e.onClick;return(0,d.jsx)(l.Z,{title:"Select Color",icon:"palette",rightButton:(0,d.jsx)(o.De,{className:f.chevron,icon:"chevron"}),onClick:n})},children:Object.values(i.lN).map((function(e){return(0,d.jsx)(l.Z,{title:(0,u.capitalize)(e),onClick:function(){return function(e){g.update((function(){n.setColor(e)})),a()}(e)},classes:{icon:f.icon},icon:(0,d.jsx)("div",{style:{backgroundColor:y(e)},className:f.colorIcon})},e)}))});function y(e){var n="dark"===h.palette.type;return e===i.lN.grey?h.palette.groovy.neutral[n?300:200]:h.palette.groovy[e][n?700:200]}}},609991:function(e,n,t){t.d(n,{$G:function(){return h},WD:function(){return y},kR:function(){return f},lN:function(){return r}});var r,a=t(204942),i=t(215671),o=t(143144),l=t(473237),s=t(360136),c=t(182963),u=t(661120),d=t(932998);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.Z)(e);if(n){var a=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,c.Z)(this,t)}}!function(e){e.grey="grey",e.orange="orange",e.yellow="yellow",e.green="green",e.cyan="cyan",e.blue="blue",e.purple="purple",e.pink="pink",e.red="red"}(r||(r={}));var f=function(e){(0,s.Z)(t,e);var n=g(t);function t(e,a){var o;return(0,i.Z)(this,t),(o=n.call(this,a)).__color=null!=e?e:r.blue,o}return(0,o.Z)(t,[{key:"createDOM",value:function(e){var n=document.createElement("p");return e.theme.callout&&n.classList.add(e.theme.callout),n.setAttribute("data-callout-color",this.__color),n}},{key:"updateDOM",value:function(){return!0}},{key:"setColor",value:function(e){this.getWritable().__color=e}},{key:"getColor",value:function(){return this.getLatest().__color}},{key:"insertNewAfter",value:function(e,n){var t=(0,d.$createParagraphNode)(),r=this.getDirection();return t.setDirection(r),this.insertAfter(t,n),t}},{key:"collapseAtStart",value:function(){var e=(0,d.$createParagraphNode)();return this.getChildren().forEach((function(n){return e.append(n)})),this.replace(e),!0}},{key:"exportJSON",value:function(){return m(m({},(0,l.Z)((0,u.Z)(t.prototype),"exportJSON",this).call(this)),{},{type:"callout",color:this.__color})}}],[{key:"getType",value:function(){return"callout"}},{key:"clone",value:function(e){return new t(e.__color,e.__key)}},{key:"importJSON",value:function(e){var n=h(e.color);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}}]),t}(d.ElementNode);function h(e){return new f(e)}function y(e){return e instanceof f}},946291:function(e,n,t){t.d(n,{H:function(){return c},m:function(){return s}});var r=t(386854),a=t(609991),i=t(84260),o=t(389408),l=t(932998),s=(0,l.createCommand)("insertCallout");function c(){var e=(0,i.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0];if(!n.hasNodes([a.kR]))throw new Error("CalloutPlugin: CalloutNode not registered on editor");return n.registerCommand(s,(function(){var e=(0,l.$getSelection)();return(0,l.$isRangeSelection)(e)&&(0,o.$setBlocksType)(e,a.$G),!0}),l.COMMAND_PRIORITY_LOW),null}},584149:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(386854),a=t(323277),i=t(84260),o=t(667294);function l(){var e=(0,i.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0];return(0,o.useEffect)((function(){return(0,a.registerCodeHighlighting)(n)}),[n]),null}},657023:function(e,n,t){var r,a=t(115861),i=t(386854),o=t(887757),l=t.n(o),s=t(479159),c=t(213992),u=t(836007),d=t(810863),p=t(106430),m=(t(444498),t(52270)),g=t(541321),f=t(4580),h=t(667294),y=(t(244311),t(785893)),b=t(425108);var v=(0,d.Z)((function(e){return{title:{display:"flex",gap:e.spacing(1)},buttons:{display:"flex",gap:e.spacing(2),justifyContent:"flex-end"}}}));n.Z=function(e){var n=e.onClose,o=e.initialData,d=void 0===o?{}:o,k=e.kind,x=e.onSubmit,C=p.FW[k],w=(0,h.useState)(""),j=(0,i.Z)(w,2),S=j[0],O=j[1],F=(0,f.Z)("scorm"),T=(0,h.useState)(d),P=(0,i.Z)(T,2),N=P[0],Z=P[1],E=v(),R=(0,s.V)((void 0!==r||(r=t(444498)).hash&&"06380a2c30eb3236e604850423c0a468"!==r.hash&&b.error("The definition of 'EditorEmbedSetupModalMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{html:""},{requireChangeToSubmit:!1});return C?(0,y.jsx)(g.SH,{isOpen:!0,onClose:n,modalContentLabel:"Setup ".concat(C.title),title:(0,y.jsxs)("div",{className:E.title,children:[(0,y.jsx)(g.U4,{variant:"body-lg-600",children:"Setup ".concat(C.title)}),"scorm"===k&&(0,y.jsx)(c.Z,{testid:"EditorEmbedSetupModal",entitlement:"scorm"})]}),testid:"EditorEmbedSetupModal.SetupModal",width:"720px",maxWidth:"90vw",minHeight:"unset",body:(0,y.jsxs)(y.Fragment,{children:[h.createElement(C.SetupForm,{data:N,setData:Z}),h.createElement(C.SetupFormHelp),(0,y.jsx)(g.U4,{variant:"body-sm-500",marginTop:1,color:"error.main",children:S})]}),buttons:(0,y.jsxs)("div",{className:E.buttons,children:[(0,y.jsx)(g.v2,{color:"grey",variant:"outlined",onClick:n,children:"Cancel"}),"scorm"===k?(0,y.jsx)(u.Z,{entitlement:"scorm",children:(0,y.jsx)(m.Z.SubmitButton,{form:R,onClick:I,disabled:!F,children:"Embed"})}):(0,y.jsx)(m.Z.SubmitButton,{form:R,onClick:I,children:"Embed"})]})}):null;function I(){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(l().mark((function e(){var t,r,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.submit({html:N.html||""});case 2:if(t=e.sent,r=t.didSave,a=t.response,r&&null!=a&&a.data){e.next=7;break}return e.abrupt("return");case 7:if(N.html=a.data.sanitizedHtml,null==C||!C.validateSetup){e.next=14;break}if(!(i=C.validateSetup(N))){e.next=14;break}return O(i.message),setTimeout((function(){O("")}),2e3),e.abrupt("return");case 14:x({kind:k,data:N}),n();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},903392:function(e,n,t){var r=t(386854),a=(t(106430),t(370446)),i=t(162083),o=t(84260),l=t(785893);n.Z=function(e){var n=e.embedNode,t=(0,o.useLexicalComposerContext)(),s=(0,r.Z)(t,1)[0];return(0,l.jsx)(i.Z,{testid:"EmbedBlockOptions.dropdown.edit",onClick:function(){s.dispatchCommand(a.QT,{key:n.getKey()})},title:"Edit Embed",icon:"settings"})}},106430:function(e,n,t){t.d(n,{eO:function(){return An},Eo:function(){return Bn},FW:function(){return zn},hc:function(){return Un}});var r=t(145987),a=t(204942),i=t(215671),o=t(143144),l=t(473237),s=t(360136),c=t(182963),u=t(661120),d=(t(681355),t(386854)),p=t(285245),m=t(810863),g=t(657023),f=t(370446),h=t(444832),y=t(294184),b=t.n(y),v=t(667294),k=t(785893);var x=(0,m.Z)({container:{height:function(e){return e.initialHeight},width:function(e){return e.width},position:"relative",resize:function(e){return e.disableResize?void 0:"vertical"},overflow:"auto",display:"inline-block"}}),C=function(e){var n=e.children,t=e.initialHeight,r=e.width,a=e.onResizeEnd,i=e.disableResize,o=e.className,l=(0,v.useRef)(!1),s=(0,v.useRef)(null);(0,h.Z)(s,(function(){l.current=!0}));var c=x({initialHeight:t,width:r,disableResize:i});return(0,k.jsx)("span",{ref:s,className:b()(c.container,o),onMouseUp:function(){if(l.current){if(l.current=!1,!s.current)return;a("".concat(s.current.clientHeight,"px"))}},role:"button",tabIndex:-1,children:n})},w=t(84260),j=t(251941),S=t(724104),O=t(571596),F=t(932998);var T=(0,m.Z)((function(e){return{resizable:(0,a.Z)({},e.breakpoints.down("xs"),{maxHeight:"60vh",border:e.palette.constants.borderSmall})}})),P=function(e){var n=e.nodeKey,t=e.kind,r=e.data,a=r.height,i=zn[t],o=(0,w.useLexicalComposerContext)(),l=(0,d.Z)(o,1)[0],s=(0,p.vn)(),c=(0,O.Z)(s).has("content.manage"),u=T(),m=(0,j.d)(),h=(0,S.Z)(),y=h.isOpen,b=h.onOpen,x=h.onClose;if((0,v.useEffect)((function(){return l.registerCommand(f.QT,(function(e){return e.key===n&&b(),!1}),F.COMMAND_PRIORITY_EDITOR)}),[l,n,b]),!i)return null;var P=v.createElement(i.Component,{nodeKey:n,data:r});return(0,k.jsxs)(k.Fragment,{children:[!i.resizeData||m&&i.noResizeOnMobile?P:(0,k.jsx)(C,{initialHeight:a||i.resizeData.defaultHeight,width:i.resizeData.width,onResizeEnd:function(e){l.update((function(){var t=(0,F.$getNodeByKey)(n);Bn(t)&&t.setData({height:e})}))},disableResize:!c,className:u.resizable,children:(0,k.jsx)("span",{style:{height:"calc(100% - 8px)",display:"inline-block",width:"100%"},children:P})}),y&&(0,k.jsx)(g.Z,{kind:t,initialData:r,onClose:x,onSubmit:function(e){l.update((function(){var t=(0,F.$getNodeByKey)(n);Bn(t)&&t.setData(e.data)}))}})]})},N=t(202042),Z=t(768762),E=t(541321);var R=(0,m.Z)((function(e){return{formLabel:{display:"flex",alignItems:"center",gap:e.spacing(1)}}})),I=function(e){var n=e.icon,t=e.label,r=R();return(0,k.jsxs)("div",{className:r.formLabel,children:[n,(0,k.jsx)(E.U4,{variant:"body-md-500",children:t})]})},_=/https:\/\/airtable\.com\/.*(shr\w+).*$/i,L={title:"Airtable",icon:(0,k.jsx)(Z.Z,{height:18,width:18}),keywords:["airtable","embed","database"],validateSetup:function(e){return _.test(e.url||"")?null:new Error("Please provide a valid Airtable share URL")},resizeData:{defaultHeight:"530px",width:"100%"},Component:function(e){var n,t,r,a=e.data,i=null===(n=a.url)||void 0===n?void 0:n.match(_),o=i&&i[1];if(!o||!a.url)return null;var l=new URL(a.url).searchParams,s=null!==(t=l.get("height"))&&void 0!==t?t:"100%",c=null!==(r=l.get("width"))&&void 0!==r?r:"100%";return(0,k.jsx)("iframe",{src:"https://airtable.com/embed/".concat(o),title:"Airtable",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",height:s,width:c})},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(Z.Z,{height:18,width:18}),label:"Airtable Sharing Link"}),children:(0,k.jsx)(E.z6,{placeholder:N.UA.airtable,value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsxs)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:["Follow the ",(0,k.jsx)(E.Xn,{textVariant:"body-sm-500",href:"https://support.airtable.com/docs/embedding-a-view-or-base",target:"_blank",rel:"noreferrer noopener",children:"instructions in the Airtable Support Center"})," to get an embed link for your Airtable."]})}},D=t(412021),M=t(520761),K=/https:\/\/([w.-]+\.)?calendly.com\/.+\/.+$/i,U={title:"Calendly",icon:(0,k.jsx)(D.Z,{height:18,width:18}),keywords:["calendly","embed","calendar"],validateSetup:function(e){return K.test(e.url||"")?null:new Error("Please provide a valid Calendly event URL")},resizeData:{defaultHeight:"660px",width:"100%"},Component:function(e){var n=e.data;return(0,k.jsx)(M.KS,{url:n.url,styles:{height:"100%",width:"100%"}})},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(D.Z,{height:18,width:18}),label:"Calendly Event Link"}),children:(0,k.jsx)(E.z6,{placeholder:"https://calendly.com/XXXXXXXX/XXXXXXXX",value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"To get the Calendly Event Link, open your Calendly account and click the 'Copy Link' next to the event you want to share on Disco."})}},A=t(487470),B=t(922261),z=t(10165),$=t(240680),G=t(208524),V=t(541749),H=/<iframe.*?src=".*?".*?>.*?<\/iframe>/i,W='Any valid iFrame code is accepted and will be rendered as-is. We recommend you include frameborder="0" and height="100%" properties on the iFrame.',X={title:"Generic iFrame",icon:"iframe",keywords:["embed","iframe"],validateSetup:function(e){return H.test(e.html||"")?null:new Error("Please provide a valid iFrame code.")},resizeData:{defaultHeight:"500px",width:"100%"},Component:function(e){var n,t,r=e.data,a=q(),i=(0,B.f)().authUser,o=(0,p.vn)();if(!((null===(n=r.html)||void 0===n?void 0:n.match(H))||(null===(t=r.url)||void 0===t?void 0:t.match(H))))return null;var l=r.html||r.url||"",s=(0,$.X1)(l,{firstName:encodeURIComponent((null==i?void 0:i.firstName)||""),lastName:encodeURIComponent((null==i?void 0:i.lastName)||""),id:null!=o&&o.viewerMembership?z.Z.rawId(o.viewerMembership.id):""});return(0,k.jsx)("div",{dangerouslySetInnerHTML:{__html:s},className:a.iframeContainer})},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsxs)(V.Z,{container:!0,spacing:2,children:[(0,k.jsx)(V.Z,{item:!0,children:(0,k.jsx)(I,{icon:(0,k.jsx)(E.De,{icon:"iframe",height:18,width:18}),label:"iFrame Code"})}),(0,k.jsx)(V.Z,{item:!0,children:(0,k.jsx)(G.Z,{usePlace:"the iFrame code",macros:["user.firstName","user.lastName","user.id"]})})]}),children:(0,k.jsx)(E.z6,{placeholder:N.nW.custom_embed,value:n.html,onChange:function(e){t({html:e.target.value})},multiline:!0,autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:W})}},q=(0,m.Z)((function(e){return{iframeContainer:(0,a.Z)({width:"100%",height:"100%"},e.breakpoints.down("sm"),{"& > iframe":{maxWidth:"100%"}})}})),Q=X,Y={title:"Discord",icon:(0,k.jsx)(A.default,{height:18,width:18}),keywords:["discord","embed"],validateSetup:function(e){return H.test(e.html||"")?null:new Error("Please provide a valid iFrame code.")},resizeData:{defaultHeight:"500px",width:"100%"},Component:function(e){var n,t,r=e.data,a=J();return(null===(n=r.html)||void 0===n?void 0:n.match(H))||(null===(t=r.url)||void 0===t?void 0:t.match(H))?(0,k.jsx)("span",{className:a.genericIframeContainer,children:(0,k.jsx)("span",{dangerouslySetInnerHTML:{__html:r.html||r.url},style:{height:"100%"}})}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(A.default,{height:18,width:18}),label:"Discord iFrame Code"}),children:(0,k.jsx)(E.z6,{placeholder:N.nW.discord,value:n.html,onChange:function(e){t({html:e.target.value})},multiline:!0,autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:W})}},J=(0,m.Z)({genericIframeContainer:{position:"relative",width:"100%",height:"100%"}}),ee=Y,ne={title:"Embed HTML",icon:"code",keywords:["embed","code","html"],validateSetup:function(e){var n;return null!==(n=e.html)&&void 0!==n&&n.trim()?null:new Error("Please provide valid HTML code to embed")},resizeData:{defaultHeight:"500px",width:"100%"},Component:function(e){var n=e.data,t=te();return(0,k.jsx)("div",{className:t.container,children:(0,k.jsx)("div",{dangerouslySetInnerHTML:{__html:n.html}})})},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(E.De,{icon:"code",height:18,width:18}),label:"Embed HTML"}),children:(0,k.jsx)(E.z6,{"data-testid":"EditorEmbedCodeEmbed.SetupForm.Input",placeholder:"<h1>Code me up!</h1>",value:n.html,onChange:function(e){t({html:e.target.value})},multiline:!0,autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Code submitted for embedding undergoes sanitization, modifications may occur for security."})}},te=(0,m.Z)({container:{position:"relative",width:"100%"}}),re=ne,ae=t(336474),ie=/https:\/\/([w.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/i,oe={title:"Figma",icon:(0,k.jsx)(ae.Z,{height:18,width:18}),keywords:["figma","embed"],validateSetup:function(e){return ie.test(e.url||"")?null:new Error("Please provide a valid Figma file URL")},resizeData:{defaultHeight:"500px",width:"100%"},Component:function(e){var n,t=e.data,r=le();return(null===(n=t.url)||void 0===n?void 0:n.match(ie))?(0,k.jsx)("iframe",{className:r.figmaFrame,src:"https://www.figma.com/embed?embed_host=disco&url=".concat(encodeURIComponent(t.url)),title:"Figma",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture"}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(ae.Z,{height:18,width:18}),label:"Figma Link"}),children:(0,k.jsx)(E.z6,{placeholder:N.UA.figma,value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Copy the URL of the Figma from your browser's address bar and paste it above. In the Share settings, please ensure that Anyone with the link can view."})}},le=(0,m.Z)({figmaFrame:{height:"100%",width:"100%"}}),se=oe,ce=t(137445),ue=/^https?:\/\/docs\.google\.com\/document\/(.*)$/i,de={title:"Google Docs",icon:(0,k.jsx)(ce.Z,{height:18,width:18}),keywords:["google","docs","embed"],validateSetup:function(e){return ue.test(e.url||"")?null:new Error("Please provide a valid Google Docs URL")},resizeData:{defaultHeight:"640px",width:"100%"},Component:function(e){var n,t,r,a=e.data,i=null===(n=a.url)||void 0===n?void 0:n.match(ue);if(!(i&&i[1])||!a.url)return null;var o=new URL(a.url||"").searchParams,l=null!==(t=o.get("height"))&&void 0!==t?t:"100%",s=null!==(r=o.get("width"))&&void 0!==r?r:"100%";return(0,k.jsx)("iframe",{src:a.url.replace("/edit","/preview"),title:"Google Docs",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",height:l,width:s})},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(ce.Z,{height:18,width:18}),label:"Public Google Docs Link"}),children:(0,k.jsx)(E.z6,{placeholder:N.UA.google_docs,value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Copy the URL of the Google Doc from your browser's address bar and paste it above. In the Share settings, please ensure that Anyone with the link can view the document."})}},pe=t(588736),me=/^https?:\/\/docs\.google\.com\/forms\/(.*)$/i,ge={title:"Google Forms",icon:(0,k.jsx)(pe.default,{height:18,width:18}),keywords:["google","forms","embed"],validateSetup:function(e){return me.test(e.url||"")?null:new Error("Please provide a valid Google Forms URL")},resizeData:{defaultHeight:"640px",width:"100%"},Component:function(e){var n,t,r,a=e.data,i=null===(n=a.url)||void 0===n?void 0:n.match(me);if(!(i&&i[1])||!a.url)return null;var o=new URL(a.url||"").searchParams,l=null!==(t=o.get("height"))&&void 0!==t?t:"100%",s=null!==(r=o.get("width"))&&void 0!==r?r:"100%";return(0,k.jsx)("iframe",{src:a.url.replace("/edit","/viewform"),title:"Google Forms",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",height:l,width:s})},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(pe.default,{height:18,width:18}),label:"Public Google Forms Link"}),children:(0,k.jsx)(E.z6,{placeholder:N.UA.google_forms,value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Copy the URL of the Google Form from your browser's address bar and paste it above."})}},fe=t(375613),he=/^https?:\/\/docs\.google\.com\/spreadsheets\/(.*)$/i,ye={title:"Google Sheets",icon:(0,k.jsx)(fe.Z,{height:18,width:18}),keywords:["google","sheets","embed"],validateSetup:function(e){return he.test(e.url||"")?null:new Error("Please provide a valid Google Sheets URL")},resizeData:{defaultHeight:"640px",width:"100%"},Component:function(e){var n,t,r,a=e.data,i=null===(n=a.url)||void 0===n?void 0:n.match(he);if(!(i&&i[1])||!a.url)return null;var o=new URL(a.url||"").searchParams,l=null!==(t=o.get("height"))&&void 0!==t?t:"100%",s=null!==(r=o.get("width"))&&void 0!==r?r:"100%";return(0,k.jsx)("iframe",{src:a.url.replace("/edit","/preview"),title:"Google Sheets",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",height:l,width:s})},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(fe.Z,{height:18,width:18}),label:"Public Google Sheets Link"}),children:(0,k.jsx)(E.z6,{placeholder:"https://docs.google.com/spreadsheets/d/XXXXXXXXXXXX/edit",value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Copy the URL of the Google Sheet from your browser's address bar and paste it above. In the Share settings, please ensure that Anyone with the link can view the document."})}},be=t(343438),ve=/^https?:\/\/docs\.google\.com\/presentation\/(.*)$/i,ke={title:"Google Slides",icon:(0,k.jsx)(be.Z,{height:18,width:18}),keywords:["google","slides","embed"],validateSetup:function(e){return ve.test(e.url||"")?null:new Error("Please provide a valid Google Slides URL")},resizeData:{defaultHeight:"640px",width:"100%"},Component:function(e){var n,t,r,a=e.data,i=null===(n=a.url)||void 0===n?void 0:n.match(ve);if(!(i&&i[1])||!a.url)return null;var o=new URL(a.url||"").searchParams,l=null!==(t=o.get("height"))&&void 0!==t?t:"100%",s=null!==(r=o.get("width"))&&void 0!==r?r:"100%";return(0,k.jsx)("iframe",{src:a.url.replace("/edit","/embed"),title:"Google Slides",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",height:l,width:s})},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(be.Z,{height:18,width:18}),label:"Public Google Slides Link"}),children:(0,k.jsx)(E.z6,{placeholder:"https://docs.google.com/presentation/d/XXXXXXXXXXXX/edit",value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Copy the URL from Google Slides in your browser's address bar and paste it above. In the Share settings, please ensure that Anyone with the link can view the document."})}},xe=t(801113),Ce=/(http|https)?:\/\/(www\.)?loom.com\/(?:share|embed)\/([a-zA-Z\d]+)/i,we={title:"Loom",icon:(0,k.jsx)(xe.Z,{height:18,width:18}),keywords:["loom","embed","video"],validateSetup:function(e){return Ce.test(e.url||"")?null:new Error("Please provide a valid Loom share or embed URL")},resizeData:null,Component:function(e){var n,t=e.data,r=je(),a=null===(n=t.url)||void 0===n?void 0:n.match(Ce),i=a&&a[3];return i?(0,k.jsx)("div",{className:r.videoContainer,children:(0,k.jsx)("iframe",{className:r.videoFrame,src:"https://www.loom.com/embed/".concat(i),title:"Loom Video",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture"})}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(xe.Z,{height:18,width:18}),label:"Loom Sharing Link"}),children:(0,k.jsx)(E.z6,{placeholder:"https://www.loom.com/share/XXXXXXXXXXXX",value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Copy the URL of the Loom video from your browser's address bar and paste it above."})}},je=(0,m.Z)({videoContainer:{position:"relative",width:"100%",height:0,paddingBottom:"56.25%"},videoFrame:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0}}),Se=we,Oe=t(11989),Fe={title:"Miro",icon:(0,k.jsx)(Oe.default,{height:18,width:18}),keywords:["miro","embed"],validateSetup:function(e){return H.test(e.html||"")?null:new Error("Please provide a valid iFrame code.")},resizeData:{defaultHeight:"500px",width:"100%"},Component:function(e){var n,t,r=e.data,a=Te();return(null===(n=r.html)||void 0===n?void 0:n.match(H))||(null===(t=r.url)||void 0===t?void 0:t.match(H))?(0,k.jsx)("div",{dangerouslySetInnerHTML:{__html:r.html||r.url},className:a.iframeContainer}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(Oe.default,{height:18,width:18}),label:"Miro iFrame Code"}),children:(0,k.jsx)(E.z6,{placeholder:N.nW.miro,value:n.html,onChange:function(e){t({html:e.target.value})},multiline:!0,autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:W})}},Te=(0,m.Z)({iframeContainer:{width:"100%",height:"100%"}}),Pe=Fe,Ne=t(203979),Ze=t(136627),Ee=t(390200),Re=(t(307767),{title:"PDF Embed",icon:(0,k.jsx)(Ze.Z,{height:18,width:18}),keywords:["pdf","embed"],validateSetup:function(e){return e.url?null:new Error("Please choose a valid PDF file")},resizeData:{defaultHeight:"500px",width:"100%"},noResizeOnMobile:!0,Component:function(e){var n=e.data,t=(0,j.d)();return n.url&&n.fileName?t?(0,k.jsx)(Ne.Z,{testid:"EditorPdfEmbed.pdf-file-sm-down-screen",attachment:{name:n.fileName,mediaUrl:n.url},isCompact:!0}):(0,k.jsx)("embed",{src:n.url,type:"application/pdf",width:"100%",height:"100%"}):null},SetupForm:function(e){var n=e.data,t=e.setData,r=(0,v.useState)(null),a=(0,d.Z)(r,2),i=a[0],o=a[1];(0,v.useEffect)((function(){n.url&&n.fileName?o({name:n.fileName,mediaUrl:n.url}):o(null)}),[n.fileName,n.url]);var l=Ie();return(0,k.jsx)(E.Z0,{children:i?(0,k.jsx)(Ne.Z,{testid:"EditorPdfEmbed.pdf-file",attachment:i,onClickDelete:function(){t({url:void 0,fileName:void 0})},isCompact:!0}):(0,k.jsx)(Ee.ZP,{className:l.dropzone,dropzoneOptions:{accept:Ee.GW},allowedFileTypes:["document"],onUpload:s,onMediaSelect:s,message:"Upload or select a PDF file",testid:"EditorPdfEmbed.drop-zone",allowedMimeTypes:["application/pdf"]})});function s(e){t({url:e.url,fileName:e.name})}},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Upload a PDF file or select one from your media library. The PDF will be embedded directly within the content."})}}),Ie=(0,m.Z)({dropzone:{width:"100%"}}),_e=Re,Le=t(973935),De=t(101653),Me={title:"QR Code",icon:(0,k.jsx)(E.De,{icon:"scan-barcode",height:18,width:18}),keywords:["qrcode","embed"],resizeData:{defaultHeight:"200px",width:"100%"},Component:function(e){var n,t=e.data,r=Ke(),a=parseInt((null===(n=t.height)||void 0===n?void 0:n.replace("px",""))||"200")-12;return(0,k.jsx)("div",{className:r.container,children:(0,k.jsx)(De.ZP,{size:a,value:t.url||"",className:r.qrCode})})},SetupForm:function(e){var n=e.data,t=e.setData,r=Ke();return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(E.De,{icon:"scan-barcode"}),label:"QR Code URL"}),children:(0,k.jsx)(E.z6,{placeholder:N.UA.qr_code,value:n.url,onChange:function(e){t({url:e.target.value,html:a()})},autoFocus:!0})});function a(){var e=(0,k.jsx)(De.ZP,{value:n.url||"",className:r.qrCode}),t=document.createElement("div");return Le.render(e,t),t.innerHTML}},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Enter the URL to generate a QR code."})}},Ke=(0,m.Z)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:e.spacing(1)},qrCode:{padding:e.spacing(1),border:"4px solid ".concat(e.palette.common.black),backgroundColor:e.palette.common.white,borderRadius:e.measure.borderRadius.big}}})),Ue=Me,Ae=t(115861),Be=t(887757),ze=t.n(Be),$e=t(143341),Ge=t(479159),Ve=t(592235),He=t(509645);var We,Xe,qe,Qe=function(e){var n=e.children,t=e.onSubmit,r=(0,v.useState)(!1),a=(0,d.Z)(r,2),i=a[0],o=a[1],l=(0,v.useState)(null),s=(0,d.Z)(l,2),c=s[0],u=s[1],p=(0,v.useMemo)((function(){return(0,k.jsx)(He.p,{onClick:g,children:n})}),[]);return(0,k.jsxs)(k.Fragment,{children:[p,(0,k.jsx)(E.SH,{isOpen:i,modalContentLabel:"Upload scorm file button",testid:"UploadScormFileButton",title:"Upload SCORM File",minHeight:"unset",body:(0,k.jsx)(Ve.Z,{onUpload:function(e){u(e)},onRemove:function(){u(null)}}),buttons:[(0,k.jsx)(E.v2,{color:"grey",variant:"outlined",onClick:m,testid:"UploadScormFileButton.cancel-button",children:"Cancel"},"cancel"),(0,k.jsx)(E.v2,{disabled:!c,onClick:function(){t(c)},testid:"UploadScormFileButton.submit-button",children:"Submit"},"submit")],onClose:m})]});function m(){o(!1)}function g(){o(!0)}},Ye=(t(520825),t(303017),t(67614),t(108920)),Je=t(458044),en=t(4580),nn=t(12303),tn=t(850429),rn=t(168949),an=t(757336),on=(t(244311),t(425108));function ln(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ln(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ln(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var cn=30*tn.NO,un={title:"SCORM",icon:"icon-scorm",keywords:["embed","scorm"],validateSetup:function(e){return e.scormFileId?null:new Error("Please upload a zipped SCORM file.")},resizeData:{defaultHeight:"500px",width:"100%"},Component:(0,an.Pi)((function(e){var n=e.data,r=e.nodeKey,a=(0,p.vn)(),i=(0,B.f)({required:!0}).authUser,o=n.scormFileId,l=(0,v.useState)(null),s=(0,d.Z)(l,2),c=s[0],u=s[1],m=(0,v.useState)(!1),g=(0,d.Z)(m,2),f=g[0],h=g[1],y=(0,v.useState)(""),b=(0,d.Z)(y,2),x=b[0],C=b[1],j=(0,w.useLexicalComposerContext)(),S=(0,d.Z)(j,1)[0],O=(0,$e._)(),T=O.params.drawerContentUsageId,P=(0,Ye.Z)(),N=dn(),Z=(0,v.useRef)(!1),R=z.Z.useRefetchableQuery((void 0!==We||(We=t(520825)).hash&&"8f26c53b5c54996a3c74653d4a87e360"!==We.hash&&on.error("The definition of 'EditorScormEmbedQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),We),{scormFileId:o||""},{fetchPolicy:"network-only",refetchInBackground:!0}),I=(0,d.Z)(R,2),_=I[0].node,L=I[1],D=z.Z.narrowNodeType(_,"ScormFile");(0,nn.Z)((function(){D&&"processing"!==D.status||L({scormFileId:o||""},{inBackground:!0})}),cn),(0,v.useEffect)((function(){D&&D.id!==o&&L({scormFileId:o||""})}),[o,null==D?void 0:D.id]);var M=(0,Ge.V)((void 0!==Xe||(Xe=t(303017)).hash&&"49256704a484540973451d53a6cf4b96"!==Xe.hash&&on.error("The definition of 'EditorScormEmbed_startScormFileMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Xe),{scormFileId:o||"",contentUsageId:T},{showErrorToast:!1}),K=(0,Ge.V)((void 0!==qe||(qe=t(67614)).hash&&"4cb05b4e7170f8d575ef4750574a7f17"!==qe.hash&&on.error("The definition of 'EditorScormEmbed_updateScormCompletionMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),qe),{scormCompletionId:"",scormData:{}},{showErrorToast:!1});(0,v.useEffect)((function(){"ready"===(null==D?void 0:D.status)&&function(){A.apply(this,arguments)}()}),[null==D?void 0:D.id,null==D?void 0:D.status]),(0,v.useEffect)((function(){var e=function(){document.fullscreenElement?h(!0):h(!1)};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}),[]);var U=(0,Je.Z)((0,Ae.Z)(ze().mark((function e(){var n,t,r,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=K.state,t=n.scormCompletionId,r=n.scormData,t&&!Z.current){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,K.submit({scormFileId:o,scormCompletionId:t,scormData:JSON.stringify(r)});case 5:a=e.sent,a.didSave||(0,rn.ZN)(K.errors).some((function(e){return"ScormCompletion not found"===e.message}))&&(Z.current=!0);case 8:case"end":return e.stop()}}),e)}))),1e3);return D&&"processing"!==D.status?"failed"===D.status?(0,k.jsxs)("div",{className:N.failedContainer,children:[(0,k.jsx)(E.De,{icon:"info",color:P.palette.groovy.red[700]}),(0,k.jsxs)("div",{className:N.failedContentContainer,children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(E.U4,{variant:"body-md-600",color:"groovy.red.700",children:"Something went wrong"}),(0,k.jsx)(E.U4,{variant:"body-sm",color:"groovy.red.700",children:D.failedErrorMessage||"An error occurred while trying to process your SCORM file. Please try uploading the file again."})]}),(0,k.jsx)(Qe,{onSubmit:function(e){S.update((function(){var n=(0,F.$getNodeByKey)(r);Bn(n)&&n.setData({scormFileId:e})}))},children:function(e){return(0,k.jsx)(E.v2,sn(sn({color:"grey",variant:"outlined"},e),{},{children:"Upload File"}))}})]})]}):x?(0,k.jsxs)("span",{ref:function(e){return u(e)},children:[(0,k.jsx)("iframe",{title:"SCORM Content",className:N.iframe,src:x,frameBorder:"0",allow:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts",style:{height:"100%"}}),(null==c?void 0:c.requestFullscreen)&&(0,k.jsx)(E.I4,{className:N.fullscreenButton,size:"small",variant:"outlined",onClick:function(){f?document.exitFullscreen():c.requestFullscreen()},height:40,width:40,children:(0,k.jsx)(E.De,{icon:f?"reduce":"expand"})})]}):null:(0,k.jsxs)("div",{className:N.processingContainer,children:[(0,k.jsx)(E.De,{className:N.rotateIcon,icon:"refresh-cw-02",color:P.palette.primary.main}),(0,k.jsxs)("div",{children:[(0,k.jsx)(E.U4,{variant:"body-md-600",children:"Processing File..."}),(0,k.jsx)(E.U4,{variant:"body-sm",children:"Your SCORM file is currently being processed. Check back in a few minutes!"})]})]});function A(){return(A=(0,Ae.Z)(ze().mark((function e(){var n,t,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.isOpen){e.next=8;break}return e.next=3,M.submit(M.state);case 3:if(null!=(t=e.sent)&&null!==(n=t.response)&&void 0!==n&&n.node){e.next=6;break}return e.abrupt("return");case 6:K.state.scormCompletionId=t.response.node.id,K.state.scormData=JSON.parse(t.response.node.scormData);case 8:window.API={LMSInitialize:function(){return $("SCORM_1_2")},LMSFinish:function(){return"true"},LMSGetValue:function(e){return G(e)},LMSSetValue:function(e,n){return V(e,n)},LMSCommit:function(){return H()},LMSGetLastError:function(){return"0"},LMSGetErrorString:function(e){return W(e)},LMSGetDiagnostic:function(e){return W(e)}},window.API_1484_11={Initialize:function(){return $("SCORM_2004")},Terminate:function(){return"true"},GetValue:function(e){return G(e)},SetValue:function(e,n){return V(e,n)},Commit:function(){return H()},GetLastError:function(){return"0"},GetErrorString:function(e){return W(e)},GetDiagnostic:function(e){return W(e)}},r="".concat(window.location.origin).concat(null==D?void 0:D.indexFileKey),C(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){var n=a.viewerMembership,t=K.state.scormData;return"SCORM_1_2"===e?(t["cmi.core.student_id"]||(t["cmi.core.student_id"]=z.Z.fromGlobalId(n.id).id),t["cmi.core.student_name"]||(t["cmi.core.student_name"]=i.fullName)):"SCORM_2004"===e&&(t["cmi.learner_id"]||(t["cmi.learner_id"]=z.Z.fromGlobalId(n.id).id),t["cmi.learner_name"]||(t["cmi.learner_name"]=i.fullName)),"true"}function G(e){return K.state.scormData[e]||""}function V(e,n){return K.state.scormData[e]=n,U(),n}function H(){return U(),"true"}function W(e){return e&&on.log("got error: ".concat(e)),""}})),SetupForm:function(e){var n=e.setData,t=(0,en.Z)("scorm");return(0,k.jsx)(Ve.Z,{onUpload:function(e){n({scormFileId:e,height:"500px"})},onRemove:function(){n({scormFileId:void 0,height:void 0})},disabled:!t})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:Ve.e.uploadDescription})}},dn=(0,m.Z)((function(e){return{processingContainer:{display:"grid",gridTemplateColumns:"24px 1fr",gap:e.spacing(1),padding:e.spacing(2),backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[100],borderRadius:e.measure.borderRadius.big},failedContainer:{display:"grid",gridTemplateColumns:"24px 1fr",gap:e.spacing(1),padding:e.spacing(2),backgroundColor:e.palette.groovy.red[100],borderRadius:e.measure.borderRadius.big},failedContentContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:e.spacing(1)},iframe:{width:"100%"},fullscreenButton:{position:"absolute",top:e.spacing(1.5),right:e.spacing(2)},rotateIcon:{animation:"$spin 3s linear infinite"},"@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})),pn=un,mn=t(848612),gn=t(721830),fn=t(59018),hn={title:"Typeform",icon:(0,k.jsx)(mn.Z,{height:18,width:18}),keywords:["typeform","embed","form"],validateSetup:function(e){return gn.O.test(e.url||"")?null:new Error("Please provide a valid Typeform URL")},resizeData:{defaultHeight:"500px",width:"100%"},Component:function(e){var n,t=null===(n=e.data.url)||void 0===n?void 0:n.match(gn.O),r=t&&t[gn.I],a=(0,B.f)().authUser,i=(0,p.vn)(),o=(0,v.useRef)(null);return(0,v.useEffect)((function(){o.current&&r&&(0,fn.createWidget)(r,{container:o.current,disableAutoFocus:!0,inlineOnMobile:!0,hidden:{disco_user_id:null!=i&&i.viewerMembership?z.Z.rawId(i.viewerMembership.id):"",disco_global_user_id:a?z.Z.rawId(a.id):"",disco_global_encoded_user_id:(null==a?void 0:a.id)||"",disco_user_first_name:(null==a?void 0:a.firstName)||"",disco_user_last_name:(null==a?void 0:a.lastName)||""}})}),[r,a,i]),r?(0,k.jsx)("div",{ref:o,style:{height:"100%"}}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(mn.Z,{height:24,width:24}),label:"Typeform Sharing Link"}),children:(0,k.jsx)(E.z6,{placeholder:N.UA.typeform,value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:["Follow the ",(0,k.jsx)(E.Xn,{textVariant:"body-sm-500",href:"https://www.typeform.com/help/a/embed-your-typeform-360029249212/",target:"_blank",rel:"noreferrer noopener",children:"instructions in the Typeform Support Center"})," to get an share link for your Typeform."]}),(0,k.jsxs)(E.U4,{variant:"body-sm-500",color:"text.secondary",marginTop:1,children:["Disco passes the following hidden variables to Typeform: disco_user_id, disco_user_first_name, disco_user_last_name. These are used to identify the user who submitted the form. If you want to use these variables, make sure to add them to your Typeform by following ",(0,k.jsx)(E.Xn,{textVariant:"body-sm-500",href:"https://www.typeform.com/help/a/using-hidden-fields-360052676612/",target:"_blank",rel:"noreferrer noopener",children:"Typeform's instructions"}),"."]})]})}},yn=t(778052),bn=/(http|https)?:\/\/(www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^/]*)\/videos\/|)(\d+)(?:|\/\?)/i,vn={title:"Vimeo",icon:(0,k.jsx)(yn.Z,{height:18,width:18}),keywords:["vimeo","embed","video"],validateSetup:function(e){return bn.test(e.url||"")?null:new Error("Please provide a valid Vimeo video URL")},resizeData:null,Component:function(e){var n,t=e.data,r=kn(),a=null===(n=t.url)||void 0===n?void 0:n.match(bn),i=a&&a[4];return i?(0,k.jsx)("div",{className:r.videoContainer,children:(0,k.jsx)("iframe",{className:r.videoFrame,src:"https://player.vimeo.com/video/".concat(i,"?byline=0"),title:"Vimeo Video",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture"})}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(yn.Z,{height:18,width:18}),label:"Vimeo Link"}),children:(0,k.jsx)(E.z6,{placeholder:"https://vimeo.com/XXXXXXXXX",value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsxs)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:["Follow the ",(0,k.jsx)(E.Xn,{textVariant:"body-sm-500",href:"https://vimeo.zendesk.com/hc/en-us/articles/229326167-How-to-share-your-videos#:~:text=You%20can%20click%20the%20link,password%20to%20your%20recipients%20directly.",target:"_blank",rel:"noreferrer noopener",children:"instructions in the Vimeo Support Center"})," to get a share link for your Vimeo video."]})}},kn=(0,m.Z)({videoContainer:{position:"relative",width:"100%",height:0,paddingBottom:"56.25%"},videoFrame:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0}}),xn=vn,Cn=t(905330),wn={title:"Whereby",icon:(0,k.jsx)(Cn.default,{height:18,width:18}),keywords:["whereby","embed"],validateSetup:function(e){return H.test(e.html||"")?null:new Error("Please provide a valid iFrame code.")},resizeData:{defaultHeight:"500px",width:"100%"},Component:function(e){var n,t,r=e.data,a=jn();return(null===(n=r.html)||void 0===n?void 0:n.match(H))||(null===(t=r.url)||void 0===t?void 0:t.match(H))?(0,k.jsx)("div",{className:a.genericIframeContainer,children:(0,k.jsx)("div",{dangerouslySetInnerHTML:{__html:r.html||r.url},style:{height:"100%"}})}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(Cn.default,{height:18,width:18}),label:"Whereby iFrame Code"}),children:(0,k.jsx)(E.z6,{placeholder:N.nW.whereby,value:n.html,onChange:function(e){t({html:e.target.value})},multiline:!0,autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:W})}},jn=(0,m.Z)({genericIframeContainer:{position:"relative",width:"100%",height:"100%"}}),Sn=wn,On=t(934664),Fn={title:"Wistia",icon:(0,k.jsx)(On.default,{height:18,width:18}),keywords:["wistia","embed"],validateSetup:function(e){return H.test(e.html||"")?null:new Error("Please provide a valid iFrame code.")},resizeData:null,Component:function(e){var n=e.data,t=Tn();return n.html&&H.test(n.html)?(0,k.jsx)("div",{dangerouslySetInnerHTML:{__html:n.html},className:t.iframeContainer}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(On.default,{height:18,width:18}),label:"Wistia Embed Code"}),children:(0,k.jsx)(E.z6,{placeholder:N.nW.wistia,value:n.html,onChange:function(e){t({html:e.target.value})},multiline:!0,autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Only the Fallback (iframe) inline embed type is supported, which can be selected under Advanced Settings. We also recommend enabling the Responsive Sizing setting."})}},Tn=(0,m.Z)({iframeContainer:{width:"100%",height:"100%"}}),Pn=Fn,Nn=t(509299),Zn=/(?:https?:\/\/)?(?:www\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([a-zA-Z0-9_-]{11}).*$/i,En={title:"YouTube",icon:(0,k.jsx)(Nn.Z,{height:18,width:18}),keywords:["youtube","embed","video"],validateSetup:function(e){var n=e.url;return Zn.test(n||"")?null:new Error("Please provide a valid YouTube video URL")},resizeData:null,Component:function(e){var n,t=e.data,r=Rn(),a=null===(n=t.url)||void 0===n?void 0:n.match(Zn),i=a&&a[1];return i?(0,k.jsx)("div",{className:r.videoContainer,children:(0,k.jsx)("iframe",{className:r.videoFrame,src:"https://www.youtube.com/embed/".concat(i,"?modestbranding=1"),title:"Youtube Video",frameBorder:"0",allow:"fullscreen"})}):null},SetupForm:function(e){var n=e.data,t=e.setData;return(0,k.jsx)(E.Z0,{label:(0,k.jsx)(I,{icon:(0,k.jsx)(Nn.Z,{height:18,width:18}),label:"Youtube Link"}),children:(0,k.jsx)(E.z6,{placeholder:"https://www.youtube.com/watch?v=XXXXXXXXXXX",value:n.url,onChange:function(e){t({url:e.target.value})},autoFocus:!0})})},SetupFormHelp:function(){return(0,k.jsx)(E.U4,{variant:"body-sm-500",color:"text.secondary",children:"Copy the URL of the YouTube video from your browser's address bar and paste it above."})}},Rn=(0,m.Z)({videoContainer:{position:"relative",width:"100%",height:0,paddingBottom:"56.25%"},videoFrame:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0}}),In=En,_n=t(448082),Ln=["key"];function Dn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Mn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Dn(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Kn(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.Z)(e);if(n){var a=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,c.Z)(this,t)}}var Un=function(e){(0,s.Z)(t,e);var n=Kn(t);function t(e,r,a){var o;return(0,i.Z)(this,t),(o=n.call(this,a,r)).__kind=e.kind,o.__data=e.data,o}return(0,o.Z)(t,[{key:"exportJSON",value:function(){return Mn(Mn({},(0,l.Z)((0,u.Z)(t.prototype),"exportJSON",this).call(this)),{},{version:1,type:"embed",kind:this.getKind(),data:this.getData()})}},{key:"setData",value:function(e){var n=this.getWritable();n.__data=Mn(Mn({},n.__data),e)}},{key:"updateDOM",value:function(){return!1}},{key:"getKind",value:function(){return this.__kind}},{key:"getData",value:function(){return this.__data}},{key:"decorate",value:function(){return(0,k.jsx)(P,{nodeKey:this.getKey(),kind:this.getKind(),data:this.getData()})}}],[{key:"getType",value:function(){return"embed"}},{key:"clone",value:function(e){return new t({kind:e.__kind,data:e.__data},e.__key,e.__format)}},{key:"importJSON",value:function(e){return An({kind:e.kind,data:e.data})}}]),t}(_n.DecoratorBlockNode);function An(e){var n=e.key,t=(0,r.Z)(e,Ln);return new Un(t,n)}function Bn(e){return e instanceof Un}var zn={embed_code:re,generic_iframe:Q,airtable:L,calendly:U,discord:ee,figma:se,google_docs:de,google_forms:ge,google_sheets:ye,google_slides:ke,loom:Se,miro:Pe,pdf:_e,typeform:hn,vimeo:xn,whereby:Sn,youtube:In,scorm:pn,qr_code:Ue,wistia:Pn}},370446:function(e,n,t){t.d(n,{Kq:function(){return d},QT:function(){return p},ZP:function(){return m},v3:function(){return u}});var r=t(386854),a=t(106430),i=t(537),o=t(84260),l=t(376969),s=t(932998),c=t(667294),u=(0,s.createCommand)("INSERT_EMBED_COMMAND"),d=(0,s.createCommand)("INSERT_EMBED_FILE_COMMAND"),p=(0,s.createCommand)("UPDATE_EMBED_COMMAND");function m(){var e=(0,o.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0];return(0,c.useEffect)((function(){if(!n.hasNodes([a.hc]))throw new Error("EmbedPlugin: EmbedNode not registered on editor");return(0,l.mergeRegister)(n.registerCommand(u,(function(e){var n=(0,a.eO)(e);return(0,l.$insertNodeToNearestRoot)(n),!0}),s.COMMAND_PRIORITY_EDITOR),n.registerCommand(d,(function(e){var n=(0,i.kx)(e);return(0,l.$insertNodeToNearestRoot)(n),!0}),s.COMMAND_PRIORITY_EDITOR))}),[n]),null}},537:function(e,n,t){t.d(n,{kx:function(){return F},gS:function(){return T},ES:function(){return O}});var r=t(204942),a=t(215671),i=t(143144),o=t(473237),l=t(360136),s=t(182963),c=t(661120),u=t(386854),d=t(810863),p=t(819036),m=t(106430),g=t(307767),f=t(541321),h=t(84260),y=t(108920),b=t(932998),v=t(667294),k=t(785893);var x=(0,d.Z)((function(e){return{processingContainer:{display:"grid",gridTemplateColumns:"max-content 1fr",gap:e.spacing(3),padding:e.spacing(2),backgroundColor:e.palette.groovy.grey[100],borderRadius:e.measure.borderRadius.big,alignItems:"center"}}})),C=function(e){var n=e.nodeKey,t=e.file,r=(0,y.Z)(),a=(0,h.useLexicalComposerContext)(),i=(0,u.Z)(a,1)[0],o=(0,g.Z)(),l=o.uploadMediaToS3,s=o.uploadProgress;(0,v.useEffect)((function(){t&&l({mediaFile:t}).then((function(e){i.update((function(){var t=(0,b.$getNodeByKey)(n);if(T(t)){var r=(0,m.eO)({kind:"pdf",data:{url:e.url,fileName:e.name}});t.replace(r)}}))}))}),[]);var c=x();return(0,k.jsxs)("div",{className:c.processingContainer,children:[(0,k.jsx)(p.Z,{color:r.palette.primary.main,value:null!=s?s:0}),(0,k.jsxs)("div",{children:[(0,k.jsx)(f.U4,{variant:"body-md-600",children:"Uploading File..."}),(0,k.jsx)(f.U4,{variant:"body-sm",children:"Your file is currently being uploaded"})]})]})};function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.Z)(e);if(n){var a=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,s.Z)(this,t)}}var O=function(e){(0,l.Z)(t,e);var n=S(t);function t(e,r,i){var o;return(0,a.Z)(this,t),(o=n.call(this,i,r)).__file=e,o}return(0,i.Z)(t,[{key:"exportJSON",value:function(){return j(j({},(0,o.Z)((0,c.Z)(t.prototype),"exportJSON",this).call(this)),{},{version:1,type:"embed-upload-file",file:this.getFile()})}},{key:"updateDOM",value:function(){return!1}},{key:"getFile",value:function(){return this.__file}},{key:"decorate",value:function(){return(0,k.jsx)(C,{nodeKey:this.getKey(),file:this.__file})}}],[{key:"getType",value:function(){return"embed-upload-file"}},{key:"clone",value:function(e){return new t(e.__file,e.__key)}},{key:"importJSON",value:function(e){return F({file:e.file})}}]),t}(t(448082).DecoratorBlockNode);function F(e){var n=e.file,t=e.key;return new O(n,t)}function T(e){return e instanceof O}},444498:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"EditorEmbedSetupModalMutation",selections:a=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SanitizeHtmlResponseType",kind:"LinkedField",name:"sanitizeHtml",plural:!1,selections:[{alias:null,args:null,concreteType:"SanitizeHtmlResponse",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sanitizedHtml",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"EditorEmbedSetupModalMutation",selections:a},params:{cacheID:"44a109f4f4878c722ae5c3f6a05eff50",id:null,metadata:{},name:"EditorEmbedSetupModalMutation",operationKind:"mutation",text:"mutation EditorEmbedSetupModalMutation(\n  $input: SanitizeHtmlInput!\n) {\n  response: sanitizeHtml(input: $input) {\n    data {\n      sanitizedHtml\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="06380a2c30eb3236e604850423c0a468",n.default=i},592235:function(e,n,t){t.d(n,{e:function(){return y}});var r,a=t(115861),i=t(386854),o=t(887757),l=t.n(o),s=t(203979),c=t(479159),u=(t(681355),t(810863)),d=t(390200),p=(t(610908),t(307767),t(541321)),m=t(757336),g=t(667294),f=(t(422578),t(785893)),h=t(425108),y={uploadDescription:"Your SCORM file will need to be proccessed before it can be used. This may take a few minutes."};var b=(0,u.Z)({dropzone:{width:"100%"}});n.Z=(0,m.Pi)((function(e){var n=e.onUpload,o=e.onRemove,u=e.disabled,m=(0,g.useState)(null),y=(0,i.Z)(m,2),v=y[0],k=y[1],x=b(),C=(0,c.V)((void 0!==r||(r=t(610908)).hash&&"4e486c0f0b96ee9a1ece8f92a1939a90"!==r.hash&&h.error("The definition of 'UploadScormFileDropzoneMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{zipFileAssetId:""});return(0,f.jsx)(p.Z0,{children:v?(0,f.jsx)(s.Z,{testid:"ZipFile",showDragIcon:!0,attachment:v,onClickDelete:S,isCompact:!0}):(0,f.jsx)(d.ZP,{className:x.dropzone,dropzoneOptions:{accept:d.FE},onUpload:w,onMediaSelect:w,message:"Upload your SCORM zip file",testid:"UploadScormFileDropzone",disabled:u})});function w(e){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(l().mark((function e(t){var r,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k({name:t.name,mediaUrl:t.url}),e.next=3,C.submit({zipFileAssetId:t.id});case 3:r=e.sent,a=r.didSave,i=r.response,a&&null!=i&&i.node?n(i.node.id):S();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){k(null),o&&o()}}))},610908:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"UploadScormFileDropzoneMutation",selections:a=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateScormFileResponse",kind:"LinkedField",name:"createScormFile",plural:!1,selections:[{alias:null,args:null,concreteType:"ScormFile",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"UploadScormFileDropzoneMutation",selections:a},params:{cacheID:"015e8205713f61ae547813fe3e4a94fa",id:null,metadata:{},name:"UploadScormFileDropzoneMutation",operationKind:"mutation",text:"mutation UploadScormFileDropzoneMutation(\n  $input: CreateScormFileInput!\n) {\n  response: createScormFile(input: $input) {\n    node {\n      id\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="4e486c0f0b96ee9a1ece8f92a1939a90",n.default=i},520825:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c,u={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"scormFileId"}],kind:"Fragment",metadata:null,name:"EditorScormEmbedQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"id",variableName:"scormFileId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"indexFileKey",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"failedErrorMessage",storageKey:null}],type:"ScormFile",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"EditorScormEmbedQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,o,{kind:"InlineFragment",selections:[l,s,c],type:"ScormFile",abstractKey:null}],storageKey:null}]},params:{cacheID:"d7f2b33249bc233ac54ab536dc53d6af",id:null,metadata:{},name:"EditorScormEmbedQuery",operationKind:"query",text:"query EditorScormEmbedQuery(\n  $scormFileId: ID!\n) {\n  node(id: $scormFileId) {\n    __typename\n    ... on ScormFile {\n      __typename\n      id\n      status\n      indexFileKey\n      failedErrorMessage\n    }\n    id\n  }\n}\n"}};u.hash="8f26c53b5c54996a3c74653d4a87e360",n.default=u},303017:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"EditorScormEmbed_startScormFileMutation",selections:a=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"StartScormFileResponse",kind:"LinkedField",name:"startScormFile",plural:!1,selections:[{alias:null,args:null,concreteType:"ScormCompletion",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scormData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"EditorScormEmbed_startScormFileMutation",selections:a},params:{cacheID:"527202d232c27a5a6f3359baea21a048",id:null,metadata:{},name:"EditorScormEmbed_startScormFileMutation",operationKind:"mutation",text:"mutation EditorScormEmbed_startScormFileMutation(\n  $input: StartScormFileInput!\n) {\n  response: startScormFile(input: $input) {\n    node {\n      id\n      scormData\n      status\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="49256704a484540973451d53a6cf4b96",n.default=i},67614:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"EditorScormEmbed_updateScormCompletionMutation",selections:o=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateScormCompletionResponse",kind:"LinkedField",name:"updateScormCompletion",plural:!1,selections:[{alias:null,args:null,concreteType:"ScormCompletion",kind:"LinkedField",name:"node",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scormData",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"contentUsage",plural:!1,selections:[a,{alias:null,args:null,concreteType:"ScormCompletion",kind:"LinkedField",name:"viewerScormCompletion",plural:!1,selections:[a,i],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"EditorScormEmbed_updateScormCompletionMutation",selections:o},params:{cacheID:"47ebba2663aeb2bb927de689d6e28aef",id:null,metadata:{},name:"EditorScormEmbed_updateScormCompletionMutation",operationKind:"mutation",text:"mutation EditorScormEmbed_updateScormCompletionMutation(\n  $input: UpdateScormCompletionInput!\n) {\n  response: updateScormCompletion(input: $input) {\n    node {\n      id\n      scormData\n      status\n      contentUsage {\n        id\n        viewerScormCompletion {\n          id\n          status\n        }\n      }\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};l.hash="4cb05b4e7170f8d575ef4750574a7f17",n.default=l},887355:function(e,n,t){var r=t(386854),a=t(749126),i=t(810863),o=t(390200),l=t(152805),s=t(132308),c=(t(307767),t(84260)),u=t(757336),d=t(667294),p=t(785893);var m=(0,i.Z)({anchor:{position:"absolute",top:0,left:0}});n.Z=(0,u.Pi)((function(e){var n=e.isOpen,t=e.onClose,i=e.anchorElem,u=e.defaultTab,g=void 0===u?"my-files":u,f=(0,c.useLexicalComposerContext)(),h=(0,r.Z)(f,1)[0],y=(0,d.useRef)(null);(0,s.I)({editorAnchorElem:i,elementAnchorRef:y});var b=m();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{ref:y,className:b.anchor}),n&&y.current&&(0,p.jsx)(a.Z,{onClose:t,onUpload:v,onMediaSelect:v,dropzoneOptions:{accept:o.FC},allowedFileTypes:["image"],defaultTab:g,PopoverProps:{anchorEl:y.current,anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}})]});function v(e){h.dispatchCommand(l.Mo,{altText:e.name,src:e.url}),t()}}))},790251:function(e,n,t){t.d(n,{HB:function(){return E},dP:function(){return R},HJ:function(){return Z}});var r=t(204942),a=t(215671),i=t(143144),o=t(473237),l=t(360136),s=t(182963),c=t(661120),u=t(386854),d=t(810863),p=t(85363),m=t(34278),g=t(188185),f=t(48866),h=t(238117),y=t(640001),b=t(459374),v=t(84260),k=t(963457),x=t(932998),C=t(667294),w=t(785893);var j=(0,d.Z)((function(e){return{container:{position:"relative",display:"flex",alignItems:"center",justifyContent:function(e){switch(e.alignment){case"center":return"center";case"right":return"flex-end";default:return"flex-start"}},"& $toolbar":{opacity:function(e){return e.isToolbarOpen?1:0}},"&:hover $toolbar":{opacity:1}},toolbar:{position:"absolute",top:4,right:4},image:function(n){var t=n.widthPercentage;return(0,r.Z)({height:"auto",width:t?"".concat(t,"%"):"100%"},e.breakpoints.down("xs"),{width:"100%"})}}})),S=document.createElement("img");S.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var O=function(e){var n=e.nodeKey,t=e.src,r=e.altText,a=e.alignment,i=void 0===a?"left":a,o=e.widthPercentage,l=(0,C.useState)(!1),s=(0,u.Z)(l,2),c=s[0],d=s[1],O=(0,C.useState)(!1),F=(0,u.Z)(O,2),T=F[0],P=F[1],N=j({widthPercentage:o,alignment:i,isToolbarOpen:c}),Z=(0,k.Z)((function(e){return e.breakpoints.down("xs")})),E=(0,C.useRef)(null),I=(0,p.K)(),_=I.config,L=I.disableMediaModal,D=(0,v.useLexicalComposerContext)(),M=(0,u.Z)(D,1)[0],K=M.isEditable();(0,C.useEffect)((function(){return M.registerCommand(x.DRAGSTART_COMMAND,(function(e){return e.target===E.current&&function(e,n){var t=(0,x.$getNodeByKey)(n);if(!t)return!1;var r=e.dataTransfer;if(!r)return!1;return r.setData("text/plain","_"),r.setDragImage(S,0,0),r.setData("application/x-lexical-drag",JSON.stringify({data:{key:t.getKey(),src:t.__src,altText:t.__altText,alignment:t.__alignment,widthPercentage:t.__widthPercentage},type:"image"})),!0}(e,n)}),x.COMMAND_PRIORITY_HIGH)}),[M,n]);var U=function(e){M.update((function(){var t=(0,x.$getNodeByKey)(n);R(t)&&t.setAlignment(e)}))};return K?(0,w.jsx)("div",{className:N.container,children:(0,w.jsxs)(h.Z,{lockAspectRatio:!0,maxWidth:"100%",minWidth:"25%",size:o?{height:"auto",width:Z?"100%":"".concat(o,"%")}:{height:"auto",width:"100%"},onResizeStart:function(){M.dispatchCommand(m.f3,void 0)},onResizeStop:function(e,t,r){M.dispatchCommand(m.hV,void 0);var a,i=Math.round(r.clientWidth/r.parentElement.clientWidth*100);a=i,M.update((function(){var e=(0,x.$getNodeByKey)(n);R(e)&&e.setWidthPercentage(a)}))},children:[(0,w.jsx)(b.Z,{ref:E,src:t,alt:r}),_.inlineTools.has("alignment")?(0,w.jsx)(g.ZP,{className:N.toolbar,onDropdownOpen:function(){return d(!0)},onDropdownClose:function(){return d(!1)},children:(0,w.jsx)(g.Z,{children:(0,w.jsx)(f.Z,{alignment:i,onChange:U})})}):null]})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:N.container,children:(0,w.jsx)(b.Z,{src:t,alt:r,className:N.image,onClick:L?void 0:function(){P(!0)}})}),(0,w.jsx)(y.Z,{isOpen:T,onClose:function(){return P(!1)},src:t})]})};function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function P(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.Z)(e);if(n){var a=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,s.Z)(this,t)}}function N(e){if(e instanceof HTMLImageElement){var n=e.alt,t=e.src,r=e.style;return{node:E({src:t,altText:n,widthPercentage:r.width?Number(r.width.replace("%","")):void 0})}}return null}var Z=function(e){(0,l.Z)(t,e);var n=P(t);function t(e,r,i){var o;return(0,a.Z)(this,t),(o=n.call(this,i,r)).__src=e.src,o.__altText=e.altText,o.__alignment=e.alignment,o.__widthPercentage=e.widthPercentage,o}return(0,i.Z)(t,[{key:"exportDOM",value:function(){var e,n=document.createElement("img");return n.setAttribute("src",this.__src),n.setAttribute("alt",this.__altText),n.setAttribute("style","width: ".concat(null!==(e=this.__widthPercentage)&&void 0!==e?e:100,"%")),{element:n}}},{key:"exportJSON",value:function(){return T(T({},(0,o.Z)((0,c.Z)(t.prototype),"exportJSON",this).call(this)),{},{version:1,type:"image",src:this.getSrc(),altText:this.getAltText(),alignment:this.getAlignment(),widthPercentage:this.getWidthPercentage()})}},{key:"setAlignment",value:function(e){this.getWritable().__alignment=e}},{key:"setWidthPercentage",value:function(e){this.getWritable().__widthPercentage=e}},{key:"updateDOM",value:function(){return!1}},{key:"getSrc",value:function(){return this.__src}},{key:"getAltText",value:function(){return this.__altText}},{key:"getAlignment",value:function(){return this.__alignment}},{key:"getWidthPercentage",value:function(){return this.__widthPercentage}},{key:"decorate",value:function(){return(0,w.jsx)(O,{nodeKey:this.getKey(),src:this.__src,altText:this.__altText,alignment:this.__alignment,widthPercentage:this.__widthPercentage})}}],[{key:"getType",value:function(){return"image"}},{key:"clone",value:function(e){return new t({src:e.__src,altText:e.__altText,alignment:e.__alignment,widthPercentage:e.__widthPercentage},e.__key,e.__format)}},{key:"importJSON",value:function(e){return E({alignment:e.alignment,altText:e.altText,widthPercentage:e.widthPercentage,src:e.src})}},{key:"importDOM",value:function(){return{img:function(){return{conversion:N,priority:0}}}}}]),t}(t(448082).DecoratorBlockNode);function E(e){var n=e.src,t=e.altText,r=e.alignment,a=e.widthPercentage,i=e.key;return new Z({src:n,altText:t,alignment:r,widthPercentage:a},i)}function R(e){return e instanceof Z}},152805:function(e,n,t){t.d(n,{Mo:function(){return d},QN:function(){return p},ZP:function(){return m}});var r=t(386854),a=t(790251),i=t(218879),o=t(84260),l=t(376969),s=t(932998),c=t(667294),u=function(e){return(e||window).getSelection()},d=(0,s.createCommand)("INSERT_IMAGE_COMMAND"),p=(0,s.createCommand)("INSERT_IMAGE_FILE_COMMAND");function m(){var e=(0,o.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0];return(0,c.useEffect)((function(){if(!n.hasNodes([a.HJ,i.U0]))throw new Error("ImagePlugin: ImageNode not registered on editor");return(0,l.mergeRegister)(n.registerCommand(d,(function(e){var n=(0,a.HB)(e);return(0,l.$insertNodeToNearestRoot)(n),!0}),s.COMMAND_PRIORITY_EDITOR),n.registerCommand(p,(function(e){var n=(0,i.Hg)(e);return(0,l.$insertNodeToNearestRoot)(n),!0}),s.COMMAND_PRIORITY_EDITOR),n.registerCommand(s.DRAGOVER_COMMAND,(function(e){return function(e){var n=f(e);if(!n)return!1;if(!g(n))return!1;h(e)||e.preventDefault();return!0}(e)}),s.COMMAND_PRIORITY_LOW),n.registerCommand(s.DROP_COMMAND,(function(e){return function(e,n){var t=f(e);if(!t)return!1;var r=g(t);if(!r)return!1;if(e.preventDefault(),h(e)){var a=function(e){var n,t=e.target,r=null==t?null:9===t.nodeType?t.defaultView:t.ownerDocument.defaultView,a=u(r);if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(e.clientX,e.clientY);else{if(!e.rangeParent||null===a)throw Error("Cannot get the selection when dragging");a.collapse(e.rangeParent,e.rangeOffset||0),n=a.getRangeAt(0)}return n}(e);r.remove();var i=(0,s.$createRangeSelection)();null!=a&&i.applyDOMRange(a),(0,s.$setSelection)(i),n.dispatchCommand(d,t)}return!0}(e,n)}),s.COMMAND_PRIORITY_HIGH))}),[n]),null}function g(e){var n=e.key;if(!n)return null;var t=(0,s.$getNodeByKey)(n);return(0,a.dP)(t)?t:null}function f(e){var n,t=null===(n=e.dataTransfer)||void 0===n?void 0:n.getData("application/x-lexical-drag");if(!t)return null;var r=JSON.parse(t),a=r.type,i=r.data;return"image"!==a?null:i}function h(e){var n=e.target;return Boolean(n&&n instanceof HTMLElement&&!n.closest("code, span.editor-image")&&n.parentElement&&n.parentElement.closest("div#editor-content-editable"))}},218879:function(e,n,t){t.d(n,{Hg:function(){return F},De:function(){return T},U0:function(){return O}});var r=t(204942),a=t(215671),i=t(143144),o=t(473237),l=t(360136),s=t(182963),c=t(661120),u=t(386854),d=t(810863),p=t(819036),m=t(790251),g=t(307767),f=t(541321),h=t(84260),y=t(108920),b=t(932998),v=t(667294),k=t(785893);var x=(0,d.Z)((function(e){return{processingContainer:{display:"grid",gridTemplateColumns:"max-content 1fr",gap:e.spacing(3),padding:e.spacing(2),backgroundColor:e.palette.groovy.grey[100],borderRadius:e.measure.borderRadius.big,alignItems:"center"}}})),C=function(e){var n=e.nodeKey,t=e.file,r=(0,y.Z)(),a=(0,h.useLexicalComposerContext)(),i=(0,u.Z)(a,1)[0],o=(0,g.Z)(),l=o.uploadMediaToS3,s=o.uploadProgress;(0,v.useEffect)((function(){t&&l({mediaFile:t}).then((function(e){i.update((function(){var t=(0,b.$getNodeByKey)(n);if(T(t)){var r=(0,m.HB)({src:e.url,altText:e.name});t.replace(r)}}))}))}),[]);var c=x();return(0,k.jsxs)("div",{className:c.processingContainer,children:[(0,k.jsx)(p.Z,{color:r.palette.primary.main,value:null!=s?s:0}),(0,k.jsxs)("div",{children:[(0,k.jsx)(f.U4,{variant:"body-md-600",children:"Uploading Image..."}),(0,k.jsx)(f.U4,{variant:"body-sm",children:"Your image is currently being uploaded"})]})]})};function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.Z)(e);if(n){var a=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,s.Z)(this,t)}}var O=function(e){(0,l.Z)(t,e);var n=S(t);function t(e,r,i){var o;return(0,a.Z)(this,t),(o=n.call(this,i,r)).__file=e,o}return(0,i.Z)(t,[{key:"exportJSON",value:function(){return j(j({},(0,o.Z)((0,c.Z)(t.prototype),"exportJSON",this).call(this)),{},{version:1,type:"image-upload-file",file:this.getFile()})}},{key:"updateDOM",value:function(){return!1}},{key:"getFile",value:function(){return this.__file}},{key:"decorate",value:function(){return(0,k.jsx)(C,{nodeKey:this.getKey(),file:this.__file})}}],[{key:"getType",value:function(){return"image-upload-file"}},{key:"clone",value:function(e){return new t(e.__file,e.__key)}},{key:"importJSON",value:function(e){return F({file:e.file})}}]),t}(t(448082).DecoratorBlockNode);function F(e){var n=e.file,t=e.key;return new O(n,t)}function T(e){return e instanceof O}},75365:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(386854),a=t(873435),i=t(232358),o=t(84260),l=t(932998),s=t(667294),c=t(785893),u=[(0,i.createLinkMatcherWithRegExp)(/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,(function(e){return e.startsWith("http")?e:"https://".concat(e)})),(0,i.createLinkMatcherWithRegExp)(/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,(function(e){return"mailto:".concat(e)}))];function d(){var e=(0,o.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0],t=(0,s.useRef)(new Set);return(0,s.useEffect)((function(){if(n){t.current=new Set;var e=n.registerMutationListener(a.AutoLinkNode,(function(e){e.forEach((function(e,r){"created"!==e||t.current.has(r)||setTimeout((function(){t.current.has(r)||n.update((function(){var e=(0,l.$getNodeByKey)(r);(0,a.$isAutoLinkNode)(e)&&(t.current.add(r),e.setTarget("_blank"))}))}),0)}))}));return function(){return e()}}}),[n]),(0,c.jsx)(i.AutoLinkPlugin,{matchers:u})}},196045:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(386854),a=t(810863),i=t(643550),o=t(541321),l=t(873435),s=t(84260),c=t(376969),u=t(932998),d=t(667294),p=t(973935),m=t(785893),g=["http:","https:","mailto:","sms:","tel:"];function f(e){var n=e.trim();try{g.some((function(n){return e.startsWith(n)}))||(n="https://".concat(n))}catch(e){return n}return n}function h(e){var n=e.editor,t=e.linkType,a=e.closeEditor,s=e.anchorElem,p=(0,d.useRef)(null),g=(0,d.useRef)(null),h=(0,d.useState)(""),b=(0,r.Z)(h,2),v=b[0],k=b[1],x=(0,d.useState)("_blank"),C=(0,r.Z)(x,2),w=C[0],j=C[1],S=(0,d.useState)(""),O=(0,r.Z)(S,2),F=O[0],T=O[1],P=(0,d.useState)(!1),N=(0,r.Z)(P,2),Z=N[0],E=N[1],R=(0,d.useState)(!1),I=(0,r.Z)(R,2),_=I[0],L=I[1],D=(0,d.useState)(!1),M=(0,r.Z)(D,2),K=M[0],U=M[1],A=(0,d.useState)(null),B=(0,r.Z)(A,2),z=B[0],$=B[1],G=(0,d.useState)(null),V=(0,r.Z)(G,2),H=V[0],W=V[1],X=(0,d.useState)(null),q=(0,r.Z)(X,2),Q=q[0],Y=q[1];(0,d.useEffect)((function(){if(z&&z!==H&&t){var e=setTimeout((function(){n.getEditorState().read((function(){var e=(0,u.$getSelection)();if((0,u.$isRangeSelection)(e)){var n=i.Z.getSelectedNode(e),t=n.getParent(),r=(0,l.$isLinkNode)(n)&&n.getKey()===z?n:(0,l.$isLinkNode)(t)&&t.getKey()===z?t:null;r&&r.getTarget()!==w&&j(r.getTarget()),W(z)}}))}),50);return function(){return clearTimeout(e)}}}),[z,H,n,w,t]);var J=(0,d.useCallback)((function(){var e=(0,u.$getSelection)(),t="";if((0,u.$isRangeSelection)(e)){var r=i.Z.getSelectedNode(e),a=r.getParent(),o=null,c=null;(0,l.$isLinkNode)(a)?(o=a,t=a.getURL(),c=a.getKey()):(0,l.$isLinkNode)(r)?(o=r,t=r.getURL(),c=r.getKey()):k(""),o&&(c!==z&&($(c),t===i.Z.EDITOR_LINK_PLACEHOLDER?j("_blank"):j(o.getTarget()),U(t===i.Z.EDITOR_LINK_PLACEHOLDER)),t!==v&&(k(t),L(!1))),t===i.Z.EDITOR_LINK_PLACEHOLDER&&(U(!0),$(null),L(!0),T(""),j("_blank"))}var d=p.current,m=window.getSelection(),g=document.activeElement;if(null!==d){var f=n.getRootElement();if(null!==e&&null!==m&&null!==f&&f.contains(m.anchorNode)&&n.isEditable()){var h,y,b=null===(h=m.focusNode)||void 0===h||null===(y=h.parentElement)||void 0===y?void 0:y.getBoundingClientRect();b&&(b.y+=40,i.Z.setFloatingElemPosition(b,d,s,{isLinkEditor:!0})),Y(e)}else g&&"link-input"===g.id||(null!==f&&i.Z.setFloatingElemPosition(null,d,s,{isLinkEditor:!0}),Y(null),L(!1),k(""));return!0}}),[s,n,v,z]);(0,d.useEffect)((function(){var e=s.parentElement,t=function(){n.getEditorState().read((function(){J()}))};return window.addEventListener("resize",t),e&&e.addEventListener("scroll",t),function(){window.removeEventListener("resize",t),e&&e.removeEventListener("scroll",t)}}),[s.parentElement]),(0,d.useEffect)((function(){return(0,c.mergeRegister)(n.registerUpdateListener((function(e){e.editorState.read((function(){J()}))})),n.registerCommand(u.SELECTION_CHANGE_COMMAND,(function(){return J(),!0}),u.COMMAND_PRIORITY_LOW),n.registerCommand(u.KEY_ESCAPE_COMMAND,(function(){return!!t&&(a(),!0)}),u.COMMAND_PRIORITY_HIGH))}),[n,J,a,t]),(0,d.useEffect)((function(){n.getEditorState().read((function(){J()}))}),[n,J]),(0,d.useEffect)((function(){_&&g.current&&g.current.focus()}),[_]);var ee=function(){n.dispatchCommand(l.TOGGLE_LINK_COMMAND,null)},ne=function(){U(!1),$(null),T(""),E(!1)},te=function(e){"Enter"===e.key?(e.preventDefault(),re()):"Escape"===e.key&&(e.preventDefault(),L(!1),K&&ne())},re=function(){if(null!==Q){var e=f(F);if(!i.Z.validateUrl(e))return E(!0);n.update((function(){(0,u.$setSelection)(Q.clone())}));var t=w;K&&null===t&&(t="_blank"),n.dispatchCommand(l.TOGGLE_LINK_COMMAND,{url:e,target:t}),L(!1),K&&ne()}},ae=y();return t?(0,m.jsx)("div",{ref:p,className:ae.editor,children:function(){if(_)return(0,m.jsxs)("div",{className:ae.container,children:[(0,m.jsxs)("div",{className:ae.linkDetails,children:[ie(),(0,m.jsxs)("label",{className:ae.checkboxInput,htmlFor:"link-target-checkbox",children:[(0,m.jsx)("input",{id:"link-target-checkbox",checked:"_blank"===w,type:"checkbox",onChange:function(e){e.target.checked?j("_blank"):j(null)}}),(0,m.jsx)(o.U4,{color:"text.secondary",variant:"body-sm",children:"Open link in a new tab"})]})]}),(0,m.jsxs)("div",{className:ae.buttons,children:[(0,m.jsx)(o.I4,{onMouseDown:function(e){e.preventDefault()},onClick:function(e){e.preventDefault(),v===i.Z.EDITOR_LINK_PLACEHOLDER?(ee(),a()):L(!1)},size:"small",children:(0,m.jsx)(o.De,{icon:"close"})}),(0,m.jsx)(o.I4,{onMouseDown:function(e){e.preventDefault()},onClick:function(e){e.preventDefault(),re()},size:"small",children:(0,m.jsx)(o.De,{icon:"check"})})]})]});return(0,m.jsxs)("div",{className:ae.container,children:[(0,m.jsxs)("div",{className:ae.linkDetails,children:[ie(),(0,m.jsx)(o.U4,{variant:"body-sm",color:"text.secondary",children:"_blank"===w?"Opens in a new tab":"Opens in the same tab"})]}),(0,m.jsxs)("div",{className:ae.buttons,children:[(0,m.jsx)(o.I4,{onMouseDown:function(e){e.preventDefault()},onClick:function(e){e.preventDefault(),T(v),L(!0)},size:"small",children:(0,m.jsx)(o.De,{icon:"edit"})}),oe()]})]})}()}):null;function ie(){return _&&"link"===t?(0,m.jsxs)("div",{className:ae.linkInput,children:[(0,m.jsx)(o.z6,{inputProps:{ref:g},autoFocus:!0,id:"link-input",value:F,placeholder:"Add link",onChange:function(e){T(e.target.value),E(!1)},onKeyDown:function(e){return te(e)}}),Z&&(0,m.jsx)(o.U4,{variant:"body-sm",color:"groovy.red.500",marginTop:.5,children:"Please provide valid link"})]}):(0,m.jsx)(o.Xn,{className:ae.link,href:f(v),target:"_blank",rel:"noopener noreferrer",children:v})}function oe(){return"link"!==t?null:(0,m.jsx)(o.I4,{onMouseDown:function(e){return e.preventDefault()},onClick:ee,size:"small",children:(0,m.jsx)(o.De,{icon:"trash"})})}}var y=(0,a.Z)((function(e){return{editor:{display:"flex",position:"absolute",top:0,left:0,zIndex:e.zIndex.floatingBar,maxWidth:"400px",width:"100%",opacity:0,backgroundColor:e.palette.background.paper,boxShadow:e.palette.groovyDepths.raisedBoxShadow,border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.big,transition:"opacity 0.5s",willChange:"transform"},container:{display:"grid",width:"100%",gridTemplateColumns:"1fr max-content",padding:e.spacing(1,1.5),gap:e.spacing(2),alignItems:"start"},linkDetails:{display:"grid",gap:e.spacing(.5)},checkboxInput:{display:"flex",alignItems:"center",gap:e.spacing(.5),marginTop:e.spacing(.5),justifySelf:"start",userSelect:"none","&, & *":{cursor:"pointer"}},linkInput:{display:"grid"},link:{display:"flex",alignItems:"center",wordBreak:"break-all",padding:e.spacing(.5,0)},buttons:{display:"flex",marginTop:"5px",gap:e.spacing(.5)}}}));function b(e){var n=e.anchorElem,t=(0,s.useLexicalComposerContext)();return function(e,n){var t=(0,d.useState)(e),a=(0,r.Z)(t,2),o=a[0],s=a[1],g=(0,d.useState)(null),f=(0,r.Z)(g,2),y=f[0],b=f[1],v=(0,d.useCallback)((function(){var e=(0,u.$getSelection)();if((0,u.$isRangeSelection)(e)){var n=i.Z.getSelectedNode(e),t=(0,c.$findMatchingParent)(n,l.$isLinkNode),r=(0,c.$findMatchingParent)(n,l.$isAutoLinkNode);b(r?"auto-link":t?"link":null)}}),[]);return(0,d.useEffect)((function(){return(0,c.mergeRegister)(e.registerUpdateListener((function(e){e.editorState.read((function(){v()}))})),e.registerCommand(u.SELECTION_CHANGE_COMMAND,(function(e,n){return v(),s(n),!1}),u.COMMAND_PRIORITY_CRITICAL))}),[e,v]),(0,p.createPortal)((0,m.jsx)(h,{editor:o,linkType:y,anchorElem:n,closeEditor:function(){return b(null)}}),n)}((0,r.Z)(t,1)[0],n)}},460461:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(386854),a=t(244783),i=t(84260),o=t(932998),l=t(667294);function s(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e){var n=(0,o.$getSelection)();if(!(0,o.$isRangeSelection)(n))return!1;var t,r=function(e){var n=e.getNodes();return 0===n.length?new Set([e.anchor.getNode().getParentOrThrow(),e.focus.getNode().getParentOrThrow()]):new Set(n.map((function(e){return(0,o.$isElementNode)(e)?e:e.getParentOrThrow()})))}(n),i=0,l=s(r);try{for(l.s();!(t=l.n()).done;){var c=t.value;if((0,a.$isListNode)(c))i=Math.max((0,a.$getListDepth)(c)+1,i);else if((0,a.$isListItemNode)(c)){var u=c.getParent();if(!(0,a.$isListNode)(u))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");i=Math.max((0,a.$getListDepth)(u)+1,i)}}}catch(e){l.e(e)}finally{l.f()}return i<=e}function d(e){var n=e.maxDepth,t=(0,i.useLexicalComposerContext)(),a=(0,r.Z)(t,1)[0];return(0,l.useEffect)((function(){return a.registerCommand(o.INDENT_CONTENT_COMMAND,(function(){return!u(null!=n?n:7)}),o.COMMAND_PRIORITY_CRITICAL)}),[a,n]),null}},824147:function(e,n,t){t.d(n,{j:function(){return u}});var r=t(241451),a=t(85363),i=(t(639281),t(36571)),o=t(487632),l=t(696672),s=t(667294),c=t(785893);function u(e){return[].concat((0,r.Z)(l.BB.spreadIf([i.HEADING],e.blocks.has("heading"))),(0,r.Z)(l.BB.spreadIf([i.UNORDERED_LIST,i.ORDERED_LIST,i.CHECK_LIST],e.blocks.has("list"))),(0,r.Z)(l.BB.spreadIf([i.QUOTE],e.blocks.has("quote"))),(0,r.Z)(l.BB.spreadIf([i.CODE],e.blocks.has("code"))),(0,r.Z)(l.BB.spreadIf([i.LINK],e.inlineTools.has("link"))),(0,r.Z)(i.TEXT_FORMAT_TRANSFORMERS.filter((function(n){return n.format.every((function(n){return e.inlineTools.has(n)}))}))))}n.Z=function(){var e=(0,a.K)().config,n=(0,s.useMemo)((function(){return u(e)}),[e]);return(0,c.jsx)(o.MarkdownShortcutPlugin,{transformers:n})}},281292:function(e,n,t){var r,a=t(204942),i=t(386854),o=t(922261),l=t(753688),s=t(963114),c=t(502852),u=t(800185),d=t(378444),p=(t(681355),t(10165)),m=t(461875),g=t(651140),f=t(810863),h=t(92839),y=t(71392),b=t(445828),v=(t(60323),t(84260)),k=t(724104),x=t(932998),C=t(667294),w=(t(244311),t(785893)),j=t(425108);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var O=(0,f.Z)((function(e){return{mention:function(n){var t=n.isActiveUser;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({color:e.palette.primary.main,backgroundColor:e.palette.primary.light,padding:"1px 2px",borderRadius:e.measure.borderRadius.default,cursor:"pointer"},(0,h.Z)(t,{color:e.palette.orange.main,backgroundColor:e.palette.orange.light}))},mentionIcon:{display:"inline-block",verticalAlign:"middle",padding:"3px 2px 0 2px"}}}));n.Z=function(e){var n,t=e.nodeKey,r=e.mentionId,a=e.mentionableId,f=(0,o.f)().authUser,h=(0,b.kS)().mentions,j=(0,s.NP)("admin_experience"),S=(0,s.NP)("organization"),F=(0,l.P)("memberGroup"),T=(0,C.useRef)(null),P=(0,v.useLexicalComposerContext)(),N=(0,i.Z)(P,1)[0],Z=(0,k.Z)(),E=Z.isOpen,R=Z.onOpen,I=Z.onClose,_=(0,m.kl)(),L=(0,m.hJ)(),D=h.find((function(e){return e.id===r})),M=(null==f?void 0:f.id)===(null==D||null===(n=D.user)||void 0===n?void 0:n.id),K=O({isActiveUser:M});(0,C.useEffect)((function(){D||N.update((function(){var e=(0,x.$getNodeByKey)(t);e&&e.remove()}))}),[N,t,D]);var U=p.Z.fromGlobalId(a).type;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{ref:T,role:"button",tabIndex:0,onKeyDown:R,onClick:function(e){null!=D&&D.memberGroup?F.open({memberGroupId:D.memberGroup.id,tab:"details"}):R();e.stopPropagation()},className:K.mention,children:function(){var e,n,t,r,a;if(!D)return null;switch(U){case"User":return null!==(e=D.user)&&void 0!==e&&e.fullName?"@".concat(D.user.fullName):"@Deleted User";case"MemberGroup":return null!==(n=D.memberGroup)&&void 0!==n&&n.name?"@".concat(function(e){switch(e.role){case"owner":case"admin":return"".concat(S.singular," ").concat(_[e.role].plural);case"manager":case"instructor":return L[e.role].plural}return e.name}(D.memberGroup)):"@Deleted Group";case"Product":return(0,w.jsxs)("span",{children:[(0,w.jsx)("span",{className:K.mentionIcon,children:(0,w.jsx)(u.default,{height:20,width:20})}),null!==(t=D.mentionedProduct)&&void 0!==t&&t.name?" ".concat(D.mentionedProduct.name):"Deleted ".concat(j.singular)]});case"ContentUsage":return(0,w.jsxs)("span",{children:[(0,w.jsx)("span",{className:K.mentionIcon,children:(0,w.jsx)(c.default,{height:20,width:20})}),null!==(r=D.mentionedContentUsage)&&void 0!==r&&r.content.name?" ".concat(D.mentionedContentUsage.content.name):"Deleted Content"]});case"Occurrence":return(0,w.jsxs)("span",{children:[(0,w.jsx)("span",{className:K.mentionIcon,children:(0,w.jsx)(d.default,{height:20,width:20})}),null!==(a=D.mentionedOccurrence)&&void 0!==a&&a.name?" ".concat(D.mentionedOccurrence.name):"Deleted Event"]})}return null}()}),function(){var e,n,t;if(null!=D&&D.user)return(0,w.jsx)(g.Z,{userId:D.user.id,anchorEl:T.current,open:E,onClose:A});var r=(null==D||null===(e=D.mentionedProduct)||void 0===e?void 0:e.id)||(null==D||null===(n=D.mentionedOccurrence)||void 0===n?void 0:n.id)||(null==D||null===(t=D.mentionedContentUsage)||void 0===t?void 0:t.id);return r?(0,w.jsx)(y.Z,{entityId:r,anchorEl:T.current,open:E,onClose:A}):null}()]});function A(e){I(),e&&e.stopPropagation()}},void 0!==r||(r=t(60323)).hash&&"7db49d3d112aac2b2d65b2ec6efe6c30"!==r.hash&&j.error("The definition of 'EditorMentionFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")},445828:function(e,n,t){t.d(n,{kS:function(){return y},tP:function(){return h}});var r,a=t(241451),i=t(386854),o=t(10165),l=(t(281292),t(818971)),s=(t(725407),t(822292),t(932998)),c=t(667294),u=t(422578),d=(t(244311),t(785893)),p=t(425108);function m(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var f=c.createContext({mentions:[],setMentions:function(){}});function h(e){return function(){var n,t=(0,s.$getRoot)(),r=(0,s.$createParagraphNode)(),a=m(e);try{for(a.s();!(n=a.n()).done;){var i,o,c,u,d,p=n.value,g=(0,l.IY)(p.id,(null===(i=p.user)||void 0===i?void 0:i.id)||(null===(o=p.memberGroup)||void 0===o?void 0:o.id)||(null===(c=p.mentionedProduct)||void 0===c?void 0:c.id)||(null===(u=p.mentionedOccurrence)||void 0===u?void 0:u.id)||(null===(d=p.mentionedContentUsage)||void 0===d?void 0:d.id)||"");r.append(g);var f=(0,s.$createTextNode)(" ");r.append(f)}}catch(e){a.e(e)}finally{a.f()}t.append(r)}}function y(){var e=(0,c.useContext)(f);if(!e)throw new Error("useEditorMentions must be used within a EditorMentionsProvider");return e}n.ZP=function(e){var n,l=(0,u.useFragment)((void 0!==r||(r=t(725407)).hash&&"3d7a99048a584d8ce62af6bdd89d7def"!==r.hash&&p.error("The definition of 'EditorMentionsProviderFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),null!==(n=e.contentKey)&&void 0!==n?n:null),s=(0,c.useState)([].concat((0,a.Z)(o.Z.connectionToArray(null==l?void 0:l.mentions)),(0,a.Z)((null==e?void 0:e.defaultMentions)||[]))),m=(0,i.Z)(s,2),g=m[0],h=m[1];return(0,d.jsx)(f.Provider,{value:{mentions:g,setMentions:h},children:e.children})}},818971:function(e,n,t){t.d(n,{AV:function(){return p},IY:function(){return m}});var r=t(215671),a=t(143144),i=t(360136),o=t(182963),l=t(661120),s=(t(681355),t(281292)),c=t(932998),u=t(785893);function d(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,l.Z)(e);if(n){var a=(0,l.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,o.Z)(this,t)}}var p=function(e){(0,i.Z)(t,e);var n=d(t);function t(e,a,i){var o;return(0,r.Z)(this,t),(o=n.call(this,i)).__mentionId=e,o.__mentionableId=a,o}return(0,a.Z)(t,[{key:"exportJSON",value:function(){return{mentionId:this.__mentionId,mentionableId:this.__mentionableId,type:"mention",version:1}}},{key:"createDOM",value:function(){var e=document.createElement("span");return e.setAttribute("data-disco-mention-id",this.__mentionId),e.setAttribute("data-disco-mentionable-id",this.__mentionableId),e}},{key:"exportDOM",value:function(){var e=document.createElement("span");return e.setAttribute("data-disco-mention-id",this.__mentionId),e.setAttribute("data-disco-mentionable-id",this.__mentionableId),{element:e}}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){return(0,u.jsx)(s.Z,{nodeKey:this.getKey(),mentionId:this.__mentionId,mentionableId:this.__mentionableId})}}],[{key:"getType",value:function(){return"mention"}},{key:"clone",value:function(e){return new t(e.__mentionId,e.__mentionableId,e.__key)}},{key:"importJSON",value:function(e){return m(e.mentionId,e.mentionableId)}}]),t}(c.DecoratorNode);function m(e,n){var t=new p(e,n);return(0,c.$applyNodeReplacement)(t)}},411539:function(e,n,t){t.d(n,{L:function(){return V},Z:function(){return ne}});var r,a,i=t(204942),o=t(241451),l=t(215671),s=t(143144),c=t(360136),u=t(182963),d=t(661120),p=t(386854),m=t(655496),g=t(51256),f=t(500831),h=t(285245),y=t(69722),b=t(963114),v=t(931724),k=t(494204),x=(t(681355),t(10165)),C=t(276979),w=t(810863),j=t(256194),S=t(445828),O=t(818971),F=(t(806646),t(756275),t(541321)),T=t(84260),P=t(50185),N=t(558365),Z=t(251941),E=t(458044),R=t(294184),I=t.n(R),_=t(932998),L=t(923450),D=t.n(L),M=t(667294),K=t(973935),U=(t(244311),t(584622)),A=t(785893),B=t(425108);function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function G(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,d.Z)(e);if(n){var a=(0,d.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,u.Z)(this,t)}}var V,H=["Products","Events","Content"];!function(e){e.user="@",e.content="@@",e.event="@@@",e.product="@@@@"}(V||(V={}));var W="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",X="\\b[A-Z][^\\s".concat(W,"]"),q=new RegExp("(^|[^#])((?:".concat({NAME:X,PUNCTUATION:W}.NAME,'{" + 1 + ",})$)'));var Q=15;var Y=function(e){(0,c.Z)(t,e);var n=G(t);function t(e){var r,a;return(0,l.Z)(this,t),(a=n.call(this,e.mentionableId)).name=e.name,a.type=e.type,a.mentionable=e.mentionable,a.mentionableId=e.mentionableId,a.children=e.children,a.disabled=null!==(r=e.disabled)&&void 0!==r&&r,a.disabledReason=e.disabledReason,a}return(0,s.Z)(t,[{key:"displayType",get:function(){return"memberGroup"===this.type?"group":this.type}}]),t}(P.MenuOption);function J(e){var n=e.index,t=e.isSelected,r=e.onClick,a=e.onMouseEnter,i=e.option,o=ee({isSelected:t,disabled:i.disabled});return(0,A.jsx)(F.t2,{title:(0,A.jsxs)("div",{className:o.tooltipTitle,children:[(0,A.jsx)(F.De,{icon:"eye-off",height:16,width:16,color:"inherit"}),(0,A.jsx)(F.U4,{variant:"body-xs-600",children:"You can't @mention this ".concat(i.displayType,".")})]}),content:(0,A.jsx)(F.U4,{variant:"body-xs",children:i.disabledReason}),disabled:!i.disabled,children:(0,A.jsx)("li",{ref:i.setRefElement,"data-testid":"MentionSuggestionList.item",id:"typeahead-item-".concat(n),tabIndex:-1,className:o.item,role:"option",onKeyDown:function(e){var n,t;if(!r||"Enter"!==e.key&&" "!==e.key)return;null===(n=i.ref)||void 0===n||null===(t=n.current)||void 0===t||t.click()},"aria-selected":t,onMouseEnter:a,onClick:r,"aria-disabled":i.disabled,children:i.children},i.key)})}var ee=(0,w.Z)((function(e){return{item:function(n){var t=n.disabled,r=n.isSelected;return{cursor:t?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:e.spacing(1),borderRadius:e.measure.borderRadius.default,padding:e.spacing(.5),margin:e.spacing(0,.5),opacity:t?.5:1,background:r?e.palette.groovy.neutral[100]:e.palette.background.paper}},tooltipTitle:{display:"flex",gap:e.spacing(.5),marginBottom:e.spacing(.5)}}}));function ne(e){var n=e.hasUserMention,a=e.hasAttachBlockMention,l=(0,b.NP)("experience"),s=(0,b.NP)("pathway"),c=(0,b.NP)("organization"),u=(0,Z.d)(),d=(0,k.Z)(),w=(0,T.useLexicalComposerContext)(),R=(0,p.Z)(w,1)[0],L=(0,S.kS)().setMentions,z=(0,M.useState)(null),G=(0,p.Z)(z,2),W=G[0],X=G[1],ee=(0,M.useState)(d),ne=(0,p.Z)(ee,2),re=ne[0],ae=ne[1],ie=(0,M.useState)(!1),oe=(0,p.Z)(ie,2),le=oe[0],se=oe[1],ce=(0,y.R6)(),ue=(0,b.NP)(ce?"product_member":"organization_member"),de=(0,M.useState)(null),pe=(0,p.Z)(de,2),me=pe[0],ge=pe[1],fe=(0,P.useBasicTypeaheadTriggerMatch)("/",{minLength:0}),he=(0,M.useCallback)((function(e,t){var r=function(e){for(var n,t=/(^|\s)(@{1,4})(?!@|\s)(\w*|$)/g,r={trigger:null,text:null};null!==(n=t.exec(e));)if(n[2]&&(n[3]||e.slice(n.index).trim().endsWith(n[2]))){r={trigger:n[2],text:n[3]};break}return r}(e);if(null!==r.trigger){switch(n||a||X(null),r.trigger){case V.user:if(!n)break;X("UsersAndGroups");break;case V.content:if(!a)break;X("Content");break;case V.event:if(!a)break;X("Events");break;case V.product:if(!a)break;X("Products")}var i=r.text||"",o=r.trigger+i;if(i.length>=t)return{leadOffset:(r.trigger+r.text).length,matchingString:i,replaceableString:o}}return null}),[a,n]),ye=te({isWebView:d}),be=function(e,n,a,i){var o,l=(0,h.vn)(),s=(0,y.R6)(),c=a&&"Products"===n,u=a&&"Events"===n,d=a&&"Content"===n,m=i&&"UsersAndGroups"===n,g=x.Z.useRefetchableQuery((void 0!==r||(r=t(806646)).hash&&"2ebd560604610be1ac6abbb546355750"!==r.hash&&B.error("The definition of 'MentionsPluginQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{productId:s?s.id:"",organizationId:l.id,search:null!=e?e:"",searchProducts:c,searchEvents:u,searchContent:d,includeOrg:m||u||d||c,searchUsers:m},{refetchInBackground:!0}),f=(0,p.Z)(g,3),b=f[0],v=b.product,k=b.organization,C=f[1],w=f[2],j=(0,E.Z)((function(e){C({productId:s?s.id:"",organizationId:l.id,search:e,searchProducts:c,searchEvents:u,searchContent:d,includeOrg:m||u||d||c,searchUsers:m})}),100);switch((0,M.useEffect)((function(){n&&j(null!=e?e:"")}),[n,e]),n){case"Products":o=null==k?void 0:k.products;break;case"Events":o=null==k?void 0:k.occurrences;break;case"Content":o=null==k?void 0:k.contentUsages;break;case"UsersAndGroups":o=s?null==v?void 0:v.mentionables:null==k?void 0:k.mentionables}return{mentionables:x.Z.connectionToArray(o),isLoading:w}}(me,W,a,n),ve=be.mentionables,ke=be.isLoading;(0,M.useEffect)((function(){le||ke&&se(!0)}),[ke]);var xe=(0,M.useMemo)((function(){var e=ve.map((function(e){if(x.Z.isNodeType(e,"User"))return new Y({name:e.fullName,type:"user",mentionable:e,mentionableId:e.id,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(C.Z,{userKey:e,size:24}),(0,A.jsx)(F.U4,{variant:"body-sm",children:e.fullName})]})});if(x.Z.isNodeType(e,"MemberGroup")){var n,t=(null===(n=e.memberGroupMemberships)||void 0===n?void 0:n.totalCount)||0;return new Y({name:e.name,type:"memberGroup",mentionable:e,mentionableId:e.id,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v.Z,{memberGroupKey:e}),(0,A.jsx)(F.U4,{component:"span",variant:"body-xs-500",marginLeft:1,color:"text.secondary",children:"(".concat(t," ").concat(D()("member",t),")")})]}),disabled:"everyone"!==e.visibility,disabledReason:"This group is only visible to admins. ".concat(ue.plural," don't know if they are added to this group.")})}if(x.Z.isNodeType(e,"Product"))return new Y({name:e.name,type:"mentionedProduct",mentionable:e,mentionableId:e.id,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(m.Z,{badgeKey:e.badge,size:24}),(0,A.jsx)(F.U4,{variant:"body-sm",children:e.name})]})});if(x.Z.isNodeType(e,"Occurrence")){var r,a=new Date(e.datetimeRange[0]);return new Y({name:e.occurrenceName,type:"mentionedOccurrence",mentionable:e,mentionableId:e.id,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(j.Z,{testid:"mentions-list-occurrence-day",date:a,customClassName:ye.daySquare,customSquareMonthClassName:ye.squareMonthClassName,customSquareDayClassName:ye.squareDayClassName}),(0,A.jsxs)("div",{className:ye.textContainer,children:[(0,A.jsx)(F.U4,{variant:"body-xs-700",noWrap:!0,truncateText:1,className:ye.text,children:e.occurrenceName}),"course"===(null===(r=e.occurrenceProduct)||void 0===r?void 0:r.type)&&(0,A.jsxs)(F.U4,{variant:"body-xs",noWrap:!0,truncateText:1,className:ye.text,children:["Hosted in ",(0,A.jsx)(F.U4,{component:"span",variant:"body-xs-500",color:"primary.main",children:e.occurrenceProduct.occurrenceProductName})]})]})]})})}if(x.Z.isNodeType(e,"ContentUsage")){if(!e.viewerPermissions.includes("content.read"))return null;var i=g.p.contentUsageLocationLabel(e,{organizationLabel:c});return new Y({name:e.content.name,type:"mentionedContentUsage",mentionable:e,mentionableId:e.id,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:ye.customImageContainer,children:(0,A.jsx)(f.Z,{contentKey:e.content})}),(0,A.jsxs)("div",{className:ye.textContainer,children:[(0,A.jsx)(F.U4,{variant:"body-xs-700",noWrap:!0,truncateText:1,className:ye.text,children:e.content.name}),(0,A.jsx)(F.U4,{variant:"body-xs",noWrap:!0,truncateText:1,className:ye.text,children:i})]})]})})}return null})).filter((function(e){return null!==e})).slice(0,Q);return[{title:ue.plural,mentionables:e.filter((function(e){return"user"===e.type}))},{title:"Groups",mentionables:e.filter((function(e){return"memberGroup"===e.type}))},{title:"Products",mentionables:e.filter((function(e){return"mentionedProduct"===e.type}))},{title:"Events",mentionables:e.filter((function(e){return"mentionedOccurrence"===e.type}))},{title:"Content",mentionables:e.filter((function(e){return"mentionedContentUsage"===e.type}))}]}),[ve,ue.plural,ye]),Ce=(0,M.useCallback)((function(e,n,t){R.update((function(){var r=e.mentionable;if(!e.disabled){var a=x.Z.toGlobalId("ContentMention",(0,U.Z)());x.Z.isNodeType(r,"User")?L((function(e){return[].concat((0,o.Z)(e),[{id:a,user:r}])})):x.Z.isNodeType(r,"MemberGroup")?L((function(e){return[].concat((0,o.Z)(e),[{id:a,memberGroup:r}])})):x.Z.isNodeType(r,"Product")?L((function(e){return[].concat((0,o.Z)(e),[{id:a,mentionedProduct:r}])})):x.Z.isNodeType(r,"Occurrence")?L((function(e){var n;return[].concat((0,o.Z)(e),[{id:a,mentionedOccurrence:{id:r.id,name:r.occurrenceName,content:{name:null===(n=r.occurrenceProduct)||void 0===n?void 0:n.occurrenceProductName}}}])})):x.Z.isNodeType(r,"ContentUsage")&&L((function(e){var n;return[].concat((0,o.Z)(e),[{id:a,mentionedContentUsage:$($({},r),{},{content:$($({},r.content),{},{name:null===(n=r.content)||void 0===n?void 0:n.name})})}])}));var i=(0,O.IY)(a,e.mentionableId);n&&n.replace(i);var l=(0,_.$getSelection)();l&&l.insertText(" "),t()}}))}),[R,L]),we=(0,M.useCallback)((function(e){var n=he(e,0);return null===n?function(e,n){var t=q.exec(e);if(null!==t){var r=t[1],a=t[2];if(null!=a&&a.length>=n)return{leadOffset:t.index+r.length,matchingString:a,replaceableString:a}}return null}(e,3):n}),[he]),je=(0,M.useCallback)((function(e){return null!==fe(e,R)?null:we(e)}),[fe,R,we]),Se=xe.flatMap((function(e){return e.mentionables})),Oe=(0,M.useCallback)((function(e){setTimeout((function(){if(null!=e&&e.current){var n=e.current.getBoundingClientRect();if(re){var t=n.top;ae(t>0)}else{var r=window.innerHeight-n.bottom;ae(r<0)}}}),10)}),[re]),Fe=(0,M.useRef)(null),Te=function(){var e="Events"===W||"Content"===W?48:32;return(0,A.jsxs)("div",{className:ye.loadingSkeletonContainer,children:[(0,A.jsx)(N.Z,{variant:"rect",height:e,width:"100%",className:ye.loadingSkeleton}),(0,A.jsx)(N.Z,{variant:"rect",height:e,width:"100%",className:ye.loadingSkeleton}),(0,A.jsx)(N.Z,{variant:"rect",height:e,width:"100%",className:ye.loadingSkeleton}),(0,A.jsx)(N.Z,{variant:"rect",height:e,width:"100%",className:ye.loadingSkeleton}),(0,A.jsx)(N.Z,{variant:"rect",height:e,width:"100%",className:ye.loadingSkeleton})]})};return(0,A.jsx)(P.LexicalTypeaheadMenuPlugin,{onQueryChange:ge,onSelectOption:Ce,triggerFn:je,anchorClassName:ye.typeaheadAnchor,options:Se,onClose:function(){X(null)},onOpen:function(){Oe(Fe)},menuRenderFn:function(e,t){var r=t.selectedIndex,o=t.selectOptionAndCleanUp,c=t.setHighlightedIndex;if(!e.current||null===W)return null;var d="Products"===W?l.plural:"UsersAndGroups"===W?null:W;return K.createPortal((0,A.jsxs)("ul",{ref:Fe,"data-testid":"MentionSuggestionList.popover",className:I()(ye.popover,(0,i.Z)({},ye.popoverReposition,re)),children:[(0,A.jsxs)("div",{className:ye.popoverBody,children:[d&&(0,A.jsx)(F.U4,{color:"text.secondary",variant:"body-xs-700",marginLeft:1,children:d}),xe.map((function(e){var n=H.includes(e.title),t=W===e.title;return n&&!t||0===e.mentionables.length?null:(0,A.jsxs)(M.Fragment,{children:["UsersAndGroups"===W&&(0,A.jsx)(F.U4,{color:"text.secondary",variant:"body-xs-500",marginLeft:1,children:e.title}),e.mentionables.map((function(e){var n=Se.indexOf(e);return(0,A.jsx)(J,{index:n,isSelected:r===n,onClick:function(){c(n),o(e)},onMouseEnter:function(){c(n)},option:e},e.key)}))]},e.title)})),0===Se.length&&(ke||!le?(0,A.jsx)(Te,{}):(0,A.jsx)(F.U4,{variant:"body-sm-500",color:"text.secondary",margin:.75,marginLeft:3,children:"No results"}))]}),W&&a&&(0,A.jsx)("div",{className:ye.menuFooter,children:u?n?(0,A.jsxs)("div",{className:ye.mobileFooterMessage,children:[(0,A.jsx)(F.U4,{variant:"body-xs",color:"text.secondary",children:"@ for ".concat(ue.plural.toLowerCase(),", @@ for content,")}),(0,A.jsx)(F.U4,{variant:"body-xs",color:"text.secondary",children:"@@@ for events, @@@@ for ".concat(l.plural.toLowerCase()," or ").concat(s.plural.toLowerCase())})]}):(0,A.jsxs)("div",{className:ye.mobileFooterMessage,children:[(0,A.jsx)(F.U4,{variant:"body-xs",color:"text.secondary",children:"@@ for content, @@@ for events,"}),(0,A.jsx)(F.U4,{variant:"body-xs",color:"text.secondary",children:"@@@@ for ".concat(l.plural.toLowerCase()," or ").concat(s.plural.toLowerCase())})]}):n?(0,A.jsx)(F.U4,{variant:"body-xs",color:"text.secondary",children:"Type @ for ".concat(ue.plural.toLowerCase(),", @@ for content, @@@ for events, @@@@ for ").concat(l.plural.toLowerCase()," or ").concat(s.plural.toLowerCase())}):(0,A.jsx)(F.U4,{variant:"body-xs",color:"text.secondary",children:"Type @@ for content, @@@ for events, @@@@ for ".concat(l.plural.toLowerCase()," or ").concat(s.plural.toLowerCase())})})]}),e.current)}})}var te=(0,w.Z)((function(e){return{typeaheadAnchor:{zIndex:100},popover:(0,i.Z)({width:"500px",border:"1px solid ".concat(e.palette.groovy.neutral[300]),background:e.palette.background.paper,boxShadow:e.palette.groovyDepths.raisedBoxShadow,borderRadius:e.measure.borderRadius.medium,padding:e.spacing(.5,0,0,0),marginTop:e.spacing(3.5),"-ms-overflow-style":"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.breakpoints.down("sm"),{minWidth:"320px",maxWidth:"90%"}),popoverBody:{maxHeight:function(e){return e.isWebView?"190px":"250px"},overflowY:"scroll",overflowX:"hidden"},popoverReposition:{bottom:"24px !important",position:"absolute"},text:{paddingLeft:e.spacing(1)},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",overflow:"hidden"},daySquare:{minWidth:"40px",width:"40px",height:"40px"},squareMonthClassName:{marginTop:e.spacing(.25),fontSize:"10px",lineHeight:"10px"},squareDayClassName:{marginTop:0,fontSize:"14px",lineHeight:"14px"},customImageContainer:{width:"40px",height:"40px",minWidth:"40px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:e.measure.borderRadius.default},menuFooter:{padding:e.spacing(1)},mobileFooterMessage:{display:"flex",flexDirection:"column",gap:e.spacing(.5)},loadingSkeletonContainer:{padding:e.spacing(.5),gap:e.spacing(.5),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},loadingSkeleton:{borderRadius:e.measure.borderRadius.default}}}));void 0!==a||(a=t(756275)).hash&&"eaac99e945bb02554d40aa79f1997151"!==a.hash&&B.error("The definition of 'MentionsPlugin_Mentionable' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.")},60323:function(e,n,t){t.r(n);t(244311);var r,a,i,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditorMentionFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[r,a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"mentionedProduct",plural:!1,selections:i=[r,a],storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"mentionedContentUsage",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"mentionedOccurrence",plural:!1,selections:[r,a,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"ContentMention",abstractKey:null};o.hash="7db49d3d112aac2b2d65b2ec6efe6c30",n.default=o},725407:function(e,n,t){t.r(n);t(244311);var r,a,i,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditorMentionsProviderFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ContentMentionNodeConnection",kind:"LinkedField",name:"mentions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentMentionNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentMention",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"memberGroup",plural:!1,selections:[r,a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"mentionedProduct",plural:!1,selections:i=[r,a],storageKey:null},{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"mentionedContentUsage",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"mentionedOccurrence",plural:!1,selections:[r,a,{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"Content",abstractKey:null};o.hash="3d7a99048a584d8ce62af6bdd89d7def",n.default=o},806646:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c,u,d,p,m,g,f,h,y,b,v,k,x,C,w,j,S,O,F,T,P,N,Z,E,R,I,_,L,D,M,K,U,A,B,z,$,G,V,H,W,X,q,Q,Y,J,ee,ne,te,re,ae,ie,oe,le,se,ce,ue,de={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"includeOrg"},a={defaultValue:null,kind:"LocalArgument",name:"organizationId"},i={defaultValue:null,kind:"LocalArgument",name:"productId"},o={defaultValue:null,kind:"LocalArgument",name:"search"},l={defaultValue:null,kind:"LocalArgument",name:"searchContent"},s={defaultValue:null,kind:"LocalArgument",name:"searchEvents"},c={defaultValue:null,kind:"LocalArgument",name:"searchProducts"},u={defaultValue:null,kind:"LocalArgument",name:"searchUsers"}],kind:"Fragment",metadata:null,name:"MentionsPluginQuery",selections:[{condition:"searchUsers",kind:"Condition",passingValue:!0,selections:[{alias:"product",args:d=[{kind:"Variable",name:"id",variableName:"productId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:$=[{alias:null,args:g=[p={kind:"Literal",name:"first",value:20},m={kind:"Variable",name:"search",variableName:"search"}],concreteType:"undefinedConnection",kind:"LinkedField",name:"mentionables",plural:!1,selections:[{alias:null,args:null,concreteType:"undefinedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:z=[f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"lastName",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},k={args:null,kind:"FragmentSpread",name:"ProfileAvatarFragment"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[h,x={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},S={args:null,kind:"FragmentSpread",name:"MemberGroupTagFragment"},O={alias:null,args:null,concreteType:"MemberGroupMembershipNodeConnection",kind:"LinkedField",name:"memberGroupMemberships",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"MemberGroup",abstractKey:null},{kind:"InlineFragment",selections:[h,x,F={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},P={alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BadgeFragment"}],storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:[h,N={alias:"occurrenceName",args:null,kind:"ScalarField",name:"name",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"datetimeRange",storageKey:null},R={alias:"occurrenceProduct",args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[F,E={alias:"occurrenceProductName",args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Occurrence",abstractKey:null},{kind:"InlineFragment",selections:[h,I={alias:null,args:null,kind:"ScalarField",name:"entity",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null},L={alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ContentThumbnail_ContentFragment"},x,h],storageKey:null},M={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:D=[x],storageKey:null},U={alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"productApp",plural:!1,selections:[C,K={alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null}],storageKey:null},A={alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"module",plural:!1,selections:D,storageKey:null},B={args:null,kind:"FragmentSpread",name:"ContentUsageUtils_useContentUsageLocationLabelContentUsageFragment"}],type:"ContentUsage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Product",abstractKey:null}],storageKey:null}]},{condition:"includeOrg",kind:"Condition",passingValue:!0,selections:[{alias:"organization",args:G=[{kind:"Variable",name:"id",variableName:"organizationId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{condition:"searchUsers",kind:"Condition",passingValue:!0,selections:$},{condition:"searchEvents",kind:"Condition",passingValue:!0,selections:[{alias:null,args:g,concreteType:"OccurrenceNodeConnection",kind:"LinkedField",name:"occurrences",plural:!1,selections:[{alias:null,args:null,concreteType:"OccurrenceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"node",plural:!1,selections:V=[{kind:"InlineFragment",selections:z,type:"Mentionable",abstractKey:"__isMentionable"}],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"searchProducts",kind:"Condition",passingValue:!0,selections:[{alias:null,args:H=[p,m,{kind:"Literal",name:"types",value:["course","pathway"]}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"products",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:V,storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"searchContent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:g,concreteType:"ContentUsageNodeConnection",kind:"LinkedField",name:"contentUsages",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentUsageNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,{kind:"InlineFragment",selections:[y,b,v,k],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[x,C,w,j,O,S],type:"MemberGroup",abstractKey:null},{kind:"InlineFragment",selections:[x,F,T,P],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:[N,Z,R],type:"Occurrence",abstractKey:null},{kind:"InlineFragment",selections:[I,_,L,M,U,A,B],type:"ContentUsage",abstractKey:null}],type:"Mentionable",abstractKey:"__isMentionable"}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Organization",abstractKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,a,o,c,s,l,u,r],kind:"Operation",name:"MentionsPluginQuery",selections:[{condition:"searchUsers",kind:"Condition",passingValue:!0,selections:[{alias:"product",args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,{kind:"InlineFragment",selections:ce=[{alias:null,args:g,concreteType:"undefinedConnection",kind:"LinkedField",name:"mentionables",plural:!1,selections:[{alias:null,args:null,concreteType:"undefinedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isMentionable"},{kind:"InlineFragment",selections:[h,y,b,v,W={alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[h,x,C,w,j,Q={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"isSystem",storageKey:null},J={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[h,x],storageKey:null},O],type:"MemberGroup",abstractKey:null},{kind:"InlineFragment",selections:[h,x,F,T,ee={alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[C,Q,{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},h],storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:[h,N,Z,ne={alias:"occurrenceProduct",args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[F,E,h],storageKey:null}],type:"Occurrence",abstractKey:null},{kind:"InlineFragment",selections:[h,I,_,te={alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[h,F,{alias:null,args:null,kind:"ScalarField",name:"coverVideo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCoverPlayIcon",storageKey:null},x],storageKey:null},ae={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:re=[x,h],storageKey:null},ie={alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"productApp",plural:!1,selections:[C,K,h],storageKey:null},oe={alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"module",plural:!1,selections:re,storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},se={alias:null,args:null,concreteType:"Collection",kind:"LinkedField",name:"collection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"app",plural:!1,selections:[K,h],storageKey:null},h],storageKey:null}],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Product",abstractKey:null},h],storageKey:null}]},{condition:"includeOrg",kind:"Condition",passingValue:!0,selections:[{alias:"organization",args:G,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,h,{kind:"InlineFragment",selections:[{condition:"searchUsers",kind:"Condition",passingValue:!0,selections:ce},{condition:"searchEvents",kind:"Condition",passingValue:!0,selections:[{alias:null,args:g,concreteType:"OccurrenceNodeConnection",kind:"LinkedField",name:"occurrences",plural:!1,selections:[{alias:null,args:null,concreteType:"OccurrenceNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Occurrence",kind:"LinkedField",name:"node",plural:!1,selections:ue=[h,{kind:"InlineFragment",selections:[f,{kind:"InlineFragment",selections:[y,b,v,W,X,q],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[x,C,w,j,Q,Y,J,O],type:"MemberGroup",abstractKey:null},{kind:"InlineFragment",selections:[x,F,T,ee],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:[N,Z,ne],type:"Occurrence",abstractKey:null},{kind:"InlineFragment",selections:[I,_,te,ae,ie,oe,le,se],type:"ContentUsage",abstractKey:null}],type:"Mentionable",abstractKey:"__isMentionable"}],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"searchProducts",kind:"Condition",passingValue:!0,selections:[{alias:null,args:H,concreteType:"ProductNodeConnection",kind:"LinkedField",name:"products",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:ue,storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"searchContent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:g,concreteType:"ContentUsageNodeConnection",kind:"LinkedField",name:"contentUsages",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentUsageNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentUsage",kind:"LinkedField",name:"node",plural:!1,selections:ue,storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Organization",abstractKey:null}],storageKey:null}]}]},params:{cacheID:"f6972cc1e22c14a4bf15432995e31422",id:null,metadata:{},name:"MentionsPluginQuery",operationKind:"query",text:"query MentionsPluginQuery(\n  $productId: ID!\n  $organizationId: ID!\n  $search: String\n  $searchProducts: Boolean!\n  $searchEvents: Boolean!\n  $searchContent: Boolean!\n  $searchUsers: Boolean!\n  $includeOrg: Boolean!\n) {\n  product: node(id: $productId) @include(if: $searchUsers) {\n    __typename\n    ... on Product {\n      mentionables(first: 20, search: $search) {\n        edges {\n          node {\n            __typename\n            __isMentionable: __typename\n            ... on User {\n              id\n              firstName\n              lastName\n              fullName\n              ...ProfileAvatarFragment\n            }\n            ... on MemberGroup {\n              id\n              name\n              kind\n              role\n              visibility\n              ...MemberGroupTagFragment\n              memberGroupMemberships {\n                totalCount\n              }\n            }\n            ... on Product {\n              id\n              name\n              type\n              cover\n              badge {\n                ...BadgeFragment\n                id\n              }\n            }\n            ... on Occurrence {\n              id\n              occurrenceName: name\n              datetimeRange\n              occurrenceProduct: product {\n                type\n                occurrenceProductName: name\n                id\n              }\n            }\n            ... on ContentUsage {\n              id\n              entity\n              viewerPermissions\n              content {\n                ...ContentThumbnail_ContentFragment\n                name\n                id\n              }\n              product {\n                name\n                id\n              }\n              productApp {\n                kind\n                customAppTitle\n                id\n              }\n              module {\n                name\n                id\n              }\n              ...ContentUsageUtils_useContentUsageLocationLabelContentUsageFragment\n            }\n            ... on Node {\n              __isNode: __typename\n              id\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n  organization: node(id: $organizationId) @include(if: $includeOrg) {\n    __typename\n    ... on Organization {\n      mentionables(first: 20, search: $search) @include(if: $searchUsers) {\n        edges {\n          node {\n            __typename\n            __isMentionable: __typename\n            ... on User {\n              id\n              firstName\n              lastName\n              fullName\n              ...ProfileAvatarFragment\n            }\n            ... on MemberGroup {\n              id\n              name\n              kind\n              role\n              visibility\n              ...MemberGroupTagFragment\n              memberGroupMemberships {\n                totalCount\n              }\n            }\n            ... on Product {\n              id\n              name\n              type\n              cover\n              badge {\n                ...BadgeFragment\n                id\n              }\n            }\n            ... on Occurrence {\n              id\n              occurrenceName: name\n              datetimeRange\n              occurrenceProduct: product {\n                type\n                occurrenceProductName: name\n                id\n              }\n            }\n            ... on ContentUsage {\n              id\n              entity\n              viewerPermissions\n              content {\n                ...ContentThumbnail_ContentFragment\n                name\n                id\n              }\n              product {\n                name\n                id\n              }\n              productApp {\n                kind\n                customAppTitle\n                id\n              }\n              module {\n                name\n                id\n              }\n              ...ContentUsageUtils_useContentUsageLocationLabelContentUsageFragment\n            }\n            ... on Node {\n              __isNode: __typename\n              id\n            }\n          }\n        }\n      }\n      occurrences(first: 20, search: $search) @include(if: $searchEvents) {\n        edges {\n          node {\n            ... on Mentionable {\n              __isMentionable: __typename\n              __typename\n              ... on User {\n                id\n                firstName\n                lastName\n                fullName\n                ...ProfileAvatarFragment\n              }\n              ... on MemberGroup {\n                id\n                name\n                kind\n                role\n                visibility\n                ...MemberGroupTagFragment\n                memberGroupMemberships {\n                  totalCount\n                }\n              }\n              ... on Product {\n                id\n                name\n                type\n                cover\n                badge {\n                  ...BadgeFragment\n                  id\n                }\n              }\n              ... on Occurrence {\n                id\n                occurrenceName: name\n                datetimeRange\n                occurrenceProduct: product {\n                  type\n                  occurrenceProductName: name\n                  id\n                }\n              }\n              ... on ContentUsage {\n                id\n                entity\n                viewerPermissions\n                content {\n                  ...ContentThumbnail_ContentFragment\n                  name\n                  id\n                }\n                product {\n                  name\n                  id\n                }\n                productApp {\n                  kind\n                  customAppTitle\n                  id\n                }\n                module {\n                  name\n                  id\n                }\n                ...ContentUsageUtils_useContentUsageLocationLabelContentUsageFragment\n              }\n            }\n            id\n          }\n        }\n      }\n      products(first: 20, search: $search, types: [course, pathway]) @include(if: $searchProducts) {\n        edges {\n          node {\n            ... on Mentionable {\n              __isMentionable: __typename\n              __typename\n              ... on User {\n                id\n                firstName\n                lastName\n                fullName\n                ...ProfileAvatarFragment\n              }\n              ... on MemberGroup {\n                id\n                name\n                kind\n                role\n                visibility\n                ...MemberGroupTagFragment\n                memberGroupMemberships {\n                  totalCount\n                }\n              }\n              ... on Product {\n                id\n                name\n                type\n                cover\n                badge {\n                  ...BadgeFragment\n                  id\n                }\n              }\n              ... on Occurrence {\n                id\n                occurrenceName: name\n                datetimeRange\n                occurrenceProduct: product {\n                  type\n                  occurrenceProductName: name\n                  id\n                }\n              }\n              ... on ContentUsage {\n                id\n                entity\n                viewerPermissions\n                content {\n                  ...ContentThumbnail_ContentFragment\n                  name\n                  id\n                }\n                product {\n                  name\n                  id\n                }\n                productApp {\n                  kind\n                  customAppTitle\n                  id\n                }\n                module {\n                  name\n                  id\n                }\n                ...ContentUsageUtils_useContentUsageLocationLabelContentUsageFragment\n              }\n            }\n            id\n          }\n        }\n      }\n      contentUsages(first: 20, search: $search) @include(if: $searchContent) {\n        edges {\n          node {\n            id\n            ... on Mentionable {\n              __isMentionable: __typename\n              __typename\n              ... on User {\n                id\n                firstName\n                lastName\n                fullName\n                ...ProfileAvatarFragment\n              }\n              ... on MemberGroup {\n                id\n                name\n                kind\n                role\n                visibility\n                ...MemberGroupTagFragment\n                memberGroupMemberships {\n                  totalCount\n                }\n              }\n              ... on Product {\n                id\n                name\n                type\n                cover\n                badge {\n                  ...BadgeFragment\n                  id\n                }\n              }\n              ... on Occurrence {\n                id\n                occurrenceName: name\n                datetimeRange\n                occurrenceProduct: product {\n                  type\n                  occurrenceProductName: name\n                  id\n                }\n              }\n              ... on ContentUsage {\n                id\n                entity\n                viewerPermissions\n                content {\n                  ...ContentThumbnail_ContentFragment\n                  name\n                  id\n                }\n                product {\n                  name\n                  id\n                }\n                productApp {\n                  kind\n                  customAppTitle\n                  id\n                }\n                module {\n                  name\n                  id\n                }\n                ...ContentUsageUtils_useContentUsageLocationLabelContentUsageFragment\n              }\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment ContentThumbnail_ContentFragment on Content {\n  id\n  type\n  coverVideo\n  thumbnailUrl\n  showCoverPlayIcon\n}\n\nfragment ContentUsageUtils_useContentUsageLocationLabelContentUsageFragment on ContentUsage {\n  id\n  entity\n  entityId\n  product {\n    name\n    id\n  }\n  productApp {\n    kind\n    customAppTitle\n    id\n  }\n  collection {\n    app {\n      customAppTitle\n      id\n    }\n    id\n  }\n  module {\n    name\n    id\n  }\n}\n\nfragment MemberGroupTagFragment on MemberGroup {\n  id\n  name\n  kind\n  color\n  role\n  isSystem\n  product {\n    id\n    name\n  }\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n"}};de.hash="2ebd560604610be1ac6abbb546355750",n.default=de},756275:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MentionsPlugin_Mentionable",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileAvatarFragment"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[r,a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{args:null,kind:"FragmentSpread",name:"MemberGroupTagFragment"},{alias:null,args:null,concreteType:"MemberGroupMembershipNodeConnection",kind:"LinkedField",name:"memberGroupMemberships",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"MemberGroup",abstractKey:null},{kind:"InlineFragment",selections:[r,a,o={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},{alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BadgeFragment"}],storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:"occurrenceName",args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"datetimeRange",storageKey:null},{alias:"occurrenceProduct",args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[o,{alias:"occurrenceProductName",args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Occurrence",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"entity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"content",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ContentThumbnail_ContentFragment"},a,r],storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:l=[a],storageKey:null},{alias:null,args:null,concreteType:"ProductApp",kind:"LinkedField",name:"productApp",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"customAppTitle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Content",kind:"LinkedField",name:"module",plural:!1,selections:l,storageKey:null},{args:null,kind:"FragmentSpread",name:"ContentUsageUtils_useContentUsageLocationLabelContentUsageFragment"}],type:"ContentUsage",abstractKey:null}],type:"Mentionable",abstractKey:"__isMentionable"};s.hash="eaac99e945bb02554d40aa79f1997151",n.default=s},783224:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(115861),a=t(241451),i=t(386854),o=t(887757),l=t.n(o),s=t(85363),c=t(370446),u=t(152805),d=t(941087),p=t(84260),m=t(2903),g=t(376969),f=t(696672),h=t(932998),y=t(667294);function b(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var k=["image/"],x=["video/"],C=["application/pdf"];function w(){var e=(0,p.useLexicalComposerContext)(),n=(0,i.Z)(e,1)[0],t=(0,s.K)().config,o=(0,y.useMemo)((function(){return[].concat((0,a.Z)(f.BB.spreadIf([k],t.blocks.has("image"))),(0,a.Z)(f.BB.spreadIf([x],t.blocks.has("video"))),(0,a.Z)(f.BB.spreadIf([C],t.blocks.has("embed"))))}),[t.blocks]);return(0,y.useEffect)((function(){return n.registerCommand(m.DRAG_DROP_PASTE,(function(e){return(0,r.Z)(l().mark((function t(){var r,a,i,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.mediaFileReader)(e,o.flatMap((function(e){return e})));case 2:r=t.sent,a=b(r);try{for(a.s();!(i=a.n()).done;)s=i.value.file,(0,g.isMimeType)(s,k)&&n.dispatchCommand(u.QN,{file:s}),(0,g.isMimeType)(s,x)&&n.dispatchCommand(d.hu,{file:s}),(0,g.isMimeType)(s,C)&&n.dispatchCommand(c.Kq,{file:s})}catch(e){a.e(e)}finally{a.f()}case 5:case"end":return t.stop()}}),t)})))(),!0}),h.COMMAND_PRIORITY_LOW)}),[n,o]),null}},214372:function(e,n,t){t.d(n,{I:function(){return d}});var r=t(215671),a=t(143144),i=t(473237),o=t(360136),l=t(182963),s=t(661120),c=t(932998);function u(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,s.Z)(e);if(n){var a=(0,s.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,l.Z)(this,t)}}var d=function(e){(0,o.Z)(t,e);var n=u(t);function t(){return(0,r.Z)(this,t),n.apply(this,arguments)}return(0,a.Z)(t,[{key:"exportJSON",value:function(){return(0,i.Z)((0,s.Z)(t.prototype),"exportJSON",this).call(this)}}],[{key:"getType",value:function(){return"text-paste"}},{key:"importDOM",value:function(){return{span:function(){return{conversion:p,priority:1}}}}},{key:"clone",value:function(){return new t}},{key:"importJSON",value:function(){return new t}}]),t}(c.ElementNode);function p(e){var n=e,t="700"===n.style.fontWeight,r="line-through"===n.style.textDecoration,a="italic"===n.style.fontStyle,i="underline"===n.style.textDecoration,o=n.style,l=o.backgroundColor,s=o.color,u=n.style.verticalAlign;return{forChild:function(e){if(!(0,c.$isTextNode)(e))return e;t&&e.toggleFormat("bold"),r&&e.toggleFormat("strikethrough"),"super"===u&&e.toggleFormat("superscript"),"sub"===u&&e.toggleFormat("subscript"),a&&e.toggleFormat("italic"),i&&e.toggleFormat("underline");var n="";return s&&"rgb(0, 0, 0)"!==s&&(n+="color: ".concat(s,";")),l&&"transparent"!==l&&(n+="background-color: ".concat(l,";")),""!==n&&e.setStyle(n),e},node:null}}},572044:function(e,n,t){var r=t(386854),a=(t(681355),t(645597)),i=t(182352),o=t(84260),l=t(757336),s=t(785893);n.Z=(0,l.Pi)((function(e){var n=e.isOpen,t=e.onClose,l=(0,o.useLexicalComposerContext)(),c=(0,r.Z)(l,1)[0];return n?(0,s.jsx)(a.Z,{isOpen:!0,onCancel:t,onSave:function(e){c.dispatchCommand(i.xp,{webFormId:e}),t()}}):null}))},304440:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(386854),a=(t(711288),t(182352)),i=t(162083),o=t(84260),l=t(785893);function s(e){var n=e.pollNode,t=(0,o.useLexicalComposerContext)(),s=(0,r.Z)(t,1)[0];return(0,l.jsx)(i.Z,{testid:"PollBlockOptions.dropdown.edit",onClick:function(){s.getEditorState().read((function(){s.dispatchCommand(a.gX,{webFormId:n.getWebFormId()})}))},title:"Edit Poll Settings",icon:"settings"})}},711288:function(e,n,t){t.d(n,{Xb:function(){return k},xQ:function(){return x},W5:function(){return v}});var r=t(204942),a=t(215671),i=t(143144),o=t(473237),l=t(360136),s=t(182963),c=t(661120),u=(t(681355),t(696637)),d=t(810863),p=t(85363),m=(t(932998),t(785893));function g(e){var n=e.webFormId,t=f(),r=(0,p.K)().editorUsageData;return(0,m.jsx)("div",{className:t.container,onClick:function(e){return e.stopPropagation()},children:(0,m.jsx)(u.Z,{webFormId:n,disabled:!r.contentId})})}var f=(0,d.Z)({container:{cursor:"default",padding:"0 4px"}});function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.Z)(e);if(n){var a=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,s.Z)(this,t)}}var v=function(e){(0,l.Z)(t,e);var n=b(t);function t(e,r,i){var o,l=e.webFormId;return(0,a.Z)(this,t),(o=n.call(this,i,r)).__webFormId=l,o}return(0,i.Z)(t,[{key:"exportJSON",value:function(){return y(y({},(0,o.Z)((0,c.Z)(t.prototype),"exportJSON",this).call(this)),{},{type:"poll",webFormId:this.getWebFormId()})}},{key:"setWebFormId",value:function(e){this.getWritable().__webFormId=e}},{key:"getWebFormId",value:function(){return this.getLatest().__webFormId}},{key:"decorate",value:function(){return(0,m.jsx)(g,{nodeKey:this.getKey(),webFormId:this.__webFormId})}}],[{key:"getType",value:function(){return"poll"}},{key:"importJSON",value:function(e){return k(e)}},{key:"clone",value:function(e){return new t({webFormId:e.__webFormId},e.__key,e.__format)}}]),t}(t(448082).DecoratorBlockNode);function k(e){return new v(e)}function x(e){return e instanceof v}},182352:function(e,n,t){t.d(n,{gX:function(){return p},q6:function(){return m},xp:function(){return d}});var r=t(386854),a=(t(681355),t(645597)),i=t(711288),o=t(84260),l=t(376969),s=t(932998),c=t(667294),u=t(785893),d=(0,s.createCommand)("insertPoll"),p=(0,s.createCommand)("updatePoll");function m(){var e=(0,o.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0],t=(0,c.useState)(null),m=(0,r.Z)(t,2),g=m[0],f=m[1];return(0,c.useEffect)((function(){if(!n.hasNodes([i.W5]))throw new Error("PollPlugin: PollNode not registered on editor");return(0,l.mergeRegister)(n.registerCommand(d,(function(e){return(0,l.$insertNodeToNearestRoot)((0,i.Xb)(e)),!0}),s.COMMAND_PRIORITY_EDITOR),n.registerCommand(p,(function(e){return f(e.webFormId),!1}),s.COMMAND_PRIORITY_EDITOR))}),[n]),g?(0,u.jsx)(a.Z,{isOpen:Boolean(g),webFormId:g,onCancel:function(){return f(null)},onSave:function(){return f(null)}}):null}},241424:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(241451),a=t(386854),i=t(810863),o=t(541321),l=t(162083),s=t(84260),c=t(909722),u=t.n(c),d=t(491058),p=t(352387),m=t(932998),g=t(923450),f=t.n(g),h=t(667294),y=t(973935),b=t(785893);function v(e){var n=e.getShape();return{columns:n.toX-n.fromX+1,rows:n.toY-n.fromY+1}}function k(e){if(1!==e.getChildrenSize())return!1;var n=e.getFirstChildOrThrow();return!(!(0,m.$isParagraphNode)(n)||!n.isEmpty())}function x(e){var n=e.onClose,t=e.tableCellNode,i=(0,s.useLexicalComposerContext)(),c=(0,a.Z)(i,1)[0],u=(0,h.useState)(t),p=(0,a.Z)(u,2),g=p[0],y=p[1],x=(0,h.useState)({columns:1,rows:1}),C=(0,a.Z)(x,2),w=C[0],j=C[1],S=(0,h.useState)(!1),O=(0,a.Z)(S,2),F=O[0],T=O[1],P=(0,h.useState)(!1),N=(0,a.Z)(P,2),Z=N[0],E=N[1];(0,h.useEffect)((function(){return c.registerMutationListener(d.TableCellNode,(function(e){"updated"===e.get(g.getKey())&&c.getEditorState().read((function(){y(g.getLatest())}))}))}),[c,g]),(0,h.useEffect)((function(){c.getEditorState().read((function(){var e=(0,m.$getSelection)();if((0,m.DEPRECATED_$isGridSelection)(e)){var n=v(e);j(v(e)),T(function(e){for(var n=e.getNodes(),t=[],r=null,a=null,i=0,o=0;o<n.length;o++){var l=n[o];if((0,d.$isTableCellNode)(l)){var s=l.getParentOrThrow();if(!(0,d.$isTableRowNode)(s))throw new Error("Expected CellNode to have a RowNode parent");if(r!==s){if(null!==a&&i!==a)return!1;null!==r&&(a=i),r=s,i=0}for(var c=l.__colSpan,u=0;u<c;u++)void 0===t[i+u]&&(t[i+u]=0),t[i+u]+=l.__rowSpan;i+=c}}return(null===a||i===a)&&t.every((function(e){return e===t[0]}))}(e)&&(n.columns>1||n.rows>1))}E(function(){var e=(0,m.$getSelection)();if((0,m.$isRangeSelection)(e)&&!e.isCollapsed()||(0,m.DEPRECATED_$isGridSelection)(e)&&!e.anchor.is(e.focus)||!(0,m.$isRangeSelection)(e)&&!(0,m.DEPRECATED_$isGridSelection)(e))return!1;var n=(0,m.DEPRECATED_$getNodeTriplet)(e.anchor),t=(0,a.Z)(n,1)[0];return t.__colSpan>1||t.__rowSpan>1}())}))}),[c]);var R=(0,h.useCallback)((function(){c.update((function(){if(g.isAttached()){var e=(0,d.$getTableNodeFromLexicalNodeOrThrow)(g),n=c.getElementByKey(e.getKey());if(!n)throw new Error("Expected to find tableElement in DOM");var t=(0,d.getTableSelectionFromTableElement)(n);null!==t&&t.clearHighlight(),e.markDirty(),y(g.getLatest())}(0,m.$getRoot)().selectStart()}))}),[c,g]),I=function(){c.update((function(){var e=(0,m.$getSelection)();if((0,m.DEPRECATED_$isGridSelection)(e)){for(var t=v(e),a=t.columns,i=t.rows,o=e.getNodes(),l=null,s=0;s<o.length;s++){var c=o[s];if((0,m.DEPRECATED_$isGridCellNode)(c))if(null===l){c.setColSpan(a).setRowSpan(i),l=c;var u=void 0;k(c)&&(0,m.$isParagraphNode)(u=c.getFirstChild())&&u.remove()}else if((0,m.DEPRECATED_$isGridCellNode)(l)){var d;if(!k(c))(d=l).append.apply(d,(0,r.Z)(c.getChildren()));c.remove()}}null!==l&&(0===l.getChildrenSize()&&l.append((0,m.$createParagraphNode)()),function(e){var n=e.getLastDescendant();(0,m.$isTextNode)(n)?n.select():(0,m.$isElementNode)(n)?n.selectEnd():null!==n&&n.selectNext()}(l)),n()}}))},_=(0,h.useCallback)((function(e){c.update((function(){(0,d.$insertTableRow__EXPERIMENTAL)(e),n()}))}),[c,n]),L=(0,h.useCallback)((function(e){c.update((function(){for(var t=0;t<w.columns;t++)(0,d.$insertTableColumn__EXPERIMENTAL)(e);n()}))}),[c,n,w.columns]),D=(0,h.useCallback)((function(){c.update((function(){(0,d.$deleteTableRow__EXPERIMENTAL)(),n()}))}),[c,n]),M=(0,h.useCallback)((function(){c.update((function(){(0,d.$getTableNodeFromLexicalNodeOrThrow)(g).remove(),R(),n()}))}),[c,g,R,n]),K=(0,h.useCallback)((function(){c.update((function(){(0,d.$deleteTableColumn__EXPERIMENTAL)(),n()}))}),[c,n]),U=(0,h.useCallback)((function(){c.update((function(){var e=(0,d.$getTableNodeFromLexicalNodeOrThrow)(g),t=(0,d.$getTableRowIndexFromTableCellNode)(g),r=e.getChildren();if(t>=r.length||t<0)throw new Error("Expected table cell to be inside of table row.");var a=r[t];if(!(0,d.$isTableRowNode)(a))throw new Error("Expected table row");a.getChildren().forEach((function(e){if(!(0,d.$isTableCellNode)(e))throw new Error("Expected table cell");e.toggleHeaderStyle(d.TableCellHeaderStates.ROW)})),R(),n()}))}),[c,g,R,n]),A=(0,h.useCallback)((function(){c.update((function(){for(var e=(0,d.$getTableNodeFromLexicalNodeOrThrow)(g),t=(0,d.$getTableColumnIndexFromTableCellNode)(g),r=e.getChildren(),a=0;a<r.length;a++){var i=r[a];if(!(0,d.$isTableRowNode)(i))throw new Error("Expected table row");var o=i.getChildren();if(t>=o.length||t<0)throw new Error("Expected table cell to be inside of table row.");var l=o[t];if(!(0,d.$isTableCellNode)(l))throw new Error("Expected table cell");l.toggleHeaderStyle(d.TableCellHeaderStates.COLUMN)}R(),n()}))}),[c,g,R,n]);return(0,b.jsxs)("ul",{role:"menu",children:[function(){if(F)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Z,{onClick:function(){return I()},title:"Merge cells"}),(0,b.jsx)(o.o$,{})]});if(Z)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Z,{onClick:function(){c.update((function(){(0,d.$unmergeCell)()}))},title:"Unmerge cells"}),(0,b.jsx)(o.o$,{})]});return null}(),(0,b.jsx)(l.Z,{title:"Insert ".concat(f()("row",w.rows,!0)," above"),onClick:function(){return _(!1)}}),(0,b.jsx)(l.Z,{title:"Insert ".concat(f()("row",w.rows,!0)," below"),onClick:function(){return _(!0)}}),(0,b.jsx)(o.o$,{}),(0,b.jsx)(l.Z,{title:"Insert ".concat(f()("column",w.columns,!0)," left"),onClick:function(){return L(!1)}}),(0,b.jsx)(l.Z,{onClick:function(){return L(!0)},title:"Insert ".concat(f()("column",w.columns,!0)," right")}),(0,b.jsx)(o.o$,{}),(0,b.jsx)(l.Z,{onClick:function(){return K()},title:"Delete column"}),(0,b.jsx)(l.Z,{onClick:function(){return D()},title:"Delete row"}),(0,b.jsx)(l.Z,{onClick:function(){return M()},title:"Delete table"}),(0,b.jsx)(o.o$,{}),(0,b.jsx)(l.Z,{onClick:function(){return U()},title:"".concat((g.__headerState&&d.TableCellHeaderStates.ROW)===d.TableCellHeaderStates.ROW?"Remove":"Add"," row header")}),(0,b.jsx)(l.Z,{onClick:function(){return A()},title:"".concat((g.__headerState&&d.TableCellHeaderStates.COLUMN)===d.TableCellHeaderStates.COLUMN?"Remove":"Add"," column header")})]})}function C(e){var n=e.anchorElem,t=(0,s.useLexicalComposerContext)(),r=(0,a.Z)(t,1)[0],i=(0,h.useRef)(null),l=(0,h.useRef)(null),c=(0,h.useState)(!1),u=(0,a.Z)(c,2),g=u[0],f=u[1],y=(0,h.useState)(null),v=(0,a.Z)(y,2),k=v[0],C=v[1],j=(0,h.useCallback)((function(){var e=i.current,n=(0,m.$getSelection)(),t=window.getSelection(),a=document.activeElement;if(null!=n&&null!=e){var o=r.getRootElement();if((0,m.$isRangeSelection)(n)&&null!==o&&null!==t&&o.contains(t.anchorNode)){var l=(0,d.$getTableCellNodeFromLexicalNode)(n.anchor.getNode());if(null==l)return void C(null);if(null==r.getElementByKey(l.getKey()))return void C(null);C(l)}else a||C(null)}else C(null)}),[r]);(0,h.useEffect)((function(){return r.registerUpdateListener((function(){r.getEditorState().read((function(){j()}))}))})),(0,h.useEffect)((function(){var e=i.current;if(null!==e&&null!==k){var t=r.getElementByKey(k.getKey());if(null===t)e.style.opacity="0",e.style.transform="translate(-10000px, -10000px)";else{var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),l=n.getBoundingClientRect(),s=a.top-l.top+4,c=a.right-o.width-10-l.left;e.style.opacity="1",e.style.transform="translate(".concat(c,"px, ").concat(s,"px)")}}}),[i,k,r,n]);var S=(0,h.useRef)(k);(0,h.useEffect)((function(){S.current!==k&&f(!1),S.current=k}),[S,k]);var O=w();return(0,b.jsx)("div",{ref:i,className:O.tableCellActionButtonContainer,children:null!==k&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.I4,{ref:l,onClick:function(e){e.stopPropagation(),f(!g)},width:16,height:16,variant:"outlined",className:O.tableCellActionButton,svgStyles:{width:18,height:18},children:(0,b.jsx)(o.De,{icon:"chevron"})}),l.current&&(0,b.jsx)(p.ZP,{open:g,classes:{paper:O.popover},anchorEl:l.current,onClose:function(){return f(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},onClick:function(){return f(!1)},children:(0,b.jsx)(x,{onClose:function(){return f(!1)},tableCellNode:k})})]})})}var w=(0,i.Z)((function(e){return{tableCellActionButtonContainer:{position:"absolute",top:0,left:0,willChange:"transform"},tableCellActionButton:{transform:"rotate(180deg)",borderRadius:e.measure.borderRadius.default,background:e.palette.background.paper,"& span":{width:"unset"}},popover:{border:"1px solid ".concat(e.palette.groovy.neutral[300]),boxShadow:e.palette.groovyDepths.raisedBoxShadow,borderRadius:e.measure.borderRadius.big,padding:e.spacing(.5),marginTop:e.spacing(.5),minWidth:"180px"}}}));function j(e){var n=e.anchorElem,t=u()();return n?(0,y.createPortal)(t?(0,b.jsx)(C,{anchorElem:n}):null,n):null}},941958:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(386854),a=t(810863),i=t(269865),o=t(84260),l=t(909722),s=t.n(l),c=t(491058),u=t(932998),d=t(667294),p=t(973935),m=t(785893),g=33,f=50;function h(e){var n=e.editor,t=(0,d.useRef)(null),a=(0,d.useRef)(null),o=(0,d.useRef)(null),l=(0,d.useRef)(null),s=(0,d.useState)(null),p=(0,r.Z)(s,2),h=p[0],b=p[1],v=(0,d.useState)(null),k=(0,r.Z)(v,2),x=k[0],C=k[1],w=(0,d.useState)(!1),j=(0,r.Z)(w,2),S=j[0],O=j[1],F=(0,d.useState)(null),T=(0,r.Z)(F,2),P=T[0],N=T[1];(0,d.useEffect)((function(){return n.registerCommand(u.SELECTION_CHANGE_COMMAND,(function(){var e=(0,u.$getSelection)(),n=(0,u.DEPRECATED_$isGridSelection)(e);return S!==n&&O(n),!1}),u.COMMAND_PRIORITY_HIGH)}));var Z=(0,d.useCallback)((function(){C(null),t.current=null,N(null),l.current=null,o.current=null}),[]);(0,d.useEffect)((function(){var e=function(e){setTimeout((function(){var r=e.target;if(P)b({x:e.clientX,y:e.clientY});else if(!(a.current&&a.current.contains(r)||t.current===r)){t.current=r;var i=(0,c.getCellFromTarget)(r);i&&x!==i?n.update((function(){var e=(0,u.$getNearestNodeFromDOMNode)(i.elem);if(!e)throw new Error("TableCellResizer: Table cell node not found.");var a=(0,c.$getTableNodeFromLexicalNodeOrThrow)(e),l=n.getElementByKey(a.getKey());if(!l)throw new Error("TableCellResizer: Table element not found.");t.current=r,o.current=l.getBoundingClientRect(),C(i)})):null==i&&Z()}}),0)};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[x,P,n,Z]);var E=function(e){return"bottom"===e},R=(0,d.useCallback)((function(e){if(!x)throw new Error("TableCellResizer: Expected active cell.");n.update((function(){var n=(0,u.$getNearestNodeFromDOMNode)(x.elem);if(!(0,c.$isTableCellNode)(n))throw new Error("TableCellResizer: Table cell node not found.");var t=(0,c.$getTableNodeFromLexicalNodeOrThrow)(n),r=(0,c.$getTableRowIndexFromTableCellNode)(n),a=t.getChildren();if(r>=a.length||r<0)throw new Error("Expected table cell to be inside of table row.");var i=a[r];if(!(0,c.$isTableRowNode)(i))throw new Error("Expected table row");i.setHeight(e)}))}),[x,n]),I=(0,d.useCallback)((function(e){if(!x)throw new Error("TableCellResizer: Expected active cell.");n.update((function(){var n=(0,u.$getNearestNodeFromDOMNode)(x.elem);if(!(0,c.$isTableCellNode)(n))throw new Error("TableCellResizer: Table cell node not found.");for(var t=(0,c.$getTableNodeFromLexicalNodeOrThrow)(n),r=(0,c.$getTableColumnIndexFromTableCellNode)(n),a=t.getChildren(),i=0;i<a.length;i++){var o=a[i];if(!(0,c.$isTableRowNode)(o))throw new Error("Expected table row");var l=o.getChildren();if(r>=l.length||r<0)throw new Error("Expected table cell to be inside of table row.");var s=l[r];if(!(0,c.$isTableCellNode)(s))throw new Error("Expected table cell");s.setWidth(e)}}))}),[x,n]),_=(0,d.useCallback)((function(e){return function(n){if(n.preventDefault(),n.stopPropagation(),!x)throw new Error("TableCellResizer: Expected active cell.");if(P===e&&l.current){var t=l.current,r=t.x,a=t.y;if(null===x)return;var i=x.elem.getBoundingClientRect(),o=i.height,s=i.width;if(E(e)){var c=Math.abs(n.clientY-a),u="bottom"===e&&a>n.clientY;R(Math.max(u?o-c:c+o,g))}else{var d=Math.abs(n.clientX-r),p="right"===e&&r>n.clientX;I(Math.max(p?s-d:d+s,f))}Z()}else l.current={x:n.clientX,y:n.clientY},b(l.current),N(e)}}),[x,P,Z,I,R]),L=(0,d.useCallback)((function(){if(x){var e=x.elem.getBoundingClientRect(),n=e.height,t=e.width,r=e.top,a=e.left,i={bottom:{backgroundColor:"none",cursor:"row-resize",height:"10px",left:"".concat(window.scrollX+a,"px"),top:"".concat(window.scrollY+r+n,"px"),width:"".concat(t,"px")},right:{backgroundColor:"none",cursor:"col-resize",height:"".concat(n,"px"),left:"".concat(window.scrollX+a+t,"px"),top:"".concat(window.scrollY+r,"px"),width:"10px"}},l=o.current;return P&&h&&l&&(E(P)?(i[P].left="".concat(window.scrollX+l.left,"px"),i[P].top="".concat(window.scrollY+h.y,"px"),i[P].height="3px",i[P].width="".concat(l.width,"px")):(i[P].top="".concat(window.scrollY+l.top,"px"),i[P].left="".concat(window.scrollX+h.x,"px"),i[P].width="3px",i[P].height="".concat(l.height,"px")),i[P].backgroundColor="#adf"),i}return{bottom:null,left:null,right:null,top:null}}),[x,P,h])(),D=y();return(0,m.jsx)("div",{ref:a,children:null!==x&&!S&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Z,{className:D.resizer,style:L.right||void 0,onMouseDown:_("right"),onMouseUp:_("right")}),(0,m.jsx)(i.Z,{className:D.resizer,style:L.bottom||void 0,onMouseDown:_("bottom"),onMouseUp:_("bottom")})]})})}var y=(0,a.Z)((function(e){return{resizer:{zIndex:e.zIndex.modal,position:"absolute"}}}));function b(){var e=(0,o.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0],t=s()();return(0,d.useMemo)((function(){return t?(0,p.createPortal)((0,m.jsx)(h,{editor:n}),document.body):null}),[n,t])}},34278:function(e,n,t){t.d(n,{hV:function(){return b},f3:function(){return y},ZP:function(){return v}});var r=t(386854),a=t(643550),i=t(810863),o=t(85363),l=t(132308),s=t(541321),c=t(932998),u=t(667294),d=t(785893);var p=(0,i.Z)((function(e){return{placeholder:{position:"absolute",top:0,left:0,opacity:0,transition:"opacity 0.5s",willChange:"transform",pointerEvents:"none"},text:{padding:e.spacing(.5,0)}}})),m=function(e){var n=e.editor,t=e.anchorElem,r=e.placeholder,a=(0,o.K)().isBlockOptionsOpen,i=(0,u.useRef)(null);(0,l.I)({editorAnchorElem:t,elementAnchorRef:i,opts:{verticalGap:-31.5,horizontalOffset:0}});var c=p();return(0,d.jsx)("div",{ref:i,className:c.placeholder,children:n.isEditable()&&!a&&(0,d.jsx)(s.U4,{color:"groovy.neutral.400",className:c.text,children:r})})},g=t(84260),f=t(376969),h=t(973935),y=(0,c.createCommand)("RESIZE_START_COMMAND"),b=(0,c.createCommand)("RESIZE_END_COMMAND");var v=function(e){var n=e.anchorElem,t=e.placeholder,i=(0,g.useLexicalComposerContext)();return function(e,n,t){var i=(0,u.useState)(!1),o=(0,r.Z)(i,2),l=o[0],s=o[1],p=(0,u.useState)(!1),g=(0,r.Z)(p,2),v=g[0],k=g[1];(0,u.useEffect)((function(){return e.registerCommand(y,(function(){return k(!0),!1}),c.COMMAND_PRIORITY_HIGH)}),[e]),(0,u.useEffect)((function(){return e.registerCommand(b,(function(){return k(!1),!1}),c.COMMAND_PRIORITY_HIGH)}),[e]);var x=(0,u.useCallback)((function(){e.getEditorState().read((function(){if(!e.isComposing())if(""!==(0,c.$getRoot)().getTextContent()){var n=(0,c.$getSelection)(),t=window.getSelection(),r=e.getRootElement();if(null===t||(0,c.$isRangeSelection)(n)&&null!==r&&r.contains(t.anchorNode)){if((0,c.$isRangeSelection)(n))if(""===n.getTextContent()){var i=a.Z.getSelectedNode(n);(0,c.$isParagraphNode)(i)&&"root"===(0,c.$getNearestRootOrShadowRoot)(i).getType()?s(0===i.getChildrenSize()):s(!1)}else s(!1)}else s(!1)}else s(!1)}))}),[e]);return(0,u.useEffect)((function(){return document.addEventListener("selectionchange",x),function(){document.removeEventListener("selectionchange",x)}}),[x]),(0,u.useEffect)((function(){return(0,f.mergeRegister)(e.registerUpdateListener((function(){x()})),e.registerRootListener((function(){null===e.getRootElement()&&s(!1)})))}),[e,x]),!l||v?null:(0,h.createPortal)((0,d.jsx)(m,{editor:e,anchorElem:n,placeholder:t}),n)}((0,r.Z)(i,1)[0],n,t)}},836426:function(e,n,t){t.d(n,{Z:function(){return z}});var r=t(386854),a=t(85363),i=t(726608),o=t(643550),l=t(204942),s=t(810863),c=t(188185),u=t(189104),d=t(928277),p=t(541321),m=t(84260),g=t(389408),f=t(108920),h=t(352387),y=t(932998),b=t(667294),v=t(785893);var k=(0,s.Z)((function(e){return{popover:{boxShadow:e.palette.groovyDepths.raisedBoxShadow,border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.default,display:"flex",padding:e.spacing(.25),marginTop:e.spacing(.5)},icon:{display:"grid",position:"relative",paddingRight:e.spacing(.5)},color:{position:"absolute",bottom:0,right:"1px",width:"8px",height:"8px",borderRadius:"2px",border:"1px solid ".concat(e.palette.groovy.neutral[300])}}})),x=function(e){var n=e.fontColor,t=(0,m.useLexicalComposerContext)(),a=(0,r.Z)(t,1)[0],i=(0,c._x)(),o=i.isOpen,l=i.onOpen,s=i.onClose,x=(0,b.useRef)(null),C=(0,b.useState)(n),w=(0,r.Z)(C,2),j=w[0],S=w[1],O=(0,f.Z)(),F=k(),T=(0,b.useCallback)((function(e){a.update((function(){var n=(0,y.$getSelection)();(0,y.$isRangeSelection)(n)&&(0,g.$patchStyleText)(n,{color:e}),S(e),s()}))}),[a,s]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsx)(d.Z,{ref:x,isActive:!1,onClick:l,tooltip:"Font Color",icon:(0,v.jsxs)("div",{className:F.icon,children:[(0,v.jsx)(p.De,{icon:"text"}),(0,v.jsx)("div",{style:{backgroundColor:null!=j?j:O.palette.text.primary},className:F.color})]}),ariaLabel:"Apply font color to selected text"})}),x.current&&(0,v.jsx)(h.ZP,{open:o,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},classes:{paper:F.popover},anchorEl:x.current,children:(0,v.jsx)(u.ZP,{variant:"font",onChange:function(e){return T(e)}})})]})};var C=(0,s.Z)((function(e){return{popover:{boxShadow:e.palette.groovyDepths.raisedBoxShadow,border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.default,display:"flex",padding:e.spacing(.25),marginTop:e.spacing(.5)},icon:{display:"grid",position:"relative",paddingRight:e.spacing(.5)},color:{position:"absolute",bottom:0,right:"1px",width:"8px",height:"8px",borderRadius:"2px",border:"1px solid ".concat(e.palette.groovy.neutral[300])}}})),w=function(e){var n=e.highlightColor,t=(0,m.useLexicalComposerContext)(),a=(0,r.Z)(t,1)[0],i=(0,c._x)(),o=i.isOpen,l=i.onOpen,s=i.onClose,f=(0,b.useRef)(null),k=(0,b.useState)(n),x=(0,r.Z)(k,2),w=x[0],j=x[1],S=C(),O=(0,b.useCallback)((function(e){a.update((function(){var n=(0,y.$getSelection)();(0,y.$isRangeSelection)(n)&&(0,g.$patchStyleText)(n,{"background-color":e}),j(e),s()}))}),[a,s]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsx)(d.Z,{ref:f,isActive:!1,onClick:l,tooltip:"Highlight",icon:(0,v.jsxs)("div",{className:S.icon,children:[(0,v.jsx)(p.De,{icon:"brush"}),(0,v.jsx)("div",{style:w?{backgroundColor:w}:void 0,className:S.color})]}),ariaLabel:"Apply a highlight to selected text"})}),f.current&&(0,v.jsx)(h.ZP,{open:o,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},classes:{paper:S.popover},anchorEl:f.current,children:(0,v.jsx)(u.ZP,{variant:"highlight",onChange:function(e){return O(e)}})})]})},j=t(873435),S=t(963457);var O=(0,s.Z)((function(e){return{icon:{display:"flex",gap:e.spacing(.5),alignItems:"center",paddingRight:e.spacing(.5)}}})),F=function(e){var n=e.isLink,t=(0,m.useLexicalComposerContext)(),a=(0,r.Z)(t,1)[0],i=(0,b.useCallback)((function(){n?a.dispatchCommand(j.TOGGLE_LINK_COMMAND,null):a.dispatchCommand(j.TOGGLE_LINK_COMMAND,o.Z.EDITOR_LINK_PLACEHOLDER)}),[a,n]),l=O(),s=(0,S.Z)((function(e){return e.breakpoints.down("xs")}));return(0,v.jsx)(d.Z,{isActive:n,onClick:i,tooltip:"Add Link",icon:(0,v.jsxs)("div",{className:l.icon,children:[(0,v.jsx)(p.De,{icon:"link"}),!s&&(0,v.jsx)(p.U4,{variant:"body-sm",color:n?"text.primary":"text.secondary",children:"Link"})]}),ariaLabel:"Toggle text as a link"})},T=t(48866);var P=function(e){var n=e.isBold,t=e.isItalic,i=e.isUnderline,o=e.isStrikethrough,l=e.isCode,s=e.isSuperscript,c=e.isSubscript,u=(0,a.K)().config,p=(0,m.useLexicalComposerContext)(),g=(0,r.Z)(p,1)[0];return(0,v.jsxs)(v.Fragment,{children:[u.inlineTools.has("bold")&&(0,v.jsx)(d.Z,{isActive:n,onClick:function(){return g.dispatchCommand(y.FORMAT_TEXT_COMMAND,"bold")},icon:"bold",tooltip:"Bold",ariaLabel:"Format text as bold"}),u.inlineTools.has("italic")&&(0,v.jsx)(d.Z,{isActive:t,onClick:function(){return g.dispatchCommand(y.FORMAT_TEXT_COMMAND,"italic")},icon:"italic",tooltip:"Italic",ariaLabel:"Format text as italics"}),u.inlineTools.has("underline")&&(0,v.jsx)(d.Z,{isActive:i,onClick:function(){return g.dispatchCommand(y.FORMAT_TEXT_COMMAND,"underline")},icon:"underline",tooltip:"Underline",ariaLabel:"Format text to underlined"}),u.inlineTools.has("superscript")&&(0,v.jsx)(d.Z,{isActive:s,onClick:function(){return g.dispatchCommand(y.FORMAT_TEXT_COMMAND,"superscript")},icon:"superscript",tooltip:"Superscript",ariaLabel:"Format text to superscript"}),u.inlineTools.has("subscript")&&(0,v.jsx)(d.Z,{isActive:c,onClick:function(){return g.dispatchCommand(y.FORMAT_TEXT_COMMAND,"subscript")},icon:"subscript",tooltip:"Subscript",ariaLabel:"Format text to subscript"}),u.inlineTools.has("strikethrough")&&(0,v.jsx)(d.Z,{isActive:o,onClick:function(){return g.dispatchCommand(y.FORMAT_TEXT_COMMAND,"strikethrough")},icon:"strikethrough",tooltip:"Strikethrough",ariaLabel:"Format text with a strikethrough"}),u.inlineTools.has("code")&&(0,v.jsx)(d.Z,{isActive:l,onClick:function(){return g.dispatchCommand(y.FORMAT_TEXT_COMMAND,"code")},icon:"code",tooltip:"Inline Code",ariaLabel:"Format text as inline code"})]})},N=t(609991),Z=t(269865);var E=(0,s.Z)((function(e){return{item:{cursor:"pointer",display:"grid",gridTemplateColumns:"auto 1fr auto",alignItems:"center",gap:e.spacing(1.5),borderRadius:e.measure.borderRadius.default,padding:e.spacing(.5),margin:e.spacing(0,.5),background:e.palette.background.paper,"&:hover":{background:e.palette.groovy.neutral[200],"& div svg":{color:e.palette.text.primary}}},iconWrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.default,background:e.palette.background.paper,padding:e.spacing(.5)}}})),R=function(e){var n=e.blockType,t=e.onClick,r=e.isSelected,a=E(),o=i.eU[n],l=o.title,s=o.icon,c=(0,f.Z)();return(0,v.jsxs)(Z.Z,{className:a.item,onClick:t,onMouseDown:function(e){e.preventDefault()},children:[s&&(0,v.jsx)("div",{className:a.iconWrapper,children:(0,v.jsx)(p.De,{icon:s,height:18,width:18})}),(0,v.jsx)(p.U4,{variant:"body-sm",children:l}),r&&(0,v.jsx)(p.De,{color:c.palette.text.primary,icon:"check"})]})},I=t(323277),_=t(244783),L=t(2903);var D=(0,s.Z)((function(e){return{popover:{boxShadow:e.palette.groovyDepths.raisedBoxShadow,border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.default,display:"grid",gap:e.spacing(.5),marginTop:e.spacing(.5),padding:e.spacing(1,0,.5),width:"200px"},activeIcon:{display:"flex",gap:e.spacing(.5),alignItems:"center",paddingLeft:e.spacing(.5),"& svg:last-child":{width:"14px",height:"14px"}},blockList:{display:"grid"}}})),M=function(e){var n=e.blockType,t=(0,m.useLexicalComposerContext)(),o=(0,r.Z)(t,1)[0],l=(0,c._x)(),s=l.isOpen,u=l.onOpen,f=l.onClose,k=(0,a.K)().config,x=(0,b.useMemo)((function(){return(0,i.Gz)(k)}),[k]),C=(0,b.useRef)(null),w=D();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsx)(d.Z,{ref:C,isActive:!1,onClick:u,tooltip:"Turn Into",icon:(0,v.jsxs)("div",{className:w.activeIcon,children:[(0,v.jsx)(p.U4,{variant:"body-sm",color:"text.secondary",children:i.eU[n].title}),(0,v.jsx)(p.De,{icon:"arrow-down"})]}),ariaLabel:"Turn selected blocks into another type"})}),C.current&&(0,v.jsxs)(h.ZP,{open:s,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},classes:{paper:w.popover},anchorEl:C.current,children:[(0,v.jsx)(p.U4,{marginLeft:1,variant:"body-xs-500",color:"text.secondary",children:"Turn into"}),(0,v.jsx)("ul",{className:w.blockList,children:x.map((function(e){return(0,v.jsx)(R,{blockType:e,isSelected:e===n,onClick:function(){return function(e){switch(e){case"paragraph":o.update((function(){var e=(0,y.$getSelection)();((0,y.$isRangeSelection)(e)||(0,y.DEPRECATED_$isGridSelection)(e))&&(0,g.$setBlocksType)(e,(function(){return(0,y.$createParagraphNode)()}))}));break;case"h1":case"h2":case"h3":n!==(t=e)&&o.update((function(){var e=(0,y.$getSelection)();((0,y.$isRangeSelection)(e)||(0,y.DEPRECATED_$isGridSelection)(e))&&(0,g.$setBlocksType)(e,(function(){return(0,L.$createHeadingNode)(t)}))}));break;case"number":"number"===n?o.dispatchCommand(_.REMOVE_LIST_COMMAND,void 0):o.dispatchCommand(_.INSERT_ORDERED_LIST_COMMAND,void 0);break;case"bullet":"bullet"===n?o.dispatchCommand(_.REMOVE_LIST_COMMAND,void 0):o.dispatchCommand(_.INSERT_UNORDERED_LIST_COMMAND,void 0);break;case"quote":"quote"!==n&&o.update((function(){var e=(0,y.$getSelection)();((0,y.$isRangeSelection)(e)||(0,y.DEPRECATED_$isGridSelection)(e))&&(0,g.$setBlocksType)(e,(function(){return(0,L.$createQuoteNode)()}))}));break;case"callout":"callout"!==n&&o.update((function(){var e=(0,y.$getSelection)();((0,y.$isRangeSelection)(e)||(0,y.DEPRECATED_$isGridSelection)(e))&&(0,g.$setBlocksType)(e,(function(){return(0,N.$G)()}))}));break;case"code":"code"!==n&&o.update((function(){var e=(0,y.$getSelection)();if((0,y.$isRangeSelection)(e)||(0,y.DEPRECATED_$isGridSelection)(e))if(e.isCollapsed())(0,g.$setBlocksType)(e,(function(){return(0,I.$createCodeNode)()}));else{var n=e.getTextContent(),t=(0,I.$createCodeNode)();e.insertNodes([t]),e=(0,y.$getSelection)(),(0,y.$isRangeSelection)(e)&&e.insertRawText(n)}}));break;default:throw new Error("Unhandled convertable block type: ".concat(e))}var t;f()}(e)}},e)}))})]})]})},K=t(376969);var U=(0,s.Z)((function(e){return{toolbar:(0,l.Z)({position:"absolute",top:0,left:0,zIndex:e.zIndex.overlay,opacity:0,transition:"opacity 0.5s",willChange:"transform"},e.breakpoints.down("xs"),{left:"36px"}),textFormatButtonsGroup:(0,l.Z)({},e.breakpoints.down("xs"),{flexWrap:"wrap",width:"120px"})}})),A=function(e){var n=e.editor,t=e.anchorElem,r=e.isLink,i=e.isBold,l=e.isItalic,s=e.isUnderline,u=e.isStrikethrough,d=e.isCode,p=e.isSuperscript,m=e.isSubscript,g=e.alignment,f=e.fontColor,h=e.highlightColor,k=e.blockType,C=(0,a.K)(),j=C.isBlockOptionsOpen,S=C.config,O=(0,b.useRef)(null);function N(e){if(null!=O&&O.current&&(1===e.buttons||3===e.buttons)&&"none"!==O.current.style.pointerEvents){var n=e.clientX,t=e.clientY,r=document.elementFromPoint(n,t);O.current.contains(r)||(O.current.style.pointerEvents="none")}}function Z(){null!=O&&O.current&&"auto"!==O.current.style.pointerEvents&&(O.current.style.pointerEvents="auto")}(0,b.useEffect)((function(){if(null!=O&&O.current)return document.addEventListener("mousemove",N),document.addEventListener("mouseup",Z),function(){document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",Z)}}),[O]);var E=(0,b.useCallback)((function(){var e=(0,y.$getSelection)(),r=O.current,a=window.getSelection();if(null!==r){var i=n.getRootElement();if(null!==e&&null!==a&&!a.isCollapsed&&null!==i&&i.contains(a.anchorNode)){var l=o.Z.getDOMRangeRect(a,i);o.Z.setFloatingElemPosition(l,r,t)}}}),[n,t]);(0,b.useEffect)((function(){var e=t.parentElement,r=function(){n.getEditorState().read((function(){E()}))};return window.addEventListener("resize",r),e&&e.addEventListener("scroll",r),function(){window.removeEventListener("resize",r),e&&e.removeEventListener("scroll",r)}}),[n,E,t]),(0,b.useEffect)((function(){return n.getEditorState().read((function(){E()})),(0,K.mergeRegister)(n.registerUpdateListener((function(e){e.editorState.read((function(){E()}))})),n.registerCommand(y.SELECTION_CHANGE_COMMAND,(function(){return E(),!1}),y.COMMAND_PRIORITY_LOW))}),[n,E]);var R=U();return(0,v.jsx)(c.ZP,{ref:O,className:R.toolbar,children:n.isEditable()&&!j&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.Z,{children:(0,v.jsx)(M,{blockType:k})}),S.inlineTools.has("link")&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.lS,{}),(0,v.jsx)(c.Z,{children:(0,v.jsx)(F,{isLink:r})})]}),(S.inlineTools.has("bold")||S.inlineTools.has("italic")||S.inlineTools.has("underline")||S.inlineTools.has("strikethrough")||S.inlineTools.has("code")||S.inlineTools.has("superscript")||S.inlineTools.has("subscript"))&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.lS,{}),(0,v.jsx)(c.Z,{className:R.textFormatButtonsGroup,children:(0,v.jsx)(P,{isBold:i,isItalic:l,isUnderline:s,isStrikethrough:u,isCode:d,isSuperscript:p,isSubscript:m})})]}),S.inlineTools.has("color")&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.lS,{}),(0,v.jsxs)(c.Z,{children:[(0,v.jsx)(x,{fontColor:f}),(0,v.jsx)(w,{highlightColor:h})]})]}),S.inlineTools.has("alignment")&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.lS,{}),(0,v.jsx)(c.Z,{children:(0,v.jsx)(T.Z,{alignment:g,onChange:function(e){return n.dispatchCommand(y.FORMAT_ELEMENT_COMMAND,e)}})})]})]})})},B=t(973935);var z=function(e){var n=e.anchorElem,t=(0,m.useLexicalComposerContext)();return function(e,n){var t=(0,f.Z)(),l=(0,a.K)().config,s=(0,b.useMemo)((function(){return(0,i.Gz)(l)}),[l]),c=(0,b.useState)(!1),u=(0,r.Z)(c,2),d=u[0],p=u[1],m=(0,b.useState)(!1),h=(0,r.Z)(m,2),k=h[0],x=h[1],C=(0,b.useState)(!1),w=(0,r.Z)(C,2),S=w[0],O=w[1],F=(0,b.useState)(!1),T=(0,r.Z)(F,2),P=T[0],N=T[1],Z=(0,b.useState)(!1),E=(0,r.Z)(Z,2),R=E[0],D=E[1],M=(0,b.useState)(!1),U=(0,r.Z)(M,2),z=U[0],$=U[1],G=(0,b.useState)(!1),V=(0,r.Z)(G,2),H=V[0],W=V[1],X=(0,b.useState)(!1),q=(0,r.Z)(X,2),Q=q[0],Y=q[1],J=(0,b.useState)(!1),ee=(0,r.Z)(J,2),ne=ee[0],te=ee[1],re=(0,b.useState)("left"),ae=(0,r.Z)(re,2),ie=ae[0],oe=ae[1],le=(0,b.useState)(t.palette.text.primary),se=(0,r.Z)(le,2),ce=se[0],ue=se[1],de=(0,b.useState)(t.palette.background.paper),pe=(0,r.Z)(de,2),me=pe[0],ge=pe[1],fe=(0,b.useState)("paragraph"),he=(0,r.Z)(fe,2),ye=he[0],be=he[1],ve=(0,b.useCallback)((function(){e.getEditorState().read((function(){if(!e.isComposing()){var n=(0,y.$getSelection)(),r=window.getSelection(),a=e.getRootElement();if(null===r||(0,y.$isRangeSelection)(n)&&null!==a&&a.contains(r.anchorNode)){if((0,y.$isRangeSelection)(n)){var i=o.Z.getSelectedNode(n),l=n.anchor.getNode(),c="root"===l.getKey()?l:(0,K.$findMatchingParent)(l,(function(e){var n=e.getParent();return null!==n&&(0,y.$isRootOrShadowRoot)(n)}));null===c&&(c=l.getTopLevelElementOrThrow());var u=c.getKey();if(null!==e.getElementByKey(u))if((0,_.$isListNode)(c)){var d=(0,K.$getNearestNodeOfType)(l,_.ListNode),m=d?d.getListType():c.getListType();be(m)}else{var f=(0,L.$isHeadingNode)(c)?c.getTag():c.getType();(s.includes(f)||"check"===f)&&be(f)}O(n.hasFormat("bold")),N(n.hasFormat("italic")),D(n.hasFormat("underline")),Y(n.hasFormat("strikethrough")),te(n.hasFormat("code")),$(n.hasFormat("superscript")),W(n.hasFormat("subscript")),ue((0,g.$getSelectionStyleValueForProperty)(n,"color",t.palette.text.primary)),ge((0,g.$getSelectionStyleValueForProperty)(n,"background-color",t.palette.background.paper));var h=i.getParent();(0,j.$isLinkNode)(h)||(0,j.$isLinkNode)(i)?x(!0):x(!1),(0,I.$isCodeHighlightNode)(n.anchor.getNode())||""===n.getTextContent()?p(!1):p((0,y.$isTextNode)(i));var b=n.getTextContent().replace(/\n/g,"");n.isCollapsed()||""!==b||p(!1),oe(((0,y.$isElementNode)(i)?i.getFormatType():null==h?void 0:h.getFormatType())||"left")}}else p(!1)}}))}),[e]);return(0,b.useEffect)((function(){return document.addEventListener("selectionchange",ve),function(){document.removeEventListener("selectionchange",ve)}}),[ve]),(0,b.useEffect)((function(){return(0,K.mergeRegister)(e.registerUpdateListener((function(){ve()})),e.registerRootListener((function(){null===e.getRootElement()&&p(!1)})),e.registerNodeTransform(y.TextNode,(function(e){for(var n=0,t=["bold","italic","underline","strikethrough","superscript","subscript","code"];n<t.length;n++){var r=t[n];l.inlineTools.has(r)||e.hasFormat(r)&&e.toggleFormat(r)}e.getStyle()&&!l.inlineTools.has("color")&&e.setStyle("")})))}),[e,ve,l.inlineTools]),!d||k?null:(0,B.createPortal)((0,v.jsx)(A,{editor:e,anchorElem:n,isLink:k,isBold:S,isItalic:P,isSuperscript:z,isSubscript:H,isStrikethrough:Q,isUnderline:R,isCode:ne,fontColor:ce,highlightColor:me,alignment:ie,blockType:ye}),n)}((0,r.Z)(t,1)[0],n)}},188185:function(e,n,t){t.d(n,{Z:function(){return m},_x:function(){return d},lS:function(){return g}});var r=t(810863),a=t(724104),i=t(294184),o=t.n(i),l=t(667294),s=t(785893),c=(0,l.createContext)({onDropdownOpen:function(){},onDropdownClose:function(){}}),u=function(){return(0,l.useContext)(c)};function d(){var e=u(),n=e.onDropdownOpen,t=e.onDropdownClose,r=(0,a.Z)(),i=r.isOpen,o=r.onOpen,l=r.onClose;return{isOpen:i,onOpen:s,onClose:c,onToggle:function(){i?c():s()}};function s(){o(),null==n||n()}function c(){l(),null==t||t()}}var p=(0,l.forwardRef)((function(e,n){var t=e.children,r=e.className,a=e.onDropdownOpen,i=e.onDropdownClose,l=f();return(0,s.jsx)(c.Provider,{value:{onDropdownOpen:a,onDropdownClose:i},children:(0,s.jsx)("div",{ref:n,className:o()(l.toolbar,r),children:t})})}));function m(e){var n=e.children,t=e.className,r=f();return(0,s.jsx)("div",{className:o()(r.group,t),children:n})}function g(e){var n=e.className,t=f();return(0,s.jsx)("div",{className:o()(t.divider,n)})}var f=(0,r.Z)((function(e){return{toolbar:{display:"grid",gridAutoFlow:"column",background:e.palette.background.paper,boxShadow:e.palette.groovyDepths.raisedBoxShadow,border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.default,"& *":{fontFamily:"".concat(e.typography.fontFamily," !important")}},group:{display:"flex",padding:e.spacing(.25)},divider:{width:"1px",height:"100%",background:e.palette.groovy.neutral[300]}}}));n.ZP=p},928277:function(e,n,t){var r=t(204942),a=t(145987),i=t(810863),o=t(74789),l=t(541321),s=t(667294),c=t(785893),u=["isActive","icon","tooltip","ariaLabel"];function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=(0,s.forwardRef)((function(e,n){var t=e.isActive,r=e.icon,i=e.tooltip,s=e.ariaLabel,d=(0,a.Z)(e,u),m=g({isActive:t});return(0,c.jsx)(o.Z,{content:(0,c.jsx)(l.U4,{variant:"body-xs-700",children:i}),placement:"top",children:(0,c.jsx)(l.I4,p(p({ref:n,className:m.button,size:"small","aria-label":s,svgStyles:{width:20,height:20}},d),{},{children:"string"==typeof r?(0,c.jsx)(l.De,{icon:r}):r}))})})),g=(0,i.Z)((function(e){return{button:{padding:e.spacing(.5),borderRadius:e.measure.borderRadius.default,"&:hover svg, & svg":{color:function(n){return n.isActive?"".concat(e.palette.text.primary," !important"):"".concat(e.palette.constants.icon)}},"&:hover, &:active":{backgroundColor:"dark"===e.palette.type?e.palette.groovy.onDark[500]:e.palette.groovy.neutral[200]}}}}));n.Z=m},48866:function(e,n,t){var r=t(810863),a=t(188185),i=t(928277),o=t(541321),l=t(352387),s=t(693871),c=(t(932998),t(667294)),u=t(785893),d=["left","center","right","justify"];var p=(0,r.Z)((function(e){return{popover:{boxShadow:e.palette.groovyDepths.raisedBoxShadow,border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.default,display:"flex",padding:e.spacing(.25),marginTop:e.spacing(.5)},activeIcon:{display:"flex",alignItems:"center","& svg:last-child":{width:"14px",height:"14px"}}}}));n.Z=function(e){var n=e.alignment,t=e.onChange,r=(0,a._x)(),m=r.isOpen,g=r.onOpen,f=r.onClose,h=(0,c.useRef)(null),y=p();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)(i.Z,{ref:h,isActive:!1,onClick:g,tooltip:"Align",icon:(0,u.jsxs)("div",{className:y.activeIcon,children:[(0,u.jsx)(o.De,{icon:"align-".concat(n)}),(0,u.jsx)(o.De,{icon:"arrow-down"})]}),ariaLabel:"Align selected text"})}),h.current&&(0,u.jsx)(l.ZP,{open:m,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},classes:{paper:y.popover},anchorEl:h.current,children:d.map((function(e){return(0,u.jsx)(i.Z,{isActive:e===n,onClick:function(){t(e),f()},tooltip:"Align ".concat((0,s.Z)(e)),icon:"align-".concat(e),ariaLabel:"Align selected text to the ".concat(e)},e)}))})]})}},377118:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(386854),a=t(84260),i=t(932998),o=t(667294);function l(){var e=(0,a.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0];return(0,o.useEffect)((function(){return n.registerNodeTransform(i.RootNode,(function(e){var n=e.getLastChild();if(!(0,i.$isParagraphNode)(n)){var t=(0,i.$createParagraphNode)();e.append(t)}}))}),[n]),null}},177947:function(e,n,t){var r=t(386854),a=t(749126),i=t(810863),o=t(390200),l=t(941087),s=t(132308),c=(t(307767),t(84260)),u=t(757336),d=t(667294),p=t(785893);var m=(0,i.Z)({anchor:{position:"absolute",top:0,left:0}});n.Z=(0,u.Pi)((function(e){var n=e.isOpen,t=e.onClose,i=e.anchorElem,u=(0,c.useLexicalComposerContext)(),g=(0,r.Z)(u,1)[0],f=(0,d.useRef)(null);(0,s.I)({editorAnchorElem:i,elementAnchorRef:f});var h=m();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{ref:f,className:h.anchor}),n&&f.current&&(0,p.jsx)(a.Z,{onClose:t,onUpload:y,onMediaSelect:y,dropzoneOptions:{accept:o.b$},allowedFileTypes:["video"],PopoverProps:{anchorEl:f.current,anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}})]});function y(e){g.dispatchCommand(l.Nj,{src:e.url,assetId:e.id}),t()}}))},701309:function(e,n,t){t.d(n,{Hk:function(){return P},Lx:function(){return N},a5:function(){return T}});var r=t(204942),a=t(215671),i=t(143144),o=t(473237),l=t(360136),s=t(182963),c=t(661120),u=t(386854),d=t(810863),p=t(85363),m=t(34278),g=t(188185),f=t(48866),h=t(238117),y=t(970115),b=t(84260),v=t(963457),k=t(932998),x=t(667294),C=t(785893);var w=(0,d.Z)((function(e){return{container:{position:"relative",display:"flex",alignItems:"center",justifyContent:function(e){switch(e.alignment){case"center":return"center";case"right":return"flex-end";default:return"flex-start"}},"& $toolbar":{opacity:function(e){return e.isToolbarOpen?1:0}},"&:hover $toolbar":{opacity:1}},toolbar:{position:"absolute",top:4,right:4},video:function(n){var t=n.widthPercentage;return(0,r.Z)({height:"auto",width:t?"".concat(t,"%"):"100%"},e.breakpoints.down("xs"),{width:"100%"})}}})),j=function(e){var n=e.nodeKey,t=e.src,r=e.assetId,a=e.assetUsageId,i=e.alignment,o=void 0===i?"left":i,l=e.widthPercentage,s=(0,x.useState)(!1),c=(0,u.Z)(s,2),d=c[0],j=c[1],S=w({widthPercentage:l,alignment:o,isToolbarOpen:d}),O=(0,v.Z)((function(e){return e.breakpoints.down("xs")})),F=(0,p.K)(),T=F.config,P=F.editorUsageData,Z=(0,b.useLexicalComposerContext)(),E=(0,u.Z)(Z,1)[0],R=E.isEditable(),I=function(e){E.update((function(){var t=(0,k.$getNodeByKey)(n);N(t)&&t.setAlignment(e)}))};return R?(0,C.jsx)("div",{className:S.container,children:(0,C.jsxs)(h.Z,{lockAspectRatio:!0,maxWidth:"100%",minWidth:"25%",size:l?{height:"auto",width:O?"100%":"".concat(l,"%")}:{height:"auto",width:"100%"},onResizeStart:function(){E.dispatchCommand(m.f3,void 0)},onResizeStop:function(e,t,r){E.dispatchCommand(m.hV,void 0);var a,i=Math.round(r.clientWidth/r.parentElement.clientWidth*100);a=i,E.update((function(){var e=(0,k.$getNodeByKey)(n);N(e)&&e.setWidthPercentage(a)}))},children:[(0,C.jsx)(y.Z,{src:t,assetId:r,trackWatchProgress:!1,maxHeight:"unset",fullWidth:!0}),T.inlineTools.has("alignment")?(0,C.jsx)(g.ZP,{className:S.toolbar,onDropdownOpen:function(){return j(!0)},onDropdownClose:function(){return j(!1)},children:(0,C.jsx)(g.Z,{children:(0,C.jsx)(f.Z,{alignment:o,onChange:I})})}):null]})}):(0,C.jsx)("div",{className:S.container,children:(0,C.jsx)(y.Z,{src:t,assetId:r,assetUsageId:a,contentId:null==P?void 0:P.contentId,contentUsageId:null==P?void 0:P.contentUsageId,trackWatchProgress:!0,className:S.video,maxHeight:"unset",fullWidth:!0})})};function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function F(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.Z)(e);if(n){var a=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,s.Z)(this,t)}}var T=function(e){(0,l.Z)(t,e);var n=F(t);function t(e,r,i){var o;return(0,a.Z)(this,t),(o=n.call(this,i,r)).__src=e.src,o.__assetId=e.assetId,o.__assetUsageId=e.assetUsageId,o.__alignment=e.alignment,o.__widthPercentage=e.widthPercentage,o}return(0,i.Z)(t,[{key:"exportJSON",value:function(){return O(O({},(0,o.Z)((0,c.Z)(t.prototype),"exportJSON",this).call(this)),{},{version:1,type:"video",src:this.getSrc(),assetId:this.getAssetId(),assetUsageId:this.getAssetUsageId(),alignment:this.getAlignment(),widthPercentage:this.getWidthPercentage()})}},{key:"setAlignment",value:function(e){this.getWritable().__alignment=e}},{key:"setWidthPercentage",value:function(e){this.getWritable().__widthPercentage=e}},{key:"updateDOM",value:function(){return!1}},{key:"getSrc",value:function(){return this.__src}},{key:"getAssetId",value:function(){return this.__assetId}},{key:"getAssetUsageId",value:function(){return this.__assetUsageId}},{key:"getAlignment",value:function(){return this.__alignment}},{key:"getWidthPercentage",value:function(){return this.__widthPercentage}},{key:"decorate",value:function(){return(0,C.jsx)(j,{nodeKey:this.getKey(),src:this.__src,assetId:this.__assetId,assetUsageId:this.__assetUsageId,alignment:this.__alignment,widthPercentage:this.__widthPercentage})}}],[{key:"getType",value:function(){return"video"}},{key:"clone",value:function(e){return new t({src:e.__src,assetId:e.__assetId,assetUsageId:e.__assetUsageId,alignment:e.__alignment,widthPercentage:e.__widthPercentage},e.__key,e.__format)}},{key:"importJSON",value:function(e){return P({alignment:e.alignment,assetId:e.assetId,assetUsageId:e.assetUsageId,widthPercentage:e.widthPercentage,src:e.src})}}]),t}(t(448082).DecoratorBlockNode);function P(e){var n=e.src,t=e.assetId,r=e.assetUsageId,a=e.alignment,i=e.widthPercentage,o=e.key;return new T({src:n,assetId:t,assetUsageId:r,alignment:a,widthPercentage:i},o)}function N(e){return e instanceof T}},941087:function(e,n,t){t.d(n,{Nj:function(){return u},ZP:function(){return p},hu:function(){return d}});var r=t(386854),a=t(701309),i=t(918256),o=t(84260),l=t(376969),s=t(932998),c=t(667294),u=(0,s.createCommand)("INSERT_VIDEO_COMMAND"),d=(0,s.createCommand)("INSERT_VIDEO_FILE_COMMAND");function p(){var e=(0,o.useLexicalComposerContext)(),n=(0,r.Z)(e,1)[0];return(0,c.useEffect)((function(){if(!n.hasNodes([a.a5,i.H0]))throw new Error("VideoPlugin: VideoNode not registered on editor");return(0,l.mergeRegister)(n.registerCommand(u,(function(e){var n=(0,a.Hk)(e);return(0,l.$insertNodeToNearestRoot)(n),!0}),s.COMMAND_PRIORITY_EDITOR),n.registerCommand(d,(function(e){var n=(0,i.tB)(e);return(0,l.$insertNodeToNearestRoot)(n),!0}),s.COMMAND_PRIORITY_EDITOR))}),[n]),null}},918256:function(e,n,t){t.d(n,{tB:function(){return F},b_:function(){return T},H0:function(){return O}});var r=t(204942),a=t(215671),i=t(143144),o=t(473237),l=t(360136),s=t(182963),c=t(661120),u=t(386854),d=t(810863),p=t(819036),m=t(701309),g=t(307767),f=t(541321),h=t(84260),y=t(108920),b=t(932998),v=t(667294),k=t(785893);var x=(0,d.Z)((function(e){return{processingContainer:{display:"grid",gridTemplateColumns:"max-content 1fr",gap:e.spacing(3),padding:e.spacing(2),backgroundColor:e.palette.groovy.grey[100],borderRadius:e.measure.borderRadius.big,alignItems:"center"}}})),C=function(e){var n=e.nodeKey,t=e.file,r=(0,y.Z)(),a=(0,h.useLexicalComposerContext)(),i=(0,u.Z)(a,1)[0],o=(0,g.Z)(),l=o.uploadMediaToS3,s=o.uploadProgress;(0,v.useEffect)((function(){t&&l({mediaFile:t}).then((function(e){i.update((function(){var t=(0,b.$getNodeByKey)(n);if(T(t)){var r=(0,m.Hk)({src:e.url,assetId:e.id});t.replace(r)}}))}))}),[]);var c=x();return(0,k.jsxs)("div",{className:c.processingContainer,children:[(0,k.jsx)(p.Z,{color:r.palette.primary.main,value:null!=s?s:0}),(0,k.jsxs)("div",{children:[(0,k.jsx)(f.U4,{variant:"body-md-600",children:"Uploading Video..."}),(0,k.jsx)(f.U4,{variant:"body-sm",children:"Your video is currently being uploaded"})]})]})};function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,c.Z)(e);if(n){var a=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,s.Z)(this,t)}}var O=function(e){(0,l.Z)(t,e);var n=S(t);function t(e,r,i){var o;return(0,a.Z)(this,t),(o=n.call(this,i,r)).__file=e,o}return(0,i.Z)(t,[{key:"exportJSON",value:function(){return j(j({},(0,o.Z)((0,c.Z)(t.prototype),"exportJSON",this).call(this)),{},{version:1,type:"video-upload-file",file:this.getFile()})}},{key:"updateDOM",value:function(){return!1}},{key:"getFile",value:function(){return this.__file}},{key:"decorate",value:function(){return(0,k.jsx)(C,{nodeKey:this.getKey(),file:this.__file})}}],[{key:"getType",value:function(){return"video-upload-file"}},{key:"clone",value:function(e){return new t(e.__file,e.__key)}},{key:"importJSON",value:function(e){return F({file:e.file})}}]),t}(t(448082).DecoratorBlockNode);function F(e){var n=e.file,t=e.key;return new O(n,t)}function T(e){return e instanceof O}},746784:function(e,n,t){t.d(n,{uQ:function(){return p},az:function(){return d}});var r=t(36571),a=t(932998),i=(t(851115),t(639281)),o=t(824147),l=t(491058);function s(e,n){if(0===e.length)return null;var t=(0,l.$createTableNode)(),i=(0,l.$createTableRowNode)();return e.forEach((function(e){var n=(0,l.$createTableCellNode)(l.TableCellHeaderStates.COLUMN),t=(0,a.$createParagraphNode)();(0,r.$convertFromMarkdownString)(e,r.TEXT_FORMAT_TRANSFORMERS,t),n.append(t),i.append(n)})),t.append(i),n.forEach((function(n){for(var i=(0,l.$createTableRowNode)(),o=0;o<e.length;o++){var s=(0,l.$createTableCellNode)(l.TableCellHeaderStates.NO_STATUS),c=(0,a.$createParagraphNode)(),u=n[o]||"";(0,r.$convertFromMarkdownString)(u,r.TEXT_FORMAT_TRANSFORMERS,c),s.append(c),i.append(s)}t.append(i)})),t}function c(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e){return m(e).length>0}function p(e,n,t){var l=i.P[t],u=l.blocks,p=l.inlineTools;if(d(e)){for(var g=function(e){return m(e).map((function(e){return function(e){var n=e.trim().split("\n").filter((function(e){return e.trim()}));if(n.length<2)return null;var t=n[0],r=n.length>2?n.slice(2):[],a=t.split("|").map((function(e){return e.trim()})).filter((function(e){return""!==e})),i=r.map((function(e){for(var n=e.split("|").map((function(e){return e.trim()})).filter((function(e){return""!==e}));n.length<a.length;)n.push("");return n.slice(0,a.length)}));return 0===a.length?null:{headers:a,rows:i}}(e)})).filter(Boolean)}(e),f=e,h=m(e),y=h.length-1;y>=0;y--){var b=h[y],v="\n\nTABLE_PLACEHOLDER_".concat(y,"\n\n"),k=f.lastIndexOf(b);-1!==k&&(f=f.slice(0,k)+v+f.slice(k+b.length))}(0,r.$convertFromMarkdownString)(f,(0,o.j)({blocks:u,inlineTools:p})),n.update((function(){!function e(n){var t,r=c(n.getChildren());try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.getTextContent().trim().match(/^TABLE_PLACEHOLDER_(\d+)$/);if(o){var l=parseInt(o[1],10),u=g[l];if(u){var d=s(u.headers,u.rows);if(d){i.replace(d);continue}}}(0,a.$isElementNode)(i)&&e(i)}}catch(e){r.e(e)}finally{r.f()}}((0,a.$getRoot)())}))}else(0,r.$convertFromMarkdownString)(e,(0,o.j)({blocks:u,inlineTools:p}))}function m(e){for(var n,t=/(\|[^\n]+\|\n\|[-\s:|]+\|\n(?:\|[^\n]+\|\n?)*)/gm,r=/```[\s\S]*?```/gm,a=[];null!==(n=r.exec(e));)a.push({start:n.index,end:n.index+n[0].length});for(var i,o=[],l=function(){var e=i.index,n=i.index+i[0].length;a.some((function(t){return e>=t.start&&n<=t.end}))||o.push(i[1])};null!==(i=t.exec(e));)l();return o}},132308:function(e,n,t){t.d(n,{I:function(){return s}});var r=t(386854),a=t(643550),i=t(84260),o=t(932998),l=t(667294);function s(e){var n=e.editorAnchorElem,t=e.elementAnchorRef,s=e.opts,c=(0,i.useLexicalComposerContext)(),u=(0,r.Z)(c,1)[0],d=(0,l.useCallback)((function(){var e=(0,o.$getSelection)(),r=t.current,i=window.getSelection();if(null!==r&&n&&null!==e&&null!==i&&i.focusNode&&void 0!==i.focusNode.getBoundingClientRect){var l=i.focusNode.getBoundingClientRect();a.Z.setFloatingElemPosition(l,r,n,s)}}),[t,n,s]);(0,l.useEffect)((function(){var e=null==n?void 0:n.parentElement,t=function(){u.getEditorState().read((function(){d()}))};return window.addEventListener("resize",t),e&&e.addEventListener("scroll",t),function(){window.removeEventListener("resize",t),e&&e.removeEventListener("scroll",t)}}),[u,d,n]),(0,l.useEffect)((function(){return u.getEditorState().read((function(){d()})),u.registerUpdateListener((function(e){e.editorState.read((function(){d()}))}))}),[u,d])}},445794:function(e,n,t){var r=t(836007),a=(t(95573),t(4580)),i=t(757336),o=t(667294),l=t(785893),s=(0,o.forwardRef)((function(e,n){var t=e.entitlement,s=e.hideTooltip,c=e.children,u=(0,a.Z)(t),d=!t||u,p=(0,o.createElement)((0,i.Pi)(c),{ref:n,hasEntitlement:d});return d||s?p:(0,l.jsx)(r.Z,{entitlement:t,children:p})}));n.Z=s},52270:function(e,n,t){var r=t(204942),a=t(386854),i=(t(586127),t(810863)),o=t(92839),l=t(244773),s=t(194211),c=t(541321),u=(t(620835),t(816817)),d=t(294184),p=t.n(d),m=t(667294),g=t(973935),f=t(584622),h=t(785893);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){var n,t,i=e.id,o=e.children,l=e.testid,d=e.onSubmit,f=e.customClassName,y=e.errorInfo,b=e.knownErrorKeys,C=e.isSubmitAllowed,w=void 0===C||C,j=e.skipErrorTypes,S=e.autoComplete,O=void 0===S?"off":S,F=e.hasStickyButtons,T=void 0!==F&&F,P=e.buttons,N=e.classes,Z=e.height,E=e.formError,R=e.buttonsContainerRef,I=e.noValidate,_=(0,m.useRef)(null),L=(0,m.useState)(!0),D=(0,a.Z)(L,2),M=D[0],K=D[1],U=null!=E?E:(0,u.Dq)(y,{knownErrorKeys:b,skipTypes:j}),A=(0,c.vR)(),B=R||(null==A?void 0:A.buttonsRef),z=x({hasStickyButtons:T,height:Z,isInModal:Boolean(A)}),$=(0,m.useState)(0===(null===(n=_.current)||void 0===n?void 0:n.scrollTop)),G=(0,a.Z)($,2),V=G[0],H=G[1],W=(0,m.useState)(!1),X=(0,a.Z)(W,2),q=X[0],Q=X[1];(0,m.useEffect)((function(){var e=function(){return Q((0,s._)(_))};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var Y=k(),J=null!=i?i:Y;return(0,h.jsx)(v.Provider,{value:{id:J},children:(0,h.jsxs)("form",{id:J,className:p()("form",(0,r.Z)({},z.form,T),f),"data-testid":l,onChange:function(n){var t=e.onChange;M&&K(!1);t&&t(n)},onSubmit:function(e){e.stopPropagation(),e.preventDefault(),w&&d&&d()},autoComplete:O,noValidate:I,children:[Boolean(U)&&(0,h.jsx)(c.kz,{"data-testid":"".concat(l,".error"),marginBottom:3,severity:"error",message:E}),(0,h.jsx)("div",{className:p()((0,r.Z)({},z.showHeaderShadow,T&&V))}),(0,h.jsx)("div",{ref:_,className:p()((0,r.Z)({},z.formFieldsContainer,T),null==N?void 0:N.formFieldsContainer),onScroll:function(){_.current&&(H(Boolean(_.current.scrollTop)),Q((0,s._)(_)))},children:o}),P&&(B?g.createPortal(P,B):(0,h.jsx)("div",{className:p()(z.buttonsContainer,null===(t=e.classes)||void 0===t?void 0:t.buttonsRoot,(0,r.Z)({},z.showFooterShadow,T&&q)),children:P}))]})})}var v=m.createContext({id:""});function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,m.useRef)("".concat(e).concat((0,f.Z)()).concat(n)).current}var x=(0,i.Z)((function(e){return{form:function(e){return{position:"relative",overflow:"hidden",height:e.height}},showHeaderShadow:{boxShadow:"0px 1px 1px rgb(46 64 88 / 3%), 0px 5px 24px rgb(46 64 88 / 5%)",width:"100%",height:"24px",top:"-24px",position:"absolute",zIndex:1,pointerEvents:"none"},formFieldsContainer:function(e){var n=e.isInModal;return{height:"calc(100% - ".concat(n?"69px":"93px",")"),overflow:"hidden auto"}},showFooterShadow:{boxShadow:"0px -1px 1px rgb(46 64 88 / 3%), 0px -5px 24px rgb(46 64 88 / 5%)"},buttonsContainer:function(n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({display:"flex",gap:e.spacing(2),justifyContent:"flex-end",alignItems:"center",marginTop:e.spacing(4)},(0,o.Z)(n.hasStickyButtons,{position:"sticky",bottom:0,backgroundColor:e.palette.background.paper,zIndex:1,marginTop:0,padding:n.isInModal?e.spacing(3,0,0):e.spacing(3)}))}}}));b.SubmitButton=l.Z,b.useUniqueFormElementId=k,b.useFormContext=function(){return m.useContext(v)},n.Z=b},244773:function(e,n,t){var r=t(204942),a=t(145987),i=(t(479159),t(52270)),o=t(541321),l=t(757336),s=t(785893),c=["id","form","children","disabled"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=(0,l.Pi)((function(e){var n=e.id,t=e.form,r=e.children,l=e.disabled,u=(0,a.Z)(e,c),p=i.Z.useFormContext().id;return(0,s.jsx)(o.v2,d(d({disabled:null!=l?l:t.disabled,shouldDisplaySpinner:t.isSubmitting},u),{},{form:null!=n?n:p,type:"submit",children:r}))}))},845689:function(e,n,t){t.d(n,{Z:function(){return ne}});var r=t(386854),a=t(902265),i=t(810510),o=t(659407),l=t(256339),s=t(285245),c=t(69722),u=t(669187),d=t(187351),p=t(810863),m=t(150218),g=t(628761),f=t(787695),h=t(479986),y=t(758223),b=(t(305209),t(204942)),v=t(145987),k=t(434005),x=t(541321),C=t(817812),w=t(704024),j=t(294184),S=t.n(j),O=t(667294),F=t(785893),T=["onClick","close","classes"];function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,b.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z,E=(0,p.Z)((function(e){return{iconButton:function(n){var t=n.isOpen;return{display:"flex",alignItems:"center",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:e.palette.primary.main,"&:hover":{width:"44px",height:"44px"},"& svg":{"& path":{color:e.palette.primary.contrastText},transform:t?"rotate(45deg)":null}}},iconButtonContainer:{width:"44px",height:"44px",display:"flex",justifyContent:"center",alignItems:"center"}}})),R=function(e){var n=e.onClick,t=e.close,a=e.classes,i=(0,v.Z)(e,T),o=(0,O.useState)(!1),l=(0,r.Z)(o,2),s=l[0],c=l[1],u=E({isOpen:s});return(0,O.useEffect)((function(){c(!1)}),[t]),(0,F.jsx)(x.t2,{content:"Add New",placement:"right",children:(0,F.jsx)(w.Z,N(N({className:S()("fs-mask")},i),{},{children:(0,F.jsx)("div",{className:u.iconButtonContainer,children:(0,F.jsx)("div",{className:S()(u.iconButton),children:(0,F.jsx)(C.Z,{onClick:function(e){n(e),c(!s),e.preventDefault(),e.stopPropagation()},className:S()(u.iconButton,a),size:"small",children:(0,F.jsx)(k.default,{width:20,height:20})})})})}))})},I=t(963114),_=t(162232),L=t(126150),D=t(197778),M=t(248300),K=t(138672),U=t(563378),A=t(565008),B=t(215970),z=t(162083);!function(e){e.direct_message="direct_message",e.channel_message="channel_message",e.post="post",e.content="content",e.event="event",e.product="product",e.automation="automation",e.invite_member="invite_member"}(Z||(Z={}));var $,G=(0,p.Z)((function(e){return{icon:{margin:0,"& svg":{width:20,height:20,color:e.palette.groovy.neutral[700]}},iconWrapper:{height:e.spacing(4),width:e.spacing(4),margin:0,borderRadius:e.measure.borderRadius.medium,backgroundColor:e.palette.groovy.neutral[100],display:"flex",justifyContent:"center",alignItems:"center"},item:{height:e.spacing(5),margin:"".concat(e.spacing(1)," !important"),display:"flex",alignItems:"center"}}})),V=function(e){var n,t=e.kind,r=e.testid,a=e.onClick,i=(0,I.NP)("admin_experience"),o=(0,I.NP)("organization"),l=(0,I.NP)("pathway"),s=(0,c.R6)(),u=(n={},(0,b.Z)(n,Z.direct_message,{icon:(0,F.jsx)(U.default,{width:20,height:20}),title:"Direct Message"}),(0,b.Z)(n,Z.channel_message,{icon:(0,F.jsx)(B.default,{width:20,height:20}),title:"Channel Message"}),(0,b.Z)(n,Z.post,{icon:(0,F.jsx)(K.default,{width:20,height:20}),title:"Feed Post"}),(0,b.Z)(n,Z.content,{icon:(0,F.jsx)(D.default,{width:20,height:20}),title:"Content"}),(0,b.Z)(n,Z.event,{icon:(0,F.jsx)(L.default,{width:20,height:20}),title:"Event"}),(0,b.Z)(n,Z.product,{icon:(0,F.jsx)(_.default,{width:20,height:20}),title:i.singular}),(0,b.Z)(n,Z.automation,{icon:(0,F.jsx)(M.default,{width:20,height:20}),title:"Automation"}),(0,b.Z)(n,Z.invite_member,{icon:(0,F.jsx)(A.default,{width:20,height:20}),title:"Invite to ".concat("course"===(null==s?void 0:s.type)?i.singular:"pathway"===(null==s?void 0:s.type)?l.singular:o.singular)}),n),d=G(),p=u[t]||{},m=p.icon,g=p.title,f=(0,F.jsx)("div",{className:d.iconWrapper,children:m});return(0,F.jsx)(z.Z,{className:d.item,classes:{icon:d.icon},testid:"".concat(r,".").concat(t),onClick:a,icon:f,title:g})},H=(t(694431),t(422578)),W=(t(244311),t(425108));var X,q=t(284911),Q=t(616550),Y=t(425108);function J(){var e,n=ee(),p=(0,O.useState)(!1),b=(0,r.Z)(p,2),v=b[0],k=b[1],C=(0,O.useState)(null),w=(0,r.Z)(C,2),j=w[0],T=w[1],P=(0,O.useRef)(null),N=(0,s.vn)(),E=(0,c.R6)(),I=(0,Q.k6)(),_=null==N||null===(e=N.viewerMembership)||void 0===e?void 0:e.id,L=function(e){var n,r=(0,s.vn)(),a=(0,H.useFragment)((void 0!==$||($=t(694431)).hash&&"b84672aa316d33fa636bc058c824aa36"!==$.hash&&W.error("The definition of 'useViewerCanCreateEventsFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),$),e||null);return Boolean((null==r?void 0:r.viewerPermissions.has("events.manage"))||(null==a||null===(n=a.adminMembershipsWithEventApps)||void 0===n?void 0:n.totalCount))}((0,H.useLazyLoadQuery)((void 0!==X||(X=t(305209)).hash&&"c7d38e50898eac2680c3c77b3aea70b3"!==X.hash&&Y.error("The definition of 'GlobalAddDropdownQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),X),{membershipId:_||""}).membership),D=(0,q.Z)(),M=(0,d.sP)(location.pathname),K=null==N?void 0:N.isDmEnabled,U=null==N?void 0:N.isChannelsEnabled,A=null==N?void 0:N.viewerPermissions.has("content.manage"),B=D.has("products.create")&&(null==N?void 0:N.isProductsEnabled),z=(null==N?void 0:N.isEventsEnabled)&&L,G=null==N?void 0:N.viewerPermissions.has("automations.manage"),J=D.has("invitations.manage"),ne="GlobalAddDropdown",te="course"===(null==E?void 0:E.type),re="pathway"===(null==E?void 0:E.type);return(0,F.jsxs)("div",{ref:P,className:S()(n.dropdownContainer),children:[(0,F.jsxs)(x.ZX,{testid:"".concat(ne,".menu"),onClose:ae,menuButton:function(e){var n=e.onClick;return(0,F.jsx)(R,{close:v,onClick:n,"data-testid":"".concat(ne,".button")})},menuClasses:{paper:n.dropdownStyles},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:[(0,F.jsx)("div",{className:n.item,children:(0,F.jsx)(x.U4,{variant:"body-sm-700",className:n.addText,children:"Add"})}),K&&(0,F.jsx)(V,{testid:ne,kind:Z.direct_message,onClick:function(){return ie(Z.direct_message)}}),U&&(0,F.jsx)(V,{testid:ne,kind:Z.channel_message,onClick:function(){return ie(Z.channel_message)}}),(0,F.jsx)(V,{testid:ne,kind:Z.post,onClick:function(){return ie(Z.post)}}),(A||z||B||G)&&(0,F.jsx)(x.o$,{marginTop:.5,marginBottom:.5}),A&&(0,F.jsx)(V,{testid:ne,kind:Z.content,onClick:function(){return ie(Z.content)}}),z&&(0,F.jsx)(V,{testid:ne,kind:Z.event,onClick:function(){return ie(Z.event)}}),B&&(0,F.jsx)(V,{testid:ne,kind:Z.product,onClick:function(){return ie(Z.product)}}),G&&(0,F.jsx)(V,{testid:ne,kind:Z.automation,onClick:function(){I.push(u.ZP.ADMIN.AUTOMATIONS),ie(Z.automation)}}),J&&(0,F.jsxs)("div",{children:[(0,F.jsx)(x.o$,{marginTop:.5,marginBottom:.5}),(0,F.jsx)(V,{testid:ne,kind:Z.invite_member,onClick:function(){return ie(Z.invite_member)}})]})]}),function(){switch(j){case Z.direct_message:return(0,F.jsx)(y.Z,{isOpen:j===Z.direct_message,onClose:oe});case Z.channel_message:return(0,F.jsx)(h.Z,{isOpen:j===Z.channel_message,onClose:oe});case Z.post:return(0,F.jsx)(f.Z,{isOpen:!0,feedId:null!=M?M:void 0,onClose:oe});case Z.content:return(0,F.jsx)(o.Z,{templatesToExclude:l.mj,onClose:oe});case Z.event:return(0,F.jsx)(g.Z,{onClose:oe});case Z.product:return(0,F.jsx)(i.Z,{onClose:oe});case Z.automation:return(0,F.jsx)(a.Z,{onClose:oe});case Z.invite_member:return(0,F.jsx)(m.Z,{onClose:oe,isOpen:j===Z.invite_member,productId:te||re?E.id:null,onSubmit:oe});default:return null}}()]});function ae(){k(!0),setTimeout((function(){k(!1)}),50)}function ie(e){ae(),T(e)}function oe(){T(null)}}var ee=(0,p.Z)((function(e){return{dropdownContainer:{position:"relative"},item:{height:e.spacing(5),margin:"".concat(e.spacing(1)," !important"),display:"flex",alignItems:"center"},addText:{padding:e.spacing(2),color:void 0},dropdownStyles:{padding:"".concat(e.spacing(.5),"px !important"),width:"220px",backgroundColor:e.palette.background.paper,boxShadow:e.palette.groovyDepths.insideCard,borderRadius:e.measure.borderRadius.big,iconButton:{color:e.palette.groovy.grey[300],"&:hover":{color:e.palette.groovy.grey[500]}}}}})),ne=O.memo(J)},305209:function(e,n,t){t.r(n);t(244311);var r,a,i,o={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"membershipId"}],kind:"Fragment",metadata:null,name:"GlobalAddDropdownQuery",selections:[{alias:"membership",args:a=[{kind:"Variable",name:"id",variableName:"membershipId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useViewerCanCreateEventsFragment"}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"GlobalAddDropdownQuery",selections:[{alias:"membership",args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{kind:"InlineFragment",selections:[{alias:"adminMembershipsWithEventApps",args:[{kind:"Literal",name:"appKind",value:"events"},{kind:"Literal",name:"productType",value:"course"},{kind:"Literal",name:"roles",value:["manager","instructor"]}],concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:'productMemberships(appKind:"events",productType:"course",roles:["manager","instructor"])'}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}]},params:{cacheID:"000777b7906a9cdccacfe9340576bb14",id:null,metadata:{},name:"GlobalAddDropdownQuery",operationKind:"query",text:'query GlobalAddDropdownQuery(\n  $membershipId: ID!\n) {\n  membership: node(id: $membershipId) {\n    __typename\n    ... on OrganizationMembership {\n      id\n      ...useViewerCanCreateEventsFragment\n    }\n    id\n  }\n}\n\nfragment useViewerCanCreateEventsFragment on OrganizationMembership {\n  adminMembershipsWithEventApps: productMemberships(roles: [manager, instructor], productType: "course", appKind: events) {\n    totalCount\n  }\n}\n'}};o.hash="c7d38e50898eac2680c3c77b3aea70b3",n.default=o},694431:function(e,n,t){t.r(n);t(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useViewerCanCreateEventsFragment",selections:[{alias:"adminMembershipsWithEventApps",args:[{kind:"Literal",name:"appKind",value:"events"},{kind:"Literal",name:"productType",value:"course"},{kind:"Literal",name:"roles",value:["manager","instructor"]}],concreteType:"ProductMembershipNodeConnection",kind:"LinkedField",name:"productMemberships",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:'productMemberships(appKind:"events",productType:"course",roles:["manager","instructor"])'}],type:"OrganizationMembership",abstractKey:null,hash:"b84672aa316d33fa636bc058c824aa36"};n.default=r},776472:function(e,n,t){var r=t(204942),a=t(115861),i=t(145987),o=t(386854),l=t(887757),s=t.n(l),c=t(541321),u=t(667294),d=t(820050),p=(t(397382),t(785893)),m=["stencilProps"];function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.isOpen,t=e.onClose,r=e.onCancel,l=e.imageSrc,g=e.cropperProps,h=e.title,y=e.onCrop,b=e.parentSelector,v=(0,u.useRef)(null),k=(0,u.useState)(!1),x=(0,o.Z)(k,2),C=x[0],w=x[1],j=g||{},S=j.stencilProps,O=(0,i.Z)(j,m),F=function(){var e=(0,a.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),!(n=v.current)){e.next=7;break}if(!(t=n.getCanvas())){e.next=7;break}return e.next=7,y(t.toDataURL());case 7:w(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)(c.SH,{modalContentLabel:"Crop Dialog",customClassName:"image-crop-modal",nested:!0,testid:"image-crop-modal",isOpen:n,onClose:t,title:h||"Crop Image",shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,parentSelector:b,body:(0,p.jsx)("div",{style:{height:400,width:"100%"},children:(0,p.jsx)(d.fle,f({ref:v,src:l,className:"cropper",stencilProps:S},O))}),buttons:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.v2,{testid:"ImageCropModal.cancelButton",onClick:r||t,color:"grey",variant:"outlined",disabled:C,children:"Cancel"}),(0,p.jsx)(c.v2,{testid:"ImageCropModal.cropButton",onClick:F,shouldDisplaySpinner:C,disabled:C,children:"Crop"})]})})}},761936:function(e,n,t){t.d(n,{Fg:function(){return a}});var r=t(850429);function a(e){var n=function(e){var n=e.match(r.Dq);return n?{hours:n[2],minutes:n[3],meridiem:n[4]}:{hours:"10",minutes:"00",meridiem:"AM"}}(e),t=n.hours,a=n.minutes,i=n.meridiem;return"".concat(t,":").concat(a," ").concat(i)}},48467:function(e,n,t){var r,a,i=t(204942),o=t(115861),l=t(887757),s=t.n(l),c=t(69722),u=t(922261),d=t(516244),p=t(540626),m=t(407176),g=(t(681355),t(10165)),f=(t(239295),t(877792),t(541321)),h=t(989659),y=t(251941),b=t(571596),v=t(982879),k=(t(667294),t(422578)),x=t(616550),C=t(24141),w=t(785893),j=t(425108);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=g.Z.withSkeleton({component:function(e){var n,i=e.testid,l=e.occurrenceId,S=e.label,F=e.className,T=e.hideIfEventOverOrUpcoming,P=void 0!==T&&T,N=e.hideIcon,Z=void 0!==N&&N,E=e.onClick,R=e.width,I=(0,x.TH)(),_=(0,x.k6)(),L=(0,u.f)().authUser,D=(0,c.R6)(),M=(0,y.d)(),K=(0,k.useLazyLoadQuery)((void 0!==r||(r=t(239295)).hash&&"cd06b714af0d9ab16409b119bdcc513e"!==r.hash&&j.error("The definition of 'JoinEventButtonQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{id:l}).occurrence,U=g.Z.useAsyncMutation((void 0!==a||(a=t(877792)).hash&&"a124ff51118c15ed513469317dd2b07a"!==a.hash&&j.error("The definition of 'JoinEventButton_AttendOccurrenceMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a)),A=(0,b.Z)(null==K?void 0:K.event).has("events.manage");if(!K)return null;var B=(0,C.IK)(null==K?void 0:K.datetimeRange)||(0,C.SJ)(null==K?void 0:K.datetimeRange),z=(null==D?void 0:D.id)||(null===(n=K.product)||void 0===n?void 0:n.id);if(!z)throw new Error("Join Event Button requires an activeProduct or product.id from the occurrence");var $=S||(A||K.hasViewerRSVPd?"Join".concat(M?"":" Event"):K.atCapacity?"At Capacity":""),G=!A&&!K.hasViewerRSVPd&&K.atCapacity;return(0,w.jsx)(w.Fragment,{children:B?(0,w.jsx)(f.v2,{"data-testid":i,className:F,component:h.Z,underline:"none",leftIcon:Z?void 0:(0,w.jsx)(d.default,{}),color:"primary",onClick:function(e){return V.apply(this,arguments)},disabled:G,width:R,children:$}):P?null:(0,w.jsx)(f.v2,{"data-testid":i,className:F,leftIcon:(0,w.jsx)(d.default,{}),color:B?"error":"primary",disabled:!0,onClick:E,width:R,children:$})});function V(){return(V=(0,o.Z)(s().mark((function e(n){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),n.preventDefault(),!G&&null!=K&&K.meetingUrl){e.next=4;break}return e.abrupt("return");case 4:if(window.open(K.meetingUrl,"_blank"),L&&null!=K&&K.eventId&&z){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,U({input:{occurrenceId:l}});case 9:r=e.sent,null!=(a=r.response)&&null!==(t=a.attendance)&&void 0!==t&&t.id&&(setTimeout((function(){_.replace(O(O({},I),{},{search:(0,v.tr)(I.search,{fb:"1"})}))}),p.k),(0,k.commitLocalUpdate)(m.Z,(function(e){var n=e.get(l);n&&n.setValue(!0,"didViewerAttend")}))),E&&E();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},skeleton:f.Zi})},239295:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c,u,d,p,m,g,f,h,y,b,v,k={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"JoinEventButtonQuery",selections:[{alias:"occurrence",args:a=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"meetingUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"collectFeedback",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"datetimeRange",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"eventId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"hasViewerSubmittedFeedback",storageKey:null},d={alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[i],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"atCapacity",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"hasViewerRSVPd",storageKey:null},{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"usePermissionsFragment"}],storageKey:null}],type:"Occurrence",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"JoinEventButtonQuery",selections:[{alias:"occurrence",args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{kind:"InlineFragment",selections:[o,l,s,c,u,d,p,m,{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{kind:"InlineFragment",selections:[g,{kind:"InlineFragment",selections:h=[f={alias:null,args:null,kind:"ScalarField",name:"viewerPermissions",storageKey:null}],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"id",storageKey:null},f,y={alias:null,args:null,kind:"ScalarField",name:"memberPermissions",storageKey:null}],type:"Product",abstractKey:null},{kind:"InlineFragment",selections:b=[{alias:"nonNullProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},f,y],type:"Event",abstractKey:null},{kind:"InlineFragment",selections:v=[{alias:"nullableProductId",args:null,kind:"ScalarField",name:"productId",storageKey:null},f,y],type:"Comment",abstractKey:null},{kind:"InlineFragment",selections:v,type:"Feed",abstractKey:null},{kind:"InlineFragment",selections:v,type:"Post",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"nullableProductIdString",args:null,kind:"ScalarField",name:"productId",storageKey:null},f,y],type:"ContentUsage",abstractKey:null},{kind:"InlineFragment",selections:v,type:"ChatChannel",abstractKey:null},{kind:"InlineFragment",selections:v,type:"Dashboard",abstractKey:null},{kind:"InlineFragment",selections:b,type:"AssignmentSubmission",abstractKey:null},{kind:"InlineFragment",selections:h,type:"PathwayGroup",abstractKey:null},{kind:"InlineFragment",selections:h,type:"BrainSearch",abstractKey:null}],type:"Node",abstractKey:"__isNode"},i],storageKey:null}],type:"Occurrence",abstractKey:null}],storageKey:null}]},params:{cacheID:"a3266501a843a8accdcca6b9d81113be",id:null,metadata:{},name:"JoinEventButtonQuery",operationKind:"query",text:"query JoinEventButtonQuery(\n  $id: ID!\n) {\n  occurrence: node(id: $id) {\n    __typename\n    id\n    ... on Occurrence {\n      meetingUrl\n      collectFeedback\n      datetimeRange\n      eventId\n      hasViewerSubmittedFeedback\n      product {\n        id\n      }\n      atCapacity\n      hasViewerRSVPd\n      event {\n        ...usePermissionsFragment\n        id\n      }\n    }\n  }\n}\n\nfragment usePermissionsFragment on Node {\n  __isNode: __typename\n  __typename\n  ... on Organization {\n    viewerPermissions\n  }\n  ... on Product {\n    nonNullProductId: id\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Event {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Comment {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Feed {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Post {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ContentUsage {\n    nullableProductIdString: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on ChatChannel {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on Dashboard {\n    nullableProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on AssignmentSubmission {\n    nonNullProductId: productId\n    viewerPermissions\n    memberPermissions\n  }\n  ... on PathwayGroup {\n    viewerPermissions\n  }\n  ... on BrainSearch {\n    viewerPermissions\n  }\n}\n"}};k.hash="cd06b714af0d9ab16409b119bdcc513e",n.default=k},877792:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"JoinEventButton_AttendOccurrenceMutation",selections:a=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"AttendOccurrenceResponse",kind:"LinkedField",name:"attendOccurrence",plural:!1,selections:[{alias:null,args:null,concreteType:"OccurrenceAttendance",kind:"LinkedField",name:"attendance",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attendedAt",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"JoinEventButton_AttendOccurrenceMutation",selections:a},params:{cacheID:"6da2ec70dd867a4de39bdb8c0a56cfa2",id:null,metadata:{},name:"JoinEventButton_AttendOccurrenceMutation",operationKind:"mutation",text:"mutation JoinEventButton_AttendOccurrenceMutation(\n  $input: AttendOccurrenceInput!\n) {\n  response: attendOccurrence(input: $input) {\n    attendance {\n      id\n      attendedAt\n    }\n  }\n}\n"}};i.hash="a124ff51118c15ed513469317dd2b07a",n.default=i},651093:function(e,n,t){t(104833);var r,a=t(869230),i=t.n(a);!function(e){e.getNameByCode=function(e){return i().getName(e)},e.getNativeNameByCode=function(e){return i().getNativeName(e)};e.CODES=["en","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]}(r||(r={})),n.Z=r},956433:function(e,n,t){var r=t(204942),a=t(145987),i=(t(194350),t(335774)),o=t(810863),l=t(995760),s=t(722135),c=t(541321),u=t(982879),d=t(294184),p=t.n(d),m=t(785893),g=["image","title","description","url","testid","padding"];function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=(0,o.Z)((function(e){return{sharePreview:{display:"grid",width:"100%",height:88+2*e.spacing(1.5),gridTemplateColumns:"176px 1fr",gap:e.spacing(2),background:e.palette.groovy.neutral[100],borderRadius:e.measure.borderRadius.medium},textArea:{width:"100%",overflow:"hidden"},title:{color:e.palette.text.primary,fontWeight:700,maxWidth:"100%",display:"block"},url:h(h(h({},e.typography["body-xs"]),e.typography.modifiers.fontWeight[500]),{},{maxWidth:"100%"})}}));n.Z=function(e){var n=e.image,t=e.title,r=e.description,i=e.url,o=e.testid,d=void 0===o?"LinkPreview":o,f=e.padding,v=void 0===f?1.5:f,k=(0,a.Z)(e,g),x=(0,l.Z)({numberOfLines:2}),C=y(),w=b(h({padding:v},k));return(0,m.jsxs)("div",{className:p()(C.sharePreview,w.root),"data-testid":"".concat(d,".container"),children:[(0,m.jsx)(s.Z,{coverPhoto:n}),(0,m.jsxs)("div",{className:C.textArea,children:[(0,m.jsx)(c.U4,{variant:"body-sm",className:p()(C.title,x.truncateLine),testid:"".concat(d,".title"),children:t}),r&&(0,m.jsx)(c.U4,{variant:"body-xs-500",component:"p",color:"text.secondary",className:x.truncateMultipleLines,testid:"".concat(d,".description"),children:r}),i&&(0,m.jsx)(c.Xn,{className:p()(C.url,x.truncateLine),href:i,target:"_blank","data-testid":"".concat(d,".link"),children:(0,u.JP)(i)})]})]})};var b=(0,i.Z)()},777278:function(e,n,t){t.d(n,{w:function(){return u}});var r=t(669187),a=(t(187351),t(810863)),i=t(541321),o=t(667294),l=t(973935),s=t(616550),c=t(785893),u=r.ZP.COMMUNITY.HOME.ROOT;var d=(0,a.Z)((function(e){return{container:{position:"absolute",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:e.palette.background.default,zIndex:100},section:{display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(2),maxWidth:"480px"},textContainer:{display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(1),textAlign:"center"}}}));n.Z=function(e){var n=e.title,t=e.subtitle,r=e.onLoad,a=document.getElementById("modal-root"),p=d(),m=(0,s.TH)(),g=(0,s.k6)();return(0,o.useEffect)((function(){m.state?r(m.state):g.replace(u)}),[]),l.createPortal((0,c.jsx)("div",{className:p.container,children:(0,c.jsxs)(i.W0,{className:p.section,children:[(0,c.jsx)(i.Zy,{}),(0,c.jsxs)("div",{className:p.textContainer,children:[(0,c.jsx)(i.U4,{variant:"body-lg-600",children:n}),(0,c.jsx)(i.U4,{color:"text.secondary",children:t})]})]})}),a)}},972195:function(e,n,t){var r=t(321129),a=t(494204),i=t(949482),o=t(810863),l=t(667294),s=t(785893);var c=(0,o.Z)((function(e){return{webView:{height:"100dvh",backgroundColor:e.palette.background.default},container:{height:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.background.default,color:e.palette.primary.main}}}));n.Z=function(){var e=(0,a.Z)(),n=c();return(0,l.useEffect)((function(){return function(){e&&(0,r.k8)({type:r.hT.frontend_ready})}}),[]),e?(0,s.jsx)("div",{className:n.webView}):(0,s.jsx)("div",{className:n.container,children:(0,s.jsx)(i.Z,{})})}},62618:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(115861),a=t(204942),i=t(386854),o=t(145987),l=t(887757),s=t.n(l),c=t(819036),u=t(390200),d=t(776472),p=t(667294),m=t(785893),g=["onChange","renderButton"];function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=function(e){var n=e.onChange,t=e.renderButton,r=(0,o.Z)(e,g),a=(0,p.useRef)(null),i=t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i,{onClick:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.click()}}),(0,m.jsx)("input",h({ref:function(e){return a.current=e},type:"file",onChange:function(e){if(!e.target.files)return;n(Array.from(e.target.files))},style:{display:"none"}},r))]})},b=t(307767),v=t(445033),k=t(541321),x=t(898921),C=["onSuccess","accept","children","color","disabled","className","testid","cropperProps","includeOrganizationIdOnAsset","includeInMediaLibrary"];function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=function(e){var n=e.onSuccess,t=e.accept,a=e.children,l=e.color,g=void 0===l?"primary":l,f=e.disabled,h=e.className,w=e.testid,S=e.cropperProps,O=e.includeOrganizationIdOnAsset,F=void 0===O||O,T=e.includeInMediaLibrary,P=(0,o.Z)(e,C),N=(0,b.Z)({includeOrganizationId:F}),Z=N.uploadMediaToS3,E=N.uploadProgress,R=(0,p.useState)(u.x2),I=(0,i.Z)(R,2),_=I[0],L=I[1],D=f||null!==E,M=(0,k.se)(g);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{"data-testid":"".concat(w,"-file-input"),accept:Object.keys(t).join(","),onChange:function(e){return K.apply(this,arguments)},renderButton:function(e){return p.isValidElement(a)||"string"==typeof a?(0,m.jsx)(k.v2,j(j({onClick:e.onClick,color:g,disabled:D,className:h,testid:w},P),{},{children:null===E?a:(0,m.jsx)(c.Z,{value:E,color:D?void 0:M.color})})):p.createElement(a,j(j(j({},P),e),{},{uploadProgress:E}))}}),S&&_.isOpen&&(0,m.jsx)(d.Z,{isOpen:_.isOpen,onClose:function(){return L(u.x2)},imageSrc:_.imgSrc,cropperProps:S,onCrop:function(e){return U.apply(this,arguments)}})]});function K(){return(K=(0,r.Z)(s().mark((function e(t){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[0]){e.next=3;break}return e.abrupt("return");case 3:if(!S||"image/gif"===r.type){e.next=12;break}return e.t0=L,e.next=7,(0,x.lH)(r);case 7:return e.t1=e.sent,e.t2=r,e.t3={isOpen:!0,imgSrc:e.t1,file:e.t2},(0,e.t0)(e.t3),e.abrupt("return");case 12:return e.prev=12,e.next=15,Z({mediaFile:r,includeInMediaLibrary:T});case 15:a=e.sent,n(a,r),e.next=22;break;case 19:e.prev=19,e.t4=e.catch(12),(0,v.p)(Error("Upload failed, please try again later."));case 22:case"end":return e.stop()}}),e,null,[[12,19]])})))).apply(this,arguments)}function U(){return(U=(0,r.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(u.x2),e.t0=Z,e.next=4,(0,x.tC)(t,_.file.name,_.file.type);case 4:return e.t1=e.sent,e.t2=T,e.t3={mediaFile:e.t1,includeInMediaLibrary:e.t2},e.next=9,(0,e.t0)(e.t3);case 9:if(r=e.sent,n){e.next=12;break}return e.abrupt("return");case 12:n(r,_.file);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},145983:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"useMultipartUploadMediaToS3FinishAssetMutation",selections:a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"FinishAssetUploadResponse",kind:"LinkedField",name:"finishAssetUpload",plural:!1,selections:[{alias:null,args:null,concreteType:"Asset",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sizeBytes",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useMultipartUploadMediaToS3FinishAssetMutation",selections:a},params:{cacheID:"0a6d29d8a123e9dcd03f0b8143cd9089",id:null,metadata:{},name:"useMultipartUploadMediaToS3FinishAssetMutation",operationKind:"mutation",text:"mutation useMultipartUploadMediaToS3FinishAssetMutation(\n  $input: FinishMultipartUploadInput!\n) {\n  finishAssetUpload(input: $input) {\n    node {\n      id\n      url\n      sizeBytes\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="20d09bdd74271d4a3f5b7a7dd688ab68",n.default=i},390322:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"useMultipartUploadMediaToS3Mutation",selections:a=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateMultipartUploadUrlResponse",kind:"LinkedField",name:"createMultipartUploadUrl",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useMultipartUploadMediaToS3Mutation",selections:a},params:{cacheID:"cc20dcc248b6f80d78f63ae42f06cd60",id:null,metadata:{},name:"useMultipartUploadMediaToS3Mutation",operationKind:"mutation",text:"mutation useMultipartUploadMediaToS3Mutation(\n  $input: MultipartUploadInput!\n) {\n  response: createMultipartUploadUrl(input: $input) {\n    data\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="451341db60e2c76a67ebe16072e36bab",n.default=i},672700:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c,u,d,p,m={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"access"},a={defaultValue:null,kind:"LocalArgument",name:"fileName"},i={defaultValue:null,kind:"LocalArgument",name:"isVisible"},o={defaultValue:null,kind:"LocalArgument",name:"mediaType"},l={defaultValue:null,kind:"LocalArgument",name:"organizationId"},s={defaultValue:null,kind:"LocalArgument",name:"size"},c={defaultValue:null,kind:"LocalArgument",name:"source"},u={defaultValue:null,kind:"LocalArgument",name:"temporary"},d={defaultValue:null,kind:"LocalArgument",name:"videoDuration"}],kind:"Fragment",metadata:null,name:"useMultipartUploadMediaToS3StartUploadMutation",selections:p=[{alias:null,args:[{kind:"Variable",name:"access",variableName:"access"},{kind:"Variable",name:"fileName",variableName:"fileName"},{kind:"Variable",name:"isVisible",variableName:"isVisible"},{kind:"Variable",name:"mediaType",variableName:"mediaType"},{kind:"Variable",name:"organizationId",variableName:"organizationId"},{kind:"Variable",name:"size",variableName:"size"},{kind:"Variable",name:"source",variableName:"source"},{kind:"Variable",name:"temporary",variableName:"temporary"},{kind:"Variable",name:"videoDuration",variableName:"videoDuration"}],concreteType:"MultipartUploadUrl",kind:"LinkedField",name:"startUpload",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,a,r,u,l,s,d,i,c],kind:"Operation",name:"useMultipartUploadMediaToS3StartUploadMutation",selections:p},params:{cacheID:"a94817312cf3995b2105a4d34a1f2b5f",id:null,metadata:{},name:"useMultipartUploadMediaToS3StartUploadMutation",operationKind:"mutation",text:"mutation useMultipartUploadMediaToS3StartUploadMutation(\n  $mediaType: String!\n  $fileName: String\n  $access: AccessControlList\n  $temporary: Boolean\n  $organizationId: ID\n  $size: Float\n  $videoDuration: Float\n  $isVisible: Boolean\n  $source: AssetSource\n) {\n  startUpload(mediaType: $mediaType, fileName: $fileName, access: $access, temporary: $temporary, organizationId: $organizationId, size: $size, videoDuration: $videoDuration, isVisible: $isVisible, source: $source) {\n    uploadId\n    version\n  }\n}\n"}};m.hash="d1c68c3020d6d3f5472f90a3d1e0299d",n.default=m},307767:function(e,n,t){t.d(n,{Z:function(){return w}});var r,a,i,o=t(204942),l=t(115861),s=t(386854),c=t(887757),u=t.n(c),d=t(285245),p=t(647493),m=t(756370),g=t(10165),f=(t(145983),t(390322),t(672700),1e8),h=t(898921),y=t(850429),b=t(287066),v=t(667294),k=(t(244311),t(425108));function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{privateObject:!1,temporary:!1,includeOrganizationId:!0},n=(0,d.vn)(),o=null==n?void 0:n.viewerPermissions.has("assets.manage"),c=(0,v.useState)(null),x=(0,s.Z)(c,2),w=x[0],j=x[1],S=(0,v.useRef)(null),O=(0,v.useState)("idle"),F=(0,s.Z)(O,2),T=F[0],P=F[1],N=(0,v.useRef)(null);function Z(){N.current&&N.current.abort()}var E=g.Z.useAsyncMutation((void 0!==r||(r=t(390322)).hash&&"451341db60e2c76a67ebe16072e36bab"!==r.hash&&k.error("The definition of 'useMultipartUploadMediaToS3Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r)),R=g.Z.useAsyncMutation((void 0!==a||(a=t(672700)).hash&&"d1c68c3020d6d3f5472f90a3d1e0299d"!==a.hash&&k.error("The definition of 'useMultipartUploadMediaToS3StartUploadMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a)),I=g.Z.useAsyncMutation((void 0!==i||(i=t(145983)).hash&&"20d09bdd74271d4a3f5b7a7dd688ab68"!==i.hash&&k.error("The definition of 'useMultipartUploadMediaToS3FinishAssetMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i));function _(e,n,t,r,a){return L.apply(this,arguments)}function L(){return(L=(0,l.Z)(u().mark((function e(n,t,r,a,i){var o,l,s,c,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t-1,e.next=3,E({input:{uploadId:n,partNumber:t}});case 3:return l=e.sent,s=l.response,c=s.data,N.current=new AbortController,e.next=9,b.Z.put(c,r,{signal:N.current.signal,onUploadProgress:function(e){var n=e.loaded,t=e.total;if(t&&!(n>t)){var r=Math.round(n/t*100);i[o]=r;var l=i.reduce((function(e,n){return e+n}));j(Math.round(l/a))}}}).catch((function(e){if(b.Z.isCancel(e))throw new p.Mk("The request was cancelled");throw e}));case 9:return d=e.sent,e.abrupt("return",d.headers.etag);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,n,t,r,a){return M.apply(this,arguments)}function M(){return(M=(0,l.Z)(u().mark((function e(n,t,r,a,i){var o,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0,l=null;case 2:if(!(++o>10)){e.next=6;break}throw new Error("Max attempt limit reached, last error was: ".concat(l));case 6:return e.prev=6,e.next=9,_(t,r,n,a,i);case 9:return e.abrupt("return",e.sent);case 12:if(e.prev=12,e.t0=e.catch(6),!(e.t0 instanceof p.Mk)){e.next=16;break}throw e.t0;case 16:if(l=e.t0,!(o<=10)){e.next=19;break}return e.delegateYield(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o*y.NO*2,e.next=3,new Promise((function(e){return setTimeout(e,n)}));case 3:case"end":return e.stop()}}),e)}))(),"t1",19);case 19:e.next=2;break;case 21:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}function K(e,n,t){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(u().mark((function e(n,t,r){var a,i,o,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0,i=null;case 2:if(!(++a>10)){e.next=6;break}throw new Error("Max finalize attempt limit reached, last error was: ".concat(i));case 6:if(!r||2===r){e.next=8;break}throw new Error("Using an outdated method of uploading to S3");case 8:return e.prev=8,e.next=11,I({input:{uploadId:n,parts:t}});case 11:if(o=e.sent,(l=o.finishAssetUpload).node){e.next=15;break}throw new Error("Failed ".concat(l.errors));case 15:return e.abrupt("return",l.node);case 18:if(e.prev=18,e.t0=e.catch(8),i=e.t0,!(a<=10)){e.next=23;break}return e.delegateYield(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a*y.NO*2,e.next=3,new Promise((function(e){return setTimeout(e,n)}));case 3:case"end":return e.stop()}}),e)}))(),"t1",23);case 23:e.next=2;break;case 25:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}function A(){return(A=(0,l.Z)(u().mark((function t(r){var a,i,l,s,c,d,g,y,b,v,k,x,w,O,F,T,N;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.mediaFile,i=r.includeInMediaLibrary,l=r.source,Z(),j(0),P("pending"),t.prev=4,c=null,!a.type.includes("video")){t.next=10;break}return t.next=9,(0,h.kS)(a);case 9:c=t.sent;case 10:return t.next=12,R({mediaType:a.type,fileName:a.name,access:e.privateObject?"private":"public",temporary:null!==(s=e.temporary)&&void 0!==s&&s,organizationId:e.includeOrganizationId?null==n?void 0:n.id:void 0,size:a.size,videoDuration:c?Math.floor(c.duration):null,isVisible:!!o&&(null==i||i),source:null!=l?l:"upload"});case 12:d=t.sent,g=d.startUpload,y=a.size,b=Math.floor(y/f)+1,v=[],k=[],x=1;case 19:if(!(x<b+1)){t.next=31;break}return w=(x-1)*f,O=x*f,F=x<b?a.slice(w,O):a.slice(w),t.next=26,D(F,g.uploadId,x,b,k);case 26:T=t.sent,v.push({eTag:T.toString(),partNumber:x});case 28:x++,t.next=19;break;case 31:return t.next=33,K(g.uploadId,v,g.version);case 33:return N=t.sent,S.current=N.url,j(null),P("success"),t.abrupt("return",Promise.resolve(C(C({},N),{},{url:S.current,name:a.name})));case 40:if(t.prev=40,t.t0=t.catch(4),j(null),P("error"),!(t.t0 instanceof p.Mk)){t.next=46;break}return t.abrupt("return",Promise.reject(t.t0));case 46:return(0,m.AX)(t.t0,{extra:{title:"useMultipartUploadMediaToS3"}}),t.abrupt("return",Promise.reject(Error("Media upload failed.")));case 48:case"end":return t.stop()}}),t,null,[[4,40]])})))).apply(this,arguments)}return{uploadMediaToS3:function(e){return A.apply(this,arguments)},uploadProgress:w,uploadStatus:T,cancelCurrentUpload:Z}}},584817:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(204942),a=t(541321),i=t(108920),o=t(294184),l=t.n(o),s=(t(667294),t(183253)),c=t.n(s),u="bp5n61+suBdME6NT6GlhDQ==",d="YgwR7NB42dFKE0Tqkty0bw==",p="k8xKLzo3iv6HSHPtnlWr4g==",m="tF8L+1ky1IuBFpGPR+ZhBQ==",g=t(785893);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function y(){return document.querySelector("#modal-root")}c().defaultStyles={},c().setAppElement("#root");var b=function(e){var n,t=e.isOpen,o=e.customClassName,s=e.children,f=e.closeTimeout,b=void 0===f?200:f,v=e.modalContentLabel,k=e.onAfterClose,x=e.onAfterOpen,C=e.overlayClassName,w=e.shouldCloseOnOverlayClick,j=void 0===w||w,S=e.shouldCloseOnEsc,O=void 0===S||S,F=e.bodyOpenClassName,T=e.onClose,P=e.portalClassName,N=e.parentSelector,Z=e.disableTransition,E=void 0!==Z&&Z,R=e.nested,I=void 0!==R&&R,_=e.unstyled,L=void 0!==_&&_,D=e.contentRef,M=e.style,K=l()(m,o),U=l()("ReactModal__Body--open",F),A=(0,i.Z)();return(0,g.jsx)("div",{style:{position:"absolute"},onClick:function(e){return e.stopPropagation()},children:(0,g.jsx)(c(),{contentRef:D,parentSelector:N||y,isOpen:t,onAfterOpen:x,onAfterClose:k,contentLabel:v,className:K,style:{content:M},portalClassName:l()(u,(n={},(0,r.Z)(n,d,I),(0,r.Z)(n,p,!E),n),P),onRequestClose:function(){T&&(j||O)&&T()},overlayClassName:C,closeTimeoutMS:b,bodyOpenClassName:U,shouldCloseOnOverlayClick:j,shouldCloseOnEsc:O,"data-theme":"light",overlayElement:function(e,n){return(0,g.jsx)(a.Rg,{theme:A,unstyled:L,children:(0,g.jsx)("div",h(h({},e),{},{"data-theme":L&&"light",children:n}))})},children:s})})}},595009:function(e,n,t){var r=t(810863),a=t(294184),i=t.n(a),o=t(785893);var l=(0,r.Z)((function(e){return{container:{position:"relative",display:"inline-block",width:"20px",height:"20px"},circle:{position:"absolute",top:"50%",left:"50%",width:"10px",height:"10px",backgroundColor:e.palette.error.main,borderRadius:"50%",transform:"translateX(-50%) translateY(-50%)"},"@keyframes pulsate":{"0%":{opacity:0,transform:"scale(0.1, 0.1)"},"50%":{opacity:1},"100%":{opacity:0,transform:"scale(1.2, 1.2)"}},ring:{position:"absolute",top:0,left:0,width:"20px",height:"20px",border:"3px solid ".concat(e.palette.error.main),borderRadius:"50%",opacity:0,animationName:"$pulsate",animationDuration:"1s",animationTimingFunction:"ease-out",animationIterationCount:"infinite"}}}));n.Z=function(e){var n=e.testid,t=e.className,r=l();return(0,o.jsxs)("div",{className:i()(r.container,t),"data-testid":n,children:[(0,o.jsx)("div",{className:r.ring}),(0,o.jsx)("div",{className:r.circle})]})}},305575:function(e,n,t){t(392589);var r=t(810863),a=t(710694),i=t(541321),o=t(284911),l=t(757336),s=t(785893);var c=(0,r.Z)((function(e){return{container:{position:"relative"},removeButton:{position:"absolute",top:0,right:0,color:e.palette.text.secondary}}}));n.Z=(0,l.Pi)((function(e){var n=e.label,t=e.question,r=e.questionOrder,l=e.onContentChange,u=e.onRemoveQuestion,d=e.hasErrors,p=c(),m=(0,o.Z)();return(0,s.jsxs)("div",{className:p.container,"data-testid":"QuestionFormField.question-".concat(r),children:[(0,s.jsx)(i.U4,{variant:"body-sm",color:"text.secondary",marginBottom:1,children:n}),(0,s.jsx)(a.Z,{defaultValue:t.richEditorBody,onChange:function(e){l(e)},readOnly:!m.has("registration.manage"),config:"question",variant:"input",hasError:d}),(0,s.jsx)(i.GY,{onClick:u,testid:"QuestionFormField.question-".concat(r,".remove-button"),className:p.removeButton,children:(0,s.jsx)(i.U4,{variant:"body-sm",children:"Remove"})})]})}))},312688:function(e,n,t){t.d(n,{Z:function(){return H}});var r=t(241451),a=t(386854),i=t(810863),o=(t(681355),t(10165)),l=t(204942),s=t(115861),c=t(887757),u=t.n(c),d=t(201470),p=t(479159),m=t(494204),g=(t(615656),t(697644)),f=t.n(g),h=t(785893);var y,b=(0,i.Z)((function(){return{emoji:{display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1,verticalAlign:"middle"},size:{fontSize:function(e){return"".concat(e.size,"px")}}}})),v=function(e){var n=e.emoji,t=e.size,r=b({size:void 0===t?24:t});return(0,h.jsx)(f(),{symbol:n.native,label:n.shortcodes||"emoji",className:"".concat(r.emoji," ").concat(r.size)})},k=t(922261),x=(t(503493),t(541321)),C=t(757336),w=t(422578),j=t(425108);var S=(0,i.Z)((function(e){return{innerTooltip:{margin:e.spacing(1,0),textAlign:"center"},emojiWrapper:{backgroundColor:e.palette.common.white,display:"inline-block",borderRadius:e.measure.borderRadius.default,height:"40px"}}})),O=(0,C.Pi)((function(e){var n=S(),t=e.emoji,r=e.occurrenceQueryRef,a=e.hasViewerReacted,i=e.reactionCount,l=(0,w.usePreloadedQuery)(K,r).node,s=t.shortcodes,c=(0,k.f)().authUser,u=o.Z.narrowNodeType(l,"Content");return o.Z.connectionToArray(null==u?void 0:u.reactions)?(0,h.jsxs)("div",{className:n.innerTooltip,children:[(0,h.jsx)("div",{className:n.emojiWrapper,children:(0,h.jsx)(v,{emoji:t,size:40})}),(0,h.jsxs)(x.U4,{variant:"body-sm",color:"common.white",children:[function(){var e=o.Z.connectionToArray(null==u?void 0:u.reactions),n=a?["You"]:[];e.forEach((function(e){var t;e.user.id!==(null==c?void 0:c.id)&&n.push(null!==(t=e.user.firstName)&&void 0!==t?t:"Someone")}));var t=i-n.length;return t>0&&n.push("".concat(t," others")),n.length>1?"".concat(n.slice(0,-1).join(", ")," and ").concat(n[n.length-1]):n[0]||""}()," reacted with ".concat(s)]})]}):null}));void 0!==y||(y=t(135294)).hash&&"7a550dc7ac71194ba07623ac84a7fa9e"!==y.hash&&j.error("The definition of 'ContentEmojiButtonTooltipFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");t(254943),t(779528);var F,T,P,N=t(859223),Z=t(759693),E=t(251941),R=t(206431),I=t(667294),_=t(686871),L=t(425108);function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?D(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K=(void 0!==F||(F=t(503493)).hash&&"208246477a2b0c2ac1165fdc138a68e0"!==F.hash&&L.error("The definition of 'ContentEmojiButtonTooltipPreloadedQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),F);(0,R.S1)({data:N});var U=(0,i.Z)((function(e){return{reactionCount:function(n){return{display:"inline-block",color:n.hasViewerReacted?"light"===e.palette.type?(0,Z.$n)(e.palette.primary.main,.2):e.palette.common.white:"currentColor",fontWeight:500}},button:{backgroundColor:"transparent",width:"100%",display:"flex",alignItems:"center"},skeletonButton:(0,l.Z)({width:"54px",height:"24px",borderRadius:e.measure.borderRadius.xl},e.breakpoints.down("sm"),{height:"36px"}),buttonWrapper:{all:"unset",width:"51px",height:"28px",boxSizing:"border-box",display:"flex",overflow:"hidden",alignItems:"center",borderRadius:e.measure.borderRadius.xl,border:function(n){return n.hasViewerReacted?"1.5px solid ".concat((0,Z.$n)(e.palette.primary.main,.2)):"1.5px solid transparent"},backgroundColor:function(n){return n.hasViewerReacted?"light"===e.palette.type?(0,Z.$n)(e.palette.primary.main,.9):(0,Z._j)(e.palette.primary.main,.6):e.palette.groovy.neutral[100]},cursor:"pointer","&:hover":{backgroundColor:function(n){return n.hasViewerReacted?"light"===e.palette.type?(0,Z.$n)(e.palette.primary.main,.7):(0,Z._j)(e.palette.primary.main,.3):e.palette.groovy.neutral[200]}}},leftIcon:function(n){return{height:18,marginRight:n.reactionCount?e.spacing(.5):0,marginBottom:e.spacing(0),display:"flex",alignItems:"center"}},nonSelectable:{width:"100%",WebkitTouchCallout:"none !important",WebkitUserSelect:"none !important",KhtmlUserSelect:"none !important",MozUserSelect:"none !important",MsUserSelect:"none !important",userSelect:"none !important"}}}));var A,B,z=o.Z.withSkeleton({component:function(e){var n=e.contentId,r=e.contentKey,i=e.contentUsageId,o=e.size,l=void 0===o?"medium":o,c=(0,m.Z)(),g=(0,E.d)(),f=(0,I.useState)(!1),y=(0,a.Z)(f,2),b=y[0],k=y[1],C=(0,w.useQueryLoader)(K),j=(0,a.Z)(C,2),S=j[0],F=j[1],N=(0,w.useFragment)((void 0!==T||(T=t(779528)).hash&&"203eadc940f6b64049d574dec581600b"!==T.hash&&L.error("The definition of 'ContentEmojiButton_ContentReactionFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),T),r||null),Z=N.emojiAlias,D=N.emojiCode,A=N.emojiCount,B=N.hasViewerReacted,z=(0,I.useState)(null),$=(0,a.Z)(z,2),G=$[0],V=$[1];(0,I.useEffect)((function(){function e(){return(e=(0,s.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.$w)(D);case 3:n=e.sent,V(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),L.error("Error loading emoji:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}D&&function(){e.apply(this,arguments)}()}),[D]);var H=U({hasViewerReacted:B,reactionCount:A}),W=(0,p.V)((void 0!==P||(P=t(254943)).hash&&"c763d30532fe2e55b6a963c2172f6392"!==P.hash&&L.error("The definition of 'ContentEmojiButtonMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),P),{contentId:n,contentUsageId:i,emojiCode:D,emojiAlias:Z});function X(){S||F({id:n,emojiCode:D})}var q=(0,I.useCallback)((function(){k(!0)}),[]),Q=(0,_.TA)(c||g?q:null,{onStart:function(){X()},onFinish:function(){k(!1)},onCancel:function(){k(!1)},filterEvents:function(){return!0},threshold:400,captureEvent:!0,cancelOnMovement:25,cancelOutsideElement:!0}),Y=(0,h.jsx)("div",{className:H.buttonWrapper,children:(0,h.jsx)("div",{className:H.nonSelectable,children:(0,h.jsx)(x.v2,M(M({testid:"ContentEmojiButton-".concat(D),classes:{root:H.button,leftIcon:H.leftIcon},color:"transparent",borderRadius:"xsmall"===l?20:void 0,size:l,leftIcon:G?(0,h.jsx)(v,{emoji:G,size:16}):void 0,onClick:function(e){return ee.apply(this,arguments)},onMouseOver:function(){return X()},onTouchStart:function(){return X()}},Q()),{},{children:A&&A>0&&(0,h.jsx)(x.U4,{className:H.reactionCount,variant:"body-sm",children:A})}))})}),J=!g&&!c;return(0,h.jsx)(I.Suspense,{fallback:Y,children:(0,h.jsx)(x.t2,{disabled:J&&!S,open:J?void 0:b,content:(0,h.jsx)(h.Fragment,{children:S&&G?(0,h.jsx)(O,{emoji:G,occurrenceQueryRef:S,hasViewerReacted:B,reactionCount:A}):null}),children:Y})});function ee(){return(ee=(0,s.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,W.submit(W.state,{updater:function(e){(0,d.qS)(e,{contentId:n,emojiCode:D,contentUsageId:i})},optimisticUpdater:function(e){(0,d.qS)(e,{contentId:n,emojiCode:D,contentUsageId:i})}});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},skeleton:function(){var e=U();return(0,h.jsx)(x.Zi,{className:e.skeletonButton})}}),$=(t(856941),t(102865),t(444832)),G=(t(244311),t(425108));var V=(0,i.Z)((function(e){return{reactionsRow:{width:"100%",minWidth:"200px",display:"flex",alignItems:"left",gap:e.spacing(.5),flexWrap:"wrap"},moreCount:{display:"inline-block",color:"currentColor"},button:{width:"64px",height:"28px",backgroundColor:e.palette.groovy.neutral[100],borderRadius:e.measure.borderRadius.xl,padding:0,display:"flex",justifyContent:"center",alignItems:"center","&:hover":{backgroundColor:"".concat(e.palette.groovy.neutral[200]," !important")}},innerTooltip:{margin:e.spacing(1,0),textAlign:"center"}}}));var H=o.Z.withSkeleton({component:function(e){var n,i=e.contentId,l=e.contentUsageId,s=(0,I.useState)(!1),c=(0,a.Z)(s,2),u=c[0],d=c[1],p=(0,I.useState)(0),m=(0,a.Z)(p,2),g=m[0],f=m[1],y=(0,I.useRef)(null),b=(0,I.useState)((null===(n=y.current)||void 0===n?void 0:n.clientWidth)||0),v=(0,a.Z)(b,2),k=v[0],C=v[1],j=(0,I.useState)(0),S=(0,a.Z)(j,2),O=S[0],F=S[1];(0,$.Z)(y,(function(e){return C(e.clientWidth)}));var T=o.Z.useRefetchableQuery((void 0!==A||(A=t(856941)).hash&&"cfd8bbfca14031080c79cf5f2b177cae"!==A.hash&&G.error("The definition of 'ContentUniqueReactionsListContentQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),A),{id:i},{fetchPolicy:"store-and-network"}),P=(0,a.Z)(T,2),N=P[0].content,Z=P[1],E=o.Z.useRefetchableQuery((void 0!==B||(B=t(102865)).hash&&"1d9831131f8d10ce43324b235c4db649"!==B.hash&&G.error("The definition of 'ContentUniqueReactionsListContentUsageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),B),{id:l||""},{fetchPolicy:"network-only"}),R=(0,a.Z)(E,2),_=R[0].contentUsage,L=R[1],D=o.Z.connectionToArray((null==_?void 0:_.uniqueReactions)||(null==N?void 0:N.uniqueReactions)),M=V();if((0,I.useEffect)((function(){D&&(F(Math.max(Math.floor(Number(k)/55)-1,0)),f(D.length-O))}),[k,D,O]),(0,w.useSubscribeToInvalidationState)([].concat((0,r.Z)(null!=N&&N.uniqueReactions?[N.uniqueReactions.__id]:[]),(0,r.Z)(null!=_&&_.uniqueReactions?[_.uniqueReactions.__id]:[])),(function(){N&&Z({id:i}),_&&l&&L({id:l})})),!D.length)return null;var K=u?D:D.slice(0,O);return(0,h.jsxs)("div",{ref:y,className:M.reactionsRow,children:[K.map((function(e){return e?N||_?(0,h.jsx)(z,{contentKey:e,contentId:(null==_?void 0:_.contentId)||(null==N?void 0:N.id)||i,contentUsageId:l,size:"xsmall"},e.id):(0,h.jsx)("div",{},e.id):null})),!u&&g>0&&(0,h.jsx)(x.t2,{content:(0,h.jsx)("div",{className:M.innerTooltip,children:(0,h.jsx)(x.U4,{variant:"body-sm",color:"common.white",children:"Show more reactions"})}),children:(0,h.jsx)(x.v2,{onClick:function(e){e.stopPropagation(),d(!u)},classes:{root:M.button},color:"transparent",size:"xsmall",children:g>0&&(0,h.jsxs)(x.U4,{className:M.moreCount,variant:"body-sm",children:[g," more"]})})})]})},skeleton:function(){var e=V();return(0,h.jsxs)("div",{className:e.reactionsRow,children:[(0,h.jsx)(x.Zi,{width:"54px",height:"24px"}),(0,h.jsx)(x.Zi,{width:"54px",height:"24px"}),(0,h.jsx)(x.Zi,{width:"54px",height:"24px"}),(0,h.jsx)(x.Zi,{width:"54px",height:"24px"}),(0,h.jsx)(x.Zi,{width:"54px",height:"24px"})]})}})},254943:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"ContentEmojiButtonMutation",selections:a=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateContentLikeResponse",kind:"LinkedField",name:"updateContentLike",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentLike",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ContentEmojiButtonMutation",selections:a},params:{cacheID:"bad1de4d11114eccc25d8fb91ee7414c",id:null,metadata:{},name:"ContentEmojiButtonMutation",operationKind:"mutation",text:"mutation ContentEmojiButtonMutation(\n  $input: UpdateContentLikeInput!\n) {\n  response: updateContentLike(input: $input) {\n    node {\n      id\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="c763d30532fe2e55b6a963c2172f6392",n.default=i},135294:function(e,n,t){t.r(n);t(244311);var r,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContentEmojiButtonTooltipFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastName",storageKey:null},r],storageKey:null}],type:"ContentLike",abstractKey:null};a.hash="7a550dc7ac71194ba07623ac84a7fa9e",n.default=a},503493:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"emojiCode"},a={defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ContentEmojiButtonTooltipPreloadedQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"emojiCode",variableName:"emojiCode"},{kind:"Literal",name:"first",value:5}],concreteType:"ContentLikeNodeConnection",kind:"LinkedField",name:"reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentLikeNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentLike",kind:"LinkedField",name:"node",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastName",storageKey:null},l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Content",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,r],kind:"Operation",name:"ContentEmojiButtonTooltipPreloadedQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o,s,l],storageKey:null}]},params:{cacheID:"e653421bedca81970cc68035f37a2bc0",id:null,metadata:{},name:"ContentEmojiButtonTooltipPreloadedQuery",operationKind:"query",text:"query ContentEmojiButtonTooltipPreloadedQuery(\n  $id: ID!\n  $emojiCode: String!\n) {\n  node(id: $id) {\n    __typename\n    ... on Content {\n      reactions(emojiCode: $emojiCode, first: 5) {\n        edges {\n          node {\n            id\n            user {\n              firstName\n              lastName\n              id\n            }\n          }\n        }\n      }\n    }\n    id\n  }\n}\n"}};c.hash="208246477a2b0c2ac1165fdc138a68e0",n.default=c},779528:function(e,n,t){t.r(n);t(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContentEmojiButton_ContentReactionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasViewerReacted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiAlias",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCount",storageKey:null}],type:"ContentReaction",abstractKey:null,hash:"203eadc940f6b64049d574dec581600b"};n.default=r},856941:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ContentUniqueReactionsListContentQuery",selections:[{alias:"content",args:a=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[i,{args:null,kind:"FragmentSpread",name:"ContentEmojiButton_ContentReactionFragment"}],storageKey:null}],storageKey:null},o={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"Content",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ContentUniqueReactionsListContentQuery",selections:[{alias:"content",args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"hasViewerReacted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiAlias",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCount",storageKey:null}],storageKey:null}],storageKey:null},o],storageKey:null}],type:"Content",abstractKey:null}],storageKey:null}]},params:{cacheID:"1414481716581ce7ad7abd3e0164014e",id:null,metadata:{},name:"ContentUniqueReactionsListContentQuery",operationKind:"query",text:"query ContentUniqueReactionsListContentQuery(\n  $id: ID!\n) {\n  content: node(id: $id) {\n    __typename\n    ... on Content {\n      id\n      uniqueReactions {\n        edges {\n          node {\n            id\n            ...ContentEmojiButton_ContentReactionFragment\n          }\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment ContentEmojiButton_ContentReactionFragment on ContentReaction {\n  id\n  hasViewerReacted\n  emojiCode\n  emojiAlias\n  emojiCount\n}\n"}};l.hash="cfd8bbfca14031080c79cf5f2b177cae",n.default=l},102865:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"ContentUniqueReactionsListContentUsageQuery",selections:[{alias:"contentUsage",args:a=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"contentId",storageKey:null},{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[i,{args:null,kind:"FragmentSpread",name:"ContentEmojiButton_ContentReactionFragment"}],storageKey:null}],storageKey:null},l={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"ContentUsage",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"ContentUniqueReactionsListContentUsageQuery",selections:[{alias:"contentUsage",args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"ContentReactionConnection",kind:"LinkedField",name:"uniqueReactions",plural:!1,selections:[{alias:null,args:null,concreteType:"ContentReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ContentReaction",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"hasViewerReacted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiAlias",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emojiCount",storageKey:null}],storageKey:null}],storageKey:null},l],storageKey:null}],type:"ContentUsage",abstractKey:null}],storageKey:null}]},params:{cacheID:"8a750d3e7a2b05a10b530b87e5335b9d",id:null,metadata:{},name:"ContentUniqueReactionsListContentUsageQuery",operationKind:"query",text:"query ContentUniqueReactionsListContentUsageQuery(\n  $id: ID!\n) {\n  contentUsage: node(id: $id) {\n    __typename\n    ... on ContentUsage {\n      id\n      contentId\n      uniqueReactions {\n        edges {\n          node {\n            id\n            ...ContentEmojiButton_ContentReactionFragment\n          }\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment ContentEmojiButton_ContentReactionFragment on ContentReaction {\n  id\n  hasViewerReacted\n  emojiCode\n  emojiAlias\n  emojiCount\n}\n"}};s.hash="1d9831131f8d10ce43324b235c4db649",n.default=s},380704:function(e,n,t){var r=t(386854),a=t(810863),i=(t(194350),t(541321)),o=t(666037),l=t(444832),s=t(294184),c=t.n(s),u=t(667294),d=t(785893);var p=(0,a.Z)((function(e){return{container:function(n){var t=n.marginBottom;return{marginBottom:t?e.spacing(t):"unset"}},readMoreButton:{marginTop:e.spacing(2)}}}));n.Z=function(e){var n=e.children,t=e.maxContentHeight,a=e.marginBottom,s=e.textVariant,m=e.className,g=e.classes,f=(0,u.useState)(!1),h=(0,r.Z)(f,2),y=h[0],b=h[1],v=(0,u.useState)(),k=(0,r.Z)(v,2),x=k[0],C=k[1],w=Boolean(t&&x&&x>=t),j=(0,u.useRef)(null);(0,l.Z)(j,(function(e){C(e.clientHeight)}));var S=p({marginBottom:a});return t?(0,d.jsxs)("div",{className:c()(S.container,m),children:[(0,d.jsx)(o.Z,{in:y,collapsedSize:"".concat(x&&x<t?x:t,"px"),timeout:0,children:(0,d.jsx)("div",{ref:j,"data-testid":"ReadMoreButtonNode",children:n})}),w&&(0,d.jsx)(i.GY,{className:c()(S.readMoreButton,null==g?void 0:g.button),onClick:function(e){e.stopPropagation(),b((function(e){return!e}))},textVariant:s,children:y?"Show Less":"Show More..."})]}):(0,d.jsx)(d.Fragment,{children:n})}},238117:function(e,n,t){var r=t(204942),a=t(145987),i=t(510777),o=t(810863),l=t(163102),s=t(108920),c=t(294184),u=t.n(c),d=t(546312),p=t(785893),m=["children","className"];function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=(0,o.Z)((function(e){return{container:{position:"relative"},icon:{position:"absolute",right:"-6px",bottom:0,background:e.palette.background.paper,borderRadius:e.measure.borderRadius.default,boxShadow:e.palette.groovyDepths.insideCard}}}));n.Z=function(e){var n=e.children,t=e.className,r=(0,a.Z)(e,m),o=(0,l.Z)(),c=h(),g=(0,s.Z)();return(0,p.jsxs)(d.e,f(f({},r),{},{className:u()(o.hoverable,c.container,t),children:[n,(0,p.jsx)(i.default,{height:18,width:18,className:u()(o.showable,c.icon),color:g.palette.text.primary})]}))}},19567:function(e,n,t){var r=t(961990),a=t(785893);n.Z=function(e){return(0,r.N)()(e.feature)?(0,a.jsx)(a.Fragment,{children:e.enabled}):(0,a.jsx)(a.Fragment,{children:e.disabled})}},658555:function(e,n,t){var r=t(204942),a=t(386854),i=t(810863),o=t(92839),l=t(194211),s=t(759693),c=t(667995),u=t(444832),d=t(294184),p=t.n(d),m=t(667294),g=t(785893);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=(0,m.createContext)({scrollContainerRef:{current:null}}),b=(0,i.Z)((function(e){return{parentContainer:function(e){var n=e.height,t=e.disableScroll;return h({position:"relative",height:n||"100%",overflow:"hidden"},(0,o.Z)(t,{overflow:"unset"}))},scrollContainer:function(e){var n=e.height,t=e.hideScrollbar,r=e.disableScroll;return h(h({height:n||"100%",overflow:"hidden auto"},(0,o.Z)(t,{"&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none"})),(0,o.Z)(r,{overflow:"unset"}))},headerEl:{width:"100%",height:"".concat(v,"px"),top:"-".concat(v,"px"),position:"absolute",zIndex:e.zIndex.raise3,pointerEvents:"none"},footerEl:{width:"100%",height:"".concat(v,"px"),bottom:"-".concat(v,"px"),position:"absolute",zIndex:e.zIndex.raise3,pointerEvents:"none"},headerShadow:{boxShadow:function(n){var t=n.shouldShowDivider;return"".concat(t?"0px 2px 0px ".concat(e.palette.divider,","):""," 0px 5px ").concat(v,"px ").concat("dark"===e.palette.type?(0,s._j)(e.palette.background.paper,.55):"rgba(46, 64, 88, 0.12)")}},footerShadow:{boxShadow:function(n){var t=n.shouldShowDivider;return"".concat(t?"0px -2px 0px ".concat(e.palette.divider,","):""," 0px -5px ").concat(v,"px ").concat("dark"===e.palette.type?(0,s._j)(e.palette.background.paper,.55):"rgba(46, 64, 88, 0.12)")}}}})),v=16;n.Z=function(e){var n=e.children,t=e.testid,i=void 0===t?"ScrollShadowContainer":t,o=e.height,s=e.classes,d=e.hideScrollbar,f=void 0!==d&&d,h=e.disableScroll,v=e.shouldShowDivider,k=void 0!==v&&v,x=(0,m.useRef)(null),C=(0,m.useRef)(null),w=(0,m.useState)(!1),j=(0,a.Z)(w,2),S=j[0],O=j[1],F=(0,m.useState)(!1),T=(0,a.Z)(F,2),P=T[0],N=T[1],Z=(0,m.useCallback)((function(){x.current&&O(Boolean(x.current.scrollTop)),N((0,l._)(x))}),[]),E=(0,m.useCallback)((function(e){x.current=e,e&&Z()}),[Z]);(0,c.Z)(Z),(0,u.Z)(x,Z);var R=b({height:o,hideScrollbar:f,disableScroll:h,shouldShowDivider:k});(0,m.useEffect)((function(){if(C.current){var e=C.current,n=function(){e.scrollTop>0&&(e.scrollTop=0)};return e.addEventListener("scroll",n),function(){return e.removeEventListener("scroll",n)}}}),[]);var I=!h&&P;return(0,g.jsxs)("div",{ref:C,className:p()(R.parentContainer,null==s?void 0:s.parentContainer),"data-testid":i,children:[(0,g.jsx)("div",{className:p()(R.headerEl,(0,r.Z)({},R.headerShadow,S))}),(0,g.jsx)("div",{ref:E,"data-testid":"".concat(i,".scroll-container"),className:p()(R.scrollContainer,null==s?void 0:s.scrollContainer),onScroll:Z,children:(0,g.jsx)(y.Provider,{value:{scrollContainerRef:x},children:n})}),(0,g.jsx)("div",{className:p()(R.footerEl,(0,r.Z)({},R.footerShadow,I))})]})}},194211:function(e,n,t){function r(e){var n=null==e?void 0:e.current;if(!n)return!1;var t=Math.floor(n.clientHeight),r=Math.floor(n.scrollHeight-n.scrollTop);return r!==t&&r!==t-1&&r!==t+1&&n.scrollHeight>n.clientHeight}t.d(n,{_:function(){return r}})},747551:function(e,n,t){t(187351);var r=t(667294),a=t(616550),i=t(785893);n.Z=function(e){var n=e.children,t=(0,a.TH)(),o=t.pathname,l=t.hash;return(0,r.useEffect)((function(){l||window.scrollTo(0,0)}),[o,l]),(0,i.jsx)(i.Fragment,{children:n})}},177175:function(e,n,t){t.d(n,{c3:function(){return j},ZP:function(){return R},RP:function(){return E}});var r=t(115861),a=t(204942),i=t(887757),o=t.n(i),l=(t(844591),t(802182),t(285245)),s=t(187351),c=t(10165),u=t(810863),d=(t(390102),t(445033)),p=t(541749),m=(t(33079),t(757749)),g=t(290973),f=t(616550),h=(t(244311),t(423274)),y=t(135021),b=t(687278),v=t(541321),k=t(108920),x=t(240680),C=t(785893);var w,j,S=(0,u.Z)((function(e){return{button:{border:"1px solid ".concat(e.palette.groovy.neutral[300]),borderRadius:e.measure.borderRadius.big,backgroundColor:e.palette.background.paper}}})),O=function(e){var n=e.provider,t=e.disabled,r=e.onClick,a=e.labelPrefix,i=e.width,o=S(),l=(0,k.Z)(),s=function(){switch(n){case j.google:return(0,C.jsx)(b.default,{});case j.apple:return(0,C.jsx)(y.default,{fill:"dark"===l.palette.type?l.palette.common.white:l.palette.common.black})}}();return(0,C.jsx)(v.t2,{disabled:!t,content:"Please accept the terms and conditions above before continuing.",children:(0,C.jsxs)(v.v2,{disabled:t,className:o.button,customButtonColor:{backgroundColor:l.palette.common.white,color:l.palette.common.black,hover:{backgroundColor:l.palette.groovy.neutral[300]}},onClick:r,"data-testid":"SocialAuthProviderButton.".concat(n),width:i,children:[(0,C.jsx)(v.Lj,{icon:s}),(0,C.jsx)(v.U4,{variant:"body-md-600",marginLeft:2,color:"dark"===l.palette.type?"common.white":"common.black",children:"".concat(null!=a?a:"Continue"," with ").concat((0,x.LF)(n))})]})})},F=t(425108);function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.google="google",e.apple="apple"}(j||(j={}));var N=new g.w0("public-token-live-78727d57-e5fb-4258-9af0-33e2e07de9ce");function Z(e){var n,a,i=(0,m.G6)(),u=(0,l.vn)(),g=e.providers,y=void 0===g?[j.google,j.apple]:g,b=e.labelPrefix,v=e.redirectDestination,k=e.blockUserSignup,x=e.disabled,S=e.width,T=e.onClick,P=e.children,N=e.loginSource,Z=e.queryParams,R=I(),_=(0,f.TH)();v?(_.state||(_.state={}),_.state.redirectUrl=v):(0,s.eX)(window.location.host)||null!==(n=_.state)&&void 0!==n&&n.redirectUrl||(_.state||(_.state={}),_.state.redirectUrl="https://".concat(window.location.host,"/home"));var L={locationState:_.state,blockUserSignup:k},D=c.Z.useAsyncMutation((void 0!==w||(w=t(390102)).hash&&"5b26f1adc8a75b21f35dc4ca4d863ee3"!==w.hash&&F.error("The definition of 'SocialLoginGetSocialLoginRedirectUrlMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),w));return(0,C.jsx)(C.Fragment,{children:E()&&!("enabled"===(null==u||null===(a=u.authProvider)||void 0===a?void 0:a.status))&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(p.Z,{container:!0,alignItems:"center",justifyContent:"center",className:R.itemContainer,children:y.map((function(e){return(0,C.jsx)(O,{provider:e,labelPrefix:b,disabled:x,width:S,onClick:K(e)},e)}))}),P]})});function M(e){switch(e){case j.google:return i.oauth.google.start;case j.apple:return i.oauth.apple.start}}function K(e){return(0,r.Z)(o().mark((function n(){var t,r,a,i,l,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!T||T()){n.next=2;break}return n.abrupt("return");case 2:return t=M(e),n.next=5,D({});case 5:if(!(r=n.sent).getSocialLoginRedirectUrl.data){n.next=16;break}return(a=new URL(r.getSocialLoginRedirectUrl.data)).searchParams.set("destination",(0,h.oF)(JSON.stringify(L))),a.searchParams.set("loginSource",N),null!=Z&&Z.wetoken&&a.searchParams.set("wetoken",Z.wetoken),i=a.toString(),n.next=14,t({login_redirect_url:i,signup_redirect_url:i});case 14:n.next=19;break;case 16:s="Unknown error has occurred, please try again later.",null!==(l=r.getSocialLoginRedirectUrl.errors)&&void 0!==l&&l.length&&(s=r.getSocialLoginRedirectUrl.errors[0].message),(0,d.p)(s);case 19:case"end":return n.stop()}}),n)})))}}function E(){var e=window.navigator.userAgent;return!(e.includes("LinkedInApp")||e.includes("FBAV")||e.includes("FBAN")||e.includes("FBBV")||e.includes("FBDV")||e.includes("FBSN")||e.includes("FBMD")||e.includes("FBID"))}var R=function(e){return(0,C.jsx)(m.di,{stytch:N,children:(0,C.jsx)(Z,P({},e))})},I=(0,u.Z)((function(e){return{itemContainer:{background:e.palette.background.paper,borderBottomLeftRadius:e.measure.borderRadius.medium,borderBottomRightRadius:e.measure.borderRadius.medium,gap:e.spacing(2),marginBottom:e.spacing(2)}}}))},390102:function(e,n,t){t.r(n);t(244311);var r,a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SocialLoginGetSocialLoginRedirectUrlMutation",selections:r=[{alias:null,args:null,concreteType:"GetSocialLoginRedirectUrlResponse",kind:"LinkedField",name:"getSocialLoginRedirectUrl",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SocialLoginGetSocialLoginRedirectUrlMutation",selections:r},params:{cacheID:"d00358777f93b0aa0440f6d94dbbb40e",id:null,metadata:{},name:"SocialLoginGetSocialLoginRedirectUrlMutation",operationKind:"mutation",text:"mutation SocialLoginGetSocialLoginRedirectUrlMutation {\n  getSocialLoginRedirectUrl {\n    data\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};a.hash="5b26f1adc8a75b21f35dc4ca4d863ee3",n.default=a},968059:function(e,n,t){var r=t(204942),a=t(145987),i=t(810863),o=t(92839),l=t(541321),s=t(294184),c=t.n(s),u=t(785893),d=["count","testid","className","color","backgroundColor","size","maxCount","fontSize"];function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=(0,i.Z)((function(e){return{badge:function(n){return m(m(m(m({width:"calc(".concat(n.size,"px + 4px)"),height:n.size,backgroundColor:n.backgroundColor||e.palette.error.main,borderRadius:e.measure.borderRadius.big,display:"flex",justifyContent:"center",alignItems:"center"},e.typography["body-xs"]),e.typography.modifiers.fontWeight[500]),(0,o.Z)(n.fontSize,{fontSize:n.fontSize})),{},{"& span":{color:"".concat(n.color||e.palette.common.white," !important"),fontSize:n.maxExceeded?"0.8em":"inherit",fontWeight:"inherit",lineHeight:"inherit"}})}}}));n.Z=function(e){var n=e.count,t=e.testid,r=e.className,i=e.color,o=e.backgroundColor,s=e.size,p=void 0===s?22:s,f=e.maxCount,h=void 0===f?99:f,y=e.fontSize,b=(0,a.Z)(e,d),v=h>0&&Number(n)>h,k=g({size:p,color:i,backgroundColor:o,maxExceeded:v,fontSize:y}),x="".concat(t?"".concat(t,"."):"","CountBadge");return(0,u.jsx)("div",m(m({"data-testid":x,className:c()(k.badge,r)},b),{},{children:(0,u.jsx)(l.U4,{"data-testid":"".concat(x,".count"),component:"span",children:v?"".concat(h,"+"):n})}))}},804189:function(e,n,t){var r=t(204942),a=t(145987),i=t(113266),o=(t(342510),t(614010)),l=t(447818),s=t(968059),c=(t(423274),t(785893)),u=["config"];function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t=e.config,r=void 0===t?{}:t,d=(0,a.Z)(e,u),m=(0,i.Z)((null==r?void 0:r.filter)||null).length+(0,o.Z)((null==r?void 0:r.channels)||[])+(0,l.Z)((null==r?void 0:r.streamChannelIds)||[])+(null!==(n=r.count)&&void 0!==n?n:0);return m<=0?null:(0,c.jsx)(s.Z,p(p({},d),{},{count:m}))}},341694:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(115861),a=t(386854),i=t(887757),o=t.n(i),l=(t(802182),t(285245)),s=t(922261),c=(t(187351),t(10165)),u=t(810863),d=(t(177175),t(491689),t(445033)),p=t(541321),m=t(541749),g=t(146711),f=t(667294),h=t(616550),y=(t(244311),t(423274)),b=t(147066),v=t(785893);var k,x,C=function(e){var n=e.width,t=e.disabled,r=e.labelPrefix,a=e.onClick;return(0,v.jsx)(p.t2,{disabled:!t,content:"Please accept the terms and conditions above before continuing.",children:(0,v.jsxs)(p.v2,{disabled:t,onClick:a,"data-testid":"SSOLoginButton",width:n,children:[(0,v.jsx)(p.De,{icon:"lock",color:"white"}),(0,v.jsx)(p.U4,{variant:"body-md-600",marginLeft:1,color:"common.white",children:"".concat(null!=r?r:"Continue"," with SSO")})]})})},w=(t(608113),t(425108)),j=new g.ct("public-token-live-ba64675e-4687-4c86-aa10-bab54c344a65");var S=function(e){var n,i=(0,l.vn)(),u=e.redirectDestination,g=e.labelPrefix,S=e.disabled,F=e.width,T=e.onClick,P=e.children,N=e.loginSource,Z=(0,f.useState)(!1),E=(0,a.Z)(Z,2),R=E[0],I=E[1],_=O(),L=(0,h.TH)(),D=(0,f.useState)(!1),M=(0,a.Z)(D,2),K=M[0],U=M[1],A=(0,f.useState)(""),B=(0,a.Z)(A,2),z=B[0],$=B[1],G=(0,f.useState)(""),V=(0,a.Z)(G,2),H=V[0],W=V[1],X=(0,b.N)(),q=(0,s.f)().refreshAuthUser;L.state||(L.state={}),L.state.redirectUrl=u||window.location.href;var Q={locationState:L.state},Y=c.Z.useAsyncMutation((void 0!==k||(k=t(491689)).hash&&"d5b6adc9bc92a43e36a614455933ddda"!==k.hash&&w.error("The definition of 'SSOLoginGetSSOLoginRedirectUrlMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),k)),J=c.Z.useAsyncMutation((void 0!==x||(x=t(608113)).hash&&"c83ef2db9b60c6edbb0e1f284fb20b84"!==x.hash&&w.error("The definition of 'SSOLoginExchangeAuthProviderRecoveryCodeMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),x));return(0,v.jsx)(v.Fragment,{children:"enabled"===(null==i||null===(n=i.authProvider)||void 0===n?void 0:n.status)&&(0,v.jsxs)(v.Fragment,{children:[K?(0,v.jsxs)("form",{onSubmit:function(e){return ne.apply(this,arguments)},className:_.recoveryForm,children:[(0,v.jsx)(p.Z0,{children:(0,v.jsx)(p.z6,{name:"email",type:"email",value:H,placeholder:"Enter your email",onChange:function(e){return W(e.target.value)}})}),(0,v.jsx)(p.Z0,{children:(0,v.jsx)(p.z6,{name:"recoveryCode",value:z,placeholder:"XXXX-XXXXX",onChange:function(e){return $(e.target.value)}})}),(0,v.jsx)(p.v2,{width:"100%",type:"submit",shouldDisplaySpinner:R,disabled:!z.length||!H.length||R,children:"Login"}),(0,v.jsx)(p.o$,{marginTop:3,marginBottom:3}),(0,v.jsx)(p.GY,{onClick:function(){return U(!1)},children:"Back to SSO login"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m.Z,{container:!0,alignItems:"center",justifyContent:"center",className:_.itemContainer,children:(0,v.jsx)(C,{labelPrefix:g,disabled:S||R,width:F,onClick:function(){return ee.apply(this,arguments)}})}),(0,v.jsx)(p.GY,{textVariant:"body-sm","data-testid":"SSOLogin.sign-in-with-recovery-code",onClick:function(){return U(!0)},children:"Use a recovery code"})]}),P]})});function ee(){return(ee=(0,r.Z)(o().mark((function e(){var n,t,r,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T||T()){e.next=2;break}return e.abrupt("return");case 2:if(null!=i&&i.authProvider){e.next=4;break}return e.abrupt("return");case 4:return I(!0),e.next=7,Y({});case 7:if(!(n=e.sent).getSSOLoginRedirectUrl.data){e.next=17;break}return(t=new URL(n.getSSOLoginRedirectUrl.data)).searchParams.set("destination",(0,y.oF)(JSON.stringify(Q))),t.searchParams.set("loginSource",N),r=t.toString(),e.next=15,j.sso.start({connection_id:i.authProvider.connectionId,login_redirect_url:r,signup_redirect_url:r});case 15:e.next=20;break;case 17:l="Unknown error has occurred, please try again later.",null!==(a=n.getSSOLoginRedirectUrl.errors)&&void 0!==a&&a.length&&(l=n.getSSOLoginRedirectUrl.errors[0].message),(0,d.p)(l);case 20:I(!1);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),I(!0),e.prev=2,e.next=5,J({input:{code:z,email:H}});case 5:if(!(t=e.sent).exchangeAuthProviderRecoveryCode.errors){e.next=10;break}return(0,d.p)(t.exchangeAuthProviderRecoveryCode.errors[0].message),I(!1),e.abrupt("return");case 10:return e.next=12,q();case 12:r=e.sent,X(r,L),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),(0,d.p)(e.t0);case 19:I(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}},O=(0,u.Z)((function(e){return{itemContainer:{background:e.palette.background.paper,borderBottomLeftRadius:e.measure.borderRadius.medium,borderBottomRightRadius:e.measure.borderRadius.medium,gap:e.spacing(2),marginBottom:e.spacing(2)},recoveryForm:{maxWidth:"350px",margin:"0 auto ".concat(e.spacing(3),"px")}}}))},608113:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"SSOLoginExchangeAuthProviderRecoveryCodeMutation",selections:a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"ExchangeAuthProviderRecoveryCodeResponse",kind:"LinkedField",name:"exchangeAuthProviderRecoveryCode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"SSOLoginExchangeAuthProviderRecoveryCodeMutation",selections:a},params:{cacheID:"ac9efbfc4de2b6ba957946deedf656bb",id:null,metadata:{},name:"SSOLoginExchangeAuthProviderRecoveryCodeMutation",operationKind:"mutation",text:"mutation SSOLoginExchangeAuthProviderRecoveryCodeMutation(\n  $input: ExchangeAuthProviderRecoveryCodeInput!\n) {\n  exchangeAuthProviderRecoveryCode(input: $input) {\n    data\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="c83ef2db9b60c6edbb0e1f284fb20b84",n.default=i},491689:function(e,n,t){t.r(n);t(244311);var r,a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SSOLoginGetSSOLoginRedirectUrlMutation",selections:r=[{alias:null,args:null,concreteType:"GetSSOLoginRedirectUrlResponse",kind:"LinkedField",name:"getSSOLoginRedirectUrl",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SSOLoginGetSSOLoginRedirectUrlMutation",selections:r},params:{cacheID:"bc3499abb52c44aa4fe5e0b744d75f0d",id:null,metadata:{},name:"SSOLoginGetSSOLoginRedirectUrlMutation",operationKind:"mutation",text:"mutation SSOLoginGetSSOLoginRedirectUrlMutation {\n  getSSOLoginRedirectUrl {\n    data\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};a.hash="d5b6adc9bc92a43e36a614455933ddda",n.default=a},927906:function(e,n,t){var r=t(204942),a=t(711038),i=t(494204),o=t(810863),l=t(579266),s=t(541321),c=t(347943),u=t(785893);var d=(0,o.Z)((function(e){return{container:{maxHeight:"unset"},headerRow:{marginBottom:0,justifyContent:"center",marginTop:a.S.MARGIN_TOP},wrapper:{padding:0,height:"100%"},wrapperChild:{display:"grid",height:"100%",gridTemplateRows:"auto 1fr",alignItems:"center",rowGap:e.spacing(1)},body:{height:"100%",overflow:"hidden"},closeButton:{position:"absolute",top:e.spacing(2),right:e.spacing(2)}}})),p=(0,o.Z)({container:{maxWidth:"unset",width:"100%",height:"100%",borderRadius:0}}),m=(0,o.Z)((function(e){return{container:(0,r.Z)({width:"calc(100% - ".concat(e.spacing(4),"px)"),height:"calc(100% - ".concat(e.spacing(4),"px)")},e.breakpoints.down("sm"),{width:"calc(100% - ".concat(e.spacing(2),"px)"),height:"calc(100% - ".concat(e.spacing(2),"px)")}),wrapper:(0,r.Z)({paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},e.breakpoints.down("sm"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)})}}));n.Z=function(e){var n=e.steps,t=e.children,r=e.isOpen,a=e.testid,o=void 0===a?"FullPageModalStepper":a,g=e.hideStepper,f=void 0!==g&&g,h=e.onClose,y=d(),b=p(),v=m(),k=(0,i.Z)(),x=(0,l.Z)(y,k?b:v);return(0,u.jsx)(s.SH,{testid:o,isOpen:r,title:!f&&(0,u.jsx)(c.Z,{testid:o,steps:n}),onClose:h,hideCloseIcon:!h,modalContentLabel:"Member Onboarding Modal",classes:{container:x.container,wrapper:x.wrapper,wrapperChild:x.wrapperChild,headerRow:x.headerRow,body:x.body,closeButton:x.closeButton},body:t})}},584256:function(e,n,t){var r,a=t(115861),i=t(887757),o=t.n(i),l=t(963114),s=t(345139),c=t(479159),u=(t(187351),t(966007)),d=t(777278),p=(t(139974),t(102187),t(445033)),m=t(757336),g=(t(422578),t(616550)),f=t(785893),h=t(425108);n.Z=(0,m.Pi)((function(){var e=(0,s.y)().completeOrIgnoreChecklistItem,n=(0,g.k6)(),i=(0,l.NP)("organization"),m=(0,c.V)((void 0!==r||(r=t(102187)).hash&&"c8b7c317aee7e21378cfd2764eda7e3f"!==r.hash&&h.error("The definition of 'CreateTestUserPageMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{firstName:"",lastName:"",membershipPlanId:"",organizationMemberGroupIds:[],products:[]});return(0,f.jsx)(d.Z,{title:"Creating Test Member",subtitle:"We are creating the test member. This process can take a while, hang in there...",onLoad:function(e){return y.apply(this,arguments)}});function y(){return(y=(0,a.Z)(o().mark((function t(r){var a,l,s,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=r&&r.createTestUserPageData){t.next=2;break}return t.abrupt("return",n.replace(d.w));case 2:return a=r.createTestUserPageData.formState,t.next=5,m.submit(a,{updater:function(e){return e.invalidateStore()}});case 5:if(l=t.sent,s=l.didSave,c=l.response,!s||null==c||!c.node){t.next=12;break}return t.next=11,e("create_test_member");case 11:(0,p.HE)({testid:"CreateTestUserForm.success-toast",message:"Test Member successfully created",body:'Test member "'.concat(c.node.testUser.fullName,'" has been successfully created. You can start switching to this test member to experience the ').concat(i.singularLowercase,"."),buttonConfig:{buttonLabel:"Switch to Test Member",onClick:function(){return(0,u.QR)(c.node.key)}},timeout:6e4});case 12:b(r);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(e){null!=e&&e.createTestUserPageData?n.replace(e.createTestUserPageData.from):n.replace(d.w)}}))},131273:function(e,n,t){var r,a=t(386854),i=(t(187351),t(777278)),o=(t(759550),t(445033)),l=t(422578),s=t(616550),c=(t(244311),t(785893)),u=t(425108);n.Z=function(){var e=(0,s.k6)(),n=(0,l.useMutation)((void 0!==r||(r=t(759550)).hash&&"645293df6643e82919656ec5ff315adc"!==r.hash&&u.error("The definition of 'DeleteTestUserPageMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r)),d=(0,a.Z)(n,1)[0];return(0,c.jsx)(i.Z,{title:"Deleting Test Member",subtitle:"We are deleting data associated with this test member. This process can take a while, hang in there...",onLoad:function(n){if(null==n||!n.deleteTestUserPageData)return e.replace(i.w);d({variables:{input:{testUserId:n.deleteTestUserPageData.testUserId}},updater:function(e){return e.invalidateStore()},onCompleted:function(e){var t,r=e.response;if(null!==(t=r.errors)&&void 0!==t&&t.length)return(0,o.p)(r.errors[0].message);p(n),(0,o.Km)({message:"Test member deleted",testid:"DeleteTestUserPage.success-toast"})},onError:function(e){p(n),(0,o.p)(e)}})}});function p(n){null!=n&&n.deleteTestUserPageData?e.replace(n.deleteTestUserPageData.from):e.replace(i.w)}}},418046:function(e,n,t){t.d(n,{Z:function(){return ke}});var r,a=t(810863),i=t(204942),o=t(386854),l=t(285245),s=t(963114),c=t(966007),u=t(10165),d=t(383382),p=t(163102),m=t(145987),g=t(384714),f=t(479159),h=t(669187),y=t(52270),b=t(525838),v=t(650039),k=t(566208),x=(t(681355),t(650988)),C=t(245012),w=(t(139974),t(178992),t(541321)),j=t(168949),S=t(757336),O=t(667294),F=t(422578),T=t(785893),P=t(425108);var N,Z=(0,a.Z)((function(e){return{container:{display:"flex",flexDirection:"column",gap:e.spacing(1.5)},header:{display:"flex",alignItems:"center",justifyContent:"space-between"}}})),E=u.Z.withSkeleton({component:(0,S.Pi)((function(e){var n,a=e.productId,i=e.form,o=Z(),l=(0,s.bE)(),c=(0,F.useLazyLoadQuery)((void 0!==r||(r=t(178992)).hash&&"3b3f64773bf5f8e91e78520adbbc7da4"!==r.hash&&P.error("The definition of 'TestUserFormFieldsProductCardQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),{id:a}).node,d=u.Z.narrowNodeType(c,"Product"),p=null===(n=i.state.products)||void 0===n?void 0:n.find((function(e){return e.productId===(null==d?void 0:d.id)}));return(0,O.useEffect)((function(){d&&p&&"draft"===d.status&&(p.role="instructor")}),[]),d&&p?(0,T.jsxs)(w.W0,{testid:"TestUserFormFieldsProductCard.".concat(d.name),groovyDepths:"insideCard",padding:2,className:o.container,children:[(0,T.jsxs)("div",{className:o.header,children:[(0,T.jsx)(C.Z,{productKey:d,testid:"TestUserFormFieldsProductCard.".concat(d.name)}),(0,T.jsx)(w.I4,{testid:"TestUserFormFieldsProductCard.".concat(d.name,".remove"),onClick:function(){var e,n,t=null===(e=i.state.products)||void 0===e?void 0:e.find((function(e){return e.productId===(null==d?void 0:d.id)}));if(!t)return;null===(n=i.state.products)||void 0===n||n.remove(t)},width:40,height:40,children:(0,T.jsx)(w.De,{icon:"close"})})]}),(0,T.jsx)(w.o$,{}),(0,T.jsx)(w.Z0,{label:(0,T.jsx)(w.U4,{color:"text.secondary",children:"".concat(l.admin_experience.singular," Role")}),variant:"two-column",children:(0,T.jsx)(x.Z,{testid:"TestUserFormFieldsProductCard.".concat(d.name,".ProductRoleSelect"),value:p.role,onChange:function(e){if(!p)return;if(!e)return;p.role=e},disabledValues:"draft"===d.status?[{role:"member",tooltipContent:"Can not add member to ".concat(l.admin_experience.singular," still in 'draft' mode")}]:void 0,fullWidth:!0})}),(0,T.jsx)(w.Z0,{label:(0,T.jsx)(w.U4,{color:"text.secondary",children:"Add to ".concat(l.admin_experience.singular," groups (Optional)")}),variant:"two-column",children:(0,T.jsx)(v.Z,{testid:"TestUserFormFieldsProductCard.".concat(d.name,".member-groups"),selectedGroupIds:p.memberGroupIds?p.memberGroupIds.slice():[],setSelectedGroupIds:function(e){return p.memberGroupIds?p.memberGroupIds.replace(e):p.memberGroupIds=j.LO.array(e)},productKey:d,showGroupKinds:["custom"]})})]}):null})),skeleton:function(){return null}}),R=(t(6917),t(425108));function I(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var L=(0,a.Z)((function(e){return{container:{gap:e.spacing(2.5)},nameFieldsContainer:{display:"flex",gap:e.spacing(2.5)},productsContainer:{display:"flex",flexDirection:"column",gap:e.spacing(1.5)}}}));function D(){var e=(0,s.bE)(),n=L();return(0,T.jsxs)("div",{className:n.container,children:[(0,T.jsxs)("div",{className:n.nameFieldsContainer,children:[(0,T.jsx)(w.Z0,{label:"First Name",children:(0,T.jsx)(w.sS,{})}),(0,T.jsx)(w.Z0,{label:"Last Name",children:(0,T.jsx)(w.sS,{})})]}),(0,T.jsx)(w.o$,{}),(0,T.jsx)(w.Z0,{label:"Add to ".concat(e.organization.singular," Groups (Optional)"),children:(0,T.jsx)(w.HJ,{})}),(0,T.jsx)(w.Z0,{label:"Add to ".concat(e.admin_experience.plural," (Optional)"),children:(0,T.jsx)("div",{className:n.productsContainer,children:(0,T.jsx)(w.HJ,{})})})]})}var M,K=(0,S.Pi)((function(e){var n,r,a=e.organizationKey,i=e.form,o=(0,l.vn)(),c=L(),d=(0,s.bE)(),p=(0,F.useFragment)((void 0!==N||(N=t(6917)).hash&&"ff402f4f0047c0c6f3219656c227bfab"!==N.hash&&R.error("The definition of 'TestUserFormFieldsFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),N),a),m=u.Z.connectionToArray(p.membershipPlans),g=1===m.length;return(0,O.useEffect)((function(){g&&(i.state.membershipPlanId=m[0].id,i.resetInitialState())}),[]),(0,T.jsxs)("div",{className:c.container,children:[(0,T.jsxs)("div",{className:c.nameFieldsContainer,children:[(0,T.jsx)(w.Z0,{label:"First Name",error:Boolean(i.errorsByField.firstName),errorMessages:i.errorsByField.firstName,children:(0,T.jsx)(w.z6,{"data-testid":"TestUserFormFields.first-name",value:i.state.firstName,onChange:function(e){return i.state.firstName=e.target.value}})}),(0,T.jsx)(w.Z0,{label:"Last Name",error:Boolean(i.errorsByField.lastName),errorMessages:i.errorsByField.lastName,children:(0,T.jsx)(w.z6,{"data-testid":"TestUserFormFields.last-name",value:i.state.lastName,onChange:function(e){return i.state.lastName=e.target.value}})})]}),(0,T.jsx)(w.o$,{}),!g&&(0,T.jsx)(w.Z0,{label:"Select Membership",error:Boolean(i.errorsByField.membershipPlanId),errorMessages:i.errorsByField.membershipPlanId,children:(0,T.jsx)(k.Z,{testid:"TestUserFormFields.membership-plan",organizationId:o.id,value:i.state.membershipPlanId,onChange:function(e){i.state.products=j.LO.array(),i.state.membershipPlanId=(null==e?void 0:e.id)||""},types:["membership_plan"],hideNonPublic:!1,placeholder:"Please select a membership plan"})}),(0,T.jsx)(w.Z0,{label:"Add to ".concat(d.organization.singular," Groups (Optional)"),children:(0,T.jsx)(v.Z,{testid:"TestUserFormFields.organization.member-groups",selectedGroupIds:i.state.organizationMemberGroupIds?i.state.organizationMemberGroupIds.slice():[],setSelectedGroupIds:function(e){return i.state.organizationMemberGroupIds?i.state.organizationMemberGroupIds.replace(e):i.state.organizationMemberGroupIds=j.LO.array(e)},organizationKey:p,showGroupKinds:["custom"]})}),(0,T.jsx)(w.Z0,{label:"Add to ".concat(d.admin_experience.plural," (Optional)"),children:(0,T.jsxs)("div",{className:c.productsContainer,children:[(0,T.jsx)(b.Z,{values:(0,j.ZN)((null===(n=i.state.products)||void 0===n?void 0:n.map((function(e){return e.productId})))||[]),onChange:function(e){i.state.products||(i.state.products=j.LO.array());var n,t=I(i.state.products.filter((function(n){return!e.includes(n.productId)})).map((function(e){return e.productId})));try{var r=function(){var e=n.value,t=i.state.products.find((function(n){return n.productId===e}));if(!t)return"continue";i.state.products.remove(t)};for(t.s();!(n=t.n()).done;)r()}catch(e){t.e(e)}finally{t.f()}var a,o=I(e.filter((function(e){return!i.state.products.find((function(n){return n.productId===e}))})));try{for(o.s();!(a=o.n()).done;){var l=a.value;i.state.products.push({productId:l,role:"member",memberGroupIds:j.LO.array()})}}catch(e){o.e(e)}finally{o.f()}},testid:"TestUserFormFields.products",types:["course"],hideNonPublic:!1,disabled:!i.state.membershipPlanId,forMembershipPlanId:i.state.membershipPlanId},i.state.membershipPlanId),null===(r=i.state.products)||void 0===r?void 0:r.map((function(e){return(0,T.jsx)(E,{productId:e.productId,form:i},e.productId)}))]})})]})})),U=(t(171708),t(616550)),A=(t(244311),t(425108));var B,z=u.Z.withSkeleton({component:(0,S.Pi)((function(e){var n=e.form,r=e.onClose,a=(0,l.vn)(),i=(0,g.yM)().setUnsavedChanges,o=(0,U.k6)(),s=(0,U.TH)(),c=(0,F.useLazyLoadQuery)((void 0!==M||(M=t(171708)).hash&&"d641c3db8f8b69676c9f4d25c92e4e8f"!==M.hash&&A.error("The definition of 'CreateTestUserFormQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),M),{id:a.id},{fetchPolicy:"network-only"}).node,d=u.Z.narrowNodeType(c,"Organization");return d?(0,T.jsx)(y.Z,{id:"CreateTestUserForm",testid:"CreateTestUserForm",onSubmit:function(){i(!1),r(),o.push(h.ZP.CREATE_TEST_USER,{createTestUserPageData:{formState:(0,j.ZN)(n.state),from:s}})},children:(0,T.jsx)(K,{organizationKey:d,form:n})}):null})),skeleton:function(){return(0,T.jsx)(D,{})}}),$=t(425108);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var H=(0,a.Z)((function(e){return{body:(0,i.Z)({},e.breakpoints.down("xs"),{padding:e.spacing(.5,1,1)}),buttonsContainer:{display:"flex",gap:e.spacing(1)}}})),W=u.Z.withSkeleton({component:(0,S.Pi)((function(e){var n=e.isOpen,r=e.onClose,a=(0,g.Su)(),i=H(),o=(0,s.bE)(),l=(0,f.V)((void 0!==B||(B=t(139974)).hash&&"723cbed179f1343b01867ff87d563e0c"!==B.hash&&$.error("The definition of 'CreateTestUserModalMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),B),{firstName:"",lastName:"",membershipPlanId:"",organizationMemberGroupIds:[],products:[]});return(0,O.useEffect)((function(){a.setUnsavedChanges(l.isChanged)}),[l.isChanged]),(0,T.jsx)(g.ZP,V(V({},a),{},{children:(0,T.jsx)(w.SH,{shouldCloseOnOverlayClick:!1,isOpen:n,onClose:c,classes:{body:i.body},title:"New Test Member",subtitle:"Test members allow you to test the ".concat(o.admin_member.singular," experience in the ").concat(o.organization.singularLowercase,"."),modalContentLabel:"Create test member",width:"720px",shouldCloseOnEsc:!1,testid:"CreateTestUserModal",body:(0,T.jsx)(z,{form:l,onClose:r}),fullWidthButtons:!0,buttons:(0,T.jsxs)("div",{className:i.buttonsContainer,children:[(0,T.jsx)(w.v2,{color:"grey",variant:"outlined",testid:"CreateTestUserModal.button.cancel",onClick:c,children:"Cancel"},"cancel"),(0,T.jsx)(w.v2,{testid:"CreateTestUserModal.button.submit",type:"submit",form:"CreateTestUserForm",shouldDisplaySpinner:l.isSubmitting,disabled:l.isSubmitting||!l.state.firstName||!l.state.lastName||!l.state.membershipPlanId,children:"Create Test Member"},"confirm")]})})}));function c(){a.handleLeave({onLeave:r})}})),skeleton:function(){return null}}),X=t(509645),q=["testid","className","children"];function Q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var J,ee=function(e){var n=e.testid,t=void 0===n?"CreateTestUserButton":n,r=e.className,a=e.children,i=(0,m.Z)(e,q);return(0,T.jsx)(X.p,Y(Y({className:r,testid:t,modal:function(e){var n=e.isOpen,t=e.onClose;return n?(0,T.jsx)(W,{isOpen:n,onClose:t}):null}},i),{},{children:a}))},ne=(t(649737),t(611797)),te=t(425108),re=["testid","testUserKey","className","children"];function ae(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ae(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var oe,le=function(e){var n=e.testid,r=void 0===n?"DeleteTestUserButton":n,a=e.testUserKey,i=e.className,o=e.children,l=(0,m.Z)(e,re),s=(0,U.k6)(),c=(0,U.TH)(),u=(0,F.useFragment)((void 0!==J||(J=t(649737)).hash&&"42cbcd8967191e5235c25cb6055665d0"!==J.hash&&te.error("The definition of 'DeleteTestUserButtonFragment' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),J),a);return(0,T.jsx)(X.p,ie(ie({className:i,testid:r,modal:function(e){var n=e.isOpen,t=e.onClose;return n?(0,T.jsx)(ne.Z,{modalContentLabel:"Delete test member Dialog",testid:"DeleteTestUserButton.delete-warning-modal",isOpen:n,onClose:t,title:"Delete Test Member?",description:'Deleting "'.concat(u.fullName,'" will delete all data associated with this test member. This is a permanent action and cannot be undone.'),confirmationButtonProps:{onClick:function(){t(),s.push(h.ZP.DELETE_TEST_USER,{deleteTestUserPageData:{testUserId:u.id,from:c}})},children:"Yes, delete it"}}):null}},l),{},{children:o}))},se=(t(961841),t(162083)),ce=t(422923),ue=t(108920),de=t(294184),pe=t.n(de),me=t(425108);function ge(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ge(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ge(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var he=(0,a.Z)((function(e){return{container:{display:"flex",flexDirection:"column",gap:e.spacing(1.5),minWidth:288},titleContainer:{display:"flex",alignItems:"center",gap:e.spacing(1)},userLinkDropdownItem:{padding:e.spacing(1.5)}}}));var ye=u.Z.withSkeleton({component:function(){var e,n=(0,l.vn)(),r=(0,s.bE)(),a=(0,ue.Z)(),i=he(),m=(0,p.Z)({hideWithDisplay:{stylesWhenShown:{display:"flex"}}}),g=u.Z.useRefetchableQuery((void 0!==oe||(oe=t(961841)).hash&&"bd4255fff0124fc6e4e350c0be6f1caa"!==oe.hash&&me.error("The definition of 'TestUserDropdownContent_TestMembersQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),oe),{organizationMembershipId:n.viewerMembership.id},{fetchPolicy:"network-only"}),f=(0,o.Z)(g,2),h=f[0].node,y=f[1],b=u.Z.narrowNodeType(h,"OrganizationMembership");if((0,F.useSubscribeToInvalidationState)(null!=b&&null!==(e=b.mainUserLinks)&&void 0!==e&&e.__id?[null==b?void 0:b.mainUserLinks.__id]:[],(function(){return y({organizationMembershipId:n.viewerMembership.id})})),!b)return null;var v=u.Z.connectionToArray(b.mainUserLinks),k=v.length>0,x=v.length>=5;return(0,T.jsxs)("div",{className:i.container,children:[(0,T.jsxs)("div",{className:i.titleContainer,children:[(0,T.jsx)(w.U4,{variant:"body-md-600",children:"Test Members"}),k&&(0,T.jsx)(w.t2,{content:C(),placement:"right","data-testid":"TestUserDropdownItem.title.tooltip",children:(0,T.jsx)("span",{style:{display:"inherit"},children:(0,T.jsx)(w.De,{icon:"iconsax.custom-info",width:18,height:18,color:a.palette.text.primary})})})]}),k?v.map((function(e){return(0,T.jsx)(se.Z,{className:pe()(i.userLinkDropdownItem,m.hoverable),title:(0,T.jsx)(d.ZP,{testid:"TestUserDropdownItem.profile-avatar.".concat(e.testUser.fullName),userKey:e.testUser,linkToProfile:!1,avatarSize:32,truncateName:1}),rightButton:(0,T.jsx)("span",{className:m.showable,children:(0,T.jsx)(ce.Z,{testid:"TestUserDropdownItem.profile-avatar.".concat(e.testUser.fullName,".more-actions-dropdown"),dropdownProps:{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},isNested:!0},children:(0,T.jsx)(le,{testUserKey:e.testUser,children:function(e){return(0,T.jsx)(se.Z,fe(fe({},e),{},{title:"Delete",icon:(0,T.jsx)(w.De,{icon:"iconsax.trash"})}))}})})}),onClick:function(){return(0,c.QR)(e.key)}},e.id)})):(0,T.jsx)(w.U4,{color:"text.secondary",testid:"TestUserDropdownItem.empty-state-message",children:C()}),(0,T.jsx)(ee,{children:function(e){return(0,T.jsx)(w.t2,{content:"You have reached the maximum of 5 Test Members",disabled:!x,children:(0,T.jsx)(w.v2,fe(fe({},e),{},{variant:"outlined",color:"grey",leftIcon:"iconsax.add",disabled:x,children:"Create Test Member"}))})}})]});function C(){return"You can have up to 5 Test Members that can be used to test the ".concat(r.admin_member.singular," experience in the ").concat(r.organization.singularLowercase,".")}},skeleton:function(){var e=he();return(0,T.jsxs)("div",{className:e.container,children:[(0,T.jsx)(w.U4,{variant:"body-md-600",children:"Test Members"}),(0,T.jsx)(d.ST,{avatarSize:32}),(0,T.jsx)(d.ST,{avatarSize:32}),(0,T.jsx)(d.ST,{avatarSize:32}),(0,T.jsx)(w.Zi,{})]})}}),be=t(251941);var ve=(0,a.Z)({dropdownPopoverPaper:{width:"100%"}}),ke=function(e){var n=e.children,t=(0,be.d)(),r=ve();return(0,T.jsx)(w.ZX,{menuButton:n,menuClasses:{paper:r.dropdownPopoverPaper},transformOrigin:t?{vertical:"top",horizontal:"center"}:{vertical:"bottom",horizontal:"left"},anchorOrigin:t?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"right"},isNested:!0,children:(0,T.jsx)(ye,{})})}},171708:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c,u,d,p,m,g,f={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"CreateTestUserFormQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"TestUserFormFieldsFragment"}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"CreateTestUserFormQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,o,{kind:"InlineFragment",selections:[{alias:"membershipPlans",args:[{kind:"Literal",name:"hideNonPublic",value:!1},{kind:"Literal",name:"type",value:"membership_plan"}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"products",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[o],storageKey:null}],storageKey:null}],storageKey:'products(hideNonPublic:false,type:"membership_plan")'},{alias:null,args:[{kind:"Literal",name:"allMemberGroups",value:!0}],concreteType:"MemberGroupNodeConnection",kind:"LinkedField",name:"memberGroups",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"node",plural:!1,selections:[o,l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"viewerIsMember",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"isSystem",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"parentMemberGroupId",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[o,l,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,concreteType:"MemberGroupNodeConnection",kind:"LinkedField",name:"childrenGroups",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"MemberGroupNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"node",plural:!1,selections:[o,l,s,c,u,p,m,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[o,l],storageKey:null},g,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"memberGroups(allMemberGroups:true)"}],type:"Organization",abstractKey:null}],storageKey:null}]},params:{cacheID:"f2a7dd14fa8e6279ca8d205ed30ae577",id:null,metadata:{},name:"CreateTestUserFormQuery",operationKind:"query",text:'query CreateTestUserFormQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ... on Organization {\n      __typename\n      id\n      ...TestUserFormFieldsFragment\n    }\n    id\n  }\n}\n\nfragment MemberGroupTagFragment on MemberGroup {\n  id\n  name\n  kind\n  color\n  role\n  isSystem\n  product {\n    id\n    name\n  }\n}\n\nfragment MemberGroupsMultiSelect_OrganizationFragment on Organization {\n  memberGroups(allMemberGroups: true) {\n    edges {\n      node {\n        id\n        name\n        color\n        viewerIsMember\n        kind\n        isSystem\n        parentMemberGroupId\n        visibility\n        product {\n          id\n          name\n          type\n        }\n        ...MemberGroupTagFragment\n        childrenGroups {\n          totalCount\n          edges {\n            node {\n              id\n              name\n              color\n              viewerIsMember\n              kind\n              parentMemberGroupId\n              visibility\n              product {\n                id\n                name\n              }\n              ...MemberGroupTagFragment\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment TestUserFormFieldsFragment on Organization {\n  membershipPlans: products(type: "membership_plan", hideNonPublic: false) {\n    edges {\n      node {\n        id\n      }\n    }\n  }\n  ...MemberGroupsMultiSelect_OrganizationFragment\n}\n'}};f.hash="d641c3db8f8b69676c9f4d25c92e4e8f",n.default=f},139974:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"CreateTestUserModalMutation",selections:a=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateTestUserResponse",kind:"LinkedField",name:"createTestUser",plural:!1,selections:[{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"CreateTestUserModalMutation",selections:a},params:{cacheID:"53e77afb496fbe8c4cf104bda18660f5",id:null,metadata:{},name:"CreateTestUserModalMutation",operationKind:"mutation",text:"mutation CreateTestUserModalMutation(\n  $input: CreateTestUserInput!\n) {\n  response: createTestUser(input: $input) {\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="723cbed179f1343b01867ff87d563e0c",n.default=i},102187:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"CreateTestUserPageMutation",selections:[{alias:"response",args:a=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateTestUserResponse",kind:"LinkedField",name:"createTestUser",plural:!1,selections:[{alias:null,args:null,concreteType:"UserLink",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"testUser",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},l={alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"CreateTestUserPageMutation",selections:[{alias:"response",args:a,concreteType:"CreateTestUserResponse",kind:"LinkedField",name:"createTestUser",plural:!1,selections:[{alias:null,args:null,concreteType:"UserLink",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"testUser",plural:!1,selections:[o,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s],storageKey:null},l],storageKey:null}]},params:{cacheID:"781b28c55c1816ec6752f2b7716b84bb",id:null,metadata:{},name:"CreateTestUserPageMutation",operationKind:"mutation",text:"mutation CreateTestUserPageMutation(\n  $input: CreateTestUserInput!\n) {\n  response: createTestUser(input: $input) {\n    node {\n      key\n      testUser {\n        fullName\n        id\n      }\n      id\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};c.hash="c8b7c317aee7e21378cfd2764eda7e3f",n.default=c},649737:function(e,n,t){t.r(n);t(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeleteTestUserButtonFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],type:"User",abstractKey:null,hash:"42cbcd8967191e5235c25cb6055665d0"};n.default=r},759550:function(e,n,t){t.r(n);t(244311);var r,a,i={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"DeleteTestUserPageMutation",selections:a=[{alias:"response",args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteTestUserResponse",kind:"LinkedField",name:"deleteTestUser",plural:!1,selections:[{alias:null,args:null,concreteType:"ValidationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"DeleteTestUserPageMutation",selections:a},params:{cacheID:"6398e0dd023621b28bbf8e34fd527452",id:null,metadata:{},name:"DeleteTestUserPageMutation",operationKind:"mutation",text:"mutation DeleteTestUserPageMutation(\n  $input: DeleteTestUserInput!\n) {\n  response: deleteTestUser(input: $input) {\n    errors {\n      field\n      message\n    }\n  }\n}\n"}};i.hash="645293df6643e82919656ec5ff315adc",n.default=i},961841:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c,u,d,p,m={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"organizationMembershipId"}],kind:"Fragment",metadata:null,name:"TestUserDropdownContent_TestMembersQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"id",variableName:"organizationMembershipId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"mainUserLinks",args:null,concreteType:"UserLinkNodeConnection",kind:"LinkedField",name:"__TestUserDropdownContent__mainUserLinks_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserLinkNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserLink",kind:"LinkedField",name:"node",plural:!1,selections:[i,l={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"testUser",plural:!1,selections:[i,s={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileAvatarWithDetailsFragment"},{args:null,kind:"FragmentSpread",name:"DeleteTestUserButtonFragment"}],storageKey:null},o],storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},u={alias:null,args:null,concreteType:"PageInfoObjectType",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},d={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"TestUserDropdownContent_TestMembersQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o,i,{kind:"InlineFragment",selections:[{alias:null,args:p=[{kind:"Literal",name:"first",value:10}],concreteType:"UserLinkNodeConnection",kind:"LinkedField",name:"mainUserLinks",plural:!1,selections:[{alias:null,args:null,concreteType:"UserLinkNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserLink",kind:"LinkedField",name:"node",plural:!1,selections:[i,l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"testUser",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"avatar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeactivated",storageKey:null}],storageKey:null},o],storageKey:null},c],storageKey:null},u,d],storageKey:"mainUserLinks(first:10)"},{alias:null,args:p,filters:null,handle:"connection",key:"TestUserDropdownContent__mainUserLinks",kind:"LinkedHandle",name:"mainUserLinks"}],type:"OrganizationMembership",abstractKey:null}],storageKey:null}]},params:{cacheID:"a8fee823b4e3dd4489bd727c5b004b98",id:null,metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["node","mainUserLinks"]}]},name:"TestUserDropdownContent_TestMembersQuery",operationKind:"query",text:"query TestUserDropdownContent_TestMembersQuery(\n  $organizationMembershipId: ID!\n) {\n  node(id: $organizationMembershipId) {\n    __typename\n    ... on OrganizationMembership {\n      id\n      __typename\n      mainUserLinks(first: 10) {\n        edges {\n          node {\n            id\n            key\n            testUser {\n              id\n              fullName\n              ...ProfileAvatarWithDetailsFragment\n              ...DeleteTestUserButtonFragment\n            }\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n    id\n  }\n}\n\nfragment DeleteTestUserButtonFragment on User {\n  id\n  fullName\n}\n\nfragment ProfileAvatarFragment on User {\n  id\n  fullName\n  avatar\n  isTest\n  isDeactivated\n}\n\nfragment ProfileAvatarWithDetailsFragment on User {\n  id\n  fullName\n  ...ProfileAvatarFragment\n}\n"}};m.hash="bd4255fff0124fc6e4e350c0be6f1caa",n.default=m},6917:function(e,n,t){t.r(n);t(244311);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TestUserFormFieldsFragment",selections:[{alias:"membershipPlans",args:[{kind:"Literal",name:"hideNonPublic",value:!1},{kind:"Literal",name:"type",value:"membership_plan"}],concreteType:"ProductNodeConnection",kind:"LinkedField",name:"products",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'products(hideNonPublic:false,type:"membership_plan")'},{args:null,kind:"FragmentSpread",name:"MemberGroupsMultiSelect_OrganizationFragment"}],type:"Organization",abstractKey:null,hash:"ff402f4f0047c0c6f3219656c227bfab"};n.default=r},178992:function(e,n,t){t.r(n);t(244311);var r,a,i,o,l,s,c,u,d,p,m,g,f,h,y={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"TestUserFormFieldsProductCardQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductWithDetailsFragment"},{args:null,kind:"FragmentSpread",name:"MemberGroupsMultiSelect_ProductFragment"}],type:"Product",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"TestUserFormFieldsProductCardQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,o,{kind:"InlineFragment",selections:[l,s,{alias:null,args:null,kind:"ScalarField",name:"startsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endsAt",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,concreteType:"Pricing",kind:"LinkedField",name:"pricing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"frequency",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"kind",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amountCents",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"typeTag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"Badge",kind:"LinkedField",name:"badge",plural:!1,selections:[u,d,{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUrl",storageKey:null},o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover",storageKey:null},{alias:null,args:[{kind:"Literal",name:"kind",value:"custom"}],concreteType:"MemberGroupNodeConnection",kind:"LinkedField",name:"memberGroups",plural:!1,selections:[{alias:null,args:null,concreteType:"MemberGroupNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"node",plural:!1,selections:[o,l,d,p={alias:null,args:null,kind:"ScalarField",name:"viewerIsMember",storageKey:null},u,m={alias:null,args:null,kind:"ScalarField",name:"isSystem",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"parentMemberGroupId",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[o,l,c],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,concreteType:"MemberGroupNodeConnection",kind:"LinkedField",name:"childrenGroups",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"MemberGroupNodeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MemberGroup",kind:"LinkedField",name:"node",plural:!1,selections:[o,l,d,p,u,g,f,{alias:null,args:null,concreteType:"Product",kind:"LinkedField",name:"product",plural:!1,selections:[o,l],storageKey:null},h,m],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'memberGroups(kind:"custom")'}],type:"Product",abstractKey:null}],storageKey:null}]},params:{cacheID:"bc6325abc2f4687c99df81aa6814769d",id:null,metadata:{},name:"TestUserFormFieldsProductCardQuery",operationKind:"query",text:"query TestUserFormFieldsProductCardQuery(\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ... on Product {\n      __typename\n      id\n      name\n      status\n      ...ProductWithDetailsFragment\n      ...MemberGroupsMultiSelect_ProductFragment\n    }\n    id\n  }\n}\n\nfragment BadgeFragment on Badge {\n  kind\n  color\n  icon\n  emoji\n  mediaUrl\n}\n\nfragment MemberGroupTagFragment on MemberGroup {\n  id\n  name\n  kind\n  color\n  role\n  isSystem\n  product {\n    id\n    name\n  }\n}\n\nfragment MemberGroupsMultiSelect_ProductFragment on Product {\n  id\n  memberGroups(kind: custom) {\n    edges {\n      node {\n        id\n        name\n        color\n        viewerIsMember\n        kind\n        isSystem\n        parentMemberGroupId\n        visibility\n        product {\n          id\n          name\n          type\n        }\n        ...MemberGroupTagFragment\n        childrenGroups {\n          totalCount\n          edges {\n            node {\n              id\n              name\n              color\n              viewerIsMember\n              kind\n              parentMemberGroupId\n              visibility\n              product {\n                id\n                name\n              }\n              ...MemberGroupTagFragment\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nfragment ProductTypeTagFragment on Product {\n  typeTag {\n    label\n    color\n    id\n  }\n}\n\nfragment ProductWithDetailsFragment on Product {\n  id\n  name\n  startsAt\n  endsAt\n  type\n  slug\n  pricing {\n    ...pricingUtils_usePricingDisplayValue\n    id\n  }\n  ...ProductTypeTagFragment\n  badge {\n    ...BadgeFragment\n    id\n  }\n  cover\n}\n\nfragment pricingUtils_usePricingDisplayValue on Pricing {\n  frequency\n  kind\n  amountCents\n}\n"}};y.hash="3b3f64773bf5f8e91e78520adbbc7da4",n.default=y},445033:function(e,n,t){t.d(n,{ZP:function(){return _},p:function(){return P},eZ:function(){return T},M$:function(){return N},JM:function(){return Z},HE:function(){return O},Km:function(){return S},XT:function(){return F}});var r=t(115861),a=t(204942),i=t(887757),o=t.n(i),l=t(494204),s=t(681355),c=t(810863),u=t(541321),d=t(108920),p=t(525435),m=t(667294),g=t(785893);var f=function(e){var n=e.message,t=e.timeout,r=void 0===t?5e3:t,a=e.type,i=void 0===a?"success":a,o=e.onHide,l=e.to,s=e.body,c=e.id,f=e.testid,y=e.buttonConfig||{},b=y.onClick,v=y.buttonLabel,k=(0,d.Z)(),x=function(){switch(i){case"success":return{color:k.palette.groovy.green[600],backgroundColor:k.palette.groovy.green[100],hoverBackgroundColor:k.palette.groovy.green[200],borderColor:k.palette.groovy.green[300],groovyColor:"groovy.green.600"};case"error":return{color:k.palette.groovy.red[600],backgroundColor:k.palette.groovy.red[100],hoverBackgroundColor:k.palette.groovy.red[200],borderColor:k.palette.groovy.red[300],groovyColor:"groovy.red.600"};case"info":return{color:k.palette.groovy.blue[700],backgroundColor:k.palette.groovy.blue[100],hoverBackgroundColor:k.palette.groovy.blue[200],borderColor:k.palette.groovy.blue[300],groovyColor:"groovy.blue.700"};case"warning":return{color:k.palette.groovy.yellow[700],backgroundColor:k.palette.groovy.yellow[100],hoverBackgroundColor:k.palette.groovy.yellow[200],borderColor:k.palette.groovy.yellow[300],groovyColor:"groovy.yellow.700"}}}(),C=x.color,w=x.backgroundColor,j=x.hoverBackgroundColor,S=x.borderColor,O=x.groovyColor,F=h({color:C,backgroundColor:w,borderColor:S});return(0,m.useEffect)((function(){var e=setTimeout((function(){return o()}),r);return function(){return clearTimeout(e)}}),[]),(0,p.Z)((function(e){p.n.ESCAPE.has(e.key)&&(e.preventDefault(),o())}),[o]),(0,g.jsxs)("div",{id:c,"data-testid":null!=f?f:"Toast.".concat(i),className:F.root,children:[(0,g.jsxs)("div",{className:F.toast,children:[(0,g.jsx)(u.De,{icon:"warning"===i?"warning":"info",active:!0,color:C,className:F.leftIcon}),(0,g.jsx)(u.U4,{variant:"body-md-600",className:F.title,children:n}),l&&!s?(0,g.jsxs)("div",{className:F.buttonsContainer,children:[P(),T()]}):T()]}),"string"==typeof s?(0,g.jsxs)("div",{children:[(0,g.jsx)(u.U4,{color:O,variant:"body-sm",children:s}),l&&(0,g.jsx)("div",{className:F.linkButtonContainer,children:P()})]}):s,b&&v&&(0,g.jsx)("div",{className:F.ctaContainer,children:(0,g.jsx)(u.v2,{testid:"".concat(f,".cta-button"),variant:"outlined",color:"grey",onClick:function(){b(),o()},children:v})})]});function T(){return(0,g.jsx)(u.I4,{testid:"".concat(f,".close-button"),width:"36px",height:"36px",svgStyles:{width:"20px",height:"20px"},style:{borderRadius:k.measure.borderRadius.big},onClick:o,color:C,hoverColor:C,tabIndex:0,hoverBackgroundColor:j,children:(0,g.jsx)(u.De,{icon:"close"})})}function P(){return(0,g.jsx)(u.I4,{to:l,color:C,hoverColor:C,hoverBackgroundColor:j,style:{borderRadius:k.measure.borderRadius.big},width:"36px",height:"36px",svgStyles:{width:"24px",height:"24px"},children:(0,g.jsx)(u.De,{icon:"add"})})}},h=(0,c.Z)((function(e){return{root:function(n){var t=n.color,r=n.backgroundColor,a=n.borderColor;return{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",gap:e.spacing(1),minWidth:"285px",maxWidth:"400px",minHeight:"55px",padding:e.spacing(1.5),borderRadius:e.measure.borderRadius.large,backgroundColor:r,color:t,border:"0.5px solid ".concat(a),boxShadow:"0px 6px 18px rgba(63, 63, 70, 0.08), 0px 2px 4px rgba(63, 63, 70, 0.04)"}},title:function(e){return{color:e.color,width:"100%"}},buttonsContainer:{gap:e.spacing(1),display:"flex",alignItems:"center"},toast:{display:"flex",gap:e.spacing(1.5),justifyContent:"space-between",alignItems:"center"},leftIcon:{minWidth:"24px",minHeight:"24px"},linkButtonContainer:{display:"flex",justifyContent:"flex-end"},ctaContainer:{display:"flex",justifyContent:"flex-end"}}})),y=t(816817),b=t(168949),v=t(757336),k=t(584622),x=t(425108);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=b.LO.array();function S(e){j.push(w({id:(0,k.Z)()},e))}function O(e){S(w({type:"success"},e))}function F(e){S(w({type:"warning"},e))}function T(e){S(w({type:"error"},e))}function P(e){T({message:"string"==typeof e?e:"message"in e?e.message:(0,y.Uf)(e)})}function N(e,n){x.error(e),(0,s.z)(e)&&e.message?P(e.message):P(n||"Something went wrong, please try again later")}function Z(e){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:t=e.sent,x.error(t),"string"==typeof t?P(t):t.message?P(t.message):t.errors.length?P(t.errors[0].message):P("Something went wrong, please try again later");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=(0,v.Pi)((function(){var e=I();return(0,g.jsx)("div",{className:e.toastList,children:j.map((function(e){return(0,g.jsx)(f,w(w({},e),{},{onHide:function(){return j.remove(e)}}),e.id)}))})})),I=(0,c.Z)((function(e){return{toastList:{position:"fixed",bottom:0,left:0,marginBottom:"20px",marginLeft:"20px",zIndex:9999,display:"grid",gap:e.spacing(2)}}})),_=function(e){var n=e.children,t=(0,l.Z)();return(0,g.jsxs)(g.Fragment,{children:[n,!t&&(0,g.jsx)(R,{})]})}}}]);
//# sourceMappingURL=chunk-f9550e76-a03940e9449b40a6.bundle.js.map